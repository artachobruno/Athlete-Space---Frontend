const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/tokenStorage-DsCrg9Ig.js","assets/core-DSP-N1cm.js","assets/index-D4G8N7ZS.js"])))=>i.map(i=>d[i]);
function xee(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ut(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fj={exports:{}},Qp={},hj={exports:{}},Rt={};var NI;function bee(){if(NI)return Rt;NI=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;function g(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,v={};function w(q,H,ne){this.props=q,this.context=H,this.refs=v,this.updater=ne||x}w.prototype.isReactComponent={},w.prototype.setState=function(q,H){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,H,"setState")},w.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=w.prototype;function S(q,H,ne){this.props=q,this.context=H,this.refs=v,this.updater=ne||x}var A=S.prototype=new N;A.constructor=S,b(A,w.prototype),A.isPureReactComponent=!0;var T=Array.isArray,C=Object.prototype.hasOwnProperty,E={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(q,H,ne){var se,de={},me=null,fe=null;if(H!=null)for(se in H.ref!==void 0&&(fe=H.ref),H.key!==void 0&&(me=""+H.key),H)C.call(H,se)&&!O.hasOwnProperty(se)&&(de[se]=H[se]);var _e=arguments.length-2;if(_e===1)de.children=ne;else if(1<_e){for(var he=Array(_e),be=0;be<_e;be++)he[be]=arguments[be+2];de.children=he}if(q&&q.defaultProps)for(se in _e=q.defaultProps,_e)de[se]===void 0&&(de[se]=_e[se]);return{$$typeof:e,type:q,key:me,ref:fe,props:de,_owner:E.current}}function F(q,H){return{$$typeof:e,type:q.type,key:H,ref:q.ref,props:q.props,_owner:q._owner}}function W(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function $(q){var H={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ne){return H[ne]})}var z=/\/+/g;function V(q,H){return typeof q=="object"&&q!==null&&q.key!=null?$(""+q.key):H.toString(36)}function U(q,H,ne,se,de){var me=typeof q;(me==="undefined"||me==="boolean")&&(q=null);var fe=!1;if(q===null)fe=!0;else switch(me){case"string":case"number":fe=!0;break;case"object":switch(q.$$typeof){case e:case t:fe=!0}}if(fe)return fe=q,de=de(fe),q=se===""?"."+V(fe,0):se,T(de)?(ne="",q!=null&&(ne=q.replace(z,"$&/")+"/"),U(de,H,ne,"",function(be){return be})):de!=null&&(W(de)&&(de=F(de,ne+(!de.key||fe&&fe.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+q)),H.push(de)),1;if(fe=0,se=se===""?".":se+":",T(q))for(var _e=0;_e<q.length;_e++){me=q[_e];var he=se+V(me,_e);fe+=U(me,H,ne,he,de)}else if(he=g(q),typeof he=="function")for(q=he.call(q),_e=0;!(me=q.next()).done;)me=me.value,he=se+V(me,_e++),fe+=U(me,H,ne,he,de);else if(me==="object")throw H=String(q),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return fe}function te(q,H,ne){if(q==null)return q;var se=[],de=0;return U(q,se,"","",function(me){return H.call(ne,me,de++)}),se}function Q(q){if(q._status===-1){var H=q._result;H=H(),H.then(function(ne){(q._status===0||q._status===-1)&&(q._status=1,q._result=ne)},function(ne){(q._status===0||q._status===-1)&&(q._status=2,q._result=ne)}),q._status===-1&&(q._status=0,q._result=H)}if(q._status===1)return q._result.default;throw q._result}var J={current:null},G={transition:null},ee={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:G,ReactCurrentOwner:E};function X(){throw Error("act(...) is not supported in production builds of React.")}return Rt.Children={map:te,forEach:function(q,H,ne){te(q,function(){H.apply(this,arguments)},ne)},count:function(q){var H=0;return te(q,function(){H++}),H},toArray:function(q){return te(q,function(H){return H})||[]},only:function(q){if(!W(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Rt.Component=w,Rt.Fragment=n,Rt.Profiler=i,Rt.PureComponent=S,Rt.StrictMode=r,Rt.Suspense=c,Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Rt.act=X,Rt.cloneElement=function(q,H,ne){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var se=b({},q.props),de=q.key,me=q.ref,fe=q._owner;if(H!=null){if(H.ref!==void 0&&(me=H.ref,fe=E.current),H.key!==void 0&&(de=""+H.key),q.type&&q.type.defaultProps)var _e=q.type.defaultProps;for(he in H)C.call(H,he)&&!O.hasOwnProperty(he)&&(se[he]=H[he]===void 0&&_e!==void 0?_e[he]:H[he])}var he=arguments.length-2;if(he===1)se.children=ne;else if(1<he){_e=Array(he);for(var be=0;be<he;be++)_e[be]=arguments[be+2];se.children=_e}return{$$typeof:e,type:q.type,key:de,ref:me,props:se,_owner:fe}},Rt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:s,_context:q},q.Consumer=q},Rt.createElement=I,Rt.createFactory=function(q){var H=I.bind(null,q);return H.type=q,H},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(q){return{$$typeof:l,render:q}},Rt.isValidElement=W,Rt.lazy=function(q){return{$$typeof:h,_payload:{_status:-1,_result:q},_init:Q}},Rt.memo=function(q,H){return{$$typeof:u,type:q,compare:H===void 0?null:H}},Rt.startTransition=function(q){var H=G.transition;G.transition={};try{q()}finally{G.transition=H}},Rt.unstable_act=X,Rt.useCallback=function(q,H){return J.current.useCallback(q,H)},Rt.useContext=function(q){return J.current.useContext(q)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(q){return J.current.useDeferredValue(q)},Rt.useEffect=function(q,H){return J.current.useEffect(q,H)},Rt.useId=function(){return J.current.useId()},Rt.useImperativeHandle=function(q,H,ne){return J.current.useImperativeHandle(q,H,ne)},Rt.useInsertionEffect=function(q,H){return J.current.useInsertionEffect(q,H)},Rt.useLayoutEffect=function(q,H){return J.current.useLayoutEffect(q,H)},Rt.useMemo=function(q,H){return J.current.useMemo(q,H)},Rt.useReducer=function(q,H,ne){return J.current.useReducer(q,H,ne)},Rt.useRef=function(q){return J.current.useRef(q)},Rt.useState=function(q){return J.current.useState(q)},Rt.useSyncExternalStore=function(q,H,ne){return J.current.useSyncExternalStore(q,H,ne)},Rt.useTransition=function(){return J.current.useTransition()},Rt.version="18.3.1",Rt}var PI;function rv(){return PI||(PI=1,hj.exports=bee()),hj.exports}var AI;function wee(){if(AI)return Qp;AI=1;var e=rv(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var h,p={},g=null,x=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(x=c.ref);for(h in c)r.call(c,h)&&!s.hasOwnProperty(h)&&(p[h]=c[h]);if(l&&l.defaultProps)for(h in c=l.defaultProps,c)p[h]===void 0&&(p[h]=c[h]);return{$$typeof:t,type:l,key:g,ref:x,props:p,_owner:i.current}}return Qp.Fragment=n,Qp.jsx=o,Qp.jsxs=o,Qp}var kI;function _ee(){return kI||(kI=1,fj.exports=wee()),fj.exports}var a=_ee(),cx={},pj={exports:{}},Ti={},mj={exports:{}},gj={};var CI;function jee(){return CI||(CI=1,(function(e){function t(G,ee){var X=G.length;G.push(ee);e:for(;0<X;){var q=X-1>>>1,H=G[q];if(0<i(H,ee))G[q]=ee,G[X]=H,X=q;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],X=G.pop();if(X!==ee){G[0]=X;e:for(var q=0,H=G.length,ne=H>>>1;q<ne;){var se=2*(q+1)-1,de=G[se],me=se+1,fe=G[me];if(0>i(de,X))me<H&&0>i(fe,de)?(G[q]=fe,G[me]=X,q=me):(G[q]=de,G[se]=X,q=se);else if(me<H&&0>i(fe,X))G[q]=fe,G[me]=X,q=me;else break e}}return ee}function i(G,ee){var X=G.sortIndex-ee.sortIndex;return X!==0?X:G.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,p=null,g=3,x=!1,b=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var ee=n(u);ee!==null;){if(ee.callback===null)r(u);else if(ee.startTime<=G)r(u),ee.sortIndex=ee.expirationTime,t(c,ee);else break;ee=n(u)}}function T(G){if(v=!1,A(G),!b)if(n(c)!==null)b=!0,Q(C);else{var ee=n(u);ee!==null&&J(T,ee.startTime-G)}}function C(G,ee){b=!1,v&&(v=!1,N(I),I=-1),x=!0;var X=g;try{for(A(ee),p=n(c);p!==null&&(!(p.expirationTime>ee)||G&&!$());){var q=p.callback;if(typeof q=="function"){p.callback=null,g=p.priorityLevel;var H=q(p.expirationTime<=ee);ee=e.unstable_now(),typeof H=="function"?p.callback=H:p===n(c)&&r(c),A(ee)}else r(c);p=n(c)}if(p!==null)var ne=!0;else{var se=n(u);se!==null&&J(T,se.startTime-ee),ne=!1}return ne}finally{p=null,g=X,x=!1}}var E=!1,O=null,I=-1,F=5,W=-1;function $(){return!(e.unstable_now()-W<F)}function z(){if(O!==null){var G=e.unstable_now();W=G;var ee=!0;try{ee=O(!0,G)}finally{ee?V():(E=!1,O=null)}}else E=!1}var V;if(typeof S=="function")V=function(){S(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,te=U.port2;U.port1.onmessage=z,V=function(){te.postMessage(null)}}else V=function(){w(z,0)};function Q(G){O=G,E||(E=!0,V())}function J(G,ee){I=w(function(){G(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(G){G.callback=null},e.unstable_continueExecution=function(){b||x||(b=!0,Q(C))},e.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<G?Math.floor(1e3/G):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(G){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var X=g;g=ee;try{return G()}finally{g=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var X=g;g=G;try{return ee()}finally{g=X}},e.unstable_scheduleCallback=function(G,ee,X){var q=e.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?q+X:q):X=q,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=X+H,G={id:h++,callback:ee,priorityLevel:G,startTime:X,expirationTime:H,sortIndex:-1},X>q?(G.sortIndex=X,t(u,G),n(c)===null&&G===n(u)&&(v?(N(I),I=-1):v=!0,J(T,X-q))):(G.sortIndex=H,t(c,G),b||x||(b=!0,Q(C))),G},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(G){var ee=g;return function(){var X=g;g=ee;try{return G.apply(this,arguments)}finally{g=X}}}})(gj)),gj}var TI;function See(){return TI||(TI=1,mj.exports=jee()),mj.exports}var EI;function Nee(){if(EI)return Ti;EI=1;var e=rv(),t=See();function n(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,_=1;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)r.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function g(d){return c.call(p,d)?!0:c.call(h,d)?!1:u.test(d)?p[d]=!0:(h[d]=!0,!1)}function x(d,m,_,k){if(_!==null&&_.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return k?!1:_!==null?!_.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,m,_,k){if(m===null||typeof m>"u"||x(d,m,_,k))return!0;if(k)return!1;if(_!==null)switch(_.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function v(d,m,_,k,R,D,K){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=k,this.attributeNamespace=R,this.mustUseProperty=_,this.propertyName=d,this.type=m,this.sanitizeURL=D,this.removeEmptyString=K}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){w[d]=new v(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];w[m]=new v(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){w[d]=new v(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){w[d]=new v(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){w[d]=new v(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){w[d]=new v(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){w[d]=new v(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){w[d]=new v(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){w[d]=new v(d,5,!1,d.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function S(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(N,S);w[m]=new v(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(N,S);w[m]=new v(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(N,S);w[m]=new v(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){w[d]=new v(d,1,!1,d.toLowerCase(),null,!1,!1)}),w.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){w[d]=new v(d,1,!1,d.toLowerCase(),null,!0,!0)});function A(d,m,_,k){var R=w.hasOwnProperty(m)?w[m]:null;(R!==null?R.type!==0:k||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(b(m,_,R,k)&&(_=null),k||R===null?g(m)&&(_===null?d.removeAttribute(m):d.setAttribute(m,""+_)):R.mustUseProperty?d[R.propertyName]=_===null?R.type===3?!1:"":_:(m=R.attributeName,k=R.attributeNamespace,_===null?d.removeAttribute(m):(R=R.type,_=R===3||R===4&&_===!0?"":""+_,k?d.setAttributeNS(k,m,_):d.setAttribute(m,_))))}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),$=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),Q=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),G=Symbol.iterator;function ee(d){return d===null||typeof d!="object"?null:(d=G&&d[G]||d["@@iterator"],typeof d=="function"?d:null)}var X=Object.assign,q;function H(d){if(q===void 0)try{throw Error()}catch(_){var m=_.stack.trim().match(/\n( *(at )?)/);q=m&&m[1]||""}return`
`+q+d}var ne=!1;function se(d,m){if(!d||ne)return"";ne=!0;var _=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ye){var k=ye}Reflect.construct(d,[],m)}else{try{m.call()}catch(ye){k=ye}d.call(m.prototype)}else{try{throw Error()}catch(ye){k=ye}d()}}catch(ye){if(ye&&k&&typeof ye.stack=="string"){for(var R=ye.stack.split(`
`),D=k.stack.split(`
`),K=R.length-1,ie=D.length-1;1<=K&&0<=ie&&R[K]!==D[ie];)ie--;for(;1<=K&&0<=ie;K--,ie--)if(R[K]!==D[ie]){if(K!==1||ie!==1)do if(K--,ie--,0>ie||R[K]!==D[ie]){var oe=`
`+R[K].replace(" at new "," at ");return d.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",d.displayName)),oe}while(1<=K&&0<=ie);break}}}finally{ne=!1,Error.prepareStackTrace=_}return(d=d?d.displayName||d.name:"")?H(d):""}function de(d){switch(d.tag){case 5:return H(d.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return d=se(d.type,!1),d;case 11:return d=se(d.type.render,!1),d;case 1:return d=se(d.type,!0),d;default:return""}}function me(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case E:return"Portal";case F:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case U:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case $:return(d.displayName||"Context")+".Consumer";case W:return(d._context.displayName||"Context")+".Provider";case z:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case te:return m=d.displayName||null,m!==null?m:me(d.type)||"Memo";case Q:m=d._payload,d=d._init;try{return me(d(m))}catch{}}return null}function fe(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function _e(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function be(d){var m=he(d)?"checked":"value",_=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),k=""+d[m];if(!d.hasOwnProperty(m)&&typeof _<"u"&&typeof _.get=="function"&&typeof _.set=="function"){var R=_.get,D=_.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return R.call(this)},set:function(K){k=""+K,D.call(this,K)}}),Object.defineProperty(d,m,{enumerable:_.enumerable}),{getValue:function(){return k},setValue:function(K){k=""+K},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function Me(d){d._valueTracker||(d._valueTracker=be(d))}function ve(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var _=m.getValue(),k="";return d&&(k=he(d)?d.checked?"true":"false":d.value),d=k,d!==_?(m.setValue(d),!0):!1}function Ze(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function He(d,m){var _=m.checked;return X({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:_??d._wrapperState.initialChecked})}function je(d,m){var _=m.defaultValue==null?"":m.defaultValue,k=m.checked!=null?m.checked:m.defaultChecked;_=_e(m.value!=null?m.value:_),d._wrapperState={initialChecked:k,initialValue:_,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ce(d,m){m=m.checked,m!=null&&A(d,"checked",m,!1)}function Re(d,m){Ce(d,m);var _=_e(m.value),k=m.type;if(_!=null)k==="number"?(_===0&&d.value===""||d.value!=_)&&(d.value=""+_):d.value!==""+_&&(d.value=""+_);else if(k==="submit"||k==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?yt(d,m.type,_):m.hasOwnProperty("defaultValue")&&yt(d,m.type,_e(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function Ke(d,m,_){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var k=m.type;if(!(k!=="submit"&&k!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,_||m===d.value||(d.value=m),d.defaultValue=m}_=d.name,_!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,_!==""&&(d.name=_)}function yt(d,m,_){(m!=="number"||Ze(d.ownerDocument)!==d)&&(_==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+_&&(d.defaultValue=""+_))}var kt=Array.isArray;function Et(d,m,_,k){if(d=d.options,m){m={};for(var R=0;R<_.length;R++)m["$"+_[R]]=!0;for(_=0;_<d.length;_++)R=m.hasOwnProperty("$"+d[_].value),d[_].selected!==R&&(d[_].selected=R),R&&k&&(d[_].defaultSelected=!0)}else{for(_=""+_e(_),m=null,R=0;R<d.length;R++){if(d[R].value===_){d[R].selected=!0,k&&(d[R].defaultSelected=!0);return}m!==null||d[R].disabled||(m=d[R])}m!==null&&(m.selected=!0)}}function it(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function _t(d,m){var _=m.value;if(_==null){if(_=m.children,m=m.defaultValue,_!=null){if(m!=null)throw Error(n(92));if(kt(_)){if(1<_.length)throw Error(n(93));_=_[0]}m=_}m==null&&(m=""),_=m}d._wrapperState={initialValue:_e(_)}}function cn(d,m){var _=_e(m.value),k=_e(m.defaultValue);_!=null&&(_=""+_,_!==d.value&&(d.value=_),m.defaultValue==null&&d.defaultValue!==_&&(d.defaultValue=_)),k!=null&&(d.defaultValue=""+k)}function Fn(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function $t(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function En(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?$t(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Xt,$n=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,_,k,R){MSApp.execUnsafeLocalFunction(function(){return d(m,_,k,R)})}:d})(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(Xt=Xt||document.createElement("div"),Xt.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=Xt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function nr(d,m){if(m){var _=d.firstChild;if(_&&_===d.lastChild&&_.nodeType===3){_.nodeValue=m;return}}d.textContent=m}var Zn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(Zn).forEach(function(d){Fi.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),Zn[m]=Zn[d]})});function Wa(d,m,_){return m==null||typeof m=="boolean"||m===""?"":_||typeof m!="number"||m===0||Zn.hasOwnProperty(d)&&Zn[d]?(""+m).trim():m+"px"}function ri(d,m){d=d.style;for(var _ in m)if(m.hasOwnProperty(_)){var k=_.indexOf("--")===0,R=Wa(_,m[_],k);_==="float"&&(_="cssFloat"),k?d.setProperty(_,R):d[_]=R}}var qa=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ii(d,m){if(m){if(qa[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(n(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(n(61))}if(m.style!=null&&typeof m.style!="object")throw Error(n(62))}}function $i(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cs=null;function Ts(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ua=null,Bi=null,Vt=null;function rn(d){if(d=To(d)){if(typeof Ua!="function")throw Error(n(280));var m=d.stateNode;m&&(m=Vd(m),Ua(d.stateNode,d.type,m))}}function rr(d){Bi?Vt?Vt.push(d):Vt=[d]:Bi=d}function rt(){if(Bi){var d=Bi,m=Vt;if(Vt=Bi=null,rn(d),m)for(d=0;d<m.length;d++)rn(m[d])}}function xt(d,m){return d(m)}function St(){}var Jt=!1;function vn(d,m,_){if(Jt)return d(m,_);Jt=!0;try{return xt(d,m,_)}finally{Jt=!1,(Bi!==null||Vt!==null)&&(St(),rt())}}function Ft(d,m){var _=d.stateNode;if(_===null)return null;var k=Vd(_);if(k===null)return null;_=k[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(d=d.type,k=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!k;break e;default:d=!1}if(d)return null;if(_&&typeof _!="function")throw Error(n(231,m,typeof _));return _}var Bn=!1;if(l)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch{Bn=!1}function zn(d,m,_,k,R,D,K,ie,oe){var ye=Array.prototype.slice.call(arguments,3);try{m.apply(_,ye)}catch(ke){this.onError(ke)}}var Wn=!1,qe=null,Dr=!1,ua=null,vl={onError:function(d){Wn=!0,qe=d}};function Zv(d,m,_,k,R,D,K,ie,oe){Wn=!1,qe=null,zn.apply(vl,arguments)}function cp(d,m,_,k,R,D,K,ie,oe){if(Zv.apply(this,arguments),Wn){if(Wn){var ye=qe;Wn=!1,qe=null}else throw Error(n(198));Dr||(Dr=!0,ua=ye)}}function Es(d){var m=d,_=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(_=m.return),d=m.return;while(d)}return m.tag===3?_:null}function xo(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function up(d){if(Es(d)!==d)throw Error(n(188))}function U1(d){var m=d.alternate;if(!m){if(m=Es(d),m===null)throw Error(n(188));return m!==d?null:d}for(var _=d,k=m;;){var R=_.return;if(R===null)break;var D=R.alternate;if(D===null){if(k=R.return,k!==null){_=k;continue}break}if(R.child===D.child){for(D=R.child;D;){if(D===_)return up(R),d;if(D===k)return up(R),m;D=D.sibling}throw Error(n(188))}if(_.return!==k.return)_=R,k=D;else{for(var K=!1,ie=R.child;ie;){if(ie===_){K=!0,_=R,k=D;break}if(ie===k){K=!0,k=R,_=D;break}ie=ie.sibling}if(!K){for(ie=D.child;ie;){if(ie===_){K=!0,_=D,k=R;break}if(ie===k){K=!0,k=D,_=R;break}ie=ie.sibling}if(!K)throw Error(n(189))}}if(_.alternate!==k)throw Error(n(190))}if(_.tag!==3)throw Error(n(188));return _.stateNode.current===_?d:m}function Xv(d){return d=U1(d),d!==null?Qv(d):null}function Qv(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Qv(d);if(m!==null)return m;d=d.sibling}return null}var Jv=t.unstable_scheduleCallback,dp=t.unstable_cancelCallback,V1=t.unstable_shouldYield,wd=t.unstable_requestPaint,On=t.unstable_now,H1=t.unstable_getCurrentPriorityLevel,fp=t.unstable_ImmediatePriority,ey=t.unstable_UserBlockingPriority,_d=t.unstable_NormalPriority,hp=t.unstable_LowPriority,yl=t.unstable_IdlePriority,Bc=null,zi=null;function zc(d){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Bc,d,void 0,(d.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:xl,yn=Math.log,jd=Math.LN2;function xl(d){return d>>>=0,d===0?32:31-(yn(d)/jd|0)|0}var Va=64,bl=4194304;function bt(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function un(d,m){var _=d.pendingLanes;if(_===0)return 0;var k=0,R=d.suspendedLanes,D=d.pingedLanes,K=_&268435455;if(K!==0){var ie=K&~R;ie!==0?k=bt(ie):(D&=K,D!==0&&(k=bt(D)))}else K=_&~R,K!==0?k=bt(K):D!==0&&(k=bt(D));if(k===0)return 0;if(m!==0&&m!==k&&(m&R)===0&&(R=k&-k,D=m&-m,R>=D||R===16&&(D&4194240)!==0))return m;if((k&4)!==0&&(k|=_&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=k;0<m;)_=31-jt(m),R=1<<_,k|=d[_],m&=~R;return k}function pp(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(d,m){for(var _=d.suspendedLanes,k=d.pingedLanes,R=d.expirationTimes,D=d.pendingLanes;0<D;){var K=31-jt(D),ie=1<<K,oe=R[K];oe===-1?((ie&_)===0||(ie&k)!==0)&&(R[K]=pp(ie,m)):oe<=m&&(d.expiredLanes|=ie),D&=~ie}}function Lr(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function ty(){var d=Va;return Va<<=1,(Va&4194240)===0&&(Va=64),d}function wl(d){for(var m=[],_=0;31>_;_++)m.push(d);return m}function Wi(d,m,_){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-jt(m),d[m]=_}function qn(d,m){var _=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var k=d.eventTimes;for(d=d.expirationTimes;0<_;){var R=31-jt(_),D=1<<R;m[R]=0,k[R]=-1,d[R]=-1,_&=~D}}function Ha(d,m){var _=d.entangledLanes|=m;for(d=d.entanglements;_;){var k=31-jt(_),R=1<<k;R&m|d[k]&m&&(d[k]|=m),_&=~R}}var Dt=0;function _l(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Nd,bo,Pd,Ad,Wc,qc=!1,jl=[],qi=null,Ka=null,da=null,Uc=new Map,mt=new Map,cr=[],en="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mp(d,m){switch(d){case"focusin":case"focusout":qi=null;break;case"dragenter":case"dragleave":Ka=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":Uc.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":mt.delete(m.pointerId)}}function wo(d,m,_,k,R,D){return d===null||d.nativeEvent!==D?(d={blockedOn:m,domEventName:_,eventSystemFlags:k,nativeEvent:D,targetContainers:[R]},m!==null&&(m=To(m),m!==null&&bo(m)),d):(d.eventSystemFlags|=k,m=d.targetContainers,R!==null&&m.indexOf(R)===-1&&m.push(R),d)}function gp(d,m,_,k,R){switch(m){case"focusin":return qi=wo(qi,d,m,_,k,R),!0;case"dragenter":return Ka=wo(Ka,d,m,_,k,R),!0;case"mouseover":return da=wo(da,d,m,_,k,R),!0;case"pointerover":var D=R.pointerId;return Uc.set(D,wo(Uc.get(D)||null,d,m,_,k,R)),!0;case"gotpointercapture":return D=R.pointerId,mt.set(D,wo(mt.get(D)||null,d,m,_,k,R)),!0}return!1}function kd(d){var m=Co(d.target);if(m!==null){var _=Es(m);if(_!==null){if(m=_.tag,m===13){if(m=xo(_),m!==null){d.blockedOn=m,Wc(d.priority,function(){Pd(_)});return}}else if(m===3&&_.stateNode.current.memoizedState.isDehydrated){d.blockedOn=_.tag===3?_.stateNode.containerInfo:null;return}}}d.blockedOn=null}function fa(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var _=Ed(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(_===null){_=d.nativeEvent;var k=new _.constructor(_.type,_);Cs=k,_.target.dispatchEvent(k),Cs=null}else return m=To(_),m!==null&&bo(m),d.blockedOn=_,!1;m.shift()}return!0}function Cd(d,m,_){fa(d)&&_.delete(m)}function Vc(){qc=!1,qi!==null&&fa(qi)&&(qi=null),Ka!==null&&fa(Ka)&&(Ka=null),da!==null&&fa(da)&&(da=null),Uc.forEach(Cd),mt.forEach(Cd)}function Mn(d,m){d.blockedOn===m&&(d.blockedOn=null,qc||(qc=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Vc)))}function Ui(d){function m(R){return Mn(R,d)}if(0<jl.length){Mn(jl[0],d);for(var _=1;_<jl.length;_++){var k=jl[_];k.blockedOn===d&&(k.blockedOn=null)}}for(qi!==null&&Mn(qi,d),Ka!==null&&Mn(Ka,d),da!==null&&Mn(da,d),Uc.forEach(m),mt.forEach(m),_=0;_<cr.length;_++)k=cr[_],k.blockedOn===d&&(k.blockedOn=null);for(;0<cr.length&&(_=cr[0],_.blockedOn===null);)kd(_),_.blockedOn===null&&cr.shift()}var _o=T.ReactCurrentBatchConfig,Hc=!0;function K1(d,m,_,k){var R=Dt,D=_o.transition;_o.transition=null;try{Dt=1,Kc(d,m,_,k)}finally{Dt=R,_o.transition=D}}function ny(d,m,_,k){var R=Dt,D=_o.transition;_o.transition=null;try{Dt=4,Kc(d,m,_,k)}finally{Dt=R,_o.transition=D}}function Kc(d,m,_,k){if(Hc){var R=Ed(d,m,_,k);if(R===null)f(d,m,k,Td,_),mp(d,k);else if(gp(R,d,m,_,k))k.stopPropagation();else if(mp(d,k),m&4&&-1<en.indexOf(d)){for(;R!==null;){var D=To(R);if(D!==null&&Nd(D),D=Ed(d,m,_,k),D===null&&f(d,m,k,Td,_),D===R)break;R=D}R!==null&&k.stopPropagation()}else f(d,m,k,null,_)}}var Td=null;function Ed(d,m,_,k){if(Td=null,d=Ts(k),d=Co(d),d!==null)if(m=Es(d),m===null)d=null;else if(_=m.tag,_===13){if(d=xo(m),d!==null)return d;d=null}else if(_===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return Td=d,null}function It(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H1()){case fp:return 1;case ey:return 4;case _d:case hp:return 16;case yl:return 536870912;default:return 16}default:return 16}}var Os=null,ai=null,Ms=null;function vp(){if(Ms)return Ms;var d,m=ai,_=m.length,k,R="value"in Os?Os.value:Os.textContent,D=R.length;for(d=0;d<_&&m[d]===R[d];d++);var K=_-d;for(k=1;k<=K&&m[_-k]===R[D-k];k++);return Ms=R.slice(d,1<k?1-k:void 0)}function Od(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function Sl(){return!0}function ry(){return!1}function Fr(d){function m(_,k,R,D,K){this._reactName=_,this._targetInst=R,this.type=k,this.nativeEvent=D,this.target=K,this.currentTarget=null;for(var ie in d)d.hasOwnProperty(ie)&&(_=d[ie],this[ie]=_?_(D):D[ie]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Sl:ry,this.isPropagationStopped=ry,this}return X(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var _=this.nativeEvent;_&&(_.preventDefault?_.preventDefault():typeof _.returnValue!="unknown"&&(_.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var _=this.nativeEvent;_&&(_.stopPropagation?_.stopPropagation():typeof _.cancelBubble!="unknown"&&(_.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),m}var Nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yp=Fr(Nl),jo=X({},Nl,{view:0,detail:0}),G1=Fr(jo),ji,xp,Pl,Vi=X({},jo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:No,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Pl&&(Pl&&d.type==="mousemove"?(ji=d.screenX-Pl.screenX,xp=d.screenY-Pl.screenY):xp=ji=0,Pl=d),ji)},movementY:function(d){return"movementY"in d?d.movementY:xp}}),bp=Fr(Vi),iy=X({},Vi,{dataTransfer:0}),wp=Fr(iy),Y1=X({},jo,{relatedTarget:0}),Md=Fr(Y1),ay=X({},Nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Z1=Fr(ay),X1=X({},Nl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),_p=Fr(X1),Q1=X({},Nl,{data:0}),jp=Fr(Q1),sy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},So={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function J1(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=So[d])?!!m[d]:!1}function No(){return J1}var Si=X({},jo,{key:function(d){if(d.key){var m=sy[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=Od(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Rd[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:No,charCode:function(d){return d.type==="keypress"?Od(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Od(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),oy=Fr(Si),ly=X({},Vi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=Fr(ly),Sp=X({},jo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:No}),Np=Fr(Sp),e_=X({},Nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),t_=Fr(e_),uy=X({},Vi,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),n_=Fr(uy),Hi=[9,13,27,32],Rs=l&&"CompositionEvent"in window,Gc=null;l&&"documentMode"in document&&(Gc=document.documentMode);var Ga=l&&"TextEvent"in window&&!Gc,dy=l&&(!Rs||Gc&&8<Gc&&11>=Gc),Po=" ",fy=!1;function Al(d,m){switch(d){case"keyup":return Hi.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pp(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Ya=!1;function r_(d,m){switch(d){case"compositionend":return Pp(m);case"keypress":return m.which!==32?null:(fy=!0,Po);case"textInput":return d=m.data,d===Po&&fy?null:d;default:return null}}function Is(d,m){if(Ya)return d==="compositionend"||!Rs&&Al(d,m)?(d=vp(),Ms=ai=Os=null,Ya=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return dy&&m.locale!=="ko"?null:m.data;default:return null}}var Id={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Id[d.type]:m==="textarea"}function Dd(d,m,_,k){rr(k),m=P(m,"onChange"),0<m.length&&(_=new yp("onChange","change",null,_,k),d.push({event:_,listeners:m}))}var Yc=null,si=null;function i_(d){Ip(d,0)}function Za(d){var m=Eo(d);if(ve(m))return d}function a_(d,m){if(d==="change")return m}var ha=!1;if(l){var kl;if(l){var Ld="oninput"in document;if(!Ld){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),Ld=typeof Fd.oninput=="function"}kl=Ld}else kl=!1;ha=kl&&(!document.documentMode||9<document.documentMode)}function Zc(){Yc&&(Yc.detachEvent("onpropertychange",$d),si=Yc=null)}function $d(d){if(d.propertyName==="value"&&Za(si)){var m=[];Dd(m,si,d,Ts(d)),vn(i_,m)}}function Bd(d,m,_){d==="focusin"?(Zc(),Yc=m,si=_,Yc.attachEvent("onpropertychange",$d)):d==="focusout"&&Zc()}function Cl(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Za(si)}function zd(d,m){if(d==="click")return Za(m)}function Ap(d,m){if(d==="input"||d==="change")return Za(m)}function py(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var Ki=typeof Object.is=="function"?Object.is:py;function Ds(d,m){if(Ki(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var _=Object.keys(d),k=Object.keys(m);if(_.length!==k.length)return!1;for(k=0;k<_.length;k++){var R=_[k];if(!c.call(m,R)||!Ki(d[R],m[R]))return!1}return!0}function my(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function kp(d,m){var _=my(d);d=0;for(var k;_;){if(_.nodeType===3){if(k=d+_.textContent.length,d<=m&&k>=m)return{node:_,offset:m-d};d=k}e:{for(;_;){if(_.nextSibling){_=_.nextSibling;break e}_=_.parentNode}_=void 0}_=my(_)}}function gy(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?gy(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function Cp(){for(var d=window,m=Ze();m instanceof d.HTMLIFrameElement;){try{var _=typeof m.contentWindow.location.href=="string"}catch{_=!1}if(_)d=m.contentWindow;else break;m=Ze(d.document)}return m}function Tp(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function pa(d){var m=Cp(),_=d.focusedElem,k=d.selectionRange;if(m!==_&&_&&_.ownerDocument&&gy(_.ownerDocument.documentElement,_)){if(k!==null&&Tp(_)){if(m=k.start,d=k.end,d===void 0&&(d=m),"selectionStart"in _)_.selectionStart=m,_.selectionEnd=Math.min(d,_.value.length);else if(d=(m=_.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var R=_.textContent.length,D=Math.min(k.start,R);k=k.end===void 0?D:Math.min(k.end,R),!d.extend&&D>k&&(R=k,k=D,D=R),R=kp(_,D);var K=kp(_,k);R&&K&&(d.rangeCount!==1||d.anchorNode!==R.node||d.anchorOffset!==R.offset||d.focusNode!==K.node||d.focusOffset!==K.offset)&&(m=m.createRange(),m.setStart(R.node,R.offset),d.removeAllRanges(),D>k?(d.addRange(m),d.extend(K.node,K.offset)):(m.setEnd(K.node,K.offset),d.addRange(m)))}}for(m=[],d=_;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<m.length;_++)d=m[_],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Wd=l&&"documentMode"in document&&11>=document.documentMode,Tl=null,El=null,Xc=null,qd=!1;function vy(d,m,_){var k=_.window===_?_.document:_.nodeType===9?_:_.ownerDocument;qd||Tl==null||Tl!==Ze(k)||(k=Tl,"selectionStart"in k&&Tp(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Xc&&Ds(Xc,k)||(Xc=k,k=P(El,"onSelect"),0<k.length&&(m=new yp("onSelect","select",null,m,_),d.push({event:m,listeners:k}),m.target=Tl)))}function Ls(d,m){var _={};return _[d.toLowerCase()]=m.toLowerCase(),_["Webkit"+d]="webkit"+m,_["Moz"+d]="moz"+m,_}var Ol={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},Fs={},Ep={};l&&(Ep=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function Qc(d){if(Fs[d])return Fs[d];if(!Ol[d])return d;var m=Ol[d],_;for(_ in m)if(m.hasOwnProperty(_)&&_ in Ep)return Fs[d]=m[_];return d}var yy=Qc("animationend"),ma=Qc("animationiteration"),Op=Qc("animationstart"),Mp=Qc("transitionend"),Ml=new Map,xy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(d,m){Ml.set(d,m),s(m,[d])}for(var Ao=0;Ao<xy.length;Ao++){var Ud=xy[Ao],by=Ud.toLowerCase(),s_=Ud[0].toUpperCase()+Ud.slice(1);Gi(by,"on"+s_)}Gi(yy,"onAnimationEnd"),Gi(ma,"onAnimationIteration"),Gi(Op,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Mp,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rl));function Rp(d,m,_){var k=d.type||"unknown-event";d.currentTarget=_,cp(k,m,void 0,d),d.currentTarget=null}function Ip(d,m){m=(m&4)!==0;for(var _=0;_<d.length;_++){var k=d[_],R=k.event;k=k.listeners;e:{var D=void 0;if(m)for(var K=k.length-1;0<=K;K--){var ie=k[K],oe=ie.instance,ye=ie.currentTarget;if(ie=ie.listener,oe!==D&&R.isPropagationStopped())break e;Rp(R,ie,ye),D=oe}else for(K=0;K<k.length;K++){if(ie=k[K],oe=ie.instance,ye=ie.currentTarget,ie=ie.listener,oe!==D&&R.isPropagationStopped())break e;Rp(R,ie,ye),D=oe}}}if(Dr)throw d=ua,Dr=!1,ua=null,d}function tn(d,m){var _=m[Fl];_===void 0&&(_=m[Fl]=new Set);var k=d+"__bubble";_.has(k)||(_y(m,d,2,!1),_.add(k))}function Dp(d,m,_){var k=0;m&&(k|=4),_y(_,d,k,m)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Il(d){if(!d[Jc]){d[Jc]=!0,r.forEach(function(_){_!=="selectionchange"&&(wy.has(_)||Dp(_,!1,d),Dp(_,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Jc]||(m[Jc]=!0,Dp("selectionchange",!1,m))}}function _y(d,m,_,k){switch(It(m)){case 1:var R=K1;break;case 4:R=ny;break;default:R=Kc}_=R.bind(null,m,_,d),R=void 0,!Bn||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(R=!0),k?R!==void 0?d.addEventListener(m,_,{capture:!0,passive:R}):d.addEventListener(m,_,!0):R!==void 0?d.addEventListener(m,_,{passive:R}):d.addEventListener(m,_,!1)}function f(d,m,_,k,R){var D=k;if((m&1)===0&&(m&2)===0&&k!==null)e:for(;;){if(k===null)return;var K=k.tag;if(K===3||K===4){var ie=k.stateNode.containerInfo;if(ie===R||ie.nodeType===8&&ie.parentNode===R)break;if(K===4)for(K=k.return;K!==null;){var oe=K.tag;if((oe===3||oe===4)&&(oe=K.stateNode.containerInfo,oe===R||oe.nodeType===8&&oe.parentNode===R))return;K=K.return}for(;ie!==null;){if(K=Co(ie),K===null)return;if(oe=K.tag,oe===5||oe===6){k=D=K;continue e}ie=ie.parentNode}}k=k.return}vn(function(){var ye=D,ke=Ts(_),Te=[];e:{var Ae=Ml.get(d);if(Ae!==void 0){var ze=yp,Ge=d;switch(d){case"keypress":if(Od(_)===0)break e;case"keydown":case"keyup":ze=oy;break;case"focusin":Ge="focus",ze=Md;break;case"focusout":Ge="blur",ze=Md;break;case"beforeblur":case"afterblur":ze=Md;break;case"click":if(_.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=bp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=wp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Np;break;case yy:case ma:case Op:ze=Z1;break;case Mp:ze=t_;break;case"scroll":ze=G1;break;case"wheel":ze=n_;break;case"copy":case"cut":case"paste":ze=_p;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=cy}var Xe=(m&4)!==0,Xn=!Xe&&d==="scroll",ue=Xe?Ae!==null?Ae+"Capture":null:Ae;Xe=[];for(var le=ye,pe;le!==null;){pe=le;var Ie=pe.stateNode;if(pe.tag===5&&Ie!==null&&(pe=Ie,ue!==null&&(Ie=Ft(le,ue),Ie!=null&&Xe.push(y(le,Ie,pe)))),Xn)break;le=le.return}0<Xe.length&&(Ae=new ze(Ae,Ge,null,_,ke),Te.push({event:Ae,listeners:Xe}))}}if((m&7)===0){e:{if(Ae=d==="mouseover"||d==="pointerover",ze=d==="mouseout"||d==="pointerout",Ae&&_!==Cs&&(Ge=_.relatedTarget||_.fromElement)&&(Co(Ge)||Ge[Kt]))break e;if((ze||Ae)&&(Ae=ke.window===ke?ke:(Ae=ke.ownerDocument)?Ae.defaultView||Ae.parentWindow:window,ze?(Ge=_.relatedTarget||_.toElement,ze=ye,Ge=Ge?Co(Ge):null,Ge!==null&&(Xn=Es(Ge),Ge!==Xn||Ge.tag!==5&&Ge.tag!==6)&&(Ge=null)):(ze=null,Ge=ye),ze!==Ge)){if(Xe=bp,Ie="onMouseLeave",ue="onMouseEnter",le="mouse",(d==="pointerout"||d==="pointerover")&&(Xe=cy,Ie="onPointerLeave",ue="onPointerEnter",le="pointer"),Xn=ze==null?Ae:Eo(ze),pe=Ge==null?Ae:Eo(Ge),Ae=new Xe(Ie,le+"leave",ze,_,ke),Ae.target=Xn,Ae.relatedTarget=pe,Ie=null,Co(ke)===ye&&(Xe=new Xe(ue,le+"enter",Ge,_,ke),Xe.target=pe,Xe.relatedTarget=Xn,Ie=Xe),Xn=Ie,ze&&Ge)t:{for(Xe=ze,ue=Ge,le=0,pe=Xe;pe;pe=M(pe))le++;for(pe=0,Ie=ue;Ie;Ie=M(Ie))pe++;for(;0<le-pe;)Xe=M(Xe),le--;for(;0<pe-le;)ue=M(ue),pe--;for(;le--;){if(Xe===ue||ue!==null&&Xe===ue.alternate)break t;Xe=M(Xe),ue=M(ue)}Xe=null}else Xe=null;ze!==null&&B(Te,Ae,ze,Xe,!1),Ge!==null&&Xn!==null&&B(Te,Xn,Ge,Xe,!0)}}e:{if(Ae=ye?Eo(ye):window,ze=Ae.nodeName&&Ae.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Ae.type==="file")var tt=a_;else if(hy(Ae))if(ha)tt=Ap;else{tt=Cl;var lt=Bd}else(ze=Ae.nodeName)&&ze.toLowerCase()==="input"&&(Ae.type==="checkbox"||Ae.type==="radio")&&(tt=zd);if(tt&&(tt=tt(d,ye))){Dd(Te,tt,_,ke);break e}lt&&lt(d,Ae,ye),d==="focusout"&&(lt=Ae._wrapperState)&&lt.controlled&&Ae.type==="number"&&yt(Ae,"number",Ae.value)}switch(lt=ye?Eo(ye):window,d){case"focusin":(hy(lt)||lt.contentEditable==="true")&&(Tl=lt,El=ye,Xc=null);break;case"focusout":Xc=El=Tl=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,vy(Te,_,ke);break;case"selectionchange":if(Wd)break;case"keydown":case"keyup":vy(Te,_,ke)}var ct;if(Rs)e:{switch(d){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ya?Al(d,_)&&(gt="onCompositionEnd"):d==="keydown"&&_.keyCode===229&&(gt="onCompositionStart");gt&&(dy&&_.locale!=="ko"&&(Ya||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ya&&(ct=vp()):(Os=ke,ai="value"in Os?Os.value:Os.textContent,Ya=!0)),lt=P(ye,gt),0<lt.length&&(gt=new jp(gt,d,null,_,ke),Te.push({event:gt,listeners:lt}),ct?gt.data=ct:(ct=Pp(_),ct!==null&&(gt.data=ct)))),(ct=Ga?r_(d,_):Is(d,_))&&(ye=P(ye,"onBeforeInput"),0<ye.length&&(ke=new jp("onBeforeInput","beforeinput",null,_,ke),Te.push({event:ke,listeners:ye}),ke.data=ct))}Ip(Te,m)})}function y(d,m,_){return{instance:d,listener:m,currentTarget:_}}function P(d,m){for(var _=m+"Capture",k=[];d!==null;){var R=d,D=R.stateNode;R.tag===5&&D!==null&&(R=D,D=Ft(d,_),D!=null&&k.unshift(y(d,D,R)),D=Ft(d,m),D!=null&&k.push(y(d,D,R))),d=d.return}return k}function M(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function B(d,m,_,k,R){for(var D=m._reactName,K=[];_!==null&&_!==k;){var ie=_,oe=ie.alternate,ye=ie.stateNode;if(oe!==null&&oe===k)break;ie.tag===5&&ye!==null&&(ie=ye,R?(oe=Ft(_,D),oe!=null&&K.unshift(y(_,oe,ie))):R||(oe=Ft(_,D),oe!=null&&K.push(y(_,oe,ie)))),_=_.return}K.length!==0&&d.push({event:m,listeners:K})}var Z=/\r\n?/g,ae=/\u0000|\uFFFD/g;function ce(d){return(typeof d=="string"?d:""+d).replace(Z,`
`).replace(ae,"")}function ge(d,m,_){if(m=ce(m),ce(d)!==m&&_)throw Error(n(425))}function Pe(){}var Be=null,ot=null;function Nt(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ur=typeof setTimeout=="function"?setTimeout:void 0,ir=typeof clearTimeout=="function"?clearTimeout:void 0,oi=typeof Promise=="function"?Promise:void 0,$r=typeof queueMicrotask=="function"?queueMicrotask:typeof oi<"u"?function(d){return oi.resolve(null).then(d).catch(Dl)}:ur;function Dl(d){setTimeout(function(){throw d})}function Lp(d,m){var _=m,k=0;do{var R=_.nextSibling;if(d.removeChild(_),R&&R.nodeType===8)if(_=R.data,_==="/$"){if(k===0){d.removeChild(R),Ui(m);return}k--}else _!=="$"&&_!=="$?"&&_!=="$!"||k++;_=R}while(_);Ui(m)}function $s(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function jy(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var _=d.data;if(_==="$"||_==="$!"||_==="$?"){if(m===0)return d;m--}else _==="/$"&&m++}d=d.previousSibling}return null}var ko=Math.random().toString(36).slice(2),ga="__reactFiber$"+ko,Ll="__reactProps$"+ko,Kt="__reactContainer$"+ko,Fl="__reactEvents$"+ko,o_="__reactListeners$"+ko,l_="__reactHandles$"+ko;function Co(d){var m=d[ga];if(m)return m;for(var _=d.parentNode;_;){if(m=_[Kt]||_[ga]){if(_=m.alternate,m.child!==null||_!==null&&_.child!==null)for(d=jy(d);d!==null;){if(_=d[ga])return _;d=jy(d)}return m}d=_,_=d.parentNode}return null}function To(d){return d=d[ga]||d[Kt],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Eo(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function Vd(d){return d[Ll]||null}var c_=[],Hd=-1;function $l(d){return{current:d}}function xn(d){0>Hd||(d.current=c_[Hd],c_[Hd]=null,Hd--)}function dn(d,m){Hd++,c_[Hd]=d.current,d.current=m}var Bl={},Br=$l(Bl),Ni=$l(!1),eu=Bl;function Kd(d,m){var _=d.type.contextTypes;if(!_)return Bl;var k=d.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===m)return k.__reactInternalMemoizedMaskedChildContext;var R={},D;for(D in _)R[D]=m[D];return k&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=R),R}function Pi(d){return d=d.childContextTypes,d!=null}function Sy(){xn(Ni),xn(Br)}function KM(d,m,_){if(Br.current!==Bl)throw Error(n(168));dn(Br,m),dn(Ni,_)}function GM(d,m,_){var k=d.stateNode;if(m=m.childContextTypes,typeof k.getChildContext!="function")return _;k=k.getChildContext();for(var R in k)if(!(R in m))throw Error(n(108,fe(d)||"Unknown",R));return X({},_,k)}function Ny(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Bl,eu=Br.current,dn(Br,d),dn(Ni,Ni.current),!0}function YM(d,m,_){var k=d.stateNode;if(!k)throw Error(n(169));_?(d=GM(d,m,eu),k.__reactInternalMemoizedMergedChildContext=d,xn(Ni),xn(Br),dn(Br,d)):xn(Ni),dn(Ni,_)}var Oo=null,Py=!1,u_=!1;function ZM(d){Oo===null?Oo=[d]:Oo.push(d)}function FJ(d){Py=!0,ZM(d)}function zl(){if(!u_&&Oo!==null){u_=!0;var d=0,m=Dt;try{var _=Oo;for(Dt=1;d<_.length;d++){var k=_[d];do k=k(!0);while(k!==null)}Oo=null,Py=!1}catch(R){throw Oo!==null&&(Oo=Oo.slice(d+1)),Jv(fp,zl),R}finally{Dt=m,u_=!1}}return null}var Gd=[],Yd=0,Ay=null,ky=0,va=[],ya=0,tu=null,Mo=1,Ro="";function nu(d,m){Gd[Yd++]=ky,Gd[Yd++]=Ay,Ay=d,ky=m}function XM(d,m,_){va[ya++]=Mo,va[ya++]=Ro,va[ya++]=tu,tu=d;var k=Mo;d=Ro;var R=32-jt(k)-1;k&=~(1<<R),_+=1;var D=32-jt(m)+R;if(30<D){var K=R-R%5;D=(k&(1<<K)-1).toString(32),k>>=K,R-=K,Mo=1<<32-jt(m)+R|_<<R|k,Ro=D+d}else Mo=1<<D|_<<R|k,Ro=d}function d_(d){d.return!==null&&(nu(d,1),XM(d,1,0))}function f_(d){for(;d===Ay;)Ay=Gd[--Yd],Gd[Yd]=null,ky=Gd[--Yd],Gd[Yd]=null;for(;d===tu;)tu=va[--ya],va[ya]=null,Ro=va[--ya],va[ya]=null,Mo=va[--ya],va[ya]=null}var Yi=null,Zi=null,kn=!1,Xa=null;function QM(d,m){var _=_a(5,null,null,0);_.elementType="DELETED",_.stateNode=m,_.return=d,m=d.deletions,m===null?(d.deletions=[_],d.flags|=16):m.push(_)}function JM(d,m){switch(d.tag){case 5:var _=d.type;return m=m.nodeType!==1||_.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,Yi=d,Zi=$s(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,Yi=d,Zi=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(_=tu!==null?{id:Mo,overflow:Ro}:null,d.memoizedState={dehydrated:m,treeContext:_,retryLane:1073741824},_=_a(18,null,null,0),_.stateNode=m,_.return=d,d.child=_,Yi=d,Zi=null,!0):!1;default:return!1}}function h_(d){return(d.mode&1)!==0&&(d.flags&128)===0}function p_(d){if(kn){var m=Zi;if(m){var _=m;if(!JM(d,m)){if(h_(d))throw Error(n(418));m=$s(_.nextSibling);var k=Yi;m&&JM(d,m)?QM(k,_):(d.flags=d.flags&-4097|2,kn=!1,Yi=d)}}else{if(h_(d))throw Error(n(418));d.flags=d.flags&-4097|2,kn=!1,Yi=d}}}function eR(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Yi=d}function Cy(d){if(d!==Yi)return!1;if(!kn)return eR(d),kn=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!Nt(d.type,d.memoizedProps)),m&&(m=Zi)){if(h_(d))throw tR(),Error(n(418));for(;m;)QM(d,m),m=$s(m.nextSibling)}if(eR(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var _=d.data;if(_==="/$"){if(m===0){Zi=$s(d.nextSibling);break e}m--}else _!=="$"&&_!=="$!"&&_!=="$?"||m++}d=d.nextSibling}Zi=null}}else Zi=Yi?$s(d.stateNode.nextSibling):null;return!0}function tR(){for(var d=Zi;d;)d=$s(d.nextSibling)}function Zd(){Zi=Yi=null,kn=!1}function m_(d){Xa===null?Xa=[d]:Xa.push(d)}var $J=T.ReactCurrentBatchConfig;function Fp(d,m,_){if(d=_.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(_._owner){if(_=_._owner,_){if(_.tag!==1)throw Error(n(309));var k=_.stateNode}if(!k)throw Error(n(147,d));var R=k,D=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===D?m.ref:(m=function(K){var ie=R.refs;K===null?delete ie[D]:ie[D]=K},m._stringRef=D,m)}if(typeof d!="string")throw Error(n(284));if(!_._owner)throw Error(n(290,d))}return d}function Ty(d,m){throw d=Object.prototype.toString.call(m),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function nR(d){var m=d._init;return m(d._payload)}function rR(d){function m(ue,le){if(d){var pe=ue.deletions;pe===null?(ue.deletions=[le],ue.flags|=16):pe.push(le)}}function _(ue,le){if(!d)return null;for(;le!==null;)m(ue,le),le=le.sibling;return null}function k(ue,le){for(ue=new Map;le!==null;)le.key!==null?ue.set(le.key,le):ue.set(le.index,le),le=le.sibling;return ue}function R(ue,le){return ue=Yl(ue,le),ue.index=0,ue.sibling=null,ue}function D(ue,le,pe){return ue.index=pe,d?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<le?(ue.flags|=2,le):pe):(ue.flags|=2,le)):(ue.flags|=1048576,le)}function K(ue){return d&&ue.alternate===null&&(ue.flags|=2),ue}function ie(ue,le,pe,Ie){return le===null||le.tag!==6?(le=sj(pe,ue.mode,Ie),le.return=ue,le):(le=R(le,pe),le.return=ue,le)}function oe(ue,le,pe,Ie){var tt=pe.type;return tt===O?ke(ue,le,pe.props.children,Ie,pe.key):le!==null&&(le.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&nR(tt)===le.type)?(Ie=R(le,pe.props),Ie.ref=Fp(ue,le,pe),Ie.return=ue,Ie):(Ie=ex(pe.type,pe.key,pe.props,null,ue.mode,Ie),Ie.ref=Fp(ue,le,pe),Ie.return=ue,Ie)}function ye(ue,le,pe,Ie){return le===null||le.tag!==4||le.stateNode.containerInfo!==pe.containerInfo||le.stateNode.implementation!==pe.implementation?(le=oj(pe,ue.mode,Ie),le.return=ue,le):(le=R(le,pe.children||[]),le.return=ue,le)}function ke(ue,le,pe,Ie,tt){return le===null||le.tag!==7?(le=uu(pe,ue.mode,Ie,tt),le.return=ue,le):(le=R(le,pe),le.return=ue,le)}function Te(ue,le,pe){if(typeof le=="string"&&le!==""||typeof le=="number")return le=sj(""+le,ue.mode,pe),le.return=ue,le;if(typeof le=="object"&&le!==null){switch(le.$$typeof){case C:return pe=ex(le.type,le.key,le.props,null,ue.mode,pe),pe.ref=Fp(ue,null,le),pe.return=ue,pe;case E:return le=oj(le,ue.mode,pe),le.return=ue,le;case Q:var Ie=le._init;return Te(ue,Ie(le._payload),pe)}if(kt(le)||ee(le))return le=uu(le,ue.mode,pe,null),le.return=ue,le;Ty(ue,le)}return null}function Ae(ue,le,pe,Ie){var tt=le!==null?le.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return tt!==null?null:ie(ue,le,""+pe,Ie);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:return pe.key===tt?oe(ue,le,pe,Ie):null;case E:return pe.key===tt?ye(ue,le,pe,Ie):null;case Q:return tt=pe._init,Ae(ue,le,tt(pe._payload),Ie)}if(kt(pe)||ee(pe))return tt!==null?null:ke(ue,le,pe,Ie,null);Ty(ue,pe)}return null}function ze(ue,le,pe,Ie,tt){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ue=ue.get(pe)||null,ie(le,ue,""+Ie,tt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case C:return ue=ue.get(Ie.key===null?pe:Ie.key)||null,oe(le,ue,Ie,tt);case E:return ue=ue.get(Ie.key===null?pe:Ie.key)||null,ye(le,ue,Ie,tt);case Q:var lt=Ie._init;return ze(ue,le,pe,lt(Ie._payload),tt)}if(kt(Ie)||ee(Ie))return ue=ue.get(pe)||null,ke(le,ue,Ie,tt,null);Ty(le,Ie)}return null}function Ge(ue,le,pe,Ie){for(var tt=null,lt=null,ct=le,gt=le=0,_r=null;ct!==null&&gt<pe.length;gt++){ct.index>gt?(_r=ct,ct=null):_r=ct.sibling;var Wt=Ae(ue,ct,pe[gt],Ie);if(Wt===null){ct===null&&(ct=_r);break}d&&ct&&Wt.alternate===null&&m(ue,ct),le=D(Wt,le,gt),lt===null?tt=Wt:lt.sibling=Wt,lt=Wt,ct=_r}if(gt===pe.length)return _(ue,ct),kn&&nu(ue,gt),tt;if(ct===null){for(;gt<pe.length;gt++)ct=Te(ue,pe[gt],Ie),ct!==null&&(le=D(ct,le,gt),lt===null?tt=ct:lt.sibling=ct,lt=ct);return kn&&nu(ue,gt),tt}for(ct=k(ue,ct);gt<pe.length;gt++)_r=ze(ct,ue,gt,pe[gt],Ie),_r!==null&&(d&&_r.alternate!==null&&ct.delete(_r.key===null?gt:_r.key),le=D(_r,le,gt),lt===null?tt=_r:lt.sibling=_r,lt=_r);return d&&ct.forEach(function(Zl){return m(ue,Zl)}),kn&&nu(ue,gt),tt}function Xe(ue,le,pe,Ie){var tt=ee(pe);if(typeof tt!="function")throw Error(n(150));if(pe=tt.call(pe),pe==null)throw Error(n(151));for(var lt=tt=null,ct=le,gt=le=0,_r=null,Wt=pe.next();ct!==null&&!Wt.done;gt++,Wt=pe.next()){ct.index>gt?(_r=ct,ct=null):_r=ct.sibling;var Zl=Ae(ue,ct,Wt.value,Ie);if(Zl===null){ct===null&&(ct=_r);break}d&&ct&&Zl.alternate===null&&m(ue,ct),le=D(Zl,le,gt),lt===null?tt=Zl:lt.sibling=Zl,lt=Zl,ct=_r}if(Wt.done)return _(ue,ct),kn&&nu(ue,gt),tt;if(ct===null){for(;!Wt.done;gt++,Wt=pe.next())Wt=Te(ue,Wt.value,Ie),Wt!==null&&(le=D(Wt,le,gt),lt===null?tt=Wt:lt.sibling=Wt,lt=Wt);return kn&&nu(ue,gt),tt}for(ct=k(ue,ct);!Wt.done;gt++,Wt=pe.next())Wt=ze(ct,ue,gt,Wt.value,Ie),Wt!==null&&(d&&Wt.alternate!==null&&ct.delete(Wt.key===null?gt:Wt.key),le=D(Wt,le,gt),lt===null?tt=Wt:lt.sibling=Wt,lt=Wt);return d&&ct.forEach(function(yee){return m(ue,yee)}),kn&&nu(ue,gt),tt}function Xn(ue,le,pe,Ie){if(typeof pe=="object"&&pe!==null&&pe.type===O&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case C:e:{for(var tt=pe.key,lt=le;lt!==null;){if(lt.key===tt){if(tt=pe.type,tt===O){if(lt.tag===7){_(ue,lt.sibling),le=R(lt,pe.props.children),le.return=ue,ue=le;break e}}else if(lt.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===Q&&nR(tt)===lt.type){_(ue,lt.sibling),le=R(lt,pe.props),le.ref=Fp(ue,lt,pe),le.return=ue,ue=le;break e}_(ue,lt);break}else m(ue,lt);lt=lt.sibling}pe.type===O?(le=uu(pe.props.children,ue.mode,Ie,pe.key),le.return=ue,ue=le):(Ie=ex(pe.type,pe.key,pe.props,null,ue.mode,Ie),Ie.ref=Fp(ue,le,pe),Ie.return=ue,ue=Ie)}return K(ue);case E:e:{for(lt=pe.key;le!==null;){if(le.key===lt)if(le.tag===4&&le.stateNode.containerInfo===pe.containerInfo&&le.stateNode.implementation===pe.implementation){_(ue,le.sibling),le=R(le,pe.children||[]),le.return=ue,ue=le;break e}else{_(ue,le);break}else m(ue,le);le=le.sibling}le=oj(pe,ue.mode,Ie),le.return=ue,ue=le}return K(ue);case Q:return lt=pe._init,Xn(ue,le,lt(pe._payload),Ie)}if(kt(pe))return Ge(ue,le,pe,Ie);if(ee(pe))return Xe(ue,le,pe,Ie);Ty(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,le!==null&&le.tag===6?(_(ue,le.sibling),le=R(le,pe),le.return=ue,ue=le):(_(ue,le),le=sj(pe,ue.mode,Ie),le.return=ue,ue=le),K(ue)):_(ue,le)}return Xn}var Xd=rR(!0),iR=rR(!1),Ey=$l(null),Oy=null,Qd=null,g_=null;function v_(){g_=Qd=Oy=null}function y_(d){var m=Ey.current;xn(Ey),d._currentValue=m}function x_(d,m,_){for(;d!==null;){var k=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,k!==null&&(k.childLanes|=m)):k!==null&&(k.childLanes&m)!==m&&(k.childLanes|=m),d===_)break;d=d.return}}function Jd(d,m){Oy=d,g_=Qd=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Ai=!0),d.firstContext=null)}function xa(d){var m=d._currentValue;if(g_!==d)if(d={context:d,memoizedValue:m,next:null},Qd===null){if(Oy===null)throw Error(n(308));Qd=d,Oy.dependencies={lanes:0,firstContext:d}}else Qd=Qd.next=d;return m}var ru=null;function b_(d){ru===null?ru=[d]:ru.push(d)}function aR(d,m,_,k){var R=m.interleaved;return R===null?(_.next=_,b_(m)):(_.next=R.next,R.next=_),m.interleaved=_,Io(d,k)}function Io(d,m){d.lanes|=m;var _=d.alternate;for(_!==null&&(_.lanes|=m),_=d,d=d.return;d!==null;)d.childLanes|=m,_=d.alternate,_!==null&&(_.childLanes|=m),_=d,d=d.return;return _.tag===3?_.stateNode:null}var Wl=!1;function w_(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sR(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Do(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function ql(d,m,_){var k=d.updateQueue;if(k===null)return null;if(k=k.shared,(Bt&2)!==0){var R=k.pending;return R===null?m.next=m:(m.next=R.next,R.next=m),k.pending=m,Io(d,_)}return R=k.interleaved,R===null?(m.next=m,b_(k)):(m.next=R.next,R.next=m),k.interleaved=m,Io(d,_)}function My(d,m,_){if(m=m.updateQueue,m!==null&&(m=m.shared,(_&4194240)!==0)){var k=m.lanes;k&=d.pendingLanes,_|=k,m.lanes=_,Ha(d,_)}}function oR(d,m){var _=d.updateQueue,k=d.alternate;if(k!==null&&(k=k.updateQueue,_===k)){var R=null,D=null;if(_=_.firstBaseUpdate,_!==null){do{var K={eventTime:_.eventTime,lane:_.lane,tag:_.tag,payload:_.payload,callback:_.callback,next:null};D===null?R=D=K:D=D.next=K,_=_.next}while(_!==null);D===null?R=D=m:D=D.next=m}else R=D=m;_={baseState:k.baseState,firstBaseUpdate:R,lastBaseUpdate:D,shared:k.shared,effects:k.effects},d.updateQueue=_;return}d=_.lastBaseUpdate,d===null?_.firstBaseUpdate=m:d.next=m,_.lastBaseUpdate=m}function Ry(d,m,_,k){var R=d.updateQueue;Wl=!1;var D=R.firstBaseUpdate,K=R.lastBaseUpdate,ie=R.shared.pending;if(ie!==null){R.shared.pending=null;var oe=ie,ye=oe.next;oe.next=null,K===null?D=ye:K.next=ye,K=oe;var ke=d.alternate;ke!==null&&(ke=ke.updateQueue,ie=ke.lastBaseUpdate,ie!==K&&(ie===null?ke.firstBaseUpdate=ye:ie.next=ye,ke.lastBaseUpdate=oe))}if(D!==null){var Te=R.baseState;K=0,ke=ye=oe=null,ie=D;do{var Ae=ie.lane,ze=ie.eventTime;if((k&Ae)===Ae){ke!==null&&(ke=ke.next={eventTime:ze,lane:0,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null});e:{var Ge=d,Xe=ie;switch(Ae=m,ze=_,Xe.tag){case 1:if(Ge=Xe.payload,typeof Ge=="function"){Te=Ge.call(ze,Te,Ae);break e}Te=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Xe.payload,Ae=typeof Ge=="function"?Ge.call(ze,Te,Ae):Ge,Ae==null)break e;Te=X({},Te,Ae);break e;case 2:Wl=!0}}ie.callback!==null&&ie.lane!==0&&(d.flags|=64,Ae=R.effects,Ae===null?R.effects=[ie]:Ae.push(ie))}else ze={eventTime:ze,lane:Ae,tag:ie.tag,payload:ie.payload,callback:ie.callback,next:null},ke===null?(ye=ke=ze,oe=Te):ke=ke.next=ze,K|=Ae;if(ie=ie.next,ie===null){if(ie=R.shared.pending,ie===null)break;Ae=ie,ie=Ae.next,Ae.next=null,R.lastBaseUpdate=Ae,R.shared.pending=null}}while(!0);if(ke===null&&(oe=Te),R.baseState=oe,R.firstBaseUpdate=ye,R.lastBaseUpdate=ke,m=R.shared.interleaved,m!==null){R=m;do K|=R.lane,R=R.next;while(R!==m)}else D===null&&(R.shared.lanes=0);su|=K,d.lanes=K,d.memoizedState=Te}}function lR(d,m,_){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var k=d[m],R=k.callback;if(R!==null){if(k.callback=null,k=_,typeof R!="function")throw Error(n(191,R));R.call(k)}}}var $p={},Bs=$l($p),Bp=$l($p),zp=$l($p);function iu(d){if(d===$p)throw Error(n(174));return d}function __(d,m){switch(dn(zp,m),dn(Bp,d),dn(Bs,$p),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:En(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=En(m,d)}xn(Bs),dn(Bs,m)}function ef(){xn(Bs),xn(Bp),xn(zp)}function cR(d){iu(zp.current);var m=iu(Bs.current),_=En(m,d.type);m!==_&&(dn(Bp,d),dn(Bs,_))}function j_(d){Bp.current===d&&(xn(Bs),xn(Bp))}var Rn=$l(0);function Iy(d){for(var m=d;m!==null;){if(m.tag===13){var _=m.memoizedState;if(_!==null&&(_=_.dehydrated,_===null||_.data==="$?"||_.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var S_=[];function N_(){for(var d=0;d<S_.length;d++)S_[d]._workInProgressVersionPrimary=null;S_.length=0}var Dy=T.ReactCurrentDispatcher,P_=T.ReactCurrentBatchConfig,au=0,In=null,dr=null,br=null,Ly=!1,Wp=!1,qp=0,BJ=0;function zr(){throw Error(n(321))}function A_(d,m){if(m===null)return!1;for(var _=0;_<m.length&&_<d.length;_++)if(!Ki(d[_],m[_]))return!1;return!0}function k_(d,m,_,k,R,D){if(au=D,In=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Dy.current=d===null||d.memoizedState===null?UJ:VJ,d=_(k,R),Wp){D=0;do{if(Wp=!1,qp=0,25<=D)throw Error(n(301));D+=1,br=dr=null,m.updateQueue=null,Dy.current=HJ,d=_(k,R)}while(Wp)}if(Dy.current=By,m=dr!==null&&dr.next!==null,au=0,br=dr=In=null,Ly=!1,m)throw Error(n(300));return d}function C_(){var d=qp!==0;return qp=0,d}function zs(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?In.memoizedState=br=d:br=br.next=d,br}function ba(){if(dr===null){var d=In.alternate;d=d!==null?d.memoizedState:null}else d=dr.next;var m=br===null?In.memoizedState:br.next;if(m!==null)br=m,dr=d;else{if(d===null)throw Error(n(310));dr=d,d={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},br===null?In.memoizedState=br=d:br=br.next=d}return br}function Up(d,m){return typeof m=="function"?m(d):m}function T_(d){var m=ba(),_=m.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=d;var k=dr,R=k.baseQueue,D=_.pending;if(D!==null){if(R!==null){var K=R.next;R.next=D.next,D.next=K}k.baseQueue=R=D,_.pending=null}if(R!==null){D=R.next,k=k.baseState;var ie=K=null,oe=null,ye=D;do{var ke=ye.lane;if((au&ke)===ke)oe!==null&&(oe=oe.next={lane:0,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null}),k=ye.hasEagerState?ye.eagerState:d(k,ye.action);else{var Te={lane:ke,action:ye.action,hasEagerState:ye.hasEagerState,eagerState:ye.eagerState,next:null};oe===null?(ie=oe=Te,K=k):oe=oe.next=Te,In.lanes|=ke,su|=ke}ye=ye.next}while(ye!==null&&ye!==D);oe===null?K=k:oe.next=ie,Ki(k,m.memoizedState)||(Ai=!0),m.memoizedState=k,m.baseState=K,m.baseQueue=oe,_.lastRenderedState=k}if(d=_.interleaved,d!==null){R=d;do D=R.lane,In.lanes|=D,su|=D,R=R.next;while(R!==d)}else R===null&&(_.lanes=0);return[m.memoizedState,_.dispatch]}function E_(d){var m=ba(),_=m.queue;if(_===null)throw Error(n(311));_.lastRenderedReducer=d;var k=_.dispatch,R=_.pending,D=m.memoizedState;if(R!==null){_.pending=null;var K=R=R.next;do D=d(D,K.action),K=K.next;while(K!==R);Ki(D,m.memoizedState)||(Ai=!0),m.memoizedState=D,m.baseQueue===null&&(m.baseState=D),_.lastRenderedState=D}return[D,k]}function uR(){}function dR(d,m){var _=In,k=ba(),R=m(),D=!Ki(k.memoizedState,R);if(D&&(k.memoizedState=R,Ai=!0),k=k.queue,O_(pR.bind(null,_,k,d),[d]),k.getSnapshot!==m||D||br!==null&&br.memoizedState.tag&1){if(_.flags|=2048,Vp(9,hR.bind(null,_,k,R,m),void 0,null),wr===null)throw Error(n(349));(au&30)!==0||fR(_,m,R)}return R}function fR(d,m,_){d.flags|=16384,d={getSnapshot:m,value:_},m=In.updateQueue,m===null?(m={lastEffect:null,stores:null},In.updateQueue=m,m.stores=[d]):(_=m.stores,_===null?m.stores=[d]:_.push(d))}function hR(d,m,_,k){m.value=_,m.getSnapshot=k,mR(m)&&gR(d)}function pR(d,m,_){return _(function(){mR(m)&&gR(d)})}function mR(d){var m=d.getSnapshot;d=d.value;try{var _=m();return!Ki(d,_)}catch{return!0}}function gR(d){var m=Io(d,1);m!==null&&ts(m,d,1,-1)}function vR(d){var m=zs();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Up,lastRenderedState:d},m.queue=d,d=d.dispatch=qJ.bind(null,In,d),[m.memoizedState,d]}function Vp(d,m,_,k){return d={tag:d,create:m,destroy:_,deps:k,next:null},m=In.updateQueue,m===null?(m={lastEffect:null,stores:null},In.updateQueue=m,m.lastEffect=d.next=d):(_=m.lastEffect,_===null?m.lastEffect=d.next=d:(k=_.next,_.next=d,d.next=k,m.lastEffect=d)),d}function yR(){return ba().memoizedState}function Fy(d,m,_,k){var R=zs();In.flags|=d,R.memoizedState=Vp(1|m,_,void 0,k===void 0?null:k)}function $y(d,m,_,k){var R=ba();k=k===void 0?null:k;var D=void 0;if(dr!==null){var K=dr.memoizedState;if(D=K.destroy,k!==null&&A_(k,K.deps)){R.memoizedState=Vp(m,_,D,k);return}}In.flags|=d,R.memoizedState=Vp(1|m,_,D,k)}function xR(d,m){return Fy(8390656,8,d,m)}function O_(d,m){return $y(2048,8,d,m)}function bR(d,m){return $y(4,2,d,m)}function wR(d,m){return $y(4,4,d,m)}function _R(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function jR(d,m,_){return _=_!=null?_.concat([d]):null,$y(4,4,_R.bind(null,m,d),_)}function M_(){}function SR(d,m){var _=ba();m=m===void 0?null:m;var k=_.memoizedState;return k!==null&&m!==null&&A_(m,k[1])?k[0]:(_.memoizedState=[d,m],d)}function NR(d,m){var _=ba();m=m===void 0?null:m;var k=_.memoizedState;return k!==null&&m!==null&&A_(m,k[1])?k[0]:(d=d(),_.memoizedState=[d,m],d)}function PR(d,m,_){return(au&21)===0?(d.baseState&&(d.baseState=!1,Ai=!0),d.memoizedState=_):(Ki(_,m)||(_=ty(),In.lanes|=_,su|=_,d.baseState=!0),m)}function zJ(d,m){var _=Dt;Dt=_!==0&&4>_?_:4,d(!0);var k=P_.transition;P_.transition={};try{d(!1),m()}finally{Dt=_,P_.transition=k}}function AR(){return ba().memoizedState}function WJ(d,m,_){var k=Kl(d);if(_={lane:k,action:_,hasEagerState:!1,eagerState:null,next:null},kR(d))CR(m,_);else if(_=aR(d,m,_,k),_!==null){var R=ci();ts(_,d,k,R),TR(_,m,k)}}function qJ(d,m,_){var k=Kl(d),R={lane:k,action:_,hasEagerState:!1,eagerState:null,next:null};if(kR(d))CR(m,R);else{var D=d.alternate;if(d.lanes===0&&(D===null||D.lanes===0)&&(D=m.lastRenderedReducer,D!==null))try{var K=m.lastRenderedState,ie=D(K,_);if(R.hasEagerState=!0,R.eagerState=ie,Ki(ie,K)){var oe=m.interleaved;oe===null?(R.next=R,b_(m)):(R.next=oe.next,oe.next=R),m.interleaved=R;return}}catch{}_=aR(d,m,R,k),_!==null&&(R=ci(),ts(_,d,k,R),TR(_,m,k))}}function kR(d){var m=d.alternate;return d===In||m!==null&&m===In}function CR(d,m){Wp=Ly=!0;var _=d.pending;_===null?m.next=m:(m.next=_.next,_.next=m),d.pending=m}function TR(d,m,_){if((_&4194240)!==0){var k=m.lanes;k&=d.pendingLanes,_|=k,m.lanes=_,Ha(d,_)}}var By={readContext:xa,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},UJ={readContext:xa,useCallback:function(d,m){return zs().memoizedState=[d,m===void 0?null:m],d},useContext:xa,useEffect:xR,useImperativeHandle:function(d,m,_){return _=_!=null?_.concat([d]):null,Fy(4194308,4,_R.bind(null,m,d),_)},useLayoutEffect:function(d,m){return Fy(4194308,4,d,m)},useInsertionEffect:function(d,m){return Fy(4,2,d,m)},useMemo:function(d,m){var _=zs();return m=m===void 0?null:m,d=d(),_.memoizedState=[d,m],d},useReducer:function(d,m,_){var k=zs();return m=_!==void 0?_(m):m,k.memoizedState=k.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},k.queue=d,d=d.dispatch=WJ.bind(null,In,d),[k.memoizedState,d]},useRef:function(d){var m=zs();return d={current:d},m.memoizedState=d},useState:vR,useDebugValue:M_,useDeferredValue:function(d){return zs().memoizedState=d},useTransition:function(){var d=vR(!1),m=d[0];return d=zJ.bind(null,d[1]),zs().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,_){var k=In,R=zs();if(kn){if(_===void 0)throw Error(n(407));_=_()}else{if(_=m(),wr===null)throw Error(n(349));(au&30)!==0||fR(k,m,_)}R.memoizedState=_;var D={value:_,getSnapshot:m};return R.queue=D,xR(pR.bind(null,k,D,d),[d]),k.flags|=2048,Vp(9,hR.bind(null,k,D,_,m),void 0,null),_},useId:function(){var d=zs(),m=wr.identifierPrefix;if(kn){var _=Ro,k=Mo;_=(k&~(1<<32-jt(k)-1)).toString(32)+_,m=":"+m+"R"+_,_=qp++,0<_&&(m+="H"+_.toString(32)),m+=":"}else _=BJ++,m=":"+m+"r"+_.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},VJ={readContext:xa,useCallback:SR,useContext:xa,useEffect:O_,useImperativeHandle:jR,useInsertionEffect:bR,useLayoutEffect:wR,useMemo:NR,useReducer:T_,useRef:yR,useState:function(){return T_(Up)},useDebugValue:M_,useDeferredValue:function(d){var m=ba();return PR(m,dr.memoizedState,d)},useTransition:function(){var d=T_(Up)[0],m=ba().memoizedState;return[d,m]},useMutableSource:uR,useSyncExternalStore:dR,useId:AR,unstable_isNewReconciler:!1},HJ={readContext:xa,useCallback:SR,useContext:xa,useEffect:O_,useImperativeHandle:jR,useInsertionEffect:bR,useLayoutEffect:wR,useMemo:NR,useReducer:E_,useRef:yR,useState:function(){return E_(Up)},useDebugValue:M_,useDeferredValue:function(d){var m=ba();return dr===null?m.memoizedState=d:PR(m,dr.memoizedState,d)},useTransition:function(){var d=E_(Up)[0],m=ba().memoizedState;return[d,m]},useMutableSource:uR,useSyncExternalStore:dR,useId:AR,unstable_isNewReconciler:!1};function Qa(d,m){if(d&&d.defaultProps){m=X({},m),d=d.defaultProps;for(var _ in d)m[_]===void 0&&(m[_]=d[_]);return m}return m}function R_(d,m,_,k){m=d.memoizedState,_=_(k,m),_=_==null?m:X({},m,_),d.memoizedState=_,d.lanes===0&&(d.updateQueue.baseState=_)}var zy={isMounted:function(d){return(d=d._reactInternals)?Es(d)===d:!1},enqueueSetState:function(d,m,_){d=d._reactInternals;var k=ci(),R=Kl(d),D=Do(k,R);D.payload=m,_!=null&&(D.callback=_),m=ql(d,D,R),m!==null&&(ts(m,d,R,k),My(m,d,R))},enqueueReplaceState:function(d,m,_){d=d._reactInternals;var k=ci(),R=Kl(d),D=Do(k,R);D.tag=1,D.payload=m,_!=null&&(D.callback=_),m=ql(d,D,R),m!==null&&(ts(m,d,R,k),My(m,d,R))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var _=ci(),k=Kl(d),R=Do(_,k);R.tag=2,m!=null&&(R.callback=m),m=ql(d,R,k),m!==null&&(ts(m,d,k,_),My(m,d,k))}};function ER(d,m,_,k,R,D,K){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(k,D,K):m.prototype&&m.prototype.isPureReactComponent?!Ds(_,k)||!Ds(R,D):!0}function OR(d,m,_){var k=!1,R=Bl,D=m.contextType;return typeof D=="object"&&D!==null?D=xa(D):(R=Pi(m)?eu:Br.current,k=m.contextTypes,D=(k=k!=null)?Kd(d,R):Bl),m=new m(_,D),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=zy,d.stateNode=m,m._reactInternals=d,k&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=R,d.__reactInternalMemoizedMaskedChildContext=D),m}function MR(d,m,_,k){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(_,k),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(_,k),m.state!==d&&zy.enqueueReplaceState(m,m.state,null)}function I_(d,m,_,k){var R=d.stateNode;R.props=_,R.state=d.memoizedState,R.refs={},w_(d);var D=m.contextType;typeof D=="object"&&D!==null?R.context=xa(D):(D=Pi(m)?eu:Br.current,R.context=Kd(d,D)),R.state=d.memoizedState,D=m.getDerivedStateFromProps,typeof D=="function"&&(R_(d,m,D,_),R.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(m=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),m!==R.state&&zy.enqueueReplaceState(R,R.state,null),Ry(d,_,R,k),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308)}function tf(d,m){try{var _="",k=m;do _+=de(k),k=k.return;while(k);var R=_}catch(D){R=`
Error generating stack: `+D.message+`
`+D.stack}return{value:d,source:m,stack:R,digest:null}}function D_(d,m,_){return{value:d,source:null,stack:_??null,digest:m??null}}function L_(d,m){try{console.error(m.value)}catch(_){setTimeout(function(){throw _})}}var KJ=typeof WeakMap=="function"?WeakMap:Map;function RR(d,m,_){_=Do(-1,_),_.tag=3,_.payload={element:null};var k=m.value;return _.callback=function(){Gy||(Gy=!0,Q_=k),L_(d,m)},_}function IR(d,m,_){_=Do(-1,_),_.tag=3;var k=d.type.getDerivedStateFromError;if(typeof k=="function"){var R=m.value;_.payload=function(){return k(R)},_.callback=function(){L_(d,m)}}var D=d.stateNode;return D!==null&&typeof D.componentDidCatch=="function"&&(_.callback=function(){L_(d,m),typeof k!="function"&&(Vl===null?Vl=new Set([this]):Vl.add(this));var K=m.stack;this.componentDidCatch(m.value,{componentStack:K!==null?K:""})}),_}function DR(d,m,_){var k=d.pingCache;if(k===null){k=d.pingCache=new KJ;var R=new Set;k.set(m,R)}else R=k.get(m),R===void 0&&(R=new Set,k.set(m,R));R.has(_)||(R.add(_),d=oee.bind(null,d,m,_),m.then(d,d))}function LR(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function FR(d,m,_,k,R){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,_.flags|=131072,_.flags&=-52805,_.tag===1&&(_.alternate===null?_.tag=17:(m=Do(-1,1),m.tag=2,ql(_,m,1))),_.lanes|=1),d):(d.flags|=65536,d.lanes=R,d)}var GJ=T.ReactCurrentOwner,Ai=!1;function li(d,m,_,k){m.child=d===null?iR(m,null,_,k):Xd(m,d.child,_,k)}function $R(d,m,_,k,R){_=_.render;var D=m.ref;return Jd(m,R),k=k_(d,m,_,k,D,R),_=C_(),d!==null&&!Ai?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~R,Lo(d,m,R)):(kn&&_&&d_(m),m.flags|=1,li(d,m,k,R),m.child)}function BR(d,m,_,k,R){if(d===null){var D=_.type;return typeof D=="function"&&!aj(D)&&D.defaultProps===void 0&&_.compare===null&&_.defaultProps===void 0?(m.tag=15,m.type=D,zR(d,m,D,k,R)):(d=ex(_.type,null,k,m,m.mode,R),d.ref=m.ref,d.return=m,m.child=d)}if(D=d.child,(d.lanes&R)===0){var K=D.memoizedProps;if(_=_.compare,_=_!==null?_:Ds,_(K,k)&&d.ref===m.ref)return Lo(d,m,R)}return m.flags|=1,d=Yl(D,k),d.ref=m.ref,d.return=m,m.child=d}function zR(d,m,_,k,R){if(d!==null){var D=d.memoizedProps;if(Ds(D,k)&&d.ref===m.ref)if(Ai=!1,m.pendingProps=k=D,(d.lanes&R)!==0)(d.flags&131072)!==0&&(Ai=!0);else return m.lanes=d.lanes,Lo(d,m,R)}return F_(d,m,_,k,R)}function WR(d,m,_){var k=m.pendingProps,R=k.children,D=d!==null?d.memoizedState:null;if(k.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},dn(rf,Xi),Xi|=_;else{if((_&1073741824)===0)return d=D!==null?D.baseLanes|_:_,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,dn(rf,Xi),Xi|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=D!==null?D.baseLanes:_,dn(rf,Xi),Xi|=k}else D!==null?(k=D.baseLanes|_,m.memoizedState=null):k=_,dn(rf,Xi),Xi|=k;return li(d,m,R,_),m.child}function qR(d,m){var _=m.ref;(d===null&&_!==null||d!==null&&d.ref!==_)&&(m.flags|=512,m.flags|=2097152)}function F_(d,m,_,k,R){var D=Pi(_)?eu:Br.current;return D=Kd(m,D),Jd(m,R),_=k_(d,m,_,k,D,R),k=C_(),d!==null&&!Ai?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~R,Lo(d,m,R)):(kn&&k&&d_(m),m.flags|=1,li(d,m,_,R),m.child)}function UR(d,m,_,k,R){if(Pi(_)){var D=!0;Ny(m)}else D=!1;if(Jd(m,R),m.stateNode===null)qy(d,m),OR(m,_,k),I_(m,_,k,R),k=!0;else if(d===null){var K=m.stateNode,ie=m.memoizedProps;K.props=ie;var oe=K.context,ye=_.contextType;typeof ye=="object"&&ye!==null?ye=xa(ye):(ye=Pi(_)?eu:Br.current,ye=Kd(m,ye));var ke=_.getDerivedStateFromProps,Te=typeof ke=="function"||typeof K.getSnapshotBeforeUpdate=="function";Te||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ie!==k||oe!==ye)&&MR(m,K,k,ye),Wl=!1;var Ae=m.memoizedState;K.state=Ae,Ry(m,k,K,R),oe=m.memoizedState,ie!==k||Ae!==oe||Ni.current||Wl?(typeof ke=="function"&&(R_(m,_,ke,k),oe=m.memoizedState),(ie=Wl||ER(m,_,ie,k,Ae,oe,ye))?(Te||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(m.flags|=4194308)):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=k,m.memoizedState=oe),K.props=k,K.state=oe,K.context=ye,k=ie):(typeof K.componentDidMount=="function"&&(m.flags|=4194308),k=!1)}else{K=m.stateNode,sR(d,m),ie=m.memoizedProps,ye=m.type===m.elementType?ie:Qa(m.type,ie),K.props=ye,Te=m.pendingProps,Ae=K.context,oe=_.contextType,typeof oe=="object"&&oe!==null?oe=xa(oe):(oe=Pi(_)?eu:Br.current,oe=Kd(m,oe));var ze=_.getDerivedStateFromProps;(ke=typeof ze=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(ie!==Te||Ae!==oe)&&MR(m,K,k,oe),Wl=!1,Ae=m.memoizedState,K.state=Ae,Ry(m,k,K,R);var Ge=m.memoizedState;ie!==Te||Ae!==Ge||Ni.current||Wl?(typeof ze=="function"&&(R_(m,_,ze,k),Ge=m.memoizedState),(ye=Wl||ER(m,_,ye,k,Ae,Ge,oe)||!1)?(ke||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(k,Ge,oe),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(k,Ge,oe)),typeof K.componentDidUpdate=="function"&&(m.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof K.componentDidUpdate!="function"||ie===d.memoizedProps&&Ae===d.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ie===d.memoizedProps&&Ae===d.memoizedState||(m.flags|=1024),m.memoizedProps=k,m.memoizedState=Ge),K.props=k,K.state=Ge,K.context=oe,k=ye):(typeof K.componentDidUpdate!="function"||ie===d.memoizedProps&&Ae===d.memoizedState||(m.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||ie===d.memoizedProps&&Ae===d.memoizedState||(m.flags|=1024),k=!1)}return $_(d,m,_,k,D,R)}function $_(d,m,_,k,R,D){qR(d,m);var K=(m.flags&128)!==0;if(!k&&!K)return R&&YM(m,_,!1),Lo(d,m,D);k=m.stateNode,GJ.current=m;var ie=K&&typeof _.getDerivedStateFromError!="function"?null:k.render();return m.flags|=1,d!==null&&K?(m.child=Xd(m,d.child,null,D),m.child=Xd(m,null,ie,D)):li(d,m,ie,D),m.memoizedState=k.state,R&&YM(m,_,!0),m.child}function VR(d){var m=d.stateNode;m.pendingContext?KM(d,m.pendingContext,m.pendingContext!==m.context):m.context&&KM(d,m.context,!1),__(d,m.containerInfo)}function HR(d,m,_,k,R){return Zd(),m_(R),m.flags|=256,li(d,m,_,k),m.child}var B_={dehydrated:null,treeContext:null,retryLane:0};function z_(d){return{baseLanes:d,cachePool:null,transitions:null}}function KR(d,m,_){var k=m.pendingProps,R=Rn.current,D=!1,K=(m.flags&128)!==0,ie;if((ie=K)||(ie=d!==null&&d.memoizedState===null?!1:(R&2)!==0),ie?(D=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(R|=1),dn(Rn,R&1),d===null)return p_(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(K=k.children,d=k.fallback,D?(k=m.mode,D=m.child,K={mode:"hidden",children:K},(k&1)===0&&D!==null?(D.childLanes=0,D.pendingProps=K):D=tx(K,k,0,null),d=uu(d,k,_,null),D.return=m,d.return=m,D.sibling=d,m.child=D,m.child.memoizedState=z_(_),m.memoizedState=B_,d):W_(m,K));if(R=d.memoizedState,R!==null&&(ie=R.dehydrated,ie!==null))return YJ(d,m,K,k,ie,R,_);if(D){D=k.fallback,K=m.mode,R=d.child,ie=R.sibling;var oe={mode:"hidden",children:k.children};return(K&1)===0&&m.child!==R?(k=m.child,k.childLanes=0,k.pendingProps=oe,m.deletions=null):(k=Yl(R,oe),k.subtreeFlags=R.subtreeFlags&14680064),ie!==null?D=Yl(ie,D):(D=uu(D,K,_,null),D.flags|=2),D.return=m,k.return=m,k.sibling=D,m.child=k,k=D,D=m.child,K=d.child.memoizedState,K=K===null?z_(_):{baseLanes:K.baseLanes|_,cachePool:null,transitions:K.transitions},D.memoizedState=K,D.childLanes=d.childLanes&~_,m.memoizedState=B_,k}return D=d.child,d=D.sibling,k=Yl(D,{mode:"visible",children:k.children}),(m.mode&1)===0&&(k.lanes=_),k.return=m,k.sibling=null,d!==null&&(_=m.deletions,_===null?(m.deletions=[d],m.flags|=16):_.push(d)),m.child=k,m.memoizedState=null,k}function W_(d,m){return m=tx({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function Wy(d,m,_,k){return k!==null&&m_(k),Xd(m,d.child,null,_),d=W_(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function YJ(d,m,_,k,R,D,K){if(_)return m.flags&256?(m.flags&=-257,k=D_(Error(n(422))),Wy(d,m,K,k)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):(D=k.fallback,R=m.mode,k=tx({mode:"visible",children:k.children},R,0,null),D=uu(D,R,K,null),D.flags|=2,k.return=m,D.return=m,k.sibling=D,m.child=k,(m.mode&1)!==0&&Xd(m,d.child,null,K),m.child.memoizedState=z_(K),m.memoizedState=B_,D);if((m.mode&1)===0)return Wy(d,m,K,null);if(R.data==="$!"){if(k=R.nextSibling&&R.nextSibling.dataset,k)var ie=k.dgst;return k=ie,D=Error(n(419)),k=D_(D,k,void 0),Wy(d,m,K,k)}if(ie=(K&d.childLanes)!==0,Ai||ie){if(k=wr,k!==null){switch(K&-K){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(k.suspendedLanes|K))!==0?0:R,R!==0&&R!==D.retryLane&&(D.retryLane=R,Io(d,R),ts(k,d,R,-1))}return ij(),k=D_(Error(n(421))),Wy(d,m,K,k)}return R.data==="$?"?(m.flags|=128,m.child=d.child,m=lee.bind(null,d),R._reactRetry=m,null):(d=D.treeContext,Zi=$s(R.nextSibling),Yi=m,kn=!0,Xa=null,d!==null&&(va[ya++]=Mo,va[ya++]=Ro,va[ya++]=tu,Mo=d.id,Ro=d.overflow,tu=m),m=W_(m,k.children),m.flags|=4096,m)}function GR(d,m,_){d.lanes|=m;var k=d.alternate;k!==null&&(k.lanes|=m),x_(d.return,m,_)}function q_(d,m,_,k,R){var D=d.memoizedState;D===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:k,tail:_,tailMode:R}:(D.isBackwards=m,D.rendering=null,D.renderingStartTime=0,D.last=k,D.tail=_,D.tailMode=R)}function YR(d,m,_){var k=m.pendingProps,R=k.revealOrder,D=k.tail;if(li(d,m,k.children,_),k=Rn.current,(k&2)!==0)k=k&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&GR(d,_,m);else if(d.tag===19)GR(d,_,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}k&=1}if(dn(Rn,k),(m.mode&1)===0)m.memoizedState=null;else switch(R){case"forwards":for(_=m.child,R=null;_!==null;)d=_.alternate,d!==null&&Iy(d)===null&&(R=_),_=_.sibling;_=R,_===null?(R=m.child,m.child=null):(R=_.sibling,_.sibling=null),q_(m,!1,R,_,D);break;case"backwards":for(_=null,R=m.child,m.child=null;R!==null;){if(d=R.alternate,d!==null&&Iy(d)===null){m.child=R;break}d=R.sibling,R.sibling=_,_=R,R=d}q_(m,!0,_,null,D);break;case"together":q_(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function qy(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function Lo(d,m,_){if(d!==null&&(m.dependencies=d.dependencies),su|=m.lanes,(_&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(n(153));if(m.child!==null){for(d=m.child,_=Yl(d,d.pendingProps),m.child=_,_.return=m;d.sibling!==null;)d=d.sibling,_=_.sibling=Yl(d,d.pendingProps),_.return=m;_.sibling=null}return m.child}function ZJ(d,m,_){switch(m.tag){case 3:VR(m),Zd();break;case 5:cR(m);break;case 1:Pi(m.type)&&Ny(m);break;case 4:__(m,m.stateNode.containerInfo);break;case 10:var k=m.type._context,R=m.memoizedProps.value;dn(Ey,k._currentValue),k._currentValue=R;break;case 13:if(k=m.memoizedState,k!==null)return k.dehydrated!==null?(dn(Rn,Rn.current&1),m.flags|=128,null):(_&m.child.childLanes)!==0?KR(d,m,_):(dn(Rn,Rn.current&1),d=Lo(d,m,_),d!==null?d.sibling:null);dn(Rn,Rn.current&1);break;case 19:if(k=(_&m.childLanes)!==0,(d.flags&128)!==0){if(k)return YR(d,m,_);m.flags|=128}if(R=m.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),dn(Rn,Rn.current),k)break;return null;case 22:case 23:return m.lanes=0,WR(d,m,_)}return Lo(d,m,_)}var ZR,U_,XR,QR;ZR=function(d,m){for(var _=m.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===m)break;for(;_.sibling===null;){if(_.return===null||_.return===m)return;_=_.return}_.sibling.return=_.return,_=_.sibling}},U_=function(){},XR=function(d,m,_,k){var R=d.memoizedProps;if(R!==k){d=m.stateNode,iu(Bs.current);var D=null;switch(_){case"input":R=He(d,R),k=He(d,k),D=[];break;case"select":R=X({},R,{value:void 0}),k=X({},k,{value:void 0}),D=[];break;case"textarea":R=it(d,R),k=it(d,k),D=[];break;default:typeof R.onClick!="function"&&typeof k.onClick=="function"&&(d.onclick=Pe)}ii(_,k);var K;_=null;for(ye in R)if(!k.hasOwnProperty(ye)&&R.hasOwnProperty(ye)&&R[ye]!=null)if(ye==="style"){var ie=R[ye];for(K in ie)ie.hasOwnProperty(K)&&(_||(_={}),_[K]="")}else ye!=="dangerouslySetInnerHTML"&&ye!=="children"&&ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&ye!=="autoFocus"&&(i.hasOwnProperty(ye)?D||(D=[]):(D=D||[]).push(ye,null));for(ye in k){var oe=k[ye];if(ie=R?.[ye],k.hasOwnProperty(ye)&&oe!==ie&&(oe!=null||ie!=null))if(ye==="style")if(ie){for(K in ie)!ie.hasOwnProperty(K)||oe&&oe.hasOwnProperty(K)||(_||(_={}),_[K]="");for(K in oe)oe.hasOwnProperty(K)&&ie[K]!==oe[K]&&(_||(_={}),_[K]=oe[K])}else _||(D||(D=[]),D.push(ye,_)),_=oe;else ye==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,ie=ie?ie.__html:void 0,oe!=null&&ie!==oe&&(D=D||[]).push(ye,oe)):ye==="children"?typeof oe!="string"&&typeof oe!="number"||(D=D||[]).push(ye,""+oe):ye!=="suppressContentEditableWarning"&&ye!=="suppressHydrationWarning"&&(i.hasOwnProperty(ye)?(oe!=null&&ye==="onScroll"&&tn("scroll",d),D||ie===oe||(D=[])):(D=D||[]).push(ye,oe))}_&&(D=D||[]).push("style",_);var ye=D;(m.updateQueue=ye)&&(m.flags|=4)}},QR=function(d,m,_,k){_!==k&&(m.flags|=4)};function Hp(d,m){if(!kn)switch(d.tailMode){case"hidden":m=d.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?d.tail=null:_.sibling=null;break;case"collapsed":_=d.tail;for(var k=null;_!==null;)_.alternate!==null&&(k=_),_=_.sibling;k===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:k.sibling=null}}function Wr(d){var m=d.alternate!==null&&d.alternate.child===d.child,_=0,k=0;if(m)for(var R=d.child;R!==null;)_|=R.lanes|R.childLanes,k|=R.subtreeFlags&14680064,k|=R.flags&14680064,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)_|=R.lanes|R.childLanes,k|=R.subtreeFlags,k|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=k,d.childLanes=_,m}function XJ(d,m,_){var k=m.pendingProps;switch(f_(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wr(m),null;case 1:return Pi(m.type)&&Sy(),Wr(m),null;case 3:return k=m.stateNode,ef(),xn(Ni),xn(Br),N_(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(d===null||d.child===null)&&(Cy(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Xa!==null&&(tj(Xa),Xa=null))),U_(d,m),Wr(m),null;case 5:j_(m);var R=iu(zp.current);if(_=m.type,d!==null&&m.stateNode!=null)XR(d,m,_,k,R),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!k){if(m.stateNode===null)throw Error(n(166));return Wr(m),null}if(d=iu(Bs.current),Cy(m)){k=m.stateNode,_=m.type;var D=m.memoizedProps;switch(k[ga]=m,k[Ll]=D,d=(m.mode&1)!==0,_){case"dialog":tn("cancel",k),tn("close",k);break;case"iframe":case"object":case"embed":tn("load",k);break;case"video":case"audio":for(R=0;R<Rl.length;R++)tn(Rl[R],k);break;case"source":tn("error",k);break;case"img":case"image":case"link":tn("error",k),tn("load",k);break;case"details":tn("toggle",k);break;case"input":je(k,D),tn("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!D.multiple},tn("invalid",k);break;case"textarea":_t(k,D),tn("invalid",k)}ii(_,D),R=null;for(var K in D)if(D.hasOwnProperty(K)){var ie=D[K];K==="children"?typeof ie=="string"?k.textContent!==ie&&(D.suppressHydrationWarning!==!0&&ge(k.textContent,ie,d),R=["children",ie]):typeof ie=="number"&&k.textContent!==""+ie&&(D.suppressHydrationWarning!==!0&&ge(k.textContent,ie,d),R=["children",""+ie]):i.hasOwnProperty(K)&&ie!=null&&K==="onScroll"&&tn("scroll",k)}switch(_){case"input":Me(k),Ke(k,D,!0);break;case"textarea":Me(k),Fn(k);break;case"select":case"option":break;default:typeof D.onClick=="function"&&(k.onclick=Pe)}k=R,m.updateQueue=k,k!==null&&(m.flags|=4)}else{K=R.nodeType===9?R:R.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=$t(_)),d==="http://www.w3.org/1999/xhtml"?_==="script"?(d=K.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof k.is=="string"?d=K.createElement(_,{is:k.is}):(d=K.createElement(_),_==="select"&&(K=d,k.multiple?K.multiple=!0:k.size&&(K.size=k.size))):d=K.createElementNS(d,_),d[ga]=m,d[Ll]=k,ZR(d,m,!1,!1),m.stateNode=d;e:{switch(K=$i(_,k),_){case"dialog":tn("cancel",d),tn("close",d),R=k;break;case"iframe":case"object":case"embed":tn("load",d),R=k;break;case"video":case"audio":for(R=0;R<Rl.length;R++)tn(Rl[R],d);R=k;break;case"source":tn("error",d),R=k;break;case"img":case"image":case"link":tn("error",d),tn("load",d),R=k;break;case"details":tn("toggle",d),R=k;break;case"input":je(d,k),R=He(d,k),tn("invalid",d);break;case"option":R=k;break;case"select":d._wrapperState={wasMultiple:!!k.multiple},R=X({},k,{value:void 0}),tn("invalid",d);break;case"textarea":_t(d,k),R=it(d,k),tn("invalid",d);break;default:R=k}ii(_,R),ie=R;for(D in ie)if(ie.hasOwnProperty(D)){var oe=ie[D];D==="style"?ri(d,oe):D==="dangerouslySetInnerHTML"?(oe=oe?oe.__html:void 0,oe!=null&&$n(d,oe)):D==="children"?typeof oe=="string"?(_!=="textarea"||oe!=="")&&nr(d,oe):typeof oe=="number"&&nr(d,""+oe):D!=="suppressContentEditableWarning"&&D!=="suppressHydrationWarning"&&D!=="autoFocus"&&(i.hasOwnProperty(D)?oe!=null&&D==="onScroll"&&tn("scroll",d):oe!=null&&A(d,D,oe,K))}switch(_){case"input":Me(d),Ke(d,k,!1);break;case"textarea":Me(d),Fn(d);break;case"option":k.value!=null&&d.setAttribute("value",""+_e(k.value));break;case"select":d.multiple=!!k.multiple,D=k.value,D!=null?Et(d,!!k.multiple,D,!1):k.defaultValue!=null&&Et(d,!!k.multiple,k.defaultValue,!0);break;default:typeof R.onClick=="function"&&(d.onclick=Pe)}switch(_){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Wr(m),null;case 6:if(d&&m.stateNode!=null)QR(d,m,d.memoizedProps,k);else{if(typeof k!="string"&&m.stateNode===null)throw Error(n(166));if(_=iu(zp.current),iu(Bs.current),Cy(m)){if(k=m.stateNode,_=m.memoizedProps,k[ga]=m,(D=k.nodeValue!==_)&&(d=Yi,d!==null))switch(d.tag){case 3:ge(k.nodeValue,_,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&ge(k.nodeValue,_,(d.mode&1)!==0)}D&&(m.flags|=4)}else k=(_.nodeType===9?_:_.ownerDocument).createTextNode(k),k[ga]=m,m.stateNode=k}return Wr(m),null;case 13:if(xn(Rn),k=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(kn&&Zi!==null&&(m.mode&1)!==0&&(m.flags&128)===0)tR(),Zd(),m.flags|=98560,D=!1;else if(D=Cy(m),k!==null&&k.dehydrated!==null){if(d===null){if(!D)throw Error(n(318));if(D=m.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[ga]=m}else Zd(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Wr(m),D=!1}else Xa!==null&&(tj(Xa),Xa=null),D=!0;if(!D)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=_,m):(k=k!==null,k!==(d!==null&&d.memoizedState!==null)&&k&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(Rn.current&1)!==0?fr===0&&(fr=3):ij())),m.updateQueue!==null&&(m.flags|=4),Wr(m),null);case 4:return ef(),U_(d,m),d===null&&Il(m.stateNode.containerInfo),Wr(m),null;case 10:return y_(m.type._context),Wr(m),null;case 17:return Pi(m.type)&&Sy(),Wr(m),null;case 19:if(xn(Rn),D=m.memoizedState,D===null)return Wr(m),null;if(k=(m.flags&128)!==0,K=D.rendering,K===null)if(k)Hp(D,!1);else{if(fr!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(K=Iy(d),K!==null){for(m.flags|=128,Hp(D,!1),k=K.updateQueue,k!==null&&(m.updateQueue=k,m.flags|=4),m.subtreeFlags=0,k=_,_=m.child;_!==null;)D=_,d=k,D.flags&=14680066,K=D.alternate,K===null?(D.childLanes=0,D.lanes=d,D.child=null,D.subtreeFlags=0,D.memoizedProps=null,D.memoizedState=null,D.updateQueue=null,D.dependencies=null,D.stateNode=null):(D.childLanes=K.childLanes,D.lanes=K.lanes,D.child=K.child,D.subtreeFlags=0,D.deletions=null,D.memoizedProps=K.memoizedProps,D.memoizedState=K.memoizedState,D.updateQueue=K.updateQueue,D.type=K.type,d=K.dependencies,D.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),_=_.sibling;return dn(Rn,Rn.current&1|2),m.child}d=d.sibling}D.tail!==null&&On()>af&&(m.flags|=128,k=!0,Hp(D,!1),m.lanes=4194304)}else{if(!k)if(d=Iy(K),d!==null){if(m.flags|=128,k=!0,_=d.updateQueue,_!==null&&(m.updateQueue=_,m.flags|=4),Hp(D,!0),D.tail===null&&D.tailMode==="hidden"&&!K.alternate&&!kn)return Wr(m),null}else 2*On()-D.renderingStartTime>af&&_!==1073741824&&(m.flags|=128,k=!0,Hp(D,!1),m.lanes=4194304);D.isBackwards?(K.sibling=m.child,m.child=K):(_=D.last,_!==null?_.sibling=K:m.child=K,D.last=K)}return D.tail!==null?(m=D.tail,D.rendering=m,D.tail=m.sibling,D.renderingStartTime=On(),m.sibling=null,_=Rn.current,dn(Rn,k?_&1|2:_&1),m):(Wr(m),null);case 22:case 23:return rj(),k=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==k&&(m.flags|=8192),k&&(m.mode&1)!==0?(Xi&1073741824)!==0&&(Wr(m),m.subtreeFlags&6&&(m.flags|=8192)):Wr(m),null;case 24:return null;case 25:return null}throw Error(n(156,m.tag))}function QJ(d,m){switch(f_(m),m.tag){case 1:return Pi(m.type)&&Sy(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return ef(),xn(Ni),xn(Br),N_(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return j_(m),null;case 13:if(xn(Rn),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(n(340));Zd()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return xn(Rn),null;case 4:return ef(),null;case 10:return y_(m.type._context),null;case 22:case 23:return rj(),null;case 24:return null;default:return null}}var Uy=!1,qr=!1,JJ=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function nf(d,m){var _=d.ref;if(_!==null)if(typeof _=="function")try{_(null)}catch(k){Un(d,m,k)}else _.current=null}function V_(d,m,_){try{_()}catch(k){Un(d,m,k)}}var JR=!1;function eee(d,m){if(Be=Hc,d=Cp(),Tp(d)){if("selectionStart"in d)var _={start:d.selectionStart,end:d.selectionEnd};else e:{_=(_=d.ownerDocument)&&_.defaultView||window;var k=_.getSelection&&_.getSelection();if(k&&k.rangeCount!==0){_=k.anchorNode;var R=k.anchorOffset,D=k.focusNode;k=k.focusOffset;try{_.nodeType,D.nodeType}catch{_=null;break e}var K=0,ie=-1,oe=-1,ye=0,ke=0,Te=d,Ae=null;t:for(;;){for(var ze;Te!==_||R!==0&&Te.nodeType!==3||(ie=K+R),Te!==D||k!==0&&Te.nodeType!==3||(oe=K+k),Te.nodeType===3&&(K+=Te.nodeValue.length),(ze=Te.firstChild)!==null;)Ae=Te,Te=ze;for(;;){if(Te===d)break t;if(Ae===_&&++ye===R&&(ie=K),Ae===D&&++ke===k&&(oe=K),(ze=Te.nextSibling)!==null)break;Te=Ae,Ae=Te.parentNode}Te=ze}_=ie===-1||oe===-1?null:{start:ie,end:oe}}else _=null}_=_||{start:0,end:0}}else _=null;for(ot={focusedElem:d,selectionRange:_},Hc=!1,Ue=m;Ue!==null;)if(m=Ue,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,Ue=d;else for(;Ue!==null;){m=Ue;try{var Ge=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(Ge!==null){var Xe=Ge.memoizedProps,Xn=Ge.memoizedState,ue=m.stateNode,le=ue.getSnapshotBeforeUpdate(m.elementType===m.type?Xe:Qa(m.type,Xe),Xn);ue.__reactInternalSnapshotBeforeUpdate=le}break;case 3:var pe=m.stateNode.containerInfo;pe.nodeType===1?pe.textContent="":pe.nodeType===9&&pe.documentElement&&pe.removeChild(pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ie){Un(m,m.return,Ie)}if(d=m.sibling,d!==null){d.return=m.return,Ue=d;break}Ue=m.return}return Ge=JR,JR=!1,Ge}function Kp(d,m,_){var k=m.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var R=k=k.next;do{if((R.tag&d)===d){var D=R.destroy;R.destroy=void 0,D!==void 0&&V_(m,_,D)}R=R.next}while(R!==k)}}function Vy(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&d)===d){var k=_.create;_.destroy=k()}_=_.next}while(_!==m)}}function H_(d){var m=d.ref;if(m!==null){var _=d.stateNode;d.tag,d=_,typeof m=="function"?m(d):m.current=d}}function eI(d){var m=d.alternate;m!==null&&(d.alternate=null,eI(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[ga],delete m[Ll],delete m[Fl],delete m[o_],delete m[l_])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function tI(d){return d.tag===5||d.tag===3||d.tag===4}function nI(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||tI(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function K_(d,m,_){var k=d.tag;if(k===5||k===6)d=d.stateNode,m?_.nodeType===8?_.parentNode.insertBefore(d,m):_.insertBefore(d,m):(_.nodeType===8?(m=_.parentNode,m.insertBefore(d,_)):(m=_,m.appendChild(d)),_=_._reactRootContainer,_!=null||m.onclick!==null||(m.onclick=Pe));else if(k!==4&&(d=d.child,d!==null))for(K_(d,m,_),d=d.sibling;d!==null;)K_(d,m,_),d=d.sibling}function G_(d,m,_){var k=d.tag;if(k===5||k===6)d=d.stateNode,m?_.insertBefore(d,m):_.appendChild(d);else if(k!==4&&(d=d.child,d!==null))for(G_(d,m,_),d=d.sibling;d!==null;)G_(d,m,_),d=d.sibling}var Tr=null,Ja=!1;function Ul(d,m,_){for(_=_.child;_!==null;)rI(d,m,_),_=_.sibling}function rI(d,m,_){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Bc,_)}catch{}switch(_.tag){case 5:qr||nf(_,m);case 6:var k=Tr,R=Ja;Tr=null,Ul(d,m,_),Tr=k,Ja=R,Tr!==null&&(Ja?(d=Tr,_=_.stateNode,d.nodeType===8?d.parentNode.removeChild(_):d.removeChild(_)):Tr.removeChild(_.stateNode));break;case 18:Tr!==null&&(Ja?(d=Tr,_=_.stateNode,d.nodeType===8?Lp(d.parentNode,_):d.nodeType===1&&Lp(d,_),Ui(d)):Lp(Tr,_.stateNode));break;case 4:k=Tr,R=Ja,Tr=_.stateNode.containerInfo,Ja=!0,Ul(d,m,_),Tr=k,Ja=R;break;case 0:case 11:case 14:case 15:if(!qr&&(k=_.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){R=k=k.next;do{var D=R,K=D.destroy;D=D.tag,K!==void 0&&((D&2)!==0||(D&4)!==0)&&V_(_,m,K),R=R.next}while(R!==k)}Ul(d,m,_);break;case 1:if(!qr&&(nf(_,m),k=_.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=_.memoizedProps,k.state=_.memoizedState,k.componentWillUnmount()}catch(ie){Un(_,m,ie)}Ul(d,m,_);break;case 21:Ul(d,m,_);break;case 22:_.mode&1?(qr=(k=qr)||_.memoizedState!==null,Ul(d,m,_),qr=k):Ul(d,m,_);break;default:Ul(d,m,_)}}function iI(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var _=d.stateNode;_===null&&(_=d.stateNode=new JJ),m.forEach(function(k){var R=cee.bind(null,d,k);_.has(k)||(_.add(k),k.then(R,R))})}}function es(d,m){var _=m.deletions;if(_!==null)for(var k=0;k<_.length;k++){var R=_[k];try{var D=d,K=m,ie=K;e:for(;ie!==null;){switch(ie.tag){case 5:Tr=ie.stateNode,Ja=!1;break e;case 3:Tr=ie.stateNode.containerInfo,Ja=!0;break e;case 4:Tr=ie.stateNode.containerInfo,Ja=!0;break e}ie=ie.return}if(Tr===null)throw Error(n(160));rI(D,K,R),Tr=null,Ja=!1;var oe=R.alternate;oe!==null&&(oe.return=null),R.return=null}catch(ye){Un(R,m,ye)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)aI(m,d),m=m.sibling}function aI(d,m){var _=d.alternate,k=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(es(m,d),Ws(d),k&4){try{Kp(3,d,d.return),Vy(3,d)}catch(Xe){Un(d,d.return,Xe)}try{Kp(5,d,d.return)}catch(Xe){Un(d,d.return,Xe)}}break;case 1:es(m,d),Ws(d),k&512&&_!==null&&nf(_,_.return);break;case 5:if(es(m,d),Ws(d),k&512&&_!==null&&nf(_,_.return),d.flags&32){var R=d.stateNode;try{nr(R,"")}catch(Xe){Un(d,d.return,Xe)}}if(k&4&&(R=d.stateNode,R!=null)){var D=d.memoizedProps,K=_!==null?_.memoizedProps:D,ie=d.type,oe=d.updateQueue;if(d.updateQueue=null,oe!==null)try{ie==="input"&&D.type==="radio"&&D.name!=null&&Ce(R,D),$i(ie,K);var ye=$i(ie,D);for(K=0;K<oe.length;K+=2){var ke=oe[K],Te=oe[K+1];ke==="style"?ri(R,Te):ke==="dangerouslySetInnerHTML"?$n(R,Te):ke==="children"?nr(R,Te):A(R,ke,Te,ye)}switch(ie){case"input":Re(R,D);break;case"textarea":cn(R,D);break;case"select":var Ae=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!D.multiple;var ze=D.value;ze!=null?Et(R,!!D.multiple,ze,!1):Ae!==!!D.multiple&&(D.defaultValue!=null?Et(R,!!D.multiple,D.defaultValue,!0):Et(R,!!D.multiple,D.multiple?[]:"",!1))}R[Ll]=D}catch(Xe){Un(d,d.return,Xe)}}break;case 6:if(es(m,d),Ws(d),k&4){if(d.stateNode===null)throw Error(n(162));R=d.stateNode,D=d.memoizedProps;try{R.nodeValue=D}catch(Xe){Un(d,d.return,Xe)}}break;case 3:if(es(m,d),Ws(d),k&4&&_!==null&&_.memoizedState.isDehydrated)try{Ui(m.containerInfo)}catch(Xe){Un(d,d.return,Xe)}break;case 4:es(m,d),Ws(d);break;case 13:es(m,d),Ws(d),R=d.child,R.flags&8192&&(D=R.memoizedState!==null,R.stateNode.isHidden=D,!D||R.alternate!==null&&R.alternate.memoizedState!==null||(X_=On())),k&4&&iI(d);break;case 22:if(ke=_!==null&&_.memoizedState!==null,d.mode&1?(qr=(ye=qr)||ke,es(m,d),qr=ye):es(m,d),Ws(d),k&8192){if(ye=d.memoizedState!==null,(d.stateNode.isHidden=ye)&&!ke&&(d.mode&1)!==0)for(Ue=d,ke=d.child;ke!==null;){for(Te=Ue=ke;Ue!==null;){switch(Ae=Ue,ze=Ae.child,Ae.tag){case 0:case 11:case 14:case 15:Kp(4,Ae,Ae.return);break;case 1:nf(Ae,Ae.return);var Ge=Ae.stateNode;if(typeof Ge.componentWillUnmount=="function"){k=Ae,_=Ae.return;try{m=k,Ge.props=m.memoizedProps,Ge.state=m.memoizedState,Ge.componentWillUnmount()}catch(Xe){Un(k,_,Xe)}}break;case 5:nf(Ae,Ae.return);break;case 22:if(Ae.memoizedState!==null){lI(Te);continue}}ze!==null?(ze.return=Ae,Ue=ze):lI(Te)}ke=ke.sibling}e:for(ke=null,Te=d;;){if(Te.tag===5){if(ke===null){ke=Te;try{R=Te.stateNode,ye?(D=R.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none"):(ie=Te.stateNode,oe=Te.memoizedProps.style,K=oe!=null&&oe.hasOwnProperty("display")?oe.display:null,ie.style.display=Wa("display",K))}catch(Xe){Un(d,d.return,Xe)}}}else if(Te.tag===6){if(ke===null)try{Te.stateNode.nodeValue=ye?"":Te.memoizedProps}catch(Xe){Un(d,d.return,Xe)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===d)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===d)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===d)break e;ke===Te&&(ke=null),Te=Te.return}ke===Te&&(ke=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:es(m,d),Ws(d),k&4&&iI(d);break;case 21:break;default:es(m,d),Ws(d)}}function Ws(d){var m=d.flags;if(m&2){try{e:{for(var _=d.return;_!==null;){if(tI(_)){var k=_;break e}_=_.return}throw Error(n(160))}switch(k.tag){case 5:var R=k.stateNode;k.flags&32&&(nr(R,""),k.flags&=-33);var D=nI(d);G_(d,D,R);break;case 3:case 4:var K=k.stateNode.containerInfo,ie=nI(d);K_(d,ie,K);break;default:throw Error(n(161))}}catch(oe){Un(d,d.return,oe)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function tee(d,m,_){Ue=d,sI(d)}function sI(d,m,_){for(var k=(d.mode&1)!==0;Ue!==null;){var R=Ue,D=R.child;if(R.tag===22&&k){var K=R.memoizedState!==null||Uy;if(!K){var ie=R.alternate,oe=ie!==null&&ie.memoizedState!==null||qr;ie=Uy;var ye=qr;if(Uy=K,(qr=oe)&&!ye)for(Ue=R;Ue!==null;)K=Ue,oe=K.child,K.tag===22&&K.memoizedState!==null?cI(R):oe!==null?(oe.return=K,Ue=oe):cI(R);for(;D!==null;)Ue=D,sI(D),D=D.sibling;Ue=R,Uy=ie,qr=ye}oI(d)}else(R.subtreeFlags&8772)!==0&&D!==null?(D.return=R,Ue=D):oI(d)}}function oI(d){for(;Ue!==null;){var m=Ue;if((m.flags&8772)!==0){var _=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:qr||Vy(5,m);break;case 1:var k=m.stateNode;if(m.flags&4&&!qr)if(_===null)k.componentDidMount();else{var R=m.elementType===m.type?_.memoizedProps:Qa(m.type,_.memoizedProps);k.componentDidUpdate(R,_.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var D=m.updateQueue;D!==null&&lR(m,D,k);break;case 3:var K=m.updateQueue;if(K!==null){if(_=null,m.child!==null)switch(m.child.tag){case 5:_=m.child.stateNode;break;case 1:_=m.child.stateNode}lR(m,K,_)}break;case 5:var ie=m.stateNode;if(_===null&&m.flags&4){_=ie;var oe=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":oe.autoFocus&&_.focus();break;case"img":oe.src&&(_.src=oe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var ye=m.alternate;if(ye!==null){var ke=ye.memoizedState;if(ke!==null){var Te=ke.dehydrated;Te!==null&&Ui(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qr||m.flags&512&&H_(m)}catch(Ae){Un(m,m.return,Ae)}}if(m===d){Ue=null;break}if(_=m.sibling,_!==null){_.return=m.return,Ue=_;break}Ue=m.return}}function lI(d){for(;Ue!==null;){var m=Ue;if(m===d){Ue=null;break}var _=m.sibling;if(_!==null){_.return=m.return,Ue=_;break}Ue=m.return}}function cI(d){for(;Ue!==null;){var m=Ue;try{switch(m.tag){case 0:case 11:case 15:var _=m.return;try{Vy(4,m)}catch(oe){Un(m,_,oe)}break;case 1:var k=m.stateNode;if(typeof k.componentDidMount=="function"){var R=m.return;try{k.componentDidMount()}catch(oe){Un(m,R,oe)}}var D=m.return;try{H_(m)}catch(oe){Un(m,D,oe)}break;case 5:var K=m.return;try{H_(m)}catch(oe){Un(m,K,oe)}}}catch(oe){Un(m,m.return,oe)}if(m===d){Ue=null;break}var ie=m.sibling;if(ie!==null){ie.return=m.return,Ue=ie;break}Ue=m.return}}var nee=Math.ceil,Hy=T.ReactCurrentDispatcher,Y_=T.ReactCurrentOwner,wa=T.ReactCurrentBatchConfig,Bt=0,wr=null,ar=null,Er=0,Xi=0,rf=$l(0),fr=0,Gp=null,su=0,Ky=0,Z_=0,Yp=null,ki=null,X_=0,af=1/0,Fo=null,Gy=!1,Q_=null,Vl=null,Yy=!1,Hl=null,Zy=0,Zp=0,J_=null,Xy=-1,Qy=0;function ci(){return(Bt&6)!==0?On():Xy!==-1?Xy:Xy=On()}function Kl(d){return(d.mode&1)===0?1:(Bt&2)!==0&&Er!==0?Er&-Er:$J.transition!==null?(Qy===0&&(Qy=ty()),Qy):(d=Dt,d!==0||(d=window.event,d=d===void 0?16:It(d.type)),d)}function ts(d,m,_,k){if(50<Zp)throw Zp=0,J_=null,Error(n(185));Wi(d,_,k),((Bt&2)===0||d!==wr)&&(d===wr&&((Bt&2)===0&&(Ky|=_),fr===4&&Gl(d,Er)),Ci(d,k),_===1&&Bt===0&&(m.mode&1)===0&&(af=On()+500,Py&&zl()))}function Ci(d,m){var _=d.callbackNode;Sd(d,m);var k=un(d,d===wr?Er:0);if(k===0)_!==null&&dp(_),d.callbackNode=null,d.callbackPriority=0;else if(m=k&-k,d.callbackPriority!==m){if(_!=null&&dp(_),m===1)d.tag===0?FJ(dI.bind(null,d)):ZM(dI.bind(null,d)),$r(function(){(Bt&6)===0&&zl()}),_=null;else{switch(_l(k)){case 1:_=fp;break;case 4:_=ey;break;case 16:_=_d;break;case 536870912:_=yl;break;default:_=_d}_=xI(_,uI.bind(null,d))}d.callbackPriority=m,d.callbackNode=_}}function uI(d,m){if(Xy=-1,Qy=0,(Bt&6)!==0)throw Error(n(327));var _=d.callbackNode;if(sf()&&d.callbackNode!==_)return null;var k=un(d,d===wr?Er:0);if(k===0)return null;if((k&30)!==0||(k&d.expiredLanes)!==0||m)m=Jy(d,k);else{m=k;var R=Bt;Bt|=2;var D=hI();(wr!==d||Er!==m)&&(Fo=null,af=On()+500,lu(d,m));do try{aee();break}catch(ie){fI(d,ie)}while(!0);v_(),Hy.current=D,Bt=R,ar!==null?m=0:(wr=null,Er=0,m=fr)}if(m!==0){if(m===2&&(R=Lr(d),R!==0&&(k=R,m=ej(d,R))),m===1)throw _=Gp,lu(d,0),Gl(d,k),Ci(d,On()),_;if(m===6)Gl(d,k);else{if(R=d.current.alternate,(k&30)===0&&!ree(R)&&(m=Jy(d,k),m===2&&(D=Lr(d),D!==0&&(k=D,m=ej(d,D))),m===1))throw _=Gp,lu(d,0),Gl(d,k),Ci(d,On()),_;switch(d.finishedWork=R,d.finishedLanes=k,m){case 0:case 1:throw Error(n(345));case 2:cu(d,ki,Fo);break;case 3:if(Gl(d,k),(k&130023424)===k&&(m=X_+500-On(),10<m)){if(un(d,0)!==0)break;if(R=d.suspendedLanes,(R&k)!==k){ci(),d.pingedLanes|=d.suspendedLanes&R;break}d.timeoutHandle=ur(cu.bind(null,d,ki,Fo),m);break}cu(d,ki,Fo);break;case 4:if(Gl(d,k),(k&4194240)===k)break;for(m=d.eventTimes,R=-1;0<k;){var K=31-jt(k);D=1<<K,K=m[K],K>R&&(R=K),k&=~D}if(k=R,k=On()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*nee(k/1960))-k,10<k){d.timeoutHandle=ur(cu.bind(null,d,ki,Fo),k);break}cu(d,ki,Fo);break;case 5:cu(d,ki,Fo);break;default:throw Error(n(329))}}}return Ci(d,On()),d.callbackNode===_?uI.bind(null,d):null}function ej(d,m){var _=Yp;return d.current.memoizedState.isDehydrated&&(lu(d,m).flags|=256),d=Jy(d,m),d!==2&&(m=ki,ki=_,m!==null&&tj(m)),d}function tj(d){ki===null?ki=d:ki.push.apply(ki,d)}function ree(d){for(var m=d;;){if(m.flags&16384){var _=m.updateQueue;if(_!==null&&(_=_.stores,_!==null))for(var k=0;k<_.length;k++){var R=_[k],D=R.getSnapshot;R=R.value;try{if(!Ki(D(),R))return!1}catch{return!1}}}if(_=m.child,m.subtreeFlags&16384&&_!==null)_.return=m,m=_;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Gl(d,m){for(m&=~Z_,m&=~Ky,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var _=31-jt(m),k=1<<_;d[_]=-1,m&=~k}}function dI(d){if((Bt&6)!==0)throw Error(n(327));sf();var m=un(d,0);if((m&1)===0)return Ci(d,On()),null;var _=Jy(d,m);if(d.tag!==0&&_===2){var k=Lr(d);k!==0&&(m=k,_=ej(d,k))}if(_===1)throw _=Gp,lu(d,0),Gl(d,m),Ci(d,On()),_;if(_===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,cu(d,ki,Fo),Ci(d,On()),null}function nj(d,m){var _=Bt;Bt|=1;try{return d(m)}finally{Bt=_,Bt===0&&(af=On()+500,Py&&zl())}}function ou(d){Hl!==null&&Hl.tag===0&&(Bt&6)===0&&sf();var m=Bt;Bt|=1;var _=wa.transition,k=Dt;try{if(wa.transition=null,Dt=1,d)return d()}finally{Dt=k,wa.transition=_,Bt=m,(Bt&6)===0&&zl()}}function rj(){Xi=rf.current,xn(rf)}function lu(d,m){d.finishedWork=null,d.finishedLanes=0;var _=d.timeoutHandle;if(_!==-1&&(d.timeoutHandle=-1,ir(_)),ar!==null)for(_=ar.return;_!==null;){var k=_;switch(f_(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&Sy();break;case 3:ef(),xn(Ni),xn(Br),N_();break;case 5:j_(k);break;case 4:ef();break;case 13:xn(Rn);break;case 19:xn(Rn);break;case 10:y_(k.type._context);break;case 22:case 23:rj()}_=_.return}if(wr=d,ar=d=Yl(d.current,null),Er=Xi=m,fr=0,Gp=null,Z_=Ky=su=0,ki=Yp=null,ru!==null){for(m=0;m<ru.length;m++)if(_=ru[m],k=_.interleaved,k!==null){_.interleaved=null;var R=k.next,D=_.pending;if(D!==null){var K=D.next;D.next=R,k.next=K}_.pending=k}ru=null}return d}function fI(d,m){do{var _=ar;try{if(v_(),Dy.current=By,Ly){for(var k=In.memoizedState;k!==null;){var R=k.queue;R!==null&&(R.pending=null),k=k.next}Ly=!1}if(au=0,br=dr=In=null,Wp=!1,qp=0,Y_.current=null,_===null||_.return===null){fr=1,Gp=m,ar=null;break}e:{var D=d,K=_.return,ie=_,oe=m;if(m=Er,ie.flags|=32768,oe!==null&&typeof oe=="object"&&typeof oe.then=="function"){var ye=oe,ke=ie,Te=ke.tag;if((ke.mode&1)===0&&(Te===0||Te===11||Te===15)){var Ae=ke.alternate;Ae?(ke.updateQueue=Ae.updateQueue,ke.memoizedState=Ae.memoizedState,ke.lanes=Ae.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var ze=LR(K);if(ze!==null){ze.flags&=-257,FR(ze,K,ie,D,m),ze.mode&1&&DR(D,ye,m),m=ze,oe=ye;var Ge=m.updateQueue;if(Ge===null){var Xe=new Set;Xe.add(oe),m.updateQueue=Xe}else Ge.add(oe);break e}else{if((m&1)===0){DR(D,ye,m),ij();break e}oe=Error(n(426))}}else if(kn&&ie.mode&1){var Xn=LR(K);if(Xn!==null){(Xn.flags&65536)===0&&(Xn.flags|=256),FR(Xn,K,ie,D,m),m_(tf(oe,ie));break e}}D=oe=tf(oe,ie),fr!==4&&(fr=2),Yp===null?Yp=[D]:Yp.push(D),D=K;do{switch(D.tag){case 3:D.flags|=65536,m&=-m,D.lanes|=m;var ue=RR(D,oe,m);oR(D,ue);break e;case 1:ie=oe;var le=D.type,pe=D.stateNode;if((D.flags&128)===0&&(typeof le.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(Vl===null||!Vl.has(pe)))){D.flags|=65536,m&=-m,D.lanes|=m;var Ie=IR(D,ie,m);oR(D,Ie);break e}}D=D.return}while(D!==null)}mI(_)}catch(tt){m=tt,ar===_&&_!==null&&(ar=_=_.return);continue}break}while(!0)}function hI(){var d=Hy.current;return Hy.current=By,d===null?By:d}function ij(){(fr===0||fr===3||fr===2)&&(fr=4),wr===null||(su&268435455)===0&&(Ky&268435455)===0||Gl(wr,Er)}function Jy(d,m){var _=Bt;Bt|=2;var k=hI();(wr!==d||Er!==m)&&(Fo=null,lu(d,m));do try{iee();break}catch(R){fI(d,R)}while(!0);if(v_(),Bt=_,Hy.current=k,ar!==null)throw Error(n(261));return wr=null,Er=0,fr}function iee(){for(;ar!==null;)pI(ar)}function aee(){for(;ar!==null&&!V1();)pI(ar)}function pI(d){var m=yI(d.alternate,d,Xi);d.memoizedProps=d.pendingProps,m===null?mI(d):ar=m,Y_.current=null}function mI(d){var m=d;do{var _=m.alternate;if(d=m.return,(m.flags&32768)===0){if(_=XJ(_,m,Xi),_!==null){ar=_;return}}else{if(_=QJ(_,m),_!==null){_.flags&=32767,ar=_;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{fr=6,ar=null;return}}if(m=m.sibling,m!==null){ar=m;return}ar=m=d}while(m!==null);fr===0&&(fr=5)}function cu(d,m,_){var k=Dt,R=wa.transition;try{wa.transition=null,Dt=1,see(d,m,_,k)}finally{wa.transition=R,Dt=k}return null}function see(d,m,_,k){do sf();while(Hl!==null);if((Bt&6)!==0)throw Error(n(327));_=d.finishedWork;var R=d.finishedLanes;if(_===null)return null;if(d.finishedWork=null,d.finishedLanes=0,_===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var D=_.lanes|_.childLanes;if(qn(d,D),d===wr&&(ar=wr=null,Er=0),(_.subtreeFlags&2064)===0&&(_.flags&2064)===0||Yy||(Yy=!0,xI(_d,function(){return sf(),null})),D=(_.flags&15990)!==0,(_.subtreeFlags&15990)!==0||D){D=wa.transition,wa.transition=null;var K=Dt;Dt=1;var ie=Bt;Bt|=4,Y_.current=null,eee(d,_),aI(_,d),pa(ot),Hc=!!Be,ot=Be=null,d.current=_,tee(_),wd(),Bt=ie,Dt=K,wa.transition=D}else d.current=_;if(Yy&&(Yy=!1,Hl=d,Zy=R),D=d.pendingLanes,D===0&&(Vl=null),zc(_.stateNode),Ci(d,On()),m!==null)for(k=d.onRecoverableError,_=0;_<m.length;_++)R=m[_],k(R.value,{componentStack:R.stack,digest:R.digest});if(Gy)throw Gy=!1,d=Q_,Q_=null,d;return(Zy&1)!==0&&d.tag!==0&&sf(),D=d.pendingLanes,(D&1)!==0?d===J_?Zp++:(Zp=0,J_=d):Zp=0,zl(),null}function sf(){if(Hl!==null){var d=_l(Zy),m=wa.transition,_=Dt;try{if(wa.transition=null,Dt=16>d?16:d,Hl===null)var k=!1;else{if(d=Hl,Hl=null,Zy=0,(Bt&6)!==0)throw Error(n(331));var R=Bt;for(Bt|=4,Ue=d.current;Ue!==null;){var D=Ue,K=D.child;if((Ue.flags&16)!==0){var ie=D.deletions;if(ie!==null){for(var oe=0;oe<ie.length;oe++){var ye=ie[oe];for(Ue=ye;Ue!==null;){var ke=Ue;switch(ke.tag){case 0:case 11:case 15:Kp(8,ke,D)}var Te=ke.child;if(Te!==null)Te.return=ke,Ue=Te;else for(;Ue!==null;){ke=Ue;var Ae=ke.sibling,ze=ke.return;if(eI(ke),ke===ye){Ue=null;break}if(Ae!==null){Ae.return=ze,Ue=Ae;break}Ue=ze}}}var Ge=D.alternate;if(Ge!==null){var Xe=Ge.child;if(Xe!==null){Ge.child=null;do{var Xn=Xe.sibling;Xe.sibling=null,Xe=Xn}while(Xe!==null)}}Ue=D}}if((D.subtreeFlags&2064)!==0&&K!==null)K.return=D,Ue=K;else e:for(;Ue!==null;){if(D=Ue,(D.flags&2048)!==0)switch(D.tag){case 0:case 11:case 15:Kp(9,D,D.return)}var ue=D.sibling;if(ue!==null){ue.return=D.return,Ue=ue;break e}Ue=D.return}}var le=d.current;for(Ue=le;Ue!==null;){K=Ue;var pe=K.child;if((K.subtreeFlags&2064)!==0&&pe!==null)pe.return=K,Ue=pe;else e:for(K=le;Ue!==null;){if(ie=Ue,(ie.flags&2048)!==0)try{switch(ie.tag){case 0:case 11:case 15:Vy(9,ie)}}catch(tt){Un(ie,ie.return,tt)}if(ie===K){Ue=null;break e}var Ie=ie.sibling;if(Ie!==null){Ie.return=ie.return,Ue=Ie;break e}Ue=ie.return}}if(Bt=R,zl(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Bc,d)}catch{}k=!0}return k}finally{Dt=_,wa.transition=m}}return!1}function gI(d,m,_){m=tf(_,m),m=RR(d,m,1),d=ql(d,m,1),m=ci(),d!==null&&(Wi(d,1,m),Ci(d,m))}function Un(d,m,_){if(d.tag===3)gI(d,d,_);else for(;m!==null;){if(m.tag===3){gI(m,d,_);break}else if(m.tag===1){var k=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Vl===null||!Vl.has(k))){d=tf(_,d),d=IR(m,d,1),m=ql(m,d,1),d=ci(),m!==null&&(Wi(m,1,d),Ci(m,d));break}}m=m.return}}function oee(d,m,_){var k=d.pingCache;k!==null&&k.delete(m),m=ci(),d.pingedLanes|=d.suspendedLanes&_,wr===d&&(Er&_)===_&&(fr===4||fr===3&&(Er&130023424)===Er&&500>On()-X_?lu(d,0):Z_|=_),Ci(d,m)}function vI(d,m){m===0&&((d.mode&1)===0?m=1:(m=bl,bl<<=1,(bl&130023424)===0&&(bl=4194304)));var _=ci();d=Io(d,m),d!==null&&(Wi(d,m,_),Ci(d,_))}function lee(d){var m=d.memoizedState,_=0;m!==null&&(_=m.retryLane),vI(d,_)}function cee(d,m){var _=0;switch(d.tag){case 13:var k=d.stateNode,R=d.memoizedState;R!==null&&(_=R.retryLane);break;case 19:k=d.stateNode;break;default:throw Error(n(314))}k!==null&&k.delete(m),vI(d,_)}var yI;yI=function(d,m,_){if(d!==null)if(d.memoizedProps!==m.pendingProps||Ni.current)Ai=!0;else{if((d.lanes&_)===0&&(m.flags&128)===0)return Ai=!1,ZJ(d,m,_);Ai=(d.flags&131072)!==0}else Ai=!1,kn&&(m.flags&1048576)!==0&&XM(m,ky,m.index);switch(m.lanes=0,m.tag){case 2:var k=m.type;qy(d,m),d=m.pendingProps;var R=Kd(m,Br.current);Jd(m,_),R=k_(null,m,k,d,R,_);var D=C_();return m.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Pi(k)?(D=!0,Ny(m)):D=!1,m.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,w_(m),R.updater=zy,m.stateNode=R,R._reactInternals=m,I_(m,k,d,_),m=$_(null,m,k,!0,D,_)):(m.tag=0,kn&&D&&d_(m),li(null,m,R,_),m=m.child),m;case 16:k=m.elementType;e:{switch(qy(d,m),d=m.pendingProps,R=k._init,k=R(k._payload),m.type=k,R=m.tag=dee(k),d=Qa(k,d),R){case 0:m=F_(null,m,k,d,_);break e;case 1:m=UR(null,m,k,d,_);break e;case 11:m=$R(null,m,k,d,_);break e;case 14:m=BR(null,m,k,Qa(k.type,d),_);break e}throw Error(n(306,k,""))}return m;case 0:return k=m.type,R=m.pendingProps,R=m.elementType===k?R:Qa(k,R),F_(d,m,k,R,_);case 1:return k=m.type,R=m.pendingProps,R=m.elementType===k?R:Qa(k,R),UR(d,m,k,R,_);case 3:e:{if(VR(m),d===null)throw Error(n(387));k=m.pendingProps,D=m.memoizedState,R=D.element,sR(d,m),Ry(m,k,null,_);var K=m.memoizedState;if(k=K.element,D.isDehydrated)if(D={element:k,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},m.updateQueue.baseState=D,m.memoizedState=D,m.flags&256){R=tf(Error(n(423)),m),m=HR(d,m,k,_,R);break e}else if(k!==R){R=tf(Error(n(424)),m),m=HR(d,m,k,_,R);break e}else for(Zi=$s(m.stateNode.containerInfo.firstChild),Yi=m,kn=!0,Xa=null,_=iR(m,null,k,_),m.child=_;_;)_.flags=_.flags&-3|4096,_=_.sibling;else{if(Zd(),k===R){m=Lo(d,m,_);break e}li(d,m,k,_)}m=m.child}return m;case 5:return cR(m),d===null&&p_(m),k=m.type,R=m.pendingProps,D=d!==null?d.memoizedProps:null,K=R.children,Nt(k,R)?K=null:D!==null&&Nt(k,D)&&(m.flags|=32),qR(d,m),li(d,m,K,_),m.child;case 6:return d===null&&p_(m),null;case 13:return KR(d,m,_);case 4:return __(m,m.stateNode.containerInfo),k=m.pendingProps,d===null?m.child=Xd(m,null,k,_):li(d,m,k,_),m.child;case 11:return k=m.type,R=m.pendingProps,R=m.elementType===k?R:Qa(k,R),$R(d,m,k,R,_);case 7:return li(d,m,m.pendingProps,_),m.child;case 8:return li(d,m,m.pendingProps.children,_),m.child;case 12:return li(d,m,m.pendingProps.children,_),m.child;case 10:e:{if(k=m.type._context,R=m.pendingProps,D=m.memoizedProps,K=R.value,dn(Ey,k._currentValue),k._currentValue=K,D!==null)if(Ki(D.value,K)){if(D.children===R.children&&!Ni.current){m=Lo(d,m,_);break e}}else for(D=m.child,D!==null&&(D.return=m);D!==null;){var ie=D.dependencies;if(ie!==null){K=D.child;for(var oe=ie.firstContext;oe!==null;){if(oe.context===k){if(D.tag===1){oe=Do(-1,_&-_),oe.tag=2;var ye=D.updateQueue;if(ye!==null){ye=ye.shared;var ke=ye.pending;ke===null?oe.next=oe:(oe.next=ke.next,ke.next=oe),ye.pending=oe}}D.lanes|=_,oe=D.alternate,oe!==null&&(oe.lanes|=_),x_(D.return,_,m),ie.lanes|=_;break}oe=oe.next}}else if(D.tag===10)K=D.type===m.type?null:D.child;else if(D.tag===18){if(K=D.return,K===null)throw Error(n(341));K.lanes|=_,ie=K.alternate,ie!==null&&(ie.lanes|=_),x_(K,_,m),K=D.sibling}else K=D.child;if(K!==null)K.return=D;else for(K=D;K!==null;){if(K===m){K=null;break}if(D=K.sibling,D!==null){D.return=K.return,K=D;break}K=K.return}D=K}li(d,m,R.children,_),m=m.child}return m;case 9:return R=m.type,k=m.pendingProps.children,Jd(m,_),R=xa(R),k=k(R),m.flags|=1,li(d,m,k,_),m.child;case 14:return k=m.type,R=Qa(k,m.pendingProps),R=Qa(k.type,R),BR(d,m,k,R,_);case 15:return zR(d,m,m.type,m.pendingProps,_);case 17:return k=m.type,R=m.pendingProps,R=m.elementType===k?R:Qa(k,R),qy(d,m),m.tag=1,Pi(k)?(d=!0,Ny(m)):d=!1,Jd(m,_),OR(m,k,R),I_(m,k,R,_),$_(null,m,k,!0,d,_);case 19:return YR(d,m,_);case 22:return WR(d,m,_)}throw Error(n(156,m.tag))};function xI(d,m){return Jv(d,m)}function uee(d,m,_,k){this.tag=d,this.key=_,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(d,m,_,k){return new uee(d,m,_,k)}function aj(d){return d=d.prototype,!(!d||!d.isReactComponent)}function dee(d){if(typeof d=="function")return aj(d)?1:0;if(d!=null){if(d=d.$$typeof,d===z)return 11;if(d===te)return 14}return 2}function Yl(d,m){var _=d.alternate;return _===null?(_=_a(d.tag,m,d.key,d.mode),_.elementType=d.elementType,_.type=d.type,_.stateNode=d.stateNode,_.alternate=d,d.alternate=_):(_.pendingProps=m,_.type=d.type,_.flags=0,_.subtreeFlags=0,_.deletions=null),_.flags=d.flags&14680064,_.childLanes=d.childLanes,_.lanes=d.lanes,_.child=d.child,_.memoizedProps=d.memoizedProps,_.memoizedState=d.memoizedState,_.updateQueue=d.updateQueue,m=d.dependencies,_.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},_.sibling=d.sibling,_.index=d.index,_.ref=d.ref,_}function ex(d,m,_,k,R,D){var K=2;if(k=d,typeof d=="function")aj(d)&&(K=1);else if(typeof d=="string")K=5;else e:switch(d){case O:return uu(_.children,R,D,m);case I:K=8,R|=8;break;case F:return d=_a(12,_,m,R|2),d.elementType=F,d.lanes=D,d;case V:return d=_a(13,_,m,R),d.elementType=V,d.lanes=D,d;case U:return d=_a(19,_,m,R),d.elementType=U,d.lanes=D,d;case J:return tx(_,R,D,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case W:K=10;break e;case $:K=9;break e;case z:K=11;break e;case te:K=14;break e;case Q:K=16,k=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return m=_a(K,_,m,R),m.elementType=d,m.type=k,m.lanes=D,m}function uu(d,m,_,k){return d=_a(7,d,k,m),d.lanes=_,d}function tx(d,m,_,k){return d=_a(22,d,k,m),d.elementType=J,d.lanes=_,d.stateNode={isHidden:!1},d}function sj(d,m,_){return d=_a(6,d,null,m),d.lanes=_,d}function oj(d,m,_){return m=_a(4,d.children!==null?d.children:[],d.key,m),m.lanes=_,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function fee(d,m,_,k,R){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=k,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function lj(d,m,_,k,R,D,K,ie,oe){return d=new fee(d,m,_,ie,oe),m===1?(m=1,D===!0&&(m|=8)):m=0,D=_a(3,null,null,m),d.current=D,D.stateNode=d,D.memoizedState={element:k,isDehydrated:_,cache:null,transitions:null,pendingSuspenseBoundaries:null},w_(D),d}function hee(d,m,_){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:k==null?null:""+k,children:d,containerInfo:m,implementation:_}}function bI(d){if(!d)return Bl;d=d._reactInternals;e:{if(Es(d)!==d||d.tag!==1)throw Error(n(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Pi(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(n(171))}if(d.tag===1){var _=d.type;if(Pi(_))return GM(d,_,m)}return m}function wI(d,m,_,k,R,D,K,ie,oe){return d=lj(_,k,!0,d,R,D,K,ie,oe),d.context=bI(null),_=d.current,k=ci(),R=Kl(_),D=Do(k,R),D.callback=m??null,ql(_,D,R),d.current.lanes=R,Wi(d,R,k),Ci(d,k),d}function nx(d,m,_,k){var R=m.current,D=ci(),K=Kl(R);return _=bI(_),m.context===null?m.context=_:m.pendingContext=_,m=Do(D,K),m.payload={element:d},k=k===void 0?null:k,k!==null&&(m.callback=k),d=ql(R,m,K),d!==null&&(ts(d,R,K,D),My(d,R,K)),K}function rx(d){return d=d.current,d.child?(d.child.tag===5,d.child.stateNode):null}function _I(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var _=d.retryLane;d.retryLane=_!==0&&_<m?_:m}}function cj(d,m){_I(d,m),(d=d.alternate)&&_I(d,m)}function pee(){return null}var jI=typeof reportError=="function"?reportError:function(d){console.error(d)};function uj(d){this._internalRoot=d}ix.prototype.render=uj.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(n(409));nx(d,m,null,null)},ix.prototype.unmount=uj.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;ou(function(){nx(null,d,null,null)}),m[Kt]=null}};function ix(d){this._internalRoot=d}ix.prototype.unstable_scheduleHydration=function(d){if(d){var m=Ad();d={blockedOn:null,target:d,priority:m};for(var _=0;_<cr.length&&m!==0&&m<cr[_].priority;_++);cr.splice(_,0,d),_===0&&kd(d)}};function dj(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function ax(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function SI(){}function mee(d,m,_,k,R){if(R){if(typeof k=="function"){var D=k;k=function(){var ye=rx(K);D.call(ye)}}var K=wI(m,k,d,0,null,!1,!1,"",SI);return d._reactRootContainer=K,d[Kt]=K.current,Il(d.nodeType===8?d.parentNode:d),ou(),K}for(;R=d.lastChild;)d.removeChild(R);if(typeof k=="function"){var ie=k;k=function(){var ye=rx(oe);ie.call(ye)}}var oe=lj(d,0,!1,null,null,!1,!1,"",SI);return d._reactRootContainer=oe,d[Kt]=oe.current,Il(d.nodeType===8?d.parentNode:d),ou(function(){nx(m,oe,_,k)}),oe}function sx(d,m,_,k,R){var D=_._reactRootContainer;if(D){var K=D;if(typeof R=="function"){var ie=R;R=function(){var oe=rx(K);ie.call(oe)}}nx(m,K,d,R)}else K=mee(_,m,d,R,k);return rx(K)}Nd=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var _=bt(m.pendingLanes);_!==0&&(Ha(m,_|1),Ci(m,On()),(Bt&6)===0&&(af=On()+500,zl()))}break;case 13:ou(function(){var k=Io(d,1);if(k!==null){var R=ci();ts(k,d,1,R)}}),cj(d,1)}},bo=function(d){if(d.tag===13){var m=Io(d,134217728);if(m!==null){var _=ci();ts(m,d,134217728,_)}cj(d,134217728)}},Pd=function(d){if(d.tag===13){var m=Kl(d),_=Io(d,m);if(_!==null){var k=ci();ts(_,d,m,k)}cj(d,m)}},Ad=function(){return Dt},Wc=function(d,m){var _=Dt;try{return Dt=d,m()}finally{Dt=_}},Ua=function(d,m,_){switch(m){case"input":if(Re(d,_),m=_.name,_.type==="radio"&&m!=null){for(_=d;_.parentNode;)_=_.parentNode;for(_=_.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<_.length;m++){var k=_[m];if(k!==d&&k.form===d.form){var R=Vd(k);if(!R)throw Error(n(90));ve(k),Re(k,R)}}}break;case"textarea":cn(d,_);break;case"select":m=_.value,m!=null&&Et(d,!!_.multiple,m,!1)}},xt=nj,St=ou;var gee={usingClientEntryPoint:!1,Events:[To,Eo,Vd,rr,rt,nj]},Xp={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vee={bundleType:Xp.bundleType,version:Xp.version,rendererPackageName:Xp.rendererPackageName,rendererConfig:Xp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Xv(d),d===null?null:d.stateNode},findFiberByHostInstance:Xp.findFiberByHostInstance||pee,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ox=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ox.isDisabled&&ox.supportsFiber)try{Bc=ox.inject(vee),zi=ox}catch{}}return Ti.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gee,Ti.createPortal=function(d,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dj(m))throw Error(n(200));return hee(d,m,null,_)},Ti.createRoot=function(d,m){if(!dj(d))throw Error(n(299));var _=!1,k="",R=jI;return m!=null&&(m.unstable_strictMode===!0&&(_=!0),m.identifierPrefix!==void 0&&(k=m.identifierPrefix),m.onRecoverableError!==void 0&&(R=m.onRecoverableError)),m=lj(d,1,!1,null,null,_,!1,k,R),d[Kt]=m.current,Il(d.nodeType===8?d.parentNode:d),new uj(m)},Ti.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Xv(m),d=d===null?null:d.stateNode,d},Ti.flushSync=function(d){return ou(d)},Ti.hydrate=function(d,m,_){if(!ax(m))throw Error(n(200));return sx(null,d,m,!0,_)},Ti.hydrateRoot=function(d,m,_){if(!dj(d))throw Error(n(405));var k=_!=null&&_.hydratedSources||null,R=!1,D="",K=jI;if(_!=null&&(_.unstable_strictMode===!0&&(R=!0),_.identifierPrefix!==void 0&&(D=_.identifierPrefix),_.onRecoverableError!==void 0&&(K=_.onRecoverableError)),m=wI(m,null,d,1,_??null,R,!1,D,K),d[Kt]=m.current,Il(d),k)for(d=0;d<k.length;d++)_=k[d],R=_._getVersion,R=R(_._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[_,R]:m.mutableSourceEagerHydrationData.push(_,R);return new ix(m)},Ti.render=function(d,m,_){if(!ax(m))throw Error(n(200));return sx(null,d,m,!1,_)},Ti.unmountComponentAtNode=function(d){if(!ax(d))throw Error(n(40));return d._reactRootContainer?(ou(function(){sx(null,null,d,!1,function(){d._reactRootContainer=null,d[Kt]=null})}),!0):!1},Ti.unstable_batchedUpdates=nj,Ti.unstable_renderSubtreeIntoContainer=function(d,m,_,k){if(!ax(_))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return sx(d,m,_,!1,k)},Ti.version="18.3.1-next-f1338f8080-20240426",Ti}var OI;function z8(){if(OI)return pj.exports;OI=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),pj.exports=Nee(),pj.exports}var MI;function Pee(){if(MI)return cx;MI=1;var e=z8();return cx.createRoot=e.createRoot,cx.hydrateRoot=e.hydrateRoot,cx}var Aee=Pee(),j=rv();const Y=Ut(j),mE=xee({__proto__:null,default:Y},[j]),kee=1,Cee=1e6;let vj=0;function Tee(){return vj=(vj+1)%Number.MAX_SAFE_INTEGER,vj.toString()}const yj=new Map,RI=e=>{if(yj.has(e))return;const t=setTimeout(()=>{yj.delete(e),Tm({type:"REMOVE_TOAST",toastId:e})},Cee);yj.set(e,t)},Eee=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,kee)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?RI(n):e.toasts.forEach(r=>{RI(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Zx=[];let Xx={toasts:[]};function Tm(e){Xx=Eee(Xx,e),Zx.forEach(t=>{t(Xx)})}function Le({...e}){const t=Tee(),n=i=>Tm({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>Tm({type:"DISMISS_TOAST",toastId:t});return Tm({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Oee(){const[e,t]=j.useState(Xx);return j.useEffect(()=>(Zx.push(t),()=>{const n=Zx.indexOf(t);n>-1&&Zx.splice(n,1)}),[e]),{...e,toast:Le,dismiss:n=>Tm({type:"DISMISS_TOAST",toastId:n})}}var fs=z8();const W8=Ut(fs);function De(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function II(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ew(...e){return t=>{let n=!1;const r=e.map(i=>{const s=II(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():II(e[i],null)}}}}function vt(...e){return j.useCallback(ew(...e),e)}function Mee(e,t){const n=j.createContext(t),r=s=>{const{children:o,...l}=s,c=j.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=e+"Provider";function i(s){const o=j.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function yr(e,t=[]){let n=[];function r(s,o){const l=j.createContext(o),c=n.length;n=[...n,o];const u=p=>{const{scope:g,children:x,...b}=p,v=g?.[e]?.[c]||l,w=j.useMemo(()=>b,Object.values(b));return a.jsx(v.Provider,{value:w,children:x})};u.displayName=s+"Provider";function h(p,g){const x=g?.[e]?.[c]||l,b=j.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,h]}const i=()=>{const s=n.map(o=>j.createContext(o));return function(l){const c=l?.[e]||s;return j.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[r,Ree(i,...t)]}function Ree(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...l,...p}},{});return j.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}function zu(e){const t=Dee(e),n=j.forwardRef((r,i)=>{const{children:s,...o}=r,l=j.Children.toArray(s),c=l.find(Lee);if(c){const u=c.props.children,h=l.map(p=>p===c?j.Children.count(u)>1?j.Children.only(null):j.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:j.isValidElement(u)?j.cloneElement(u,void 0,h):null})}return a.jsx(t,{...o,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Iee=zu("Slot");function Dee(e){const t=j.forwardRef((n,r)=>{const{children:i,...s}=n;if(j.isValidElement(i)){const o=$ee(i),l=Fee(s,i.props);return i.type!==j.Fragment&&(l.ref=r?ew(r,o):o),j.cloneElement(i,l)}return j.Children.count(i)>1?j.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q8=Symbol("radix.slottable");function U8(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=q8,t}function Lee(e){return j.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q8}function Fee(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function $ee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function iv(e){const t=e+"CollectionProvider",[n,r]=yr(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:N}=v,S=Y.useRef(null),A=Y.useRef(new Map).current;return a.jsx(i,{scope:w,itemMap:A,collectionRef:S,children:N})};o.displayName=t;const l=e+"CollectionSlot",c=zu(l),u=Y.forwardRef((v,w)=>{const{scope:N,children:S}=v,A=s(l,N),T=vt(w,A.collectionRef);return a.jsx(c,{ref:T,children:S})});u.displayName=l;const h=e+"CollectionItemSlot",p="data-radix-collection-item",g=zu(h),x=Y.forwardRef((v,w)=>{const{scope:N,children:S,...A}=v,T=Y.useRef(null),C=vt(w,T),E=s(h,N);return Y.useEffect(()=>(E.itemMap.set(T,{ref:T,...A}),()=>{E.itemMap.delete(T)})),a.jsx(g,{[p]:"",ref:C,children:S})});x.displayName=h;function b(v){const w=s(e+"CollectionConsumer",v);return Y.useCallback(()=>{const S=w.collectionRef.current;if(!S)return[];const A=Array.from(S.querySelectorAll(`[${p}]`));return Array.from(w.itemMap.values()).sort((E,O)=>A.indexOf(E.ref.current)-A.indexOf(O.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:u,ItemSlot:x},b,r]}var Bee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=Bee.reduce((e,t)=>{const n=zu(`Primitive.${t}`),r=j.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function gE(e,t){e&&fs.flushSync(()=>e.dispatchEvent(t))}function yi(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e}),j.useMemo(()=>(...n)=>t.current?.(...n),[])}function zee(e,t=globalThis?.document){const n=yi(e);j.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Wee="DismissableLayer",wk="dismissableLayer.update",qee="dismissableLayer.pointerDownOutside",Uee="dismissableLayer.focusOutside",DI,V8=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ch=j.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=j.useContext(V8),[h,p]=j.useState(null),g=h?.ownerDocument??globalThis?.document,[,x]=j.useState({}),b=vt(t,O=>p(O)),v=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(w),S=h?v.indexOf(h):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,T=S>=N,C=Hee(O=>{const I=O.target,F=[...u.branches].some(W=>W.contains(I));!T||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),E=Kee(O=>{const I=O.target;[...u.branches].some(W=>W.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return zee(O=>{S===u.layers.size-1&&(r?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),j.useEffect(()=>{if(h)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DI=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(h)),u.layers.add(h),LI(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=DI)}},[h,g,n,u]),j.useEffect(()=>()=>{h&&(u.layers.delete(h),u.layersWithOutsidePointerEventsDisabled.delete(h),LI())},[h,u]),j.useEffect(()=>{const O=()=>x({});return document.addEventListener(wk,O),()=>document.removeEventListener(wk,O)},[]),a.jsx(We.div,{...c,ref:b,style:{pointerEvents:A?T?"auto":"none":void 0,...e.style},onFocusCapture:De(e.onFocusCapture,E.onFocusCapture),onBlurCapture:De(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:De(e.onPointerDownCapture,C.onPointerDownCapture)})});Ch.displayName=Wee;var Vee="DismissableLayerBranch",H8=j.forwardRef((e,t)=>{const n=j.useContext(V8),r=j.useRef(null),i=vt(t,r);return j.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(We.div,{...e,ref:i})});H8.displayName=Vee;function Hee(e,t=globalThis?.document){const n=yi(e),r=j.useRef(!1),i=j.useRef(()=>{});return j.useEffect(()=>{const s=l=>{if(l.target&&!r.current){let c=function(){K8(qee,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Kee(e,t=globalThis?.document){const n=yi(e),r=j.useRef(!1);return j.useEffect(()=>{const i=s=>{s.target&&!r.current&&K8(Uee,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LI(){const e=new CustomEvent(wk);document.dispatchEvent(e)}function K8(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gE(i,s):i.dispatchEvent(s)}var Gee=Ch,Yee=H8,er=globalThis?.document?j.useLayoutEffect:()=>{},Zee="Portal",av=j.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=j.useState(!1);er(()=>s(!0),[]);const o=n||i&&globalThis?.document?.body;return o?W8.createPortal(a.jsx(We.div,{...r,ref:t}),o):null});av.displayName=Zee;function Xee(e,t){return j.useReducer((n,r)=>t[n][r]??n,e)}var Di=e=>{const{present:t,children:n}=e,r=Qee(t),i=typeof n=="function"?n({present:r.isPresent}):j.Children.only(n),s=vt(r.ref,Jee(i));return typeof n=="function"||r.isPresent?j.cloneElement(i,{ref:s}):null};Di.displayName="Presence";function Qee(e){const[t,n]=j.useState(),r=j.useRef(null),i=j.useRef(e),s=j.useRef("none"),o=e?"mounted":"unmounted",[l,c]=Xee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const u=ux(r.current);s.current=l==="mounted"?u:"none"},[l]),er(()=>{const u=r.current,h=i.current;if(h!==e){const g=s.current,x=ux(u);e?c("MOUNT"):x==="none"||u?.display==="none"?c("UNMOUNT"):c(h&&g!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),er(()=>{if(t){let u;const h=t.ownerDocument.defaultView??window,p=x=>{const v=ux(r.current).includes(x.animationName);if(x.target===t&&v&&(c("ANIMATION_END"),!i.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},g=x=>{x.target===t&&(s.current=ux(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{h.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:j.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function ux(e){return e?.animationName||"none"}function Jee(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ete=mE[" useInsertionEffect ".trim().toString()]||er;function la({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,o]=tte({defaultProp:t,onChange:n}),l=e!==void 0,c=l?e:i;{const h=j.useRef(e!==void 0);j.useEffect(()=>{const p=h.current;p!==l&&console.warn(`${r} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=l},[l,r])}const u=j.useCallback(h=>{if(l){const p=nte(h)?h(e):h;p!==e&&o.current?.(p)}else s(h)},[l,e,s,o]);return[c,u]}function tte({defaultProp:e,onChange:t}){const[n,r]=j.useState(e),i=j.useRef(n),s=j.useRef(t);return ete(()=>{s.current=t},[t]),j.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function nte(e){return typeof e=="function"}var G8=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),rte="VisuallyHidden",tw=j.forwardRef((e,t)=>a.jsx(We.span,{...e,ref:t,style:{...G8,...e.style}}));tw.displayName=rte;var ite=tw,vE="ToastProvider",[yE,ate,ste]=iv("Toast"),[Y8]=yr("Toast",[ste]),[ote,nw]=Y8(vE),Z8=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=e,[l,c]=j.useState(null),[u,h]=j.useState(0),p=j.useRef(!1),g=j.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vE}\`. Expected non-empty \`string\`.`),a.jsx(yE.Provider,{scope:t,children:a.jsx(ote,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:l,onViewportChange:c,onToastAdd:j.useCallback(()=>h(x=>x+1),[]),onToastRemove:j.useCallback(()=>h(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:g,children:o})})};Z8.displayName=vE;var X8="ToastViewport",lte=["F8"],_k="toast.viewportPause",jk="toast.viewportResume",Q8=j.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=lte,label:i="Notifications ({hotkey})",...s}=e,o=nw(X8,n),l=ate(n),c=j.useRef(null),u=j.useRef(null),h=j.useRef(null),p=j.useRef(null),g=vt(t,p,o.onViewportChange),x=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;j.useEffect(()=>{const w=N=>{r.length!==0&&r.every(A=>N[A]||N.code===A)&&p.current?.focus()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),j.useEffect(()=>{const w=c.current,N=p.current;if(b&&w&&N){const S=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(_k);N.dispatchEvent(E),o.isClosePausedRef.current=!0}},A=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(jk);N.dispatchEvent(E),o.isClosePausedRef.current=!1}},T=E=>{!w.contains(E.relatedTarget)&&A()},C=()=>{w.contains(document.activeElement)||A()};return w.addEventListener("focusin",S),w.addEventListener("focusout",T),w.addEventListener("pointermove",S),w.addEventListener("pointerleave",C),window.addEventListener("blur",S),window.addEventListener("focus",A),()=>{w.removeEventListener("focusin",S),w.removeEventListener("focusout",T),w.removeEventListener("pointermove",S),w.removeEventListener("pointerleave",C),window.removeEventListener("blur",S),window.removeEventListener("focus",A)}}},[b,o.isClosePausedRef]);const v=j.useCallback(({tabbingDirection:w})=>{const S=l().map(A=>{const T=A.ref.current,C=[T,...wte(T)];return w==="forwards"?C:C.reverse()});return(w==="forwards"?S.reverse():S).flat()},[l]);return j.useEffect(()=>{const w=p.current;if(w){const N=S=>{const A=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!A){const C=document.activeElement,E=S.shiftKey;if(S.target===w&&E){u.current?.focus();return}const F=v({tabbingDirection:E?"backwards":"forwards"}),W=F.findIndex($=>$===C);xj(F.slice(W+1))?S.preventDefault():E?u.current?.focus():h.current?.focus()}};return w.addEventListener("keydown",N),()=>w.removeEventListener("keydown",N)}},[l,v]),a.jsxs(Yee,{ref:c,role:"region","aria-label":i.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(Sk,{ref:u,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"forwards"});xj(w)}}),a.jsx(yE.Slot,{scope:n,children:a.jsx(We.ol,{tabIndex:-1,...s,ref:g})}),b&&a.jsx(Sk,{ref:h,onFocusFromOutsideViewport:()=>{const w=v({tabbingDirection:"backwards"});xj(w)}})]})});Q8.displayName=X8;var J8="ToastFocusProxy",Sk=j.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=nw(J8,n);return a.jsx(tw,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&r()}})});Sk.displayName=J8;var sv="Toast",cte="toast.swipeStart",ute="toast.swipeMove",dte="toast.swipeCancel",fte="toast.swipeEnd",eW=j.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=e,[l,c]=la({prop:r,defaultProp:i??!0,onChange:s,caller:sv});return a.jsx(Di,{present:n||l,children:a.jsx(mte,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:yi(e.onPause),onResume:yi(e.onResume),onSwipeStart:De(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:De(e.onSwipeMove,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:De(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:De(e.onSwipeEnd,u=>{const{x:h,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});eW.displayName=sv;var[hte,pte]=Y8(sv,{onClose(){}}),mte=j.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:x,...b}=e,v=nw(sv,n),[w,N]=j.useState(null),S=vt(t,U=>N(U)),A=j.useRef(null),T=j.useRef(null),C=i||v.duration,E=j.useRef(0),O=j.useRef(C),I=j.useRef(0),{onToastAdd:F,onToastRemove:W}=v,$=yi(()=>{w?.contains(document.activeElement)&&v.viewport?.focus(),o()}),z=j.useCallback(U=>{!U||U===1/0||(window.clearTimeout(I.current),E.current=new Date().getTime(),I.current=window.setTimeout($,U))},[$]);j.useEffect(()=>{const U=v.viewport;if(U){const te=()=>{z(O.current),u?.()},Q=()=>{const J=new Date().getTime()-E.current;O.current=O.current-J,window.clearTimeout(I.current),c?.()};return U.addEventListener(_k,Q),U.addEventListener(jk,te),()=>{U.removeEventListener(_k,Q),U.removeEventListener(jk,te)}}},[v.viewport,C,c,u,z]),j.useEffect(()=>{s&&!v.isClosePausedRef.current&&z(C)},[s,C,v.isClosePausedRef,z]),j.useEffect(()=>(F(),()=>W()),[F,W]);const V=j.useMemo(()=>w?oW(w):null,[w]);return v.viewport?a.jsxs(a.Fragment,{children:[V&&a.jsx(gte,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),a.jsx(hte,{scope:n,onClose:$,children:fs.createPortal(a.jsx(yE.ItemSlot,{scope:n,children:a.jsx(Gee,{asChild:!0,onEscapeKeyDown:De(l,()=>{v.isFocusedToastEscapeKeyDownRef.current||$(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...b,ref:S,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:De(e.onKeyDown,U=>{U.key==="Escape"&&(l?.(U.nativeEvent),U.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:De(e.onPointerDown,U=>{U.button===0&&(A.current={x:U.clientX,y:U.clientY})}),onPointerMove:De(e.onPointerMove,U=>{if(!A.current)return;const te=U.clientX-A.current.x,Q=U.clientY-A.current.y,J=!!T.current,G=["left","right"].includes(v.swipeDirection),ee=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,X=G?ee(0,te):0,q=G?0:ee(0,Q),H=U.pointerType==="touch"?10:2,ne={x:X,y:q},se={originalEvent:U,delta:ne};J?(T.current=ne,dx(ute,p,se,{discrete:!1})):FI(ne,v.swipeDirection,H)?(T.current=ne,dx(cte,h,se,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(te)>H||Math.abs(Q)>H)&&(A.current=null)}),onPointerUp:De(e.onPointerUp,U=>{const te=T.current,Q=U.target;if(Q.hasPointerCapture(U.pointerId)&&Q.releasePointerCapture(U.pointerId),T.current=null,A.current=null,te){const J=U.currentTarget,G={originalEvent:U,delta:te};FI(te,v.swipeDirection,v.swipeThreshold)?dx(fte,x,G,{discrete:!0}):dx(dte,g,G,{discrete:!0}),J.addEventListener("click",ee=>ee.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),gte=e=>{const{__scopeToast:t,children:n,...r}=e,i=nw(sv,t),[s,o]=j.useState(!1),[l,c]=j.useState(!1);return xte(()=>o(!0)),j.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(av,{asChild:!0,children:a.jsx(tw,{...r,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",n]})})})},vte="ToastTitle",tW=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(We.div,{...r,ref:t})});tW.displayName=vte;var yte="ToastDescription",nW=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(We.div,{...r,ref:t})});nW.displayName=yte;var rW="ToastAction",iW=j.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(sW,{altText:n,asChild:!0,children:a.jsx(xE,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${rW}\`. Expected non-empty \`string\`.`),null)});iW.displayName=rW;var aW="ToastClose",xE=j.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=pte(aW,n);return a.jsx(sW,{asChild:!0,children:a.jsx(We.button,{type:"button",...r,ref:t,onClick:De(e.onClick,i.onClose)})})});xE.displayName=aW;var sW=j.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return a.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function oW(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),bte(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...oW(r))}}),t}function dx(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?gE(i,s):i.dispatchEvent(s)}var FI=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function xte(e=()=>{}){const t=yi(e);er(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function bte(e){return e.nodeType===e.ELEMENT_NODE}function wte(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function xj(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var _te=Z8,lW=Q8,cW=eW,uW=tW,dW=nW,fW=iW,hW=xE;function pW(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pW(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function wt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pW(e))&&(r&&(r+=" "),r+=t);return r}const $I=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,BI=wt,Th=(e,t)=>n=>{var r;if(t?.variants==null)return BI(e,n?.class,n?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const h=n?.[u],p=s?.[u];if(h===null)return null;const g=$I(h)||$I(p);return i[u][g]}),l=n&&Object.entries(n).reduce((u,h)=>{let[p,g]=h;return g===void 0||(u[p]=g),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,h)=>{let{class:p,className:g,...x}=h;return Object.entries(x).every(b=>{let[v,w]=b;return Array.isArray(w)?w.includes({...s,...l}[v]):{...s,...l}[v]===w})?[...u,p,g]:u},[]);return BI(e,o,c,n?.class,n?.className)};const jte=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mW=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var Ste={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Nte=j.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...l},c)=>j.createElement("svg",{ref:c,...Ste,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:mW("lucide",i),...l},[...o.map(([u,h])=>j.createElement(u,h)),...Array.isArray(s)?s:[s]]));const Ee=(e,t)=>{const n=j.forwardRef(({className:r,...i},s)=>j.createElement(Nte,{ref:s,iconNode:t,className:mW(`lucide-${jte(e)}`,r),...i}));return n.displayName=`${e}`,n};const lo=Ee("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const Pte=Ee("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);const gW=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const vW=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const yW=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const Ate=Ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const kte=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const zI=Ee("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const ov=Ee("Bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]]);const uc=Ee("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);const Jr=Ee("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);const Cte=Ee("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);const xW=Ee("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);const Tte=Ee("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);const lv=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const cv=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const bE=Ee("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const rw=Ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const iw=Ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);const Fa=Ee("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const bW=Ee("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Ar=Ee("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const Wu=Ee("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const wW=Ee("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);const _W=Ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);const Ete=Ee("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);const ps=Ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Ote=Ee("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const aw=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Eh=Ee("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);const Mte=Ee("Dumbbell",[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]]);const h0=Ee("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Pu=Ee("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);const Au=Ee("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const jW=Ee("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);const Rte=Ee("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);const Ite=Ee("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);const sw=Ee("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Dte=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);const WI=Ee("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const vs=Ee("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);const Lte=Ee("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);const ow=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);const Wf=Ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const Fte=Ee("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);const $te=Ee("LifeBuoy",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]]);const Nk=Ee("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);const qI=Ee("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);const st=Ee("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Zm=Ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Bte=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Iu=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const UI=Ee("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const zte=Ee("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const SW=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const lw=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const wE=Ee("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);const Wte=Ee("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);const p0=Ee("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);const qte=Ee("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);const uv=Ee("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const Ute=Ee("Mountain",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]]);const Vte=Ee("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);const Hte=Ee("OctagonAlert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]);const Kte=Ee("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);const Gte=Ee("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);const Qx=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const qu=Ee("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const NW=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);const Yte=Ee("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);const _E=Ee("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const PW=Ee("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);const dv=Ee("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);const VI=Ee("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const Zte=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const Pk=Ee("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Xte=Ee("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);const Qte=Ee("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const ul=Ee("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const AW=Ee("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);const Jte=Ee("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);const HI=Ee("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);const KI=Ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);const Xm=Ee("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);const jE=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const SE=Ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Ac=Ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const ni=Ee("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Qm=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);const ene=Ee("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const Uu=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const tne=Ee("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]]);const fv=Ee("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);const nne=Ee("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);const Ss=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);const Jm=Ee("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),NE="-",rne=e=>{const t=ane(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{const l=o.split(NE);return l[0]===""&&l.length!==1&&l.shift(),kW(l,t)||ine(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},kW=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?kW(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(NE);return t.validators.find(({validator:o})=>o(s))?.classGroupId},GI=/^\[(.+)\]$/,ine=e=>{if(GI.test(e)){const t=GI.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},ane=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return one(Object.entries(e.classGroups),n).forEach(([s,o])=>{Ak(o,r,s,t)}),r},Ak=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:YI(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(sne(i)){Ak(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{Ak(o,YI(t,s),n,r)})})},YI=(e,t)=>{let n=e;return t.split(NE).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},sne=e=>e.isThemeGetter,one=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[n,i]}):e,lne=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},CW="!",cne=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,h=0,p;for(let w=0;w<l.length;w++){let N=l[w];if(u===0){if(N===i&&(r||l.slice(w,w+s)===t)){c.push(l.slice(h,w)),h=w+s;continue}if(N==="/"){p=w;continue}}N==="["?u++:N==="]"&&u--}const g=c.length===0?l:l.substring(h),x=g.startsWith(CW),b=x?g.substring(1):g,v=p&&p>h?p-h:void 0;return{modifiers:c,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:v}};return n?l=>n({className:l,parseClassName:o}):o},une=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},dne=e=>({cache:lne(e.cacheSize),parseClassName:cne(e),...rne(e)}),fne=/\s+/,hne=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(fne);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:h,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:x}=n(u);let b=!!x,v=r(b?g.substring(0,x):g);if(!v){if(!b){l=u+(l.length>0?" "+l:l);continue}if(v=r(g),!v){l=u+(l.length>0?" "+l:l);continue}b=!1}const w=une(h).join(":"),N=p?w+CW:w,S=N+v;if(s.includes(S))continue;s.push(S);const A=i(v,b);for(let T=0;T<A.length;++T){const C=A[T];s.push(N+C)}l=u+(l.length>0?" "+l:l)}return l};function pne(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=TW(t))&&(r&&(r+=" "),r+=n);return r}const TW=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=TW(e[r]))&&(n&&(n+=" "),n+=t);return n};function mne(e,...t){let n,r,i,s=o;function o(c){const u=t.reduce((h,p)=>p(h),e());return n=dne(u),r=n.cache.get,i=n.cache.set,s=l,l(c)}function l(c){const u=r(c);if(u)return u;const h=hne(c,n);return i(c,h),h}return function(){return s(pne.apply(null,arguments))}}const bn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},EW=/^\[(?:([a-z-]+):)?(.+)\]$/i,gne=/^\d+\/\d+$/,vne=new Set(["px","full","screen"]),yne=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bne=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wne=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_ne=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$o=e=>Mf(e)||vne.has(e)||gne.test(e),Xl=e=>Oh(e,"length",Tne),Mf=e=>!!e&&!Number.isNaN(Number(e)),bj=e=>Oh(e,"number",Mf),Jp=e=>!!e&&Number.isInteger(Number(e)),jne=e=>e.endsWith("%")&&Mf(e.slice(0,-1)),Ct=e=>EW.test(e),Ql=e=>yne.test(e),Sne=new Set(["length","size","percentage"]),Nne=e=>Oh(e,Sne,OW),Pne=e=>Oh(e,"position",OW),Ane=new Set(["image","url"]),kne=e=>Oh(e,Ane,One),Cne=e=>Oh(e,"",Ene),em=()=>!0,Oh=(e,t,n)=>{const r=EW.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Tne=e=>xne.test(e)&&!bne.test(e),OW=()=>!1,Ene=e=>wne.test(e),One=e=>_ne.test(e),Mne=()=>{const e=bn("colors"),t=bn("spacing"),n=bn("blur"),r=bn("brightness"),i=bn("borderColor"),s=bn("borderRadius"),o=bn("borderSpacing"),l=bn("borderWidth"),c=bn("contrast"),u=bn("grayscale"),h=bn("hueRotate"),p=bn("invert"),g=bn("gap"),x=bn("gradientColorStops"),b=bn("gradientColorStopPositions"),v=bn("inset"),w=bn("margin"),N=bn("opacity"),S=bn("padding"),A=bn("saturate"),T=bn("scale"),C=bn("sepia"),E=bn("skew"),O=bn("space"),I=bn("translate"),F=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ct,t],z=()=>[Ct,t],V=()=>["",$o,Xl],U=()=>["auto",Mf,Ct],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",Ct],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[Mf,Ct];return{cacheSize:500,separator:":",theme:{colors:[em],spacing:[$o,Xl],blur:["none","",Ql,Ct],brightness:q(),borderColor:[e],borderRadius:["none","","full",Ql,Ct],borderSpacing:z(),borderWidth:V(),contrast:q(),grayscale:ee(),hueRotate:q(),invert:ee(),gap:z(),gradientColorStops:[e],gradientColorStopPositions:[jne,Xl],inset:$(),margin:$(),opacity:q(),padding:z(),saturate:q(),scale:q(),sepia:ee(),skew:q(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",Ct]}],container:["container"],columns:[{columns:[Ql]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),Ct]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jp,Ct]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ct]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",Jp,Ct]}],"grid-cols":[{"grid-cols":[em]}],"col-start-end":[{col:["auto",{span:["full",Jp,Ct]},Ct]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[em]}],"row-start-end":[{row:["auto",{span:[Jp,Ct]},Ct]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ct]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ct,t]}],"min-w":[{"min-w":[Ct,t,"min","max","fit"]}],"max-w":[{"max-w":[Ct,t,"none","full","min","max","fit","prose",{screen:[Ql]},Ql]}],h:[{h:[Ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ql,Xl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bj]}],"font-family":[{font:[em]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ct]}],"line-clamp":[{"line-clamp":["none",Mf,bj]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$o,Ct]}],"list-image":[{"list-image":["none",Ct]}],"list-style-type":[{list:["none","disc","decimal",Ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$o,Xl]}],"underline-offset":[{"underline-offset":["auto",$o,Ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),Pne]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nne]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kne]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[x]}],"gradient-via":[{via:[x]}],"gradient-to":[{to:[x]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[$o,Ct]}],"outline-w":[{outline:[$o,Xl]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[$o,Xl]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ql,Cne]}],"shadow-color":[{shadow:[em]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...J(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ql,Ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[A]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ct]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",Ct]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[T]}],"scale-x":[{"scale-x":[T]}],"scale-y":[{"scale-y":[T]}],rotate:[{rotate:[Jp,Ct]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$o,Xl,bj]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Rne=mne(Mne);function re(...e){return Rne(wt(e))}function Ine(){const e="conversation_id",t=localStorage.getItem(e);if(t&&t.trim()!=="")return t;const r=`c_${crypto.randomUUID()}`;return localStorage.setItem(e,r),r}const Dne=_te,MW=j.forwardRef(({className:e,...t},n)=>a.jsx(lW,{ref:n,className:re("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));MW.displayName=lW.displayName;const Lne=Th("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),RW=j.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(cW,{ref:r,className:re(Lne({variant:t}),e),...n}));RW.displayName=cW.displayName;const Fne=j.forwardRef(({className:e,...t},n)=>a.jsx(fW,{ref:n,className:re("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));Fne.displayName=fW.displayName;const IW=j.forwardRef(({className:e,...t},n)=>a.jsx(hW,{ref:n,className:re("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ss,{className:"h-4 w-4"})}));IW.displayName=hW.displayName;const DW=j.forwardRef(({className:e,...t},n)=>a.jsx(uW,{ref:n,className:re("text-sm font-semibold",e),...t}));DW.displayName=uW.displayName;const LW=j.forwardRef(({className:e,...t},n)=>a.jsx(dW,{ref:n,className:re("text-sm opacity-90",e),...t}));LW.displayName=dW.displayName;function $ne(){const{toasts:e}=Oee();return a.jsxs(Dne,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return a.jsxs(RW,{...s,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(DW,{children:n}),r&&a.jsx(LW,{children:r})]}),i,a.jsx(IW,{})]},t)}),a.jsx(MW,{})]})}var ZI=["light","dark"],Bne="(prefers-color-scheme: dark)",zne=j.createContext(void 0),Wne={setTheme:e=>{},themes:[]},qne=()=>{var e;return(e=j.useContext(zne))!=null?e:Wne};j.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:l,nonce:c})=>{let u=s==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(b=>`'${b}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,p=i?ZI.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(b,v=!1,w=!0)=>{let N=o?o[b]:b,S=v?b+"|| ''":`'${N}'`,A="";return i&&w&&!v&&ZI.includes(b)&&(A+=`d.style.colorScheme = '${b}';`),n==="class"?v||N?A+=`c.add(${S})`:A+="null":N&&(A+=`d[s](n,${S})`),A},x=e?`!function(){${h}${g(e)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${Bne}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}${u?"":"else{"+g(s,!1,!1)+"}"}${p}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${t}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${g(o?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${p}}catch(t){}}();`;return j.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:x}})});var Une=e=>{switch(e){case"success":return Kne;case"info":return Yne;case"warning":return Gne;case"error":return Zne;default:return null}},Vne=Array(12).fill(0),Hne=({visible:e,className:t})=>Y.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Y.createElement("div",{className:"sonner-spinner"},Vne.map((n,r)=>Y.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Kne=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gne=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Yne=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Zne=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Y.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Xne=Y.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Y.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Y.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Qne=()=>{let[e,t]=Y.useState(document.hidden);return Y.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},kk=1,Jne=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:kk++,s=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:n}),{...l,...e,id:i,dismissible:o,title:n}):l):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),i=n!==void 0,s,o=r.then(async c=>{if(s=["resolve",c],Y.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(tre(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,h=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:n,type:"error",message:u,description:h})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"success",message:u,description:h})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,h=typeof t.description=="function"?await t.description(c):t.description;this.create({id:n,type:"error",message:u,description:h})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,t)=>{let n=t?.id||kk++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ei=new Jne,ere=(e,t)=>{let n=t?.id||kk++;return Ei.addToast({title:e,...t,id:n}),n},tre=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nre=ere,rre=()=>Ei.toasts,ire=()=>Ei.getActiveToasts();Object.assign(nre,{success:Ei.success,info:Ei.info,warning:Ei.warning,error:Ei.error,custom:Ei.custom,message:Ei.message,promise:Ei.promise,dismiss:Ei.dismiss,loading:Ei.loading},{getHistory:rre,getToasts:ire});function are(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}are(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fx(e){return e.label!==void 0}var sre=3,ore="32px",lre="16px",XI=4e3,cre=356,ure=14,dre=20,fre=200;function ns(...e){return e.filter(Boolean).join(" ")}function hre(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var pre=e=>{var t,n,r,i,s,o,l,c,u,h,p;let{invert:g,toast:x,unstyled:b,interacting:v,setHeights:w,visibleToasts:N,heights:S,index:A,toasts:T,expanded:C,removeToast:E,defaultRichColors:O,closeButton:I,style:F,cancelButtonStyle:W,actionButtonStyle:$,className:z="",descriptionClassName:V="",duration:U,position:te,gap:Q,loadingIcon:J,expandByDefault:G,classNames:ee,icons:X,closeButtonAriaLabel:q="Close toast",pauseWhenPageIsHidden:H}=e,[ne,se]=Y.useState(null),[de,me]=Y.useState(null),[fe,_e]=Y.useState(!1),[he,be]=Y.useState(!1),[Me,ve]=Y.useState(!1),[Ze,He]=Y.useState(!1),[je,Ce]=Y.useState(!1),[Re,Ke]=Y.useState(0),[yt,kt]=Y.useState(0),Et=Y.useRef(x.duration||U||XI),it=Y.useRef(null),_t=Y.useRef(null),cn=A===0,Fn=A+1<=N,$t=x.type,En=x.dismissible!==!1,Xt=x.className||"",$n=x.descriptionClassName||"",nr=Y.useMemo(()=>S.findIndex(rt=>rt.toastId===x.id)||0,[S,x.id]),Zn=Y.useMemo(()=>{var rt;return(rt=x.closeButton)!=null?rt:I},[x.closeButton,I]),Fi=Y.useMemo(()=>x.duration||U||XI,[x.duration,U]),Wa=Y.useRef(0),ri=Y.useRef(0),qa=Y.useRef(0),ii=Y.useRef(null),[$i,Cs]=te.split("-"),Ts=Y.useMemo(()=>S.reduce((rt,xt,St)=>St>=nr?rt:rt+xt.height,0),[S,nr]),Ua=Qne(),Bi=x.invert||g,Vt=$t==="loading";ri.current=Y.useMemo(()=>nr*Q+Ts,[nr,Ts]),Y.useEffect(()=>{Et.current=Fi},[Fi]),Y.useEffect(()=>{_e(!0)},[]),Y.useEffect(()=>{let rt=_t.current;if(rt){let xt=rt.getBoundingClientRect().height;return kt(xt),w(St=>[{toastId:x.id,height:xt,position:x.position},...St]),()=>w(St=>St.filter(Jt=>Jt.toastId!==x.id))}},[w,x.id]),Y.useLayoutEffect(()=>{if(!fe)return;let rt=_t.current,xt=rt.style.height;rt.style.height="auto";let St=rt.getBoundingClientRect().height;rt.style.height=xt,kt(St),w(Jt=>Jt.find(vn=>vn.toastId===x.id)?Jt.map(vn=>vn.toastId===x.id?{...vn,height:St}:vn):[{toastId:x.id,height:St,position:x.position},...Jt])},[fe,x.title,x.description,w,x.id]);let rn=Y.useCallback(()=>{be(!0),Ke(ri.current),w(rt=>rt.filter(xt=>xt.toastId!==x.id)),setTimeout(()=>{E(x)},fre)},[x,E,w,ri]);Y.useEffect(()=>{if(x.promise&&$t==="loading"||x.duration===1/0||x.type==="loading")return;let rt;return C||v||H&&Ua?(()=>{if(qa.current<Wa.current){let xt=new Date().getTime()-Wa.current;Et.current=Et.current-xt}qa.current=new Date().getTime()})():Et.current!==1/0&&(Wa.current=new Date().getTime(),rt=setTimeout(()=>{var xt;(xt=x.onAutoClose)==null||xt.call(x,x),rn()},Et.current)),()=>clearTimeout(rt)},[C,v,x,$t,H,Ua,rn]),Y.useEffect(()=>{x.delete&&rn()},[rn,x.delete]);function rr(){var rt,xt,St;return X!=null&&X.loading?Y.createElement("div",{className:ns(ee?.loader,(rt=x?.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":$t==="loading"},X.loading):J?Y.createElement("div",{className:ns(ee?.loader,(xt=x?.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":$t==="loading"},J):Y.createElement(Hne,{className:ns(ee?.loader,(St=x?.classNames)==null?void 0:St.loader),visible:$t==="loading"})}return Y.createElement("li",{tabIndex:0,ref:_t,className:ns(z,Xt,ee?.toast,(t=x?.classNames)==null?void 0:t.toast,ee?.default,ee?.[$t],(n=x?.classNames)==null?void 0:n[$t]),"data-sonner-toast":"","data-rich-colors":(r=x.richColors)!=null?r:O,"data-styled":!(x.jsx||x.unstyled||b),"data-mounted":fe,"data-promise":!!x.promise,"data-swiped":je,"data-removed":he,"data-visible":Fn,"data-y-position":$i,"data-x-position":Cs,"data-index":A,"data-front":cn,"data-swiping":Me,"data-dismissible":En,"data-type":$t,"data-invert":Bi,"data-swipe-out":Ze,"data-swipe-direction":de,"data-expanded":!!(C||G&&fe),style:{"--index":A,"--toasts-before":A,"--z-index":T.length-A,"--offset":`${he?Re:ri.current}px`,"--initial-height":G?"auto":`${yt}px`,...F,...x.style},onDragEnd:()=>{ve(!1),se(null),ii.current=null},onPointerDown:rt=>{Vt||!En||(it.current=new Date,Ke(ri.current),rt.target.setPointerCapture(rt.pointerId),rt.target.tagName!=="BUTTON"&&(ve(!0),ii.current={x:rt.clientX,y:rt.clientY}))},onPointerUp:()=>{var rt,xt,St,Jt;if(Ze||!En)return;ii.current=null;let vn=Number(((rt=_t.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ft=Number(((xt=_t.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Bn=new Date().getTime()-((St=it.current)==null?void 0:St.getTime()),Ht=ne==="x"?vn:Ft,zn=Math.abs(Ht)/Bn;if(Math.abs(Ht)>=dre||zn>.11){Ke(ri.current),(Jt=x.onDismiss)==null||Jt.call(x,x),me(ne==="x"?vn>0?"right":"left":Ft>0?"down":"up"),rn(),He(!0),Ce(!1);return}ve(!1),se(null)},onPointerMove:rt=>{var xt,St,Jt,vn;if(!ii.current||!En||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;let Ft=rt.clientY-ii.current.y,Bn=rt.clientX-ii.current.x,Ht=(St=e.swipeDirections)!=null?St:hre(te);!ne&&(Math.abs(Bn)>1||Math.abs(Ft)>1)&&se(Math.abs(Bn)>Math.abs(Ft)?"x":"y");let zn={x:0,y:0};ne==="y"?(Ht.includes("top")||Ht.includes("bottom"))&&(Ht.includes("top")&&Ft<0||Ht.includes("bottom")&&Ft>0)&&(zn.y=Ft):ne==="x"&&(Ht.includes("left")||Ht.includes("right"))&&(Ht.includes("left")&&Bn<0||Ht.includes("right")&&Bn>0)&&(zn.x=Bn),(Math.abs(zn.x)>0||Math.abs(zn.y)>0)&&Ce(!0),(Jt=_t.current)==null||Jt.style.setProperty("--swipe-amount-x",`${zn.x}px`),(vn=_t.current)==null||vn.style.setProperty("--swipe-amount-y",`${zn.y}px`)}},Zn&&!x.jsx?Y.createElement("button",{"aria-label":q,"data-disabled":Vt,"data-close-button":!0,onClick:Vt||!En?()=>{}:()=>{var rt;rn(),(rt=x.onDismiss)==null||rt.call(x,x)},className:ns(ee?.closeButton,(i=x?.classNames)==null?void 0:i.closeButton)},(s=X?.close)!=null?s:Xne):null,x.jsx||j.isValidElement(x.title)?x.jsx?x.jsx:typeof x.title=="function"?x.title():x.title:Y.createElement(Y.Fragment,null,$t||x.icon||x.promise?Y.createElement("div",{"data-icon":"",className:ns(ee?.icon,(o=x?.classNames)==null?void 0:o.icon)},x.promise||x.type==="loading"&&!x.icon?x.icon||rr():null,x.type!=="loading"?x.icon||X?.[$t]||Une($t):null):null,Y.createElement("div",{"data-content":"",className:ns(ee?.content,(l=x?.classNames)==null?void 0:l.content)},Y.createElement("div",{"data-title":"",className:ns(ee?.title,(c=x?.classNames)==null?void 0:c.title)},typeof x.title=="function"?x.title():x.title),x.description?Y.createElement("div",{"data-description":"",className:ns(V,$n,ee?.description,(u=x?.classNames)==null?void 0:u.description)},typeof x.description=="function"?x.description():x.description):null),j.isValidElement(x.cancel)?x.cancel:x.cancel&&fx(x.cancel)?Y.createElement("button",{"data-button":!0,"data-cancel":!0,style:x.cancelButtonStyle||W,onClick:rt=>{var xt,St;fx(x.cancel)&&En&&((St=(xt=x.cancel).onClick)==null||St.call(xt,rt),rn())},className:ns(ee?.cancelButton,(h=x?.classNames)==null?void 0:h.cancelButton)},x.cancel.label):null,j.isValidElement(x.action)?x.action:x.action&&fx(x.action)?Y.createElement("button",{"data-button":!0,"data-action":!0,style:x.actionButtonStyle||$,onClick:rt=>{var xt,St;fx(x.action)&&((St=(xt=x.action).onClick)==null||St.call(xt,rt),!rt.defaultPrevented&&rn())},className:ns(ee?.actionButton,(p=x?.classNames)==null?void 0:p.actionButton)},x.action.label):null))};function QI(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mre(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?lre:ore;function c(u){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(l)}),n}var gre=j.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:h="light",richColors:p,duration:g,style:x,visibleToasts:b=sre,toastOptions:v,dir:w=QI(),gap:N=ure,loadingIcon:S,icons:A,containerAriaLabel:T="Notifications",pauseWhenPageIsHidden:C}=e,[E,O]=Y.useState([]),I=Y.useMemo(()=>Array.from(new Set([r].concat(E.filter(H=>H.position).map(H=>H.position)))),[E,r]),[F,W]=Y.useState([]),[$,z]=Y.useState(!1),[V,U]=Y.useState(!1),[te,Q]=Y.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),J=Y.useRef(null),G=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),ee=Y.useRef(null),X=Y.useRef(!1),q=Y.useCallback(H=>{O(ne=>{var se;return(se=ne.find(de=>de.id===H.id))!=null&&se.delete||Ei.dismiss(H.id),ne.filter(({id:de})=>de!==H.id)})},[]);return Y.useEffect(()=>Ei.subscribe(H=>{if(H.dismiss){O(ne=>ne.map(se=>se.id===H.id?{...se,delete:!0}:se));return}setTimeout(()=>{W8.flushSync(()=>{O(ne=>{let se=ne.findIndex(de=>de.id===H.id);return se!==-1?[...ne.slice(0,se),{...ne[se],...H},...ne.slice(se+1)]:[H,...ne]})})})}),[]),Y.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:ne})=>{Q(ne?"dark":"light")})}catch{H.addListener(({matches:se})=>{try{Q(se?"dark":"light")}catch(de){console.error(de)}})}},[h]),Y.useEffect(()=>{E.length<=1&&z(!1)},[E]),Y.useEffect(()=>{let H=ne=>{var se,de;i.every(me=>ne[me]||ne.code===me)&&(z(!0),(se=J.current)==null||se.focus()),ne.code==="Escape"&&(document.activeElement===J.current||(de=J.current)!=null&&de.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),Y.useEffect(()=>{if(J.current)return()=>{ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null,X.current=!1)}},[J.current]),Y.createElement("section",{ref:t,"aria-label":`${T} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((H,ne)=>{var se;let[de,me]=H.split("-");return E.length?Y.createElement("ol",{key:H,dir:w==="auto"?QI():w,tabIndex:-1,ref:J,className:l,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":de,"data-lifted":$&&E.length>1&&!s,"data-x-position":me,style:{"--front-toast-height":`${((se=F[0])==null?void 0:se.height)||0}px`,"--width":`${cre}px`,"--gap":`${N}px`,...x,...mre(c,u)},onBlur:fe=>{X.current&&!fe.currentTarget.contains(fe.relatedTarget)&&(X.current=!1,ee.current&&(ee.current.focus({preventScroll:!0}),ee.current=null))},onFocus:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||X.current||(X.current=!0,ee.current=fe.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{V||z(!1)},onDragEnd:()=>z(!1),onPointerDown:fe=>{fe.target instanceof HTMLElement&&fe.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},E.filter(fe=>!fe.position&&ne===0||fe.position===H).map((fe,_e)=>{var he,be;return Y.createElement(pre,{key:fe.id,icons:A,index:_e,toast:fe,defaultRichColors:p,duration:(he=v?.duration)!=null?he:g,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:n,visibleToasts:b,closeButton:(be=v?.closeButton)!=null?be:o,interacting:V,position:H,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,removeToast:q,toasts:E.filter(Me=>Me.position==fe.position),heights:F.filter(Me=>Me.position==fe.position),setHeights:W,expandByDefault:s,gap:N,loadingIcon:S,expanded:$,pauseWhenPageIsHidden:C,swipeDirections:e.swipeDirections})})):null}))});const vre=({...e})=>{const{theme:t="system"}=qne();return a.jsx(gre,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var yre=mE[" useId ".trim().toString()]||(()=>{}),xre=0;function Ia(e){const[t,n]=j.useState(yre());return er(()=>{n(r=>r??String(xre++))},[e]),t?`radix-${t}`:""}const bre=["top","right","bottom","left"],vc=Math.min,ra=Math.max,m0=Math.round,hx=Math.floor,ro=e=>({x:e,y:e}),wre={left:"right",right:"left",bottom:"top",top:"bottom"},_re={start:"end",end:"start"};function Ck(e,t,n){return ra(e,vc(t,n))}function rl(e,t){return typeof e=="function"?e(t):e}function il(e){return e.split("-")[0]}function Mh(e){return e.split("-")[1]}function PE(e){return e==="x"?"y":"x"}function AE(e){return e==="y"?"height":"width"}const jre=new Set(["top","bottom"]);function Xs(e){return jre.has(il(e))?"y":"x"}function kE(e){return PE(Xs(e))}function Sre(e,t,n){n===void 0&&(n=!1);const r=Mh(e),i=kE(e),s=AE(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=g0(o)),[o,g0(o)]}function Nre(e){const t=g0(e);return[Tk(e),t,Tk(t)]}function Tk(e){return e.replace(/start|end/g,t=>_re[t])}const JI=["left","right"],eD=["right","left"],Pre=["top","bottom"],Are=["bottom","top"];function kre(e,t,n){switch(e){case"top":case"bottom":return n?t?eD:JI:t?JI:eD;case"left":case"right":return t?Pre:Are;default:return[]}}function Cre(e,t,n,r){const i=Mh(e);let s=kre(il(e),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(Tk)))),s}function g0(e){return e.replace(/left|right|bottom|top/g,t=>wre[t])}function Tre(e){return{top:0,right:0,bottom:0,left:0,...e}}function FW(e){return typeof e!="number"?Tre(e):{top:e,right:e,bottom:e,left:e}}function v0(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function tD(e,t,n){let{reference:r,floating:i}=e;const s=Xs(t),o=kE(t),l=AE(o),c=il(t),u=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,g=r[l]/2-i[l]/2;let x;switch(c){case"top":x={x:h,y:r.y-i.height};break;case"bottom":x={x:h,y:r.y+r.height};break;case"right":x={x:r.x+r.width,y:p};break;case"left":x={x:r.x-i.width,y:p};break;default:x={x:r.x,y:r.y}}switch(Mh(t)){case"start":x[o]-=g*(n&&u?-1:1);break;case"end":x[o]+=g*(n&&u?-1:1);break}return x}const Ere=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:p}=tD(u,r,c),g=r,x={},b=0;for(let v=0;v<l.length;v++){const{name:w,fn:N}=l[v],{x:S,y:A,data:T,reset:C}=await N({x:h,y:p,initialPlacement:r,placement:g,strategy:i,middlewareData:x,rects:u,platform:o,elements:{reference:e,floating:t}});h=S??h,p=A??p,x={...x,[w]:{...x[w],...T}},C&&b<=50&&(b++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(u=C.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:h,y:p}=tD(u,g,c)),v=-1)}return{x:h,y:p,placement:g,strategy:i,middlewareData:x}};async function eg(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:g=!1,padding:x=0}=rl(t,e),b=FW(x),w=l[g?p==="floating"?"reference":"floating":p],N=v0(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(w)))==null||n?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:h,strategy:c})),S=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),T=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},C=v0(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:A,strategy:c}):S);return{top:(N.top-C.top+b.top)/T.y,bottom:(C.bottom-N.bottom+b.bottom)/T.y,left:(N.left-C.left+b.left)/T.x,right:(C.right-N.right+b.right)/T.x}}const Ore=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:h=0}=rl(e,t)||{};if(u==null)return{};const p=FW(h),g={x:n,y:r},x=kE(i),b=AE(x),v=await o.getDimensions(u),w=x==="y",N=w?"top":"left",S=w?"bottom":"right",A=w?"clientHeight":"clientWidth",T=s.reference[b]+s.reference[x]-g[x]-s.floating[b],C=g[x]-s.reference[x],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=E?E[A]:0;(!O||!await(o.isElement==null?void 0:o.isElement(E)))&&(O=l.floating[A]||s.floating[b]);const I=T/2-C/2,F=O/2-v[b]/2-1,W=vc(p[N],F),$=vc(p[S],F),z=W,V=O-v[b]-$,U=O/2-v[b]/2+I,te=Ck(z,U,V),Q=!c.arrow&&Mh(i)!=null&&U!==te&&s.reference[b]/2-(U<z?W:$)-v[b]/2<0,J=Q?U<z?U-z:U-V:0;return{[x]:g[x]+J,data:{[x]:te,centerOffset:U-te-J,...Q&&{alignmentOffset:J}},reset:Q}}}),Mre=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:v=!0,...w}=rl(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=il(i),S=Xs(l),A=il(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=g||(A||!v?[g0(l)]:Nre(l)),E=b!=="none";!g&&E&&C.push(...Cre(l,v,b,T));const O=[l,...C],I=await eg(t,w),F=[];let W=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&F.push(I[N]),p){const U=Sre(i,o,T);F.push(I[U[0]],I[U[1]])}if(W=[...W,{placement:i,overflows:F}],!F.every(U=>U<=0)){var $,z;const U=((($=s.flip)==null?void 0:$.index)||0)+1,te=O[U];if(te&&(!(p==="alignment"?S!==Xs(te):!1)||W.every(G=>G.overflows[0]>0&&Xs(G.placement)===S)))return{data:{index:U,overflows:W},reset:{placement:te}};let Q=(z=W.filter(J=>J.overflows[0]<=0).sort((J,G)=>J.overflows[1]-G.overflows[1])[0])==null?void 0:z.placement;if(!Q)switch(x){case"bestFit":{var V;const J=(V=W.filter(G=>{if(E){const ee=Xs(G.placement);return ee===S||ee==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ee=>ee>0).reduce((ee,X)=>ee+X,0)]).sort((G,ee)=>G[1]-ee[1])[0])==null?void 0:V[0];J&&(Q=J);break}case"initialPlacement":Q=l;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function nD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function rD(e){return bre.some(t=>e[t]>=0)}const Rre=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=rl(e,t);switch(r){case"referenceHidden":{const s=await eg(t,{...i,elementContext:"reference"}),o=nD(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rD(o)}}}case"escaped":{const s=await eg(t,{...i,altBoundary:!0}),o=nD(s,n.floating);return{data:{escapedOffsets:o,escaped:rD(o)}}}default:return{}}}}},$W=new Set(["left","top"]);async function Ire(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=il(n),l=Mh(n),c=Xs(n)==="y",u=$W.has(o)?-1:1,h=s&&c?-1:1,p=rl(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),c?{x:x*h,y:g*u}:{x:g*u,y:x*h}}const Dre=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await Ire(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Lre=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:N,y:S}=w;return{x:N,y:S}}},...c}=rl(e,t),u={x:n,y:r},h=await eg(t,c),p=Xs(il(i)),g=PE(p);let x=u[g],b=u[p];if(s){const w=g==="y"?"top":"left",N=g==="y"?"bottom":"right",S=x+h[w],A=x-h[N];x=Ck(S,x,A)}if(o){const w=p==="y"?"top":"left",N=p==="y"?"bottom":"right",S=b+h[w],A=b-h[N];b=Ck(S,b,A)}const v=l.fn({...t,[g]:x,[p]:b});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:s,[p]:o}}}}}},Fre=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=rl(e,t),h={x:n,y:r},p=Xs(i),g=PE(p);let x=h[g],b=h[p];const v=rl(l,t),w=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const A=g==="y"?"height":"width",T=s.reference[g]-s.floating[A]+w.mainAxis,C=s.reference[g]+s.reference[A]-w.mainAxis;x<T?x=T:x>C&&(x=C)}if(u){var N,S;const A=g==="y"?"width":"height",T=$W.has(il(i)),C=s.reference[p]-s.floating[A]+(T&&((N=o.offset)==null?void 0:N[p])||0)+(T?0:w.crossAxis),E=s.reference[p]+s.reference[A]+(T?0:((S=o.offset)==null?void 0:S[p])||0)-(T?w.crossAxis:0);b<C?b=C:b>E&&(b=E)}return{[g]:x,[p]:b}}}},$re=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=rl(e,t),h=await eg(t,u),p=il(i),g=Mh(i),x=Xs(i)==="y",{width:b,height:v}=s.floating;let w,N;p==="top"||p==="bottom"?(w=p,N=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(N=p,w=g==="end"?"top":"bottom");const S=v-h.top-h.bottom,A=b-h.left-h.right,T=vc(v-h[w],S),C=vc(b-h[N],A),E=!t.middlewareData.shift;let O=T,I=C;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(I=A),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=S),E&&!g){const W=ra(h.left,0),$=ra(h.right,0),z=ra(h.top,0),V=ra(h.bottom,0);x?I=b-2*(W!==0||$!==0?W+$:ra(h.left,h.right)):O=v-2*(z!==0||V!==0?z+V:ra(h.top,h.bottom))}await c({...t,availableWidth:I,availableHeight:O});const F=await o.getDimensions(l.floating);return b!==F.width||v!==F.height?{reset:{rects:!0}}:{}}}};function cw(){return typeof window<"u"}function Rh(e){return BW(e)?(e.nodeName||"").toLowerCase():"#document"}function aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function mo(e){var t;return(t=(BW(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BW(e){return cw()?e instanceof Node||e instanceof aa(e).Node:!1}function ys(e){return cw()?e instanceof Element||e instanceof aa(e).Element:!1}function co(e){return cw()?e instanceof HTMLElement||e instanceof aa(e).HTMLElement:!1}function iD(e){return!cw()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof aa(e).ShadowRoot}const Bre=new Set(["inline","contents"]);function hv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=xs(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Bre.has(i)}const zre=new Set(["table","td","th"]);function Wre(e){return zre.has(Rh(e))}const qre=[":popover-open",":modal"];function uw(e){return qre.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ure=["transform","translate","scale","rotate","perspective"],Vre=["transform","translate","scale","rotate","perspective","filter"],Hre=["paint","layout","strict","content"];function CE(e){const t=TE(),n=ys(e)?xs(e):e;return Ure.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Vre.some(r=>(n.willChange||"").includes(r))||Hre.some(r=>(n.contain||"").includes(r))}function Kre(e){let t=yc(e);for(;co(t)&&!qf(t);){if(CE(t))return t;if(uw(t))return null;t=yc(t)}return null}function TE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gre=new Set(["html","body","#document"]);function qf(e){return Gre.has(Rh(e))}function xs(e){return aa(e).getComputedStyle(e)}function dw(e){return ys(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function yc(e){if(Rh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iD(e)&&e.host||mo(e);return iD(t)?t.host:t}function zW(e){const t=yc(e);return qf(t)?e.ownerDocument?e.ownerDocument.body:e.body:co(t)&&hv(t)?t:zW(t)}function tg(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=zW(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),o=aa(i);if(s){const l=Ek(o);return t.concat(o,o.visualViewport||[],hv(i)?i:[],l&&n?tg(l):[])}return t.concat(i,tg(i,[],n))}function Ek(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function WW(e){const t=xs(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=co(e),s=i?e.offsetWidth:n,o=i?e.offsetHeight:r,l=m0(n)!==s||m0(r)!==o;return l&&(n=s,r=o),{width:n,height:r,$:l}}function EE(e){return ys(e)?e:e.contextElement}function Rf(e){const t=EE(e);if(!co(t))return ro(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=WW(t);let o=(s?m0(n.width):n.width)/r,l=(s?m0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Yre=ro(0);function qW(e){const t=aa(e);return!TE()||!t.visualViewport?Yre:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Zre(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==aa(e)?!1:t}function Vu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=EE(e);let o=ro(1);t&&(r?ys(r)&&(o=Rf(r)):o=Rf(e));const l=Zre(s,n,r)?qW(s):ro(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const g=aa(s),x=r&&ys(r)?aa(r):r;let b=g,v=Ek(b);for(;v&&r&&x!==b;){const w=Rf(v),N=v.getBoundingClientRect(),S=xs(v),A=N.left+(v.clientLeft+parseFloat(S.paddingLeft))*w.x,T=N.top+(v.clientTop+parseFloat(S.paddingTop))*w.y;c*=w.x,u*=w.y,h*=w.x,p*=w.y,c+=A,u+=T,b=aa(v),v=Ek(b)}}return v0({width:h,height:p,x:c,y:u})}function OE(e,t){const n=dw(e).scrollLeft;return t?t.left+n:Vu(mo(e)).left+n}function UW(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:OE(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function Xre(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",o=mo(r),l=t?uw(t.floating):!1;if(r===o||l&&s)return n;let c={scrollLeft:0,scrollTop:0},u=ro(1);const h=ro(0),p=co(r);if((p||!p&&!s)&&((Rh(r)!=="body"||hv(o))&&(c=dw(r)),co(r))){const x=Vu(r);u=Rf(r),h.x=x.x+r.clientLeft,h.y=x.y+r.clientTop}const g=o&&!p&&!s?UW(o,c,!0):ro(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+h.x+g.x,y:n.y*u.y-c.scrollTop*u.y+h.y+g.y}}function Qre(e){return Array.from(e.getClientRects())}function Jre(e){const t=mo(e),n=dw(e),r=e.ownerDocument.body,i=ra(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=ra(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+OE(e);const l=-n.scrollTop;return xs(r).direction==="rtl"&&(o+=ra(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:l}}function eie(e,t){const n=aa(e),r=mo(e),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=TE();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}const tie=new Set(["absolute","fixed"]);function nie(e,t){const n=Vu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=co(e)?Rf(e):ro(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=r*s.y;return{width:o,height:l,x:c,y:u}}function aD(e,t,n){let r;if(t==="viewport")r=eie(e,n);else if(t==="document")r=Jre(mo(e));else if(ys(t))r=nie(t,n);else{const i=qW(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return v0(r)}function VW(e,t){const n=yc(e);return n===t||!ys(n)||qf(n)?!1:xs(n).position==="fixed"||VW(n,t)}function rie(e,t){const n=t.get(e);if(n)return n;let r=tg(e,[],!1).filter(l=>ys(l)&&Rh(l)!=="body"),i=null;const s=xs(e).position==="fixed";let o=s?yc(e):e;for(;ys(o)&&!qf(o);){const l=xs(o),c=CE(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&tie.has(i.position)||hv(o)&&!c&&VW(e,o))?r=r.filter(h=>h!==o):i=l,o=yc(o)}return t.set(e,r),r}function iie(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[...n==="clippingAncestors"?uw(t)?[]:rie(t,this._c):[].concat(n),r],l=o[0],c=o.reduce((u,h)=>{const p=aD(t,h,i);return u.top=ra(p.top,u.top),u.right=vc(p.right,u.right),u.bottom=vc(p.bottom,u.bottom),u.left=ra(p.left,u.left),u},aD(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function aie(e){const{width:t,height:n}=WW(e);return{width:t,height:n}}function sie(e,t,n){const r=co(t),i=mo(t),s=n==="fixed",o=Vu(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=ro(0);function u(){c.x=OE(i)}if(r||!r&&!s)if((Rh(t)!=="body"||hv(i))&&(l=dw(t)),r){const x=Vu(t,!0,s,t);c.x=x.x+t.clientLeft,c.y=x.y+t.clientTop}else i&&u();s&&!r&&i&&u();const h=i&&!r&&!s?UW(i,l):ro(0),p=o.left+l.scrollLeft-c.x-h.x,g=o.top+l.scrollTop-c.y-h.y;return{x:p,y:g,width:o.width,height:o.height}}function wj(e){return xs(e).position==="static"}function sD(e,t){if(!co(e)||xs(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return mo(e)===n&&(n=n.ownerDocument.body),n}function HW(e,t){const n=aa(e);if(uw(e))return n;if(!co(e)){let i=yc(e);for(;i&&!qf(i);){if(ys(i)&&!wj(i))return i;i=yc(i)}return n}let r=sD(e,t);for(;r&&Wre(r)&&wj(r);)r=sD(r,t);return r&&qf(r)&&wj(r)&&!CE(r)?n:r||Kre(e)||n}const oie=async function(e){const t=this.getOffsetParent||HW,n=this.getDimensions,r=await n(e.floating);return{reference:sie(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function lie(e){return xs(e).direction==="rtl"}const cie={convertOffsetParentRelativeRectToViewportRelativeRect:Xre,getDocumentElement:mo,getClippingRect:iie,getOffsetParent:HW,getElementRects:oie,getClientRects:Qre,getDimensions:aie,getScale:Rf,isElement:ys,isRTL:lie};function KW(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function uie(e,t){let n=null,r;const i=mo(e);function s(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:h,top:p,width:g,height:x}=u;if(l||t(),!g||!x)return;const b=hx(p),v=hx(i.clientWidth-(h+g)),w=hx(i.clientHeight-(p+x)),N=hx(h),A={rootMargin:-b+"px "+-v+"px "+-w+"px "+-N+"px",threshold:ra(0,vc(1,c))||1};let T=!0;function C(E){const O=E[0].intersectionRatio;if(O!==c){if(!T)return o();O?o(!1,O):r=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!KW(u,e.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(C,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,A)}n.observe(e)}return o(!0),s}function die(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=EE(e),h=i||s?[...u?tg(u):[],...tg(t)]:[];h.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const p=u&&l?uie(u,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(N=>{let[S]=N;S&&S.target===u&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=x)==null||A.observe(t)})),n()}),u&&!c&&x.observe(u),x.observe(t));let b,v=c?Vu(e):null;c&&w();function w(){const N=Vu(e);v&&!KW(v,N)&&n(),v=N,b=requestAnimationFrame(w)}return n(),()=>{var N;h.forEach(S=>{i&&S.removeEventListener("scroll",n),s&&S.removeEventListener("resize",n)}),p?.(),(N=x)==null||N.disconnect(),x=null,c&&cancelAnimationFrame(b)}}const fie=Dre,hie=Lre,pie=Mre,mie=$re,gie=Rre,oD=Ore,vie=Fre,yie=(e,t,n)=>{const r=new Map,i={platform:cie,...n},s={...i.platform,_c:r};return Ere(e,t,{...i,platform:s})};var xie=typeof document<"u",bie=function(){},Jx=xie?j.useLayoutEffect:bie;function y0(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!y0(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!y0(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function GW(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function lD(e,t){const n=GW(e);return Math.round(t*n)/n}function _j(e){const t=j.useRef(e);return Jx(()=>{t.current=e}),t}function wie(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[h,p]=j.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=j.useState(r);y0(g,r)||x(r);const[b,v]=j.useState(null),[w,N]=j.useState(null),S=j.useCallback(G=>{G!==E.current&&(E.current=G,v(G))},[]),A=j.useCallback(G=>{G!==O.current&&(O.current=G,N(G))},[]),T=s||b,C=o||w,E=j.useRef(null),O=j.useRef(null),I=j.useRef(h),F=c!=null,W=_j(c),$=_j(i),z=_j(u),V=j.useCallback(()=>{if(!E.current||!O.current)return;const G={placement:t,strategy:n,middleware:g};$.current&&(G.platform=$.current),yie(E.current,O.current,G).then(ee=>{const X={...ee,isPositioned:z.current!==!1};U.current&&!y0(I.current,X)&&(I.current=X,fs.flushSync(()=>{p(X)}))})},[g,t,n,$,z]);Jx(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(G=>({...G,isPositioned:!1})))},[u]);const U=j.useRef(!1);Jx(()=>(U.current=!0,()=>{U.current=!1}),[]),Jx(()=>{if(T&&(E.current=T),C&&(O.current=C),T&&C){if(W.current)return W.current(T,C,V);V()}},[T,C,V,W,F]);const te=j.useMemo(()=>({reference:E,floating:O,setReference:S,setFloating:A}),[S,A]),Q=j.useMemo(()=>({reference:T,floating:C}),[T,C]),J=j.useMemo(()=>{const G={position:n,left:0,top:0};if(!Q.floating)return G;const ee=lD(Q.floating,h.x),X=lD(Q.floating,h.y);return l?{...G,transform:"translate("+ee+"px, "+X+"px)",...GW(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ee,top:X}},[n,l,Q.floating,h.x,h.y]);return j.useMemo(()=>({...h,update:V,refs:te,elements:Q,floatingStyles:J}),[h,V,te,Q,J])}const _ie=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?oD({element:r.current,padding:i}).fn(n):{}:r?oD({element:r,padding:i}).fn(n):{}}}},jie=(e,t)=>({...fie(e),options:[e,t]}),Sie=(e,t)=>({...hie(e),options:[e,t]}),Nie=(e,t)=>({...vie(e),options:[e,t]}),Pie=(e,t)=>({...pie(e),options:[e,t]}),Aie=(e,t)=>({...mie(e),options:[e,t]}),kie=(e,t)=>({...gie(e),options:[e,t]}),Cie=(e,t)=>({..._ie(e),options:[e,t]});var Tie="Arrow",YW=j.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return a.jsx(We.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});YW.displayName=Tie;var Eie=YW;function pv(e){const[t,n]=j.useState(void 0);return er(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var ME="Popper",[ZW,Ih]=yr(ME),[Oie,XW]=ZW(ME),QW=e=>{const{__scopePopper:t,children:n}=e,[r,i]=j.useState(null);return a.jsx(Oie,{scope:t,anchor:r,onAnchorChange:i,children:n})};QW.displayName=ME;var JW="PopperAnchor",eq=j.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=XW(JW,n),o=j.useRef(null),l=vt(t,o);return j.useEffect(()=>{s.onAnchorChange(r?.current||o.current)}),r?null:a.jsx(We.div,{...i,ref:l})});eq.displayName=JW;var RE="PopperContent",[Mie,Rie]=ZW(RE),tq=j.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...v}=e,w=XW(RE,n),[N,S]=j.useState(null),A=vt(t,fe=>S(fe)),[T,C]=j.useState(null),E=pv(T),O=E?.width??0,I=E?.height??0,F=r+(s!=="center"?"-"+s:""),W=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},$=Array.isArray(u)?u:[u],z=$.length>0,V={padding:W,boundary:$.filter(Die),altBoundary:z},{refs:U,floatingStyles:te,placement:Q,isPositioned:J,middlewareData:G}=wie({strategy:"fixed",placement:F,whileElementsMounted:(...fe)=>die(...fe,{animationFrame:x==="always"}),elements:{reference:w.anchor},middleware:[jie({mainAxis:i+I,alignmentAxis:o}),c&&Sie({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Nie():void 0,...V}),c&&Pie({...V}),Aie({...V,apply:({elements:fe,rects:_e,availableWidth:he,availableHeight:be})=>{const{width:Me,height:ve}=_e.reference,Ze=fe.floating.style;Ze.setProperty("--radix-popper-available-width",`${he}px`),Ze.setProperty("--radix-popper-available-height",`${be}px`),Ze.setProperty("--radix-popper-anchor-width",`${Me}px`),Ze.setProperty("--radix-popper-anchor-height",`${ve}px`)}}),T&&Cie({element:T,padding:l}),Lie({arrowWidth:O,arrowHeight:I}),g&&kie({strategy:"referenceHidden",...V})]}),[ee,X]=iq(Q),q=yi(b);er(()=>{J&&q?.()},[J,q]);const H=G.arrow?.x,ne=G.arrow?.y,se=G.arrow?.centerOffset!==0,[de,me]=j.useState();return er(()=>{N&&me(window.getComputedStyle(N).zIndex)},[N]),a.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:J?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Mie,{scope:n,placedSide:ee,onArrowChange:C,arrowX:H,arrowY:ne,shouldHideArrow:se,children:a.jsx(We.div,{"data-side":ee,"data-align":X,...v,ref:A,style:{...v.style,animation:J?void 0:"none"}})})})});tq.displayName=RE;var nq="PopperArrow",Iie={top:"bottom",right:"left",bottom:"top",left:"right"},rq=j.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=Rie(nq,r),o=Iie[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Eie,{...i,ref:n,style:{...i.style,display:"block"}})})});rq.displayName=nq;function Die(e){return e!==null}var Lie=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,h]=iq(n),p={start:"0%",center:"50%",end:"100%"}[h],g=(i.arrow?.x??0)+l/2,x=(i.arrow?.y??0)+c/2;let b="",v="";return u==="bottom"?(b=o?p:`${g}px`,v=`${-c}px`):u==="top"?(b=o?p:`${g}px`,v=`${r.floating.height+c}px`):u==="right"?(b=`${-c}px`,v=o?p:`${x}px`):u==="left"&&(b=`${r.floating.width+c}px`,v=o?p:`${x}px`),{data:{x:b,y:v}}}});function iq(e){const[t,n="center"]=e.split("-");return[t,n]}var IE=QW,DE=eq,LE=tq,FE=rq,[fw]=yr("Tooltip",[Ih]),hw=Ih(),aq="TooltipProvider",Fie=700,Ok="tooltip.open",[$ie,$E]=fw(aq),sq=e=>{const{__scopeTooltip:t,delayDuration:n=Fie,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,o=j.useRef(!0),l=j.useRef(!1),c=j.useRef(0);return j.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx($ie,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:j.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:j.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};sq.displayName=aq;var ng="Tooltip",[Bie,pw]=fw(ng),oq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=$E(ng,e.__scopeTooltip),u=hw(t),[h,p]=j.useState(null),g=Ia(),x=j.useRef(0),b=o??c.disableHoverableContent,v=l??c.delayDuration,w=j.useRef(!1),[N,S]=la({prop:r,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(Ok))):c.onClose(),s?.(O)},caller:ng}),A=j.useMemo(()=>N?w.current?"delayed-open":"instant-open":"closed",[N]),T=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,S(!0)},[S]),C=j.useCallback(()=>{window.clearTimeout(x.current),x.current=0,S(!1)},[S]),E=j.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,S(!0),x.current=0},v)},[v,S]);return j.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),a.jsx(IE,{...u,children:a.jsx(Bie,{scope:t,contentId:g,open:N,stateAttribute:A,trigger:h,onTriggerChange:p,onTriggerEnter:j.useCallback(()=>{c.isOpenDelayedRef.current?E():T()},[c.isOpenDelayedRef,E,T]),onTriggerLeave:j.useCallback(()=>{b?C():(window.clearTimeout(x.current),x.current=0)},[C,b]),onOpen:T,onClose:C,disableHoverableContent:b,children:n})})};oq.displayName=ng;var Mk="TooltipTrigger",lq=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=pw(Mk,n),s=$E(Mk,n),o=hw(n),l=j.useRef(null),c=vt(t,l,i.onTriggerChange),u=j.useRef(!1),h=j.useRef(!1),p=j.useCallback(()=>u.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(DE,{asChild:!0,...o,children:a.jsx(We.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:c,onPointerMove:De(e.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:De(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:De(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:De(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:De(e.onBlur,i.onClose),onClick:De(e.onClick,i.onClose)})})});lq.displayName=Mk;var zie="TooltipPortal",[EBe,Wie]=fw(zie,{forceMount:void 0}),Uf="TooltipContent",cq=j.forwardRef((e,t)=>{const n=Wie(Uf,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,o=pw(Uf,e.__scopeTooltip);return a.jsx(Di,{present:r||o.open,children:o.disableHoverableContent?a.jsx(uq,{side:i,...s,ref:t}):a.jsx(qie,{side:i,...s,ref:t})})}),qie=j.forwardRef((e,t)=>{const n=pw(Uf,e.__scopeTooltip),r=$E(Uf,e.__scopeTooltip),i=j.useRef(null),s=vt(t,i),[o,l]=j.useState(null),{trigger:c,onClose:u}=n,h=i.current,{onPointerInTransitChange:p}=r,g=j.useCallback(()=>{l(null),p(!1)},[p]),x=j.useCallback((b,v)=>{const w=b.currentTarget,N={x:b.clientX,y:b.clientY},S=Gie(N,w.getBoundingClientRect()),A=Yie(N,S),T=Zie(v.getBoundingClientRect()),C=Qie([...A,...T]);l(C),p(!0)},[p]);return j.useEffect(()=>()=>g(),[g]),j.useEffect(()=>{if(c&&h){const b=w=>x(w,h),v=w=>x(w,c);return c.addEventListener("pointerleave",b),h.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",b),h.removeEventListener("pointerleave",v)}}},[c,h,x,g]),j.useEffect(()=>{if(o){const b=v=>{const w=v.target,N={x:v.clientX,y:v.clientY},S=c?.contains(w)||h?.contains(w),A=!Xie(N,o);S?g():A&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,h,o,u,g]),a.jsx(uq,{...e,ref:s})}),[Uie,Vie]=fw(ng,{isInside:!1}),Hie=U8("TooltipContent"),uq=j.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=pw(Uf,n),u=hw(n),{onClose:h}=c;return j.useEffect(()=>(document.addEventListener(Ok,h),()=>document.removeEventListener(Ok,h)),[h]),j.useEffect(()=>{if(c.trigger){const p=g=>{g.target?.contains(c.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,h]),a.jsx(Ch,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:a.jsxs(LE,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Hie,{children:r}),a.jsx(Uie,{scope:n,isInside:!0,children:a.jsx(ite,{id:c.contentId,role:"tooltip",children:i||r})})]})})});cq.displayName=Uf;var dq="TooltipArrow",Kie=j.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=hw(n);return Vie(dq,n).isInside?null:a.jsx(FE,{...i,...r,ref:t})});Kie.displayName=dq;function Gie(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Yie(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Zie(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Xie(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,h=l.y,p=c.x,g=c.y;h>r!=g>r&&n<(p-u)*(r-h)/(g-h)+u&&(i=!i)}return i}function Qie(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Jie(t)}function Jie(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var eae=sq,tae=oq,nae=lq,fq=cq;const Vf=eae,rg=tae,ig=nae,Hf=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(fq,{ref:r,sideOffset:t,className:re("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Hf.displayName=fq.displayName;var sd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hu=typeof window>"u"||"Deno"in globalThis;function Kr(){}function rae(e,t){return typeof e=="function"?e(t):e}function Rk(e){return typeof e=="number"&&e>=0&&e!==1/0}function hq(e,t){return Math.max(e+(t||0)-Date.now(),0)}function dc(e,t){return typeof e=="function"?e(t):e}function Ea(e,t){return typeof e=="function"?e(t):e}function cD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(r){if(t.queryHash!==BE(o,t.options))return!1}else if(!ag(t.queryKey,o))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function uD(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Ku(t.options.mutationKey)!==Ku(s))return!1}else if(!ag(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function BE(e,t){return(t?.queryKeyHashFn||Ku)(e)}function Ku(e){return JSON.stringify(e,(t,n)=>Ik(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function ag(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>ag(e[n],t[n])):!1}function zE(e,t){if(e===t)return e;const n=dD(e)&&dD(t);if(n||Ik(e)&&Ik(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),o=s.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<o;h++){const p=n?h:s[h];(!n&&c.has(p)||n)&&e[p]===void 0&&t[p]===void 0?(l[p]=void 0,u++):(l[p]=zE(e[p],t[p]),l[p]===e[p]&&e[p]!==void 0&&u++)}return i===o&&u===i?e:l}return t}function x0(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function dD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ik(e){if(!fD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!fD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fD(e){return Object.prototype.toString.call(e)==="[object Object]"}function iae(e){return new Promise(t=>{setTimeout(t,e)})}function Dk(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?zE(e,t):t}function aae(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function sae(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var WE=Symbol();function pq(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===WE?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function mq(e,t){return typeof e=="function"?e(...t):!!e}var oae=class extends sd{#t;#e;#n;constructor(){super(),this.#n=e=>{if(!Hu&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},qE=new oae,lae=class extends sd{#t=!0;#e;#n;constructor(){super(),this.#n=e=>{if(!Hu&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#e||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#n=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#t}},b0=new lae;function Lk(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function cae(e){return Math.min(1e3*2**e,3e4)}function gq(e){return(e??"online")==="online"?b0.isOnline():!0}var vq=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function jj(e){return e instanceof vq}function yq(e){let t=!1,n=0,r=!1,i;const s=Lk(),o=v=>{r||(g(new vq(v)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>qE.isFocused()&&(e.networkMode==="always"||b0.isOnline())&&e.canRun(),h=()=>gq(e.networkMode)&&e.canRun(),p=v=>{r||(r=!0,e.onSuccess?.(v),i?.(),s.resolve(v))},g=v=>{r||(r=!0,e.onError?.(v),i?.(),s.reject(v))},x=()=>new Promise(v=>{i=w=>{(r||u())&&v(w)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),b=()=>{if(r)return;let v;const w=n===0?e.initialPromise:void 0;try{v=w??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(p).catch(N=>{if(r)return;const S=e.retry??(Hu?0:3),A=e.retryDelay??cae,T=typeof A=="function"?A(n,N):A,C=S===!0||typeof S=="number"&&n<S||typeof S=="function"&&S(n,N);if(t||!C){g(N);return}n++,e.onFail?.(n,N),iae(T).then(()=>u()?void 0:x()).then(()=>{t?g(N):b()})})};return{promise:s,cancel:o,continue:()=>(i?.(),s),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():x().then(b),s)}}var uae=e=>setTimeout(e,0);function dae(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=uae;const s=l=>{t?e.push(l):i(()=>{n(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Kn=dae(),xq=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Rk(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hu?1/0:300*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},fae=class extends xq{#t;#e;#n;#r;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=hae(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=Dk(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>Ea(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===WE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>dc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hq(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const c=pq(this.options,t),h=(()=>{const p={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(c,h,this):c(h)},o=(()=>{const c={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(c),c})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta});const l=c=>{jj(c)&&c.silent||this.#s({type:"error",error:c}),jj(c)||(this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this)),this.scheduleGc()};return this.#i=yq({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:c=>{if(c===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(c)}catch(u){l(u);return}this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),this.scheduleGc()},onError:l,onFail:(c,u)=>{this.#s({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#i.start()}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bq(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#e=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return jj(r)&&r.revert&&this.#e?{...this.#e,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Kn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function bq(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:gq(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function hae(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pae=class extends sd{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,n){const r=t.queryKey,i=t.queryHash??BE(r,t);let s=this.get(i);return s||(s=new fae({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Kn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>cD(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>cD(e,n)):t}notify(e){Kn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Kn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Kn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mae=class extends xq{#t;#e;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||wq(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=yq({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#e.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Kn.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function wq(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var gae=class extends sd{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#n=0}#t;#e;#n;build(e,t,n){const r=new mae({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#t.add(e);const t=px(e);if(typeof t=="string"){const n=this.#e.get(t);n?n.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=px(e);if(typeof t=="string"){const n=this.#e.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=px(e);if(typeof t=="string"){const r=this.#e.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=px(e);return typeof t=="string"?this.#e.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Kn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>uD(t,n))}findAll(e={}){return this.getAll().filter(t=>uD(e,t))}notify(e){Kn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Kn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Kr))))}};function px(e){return e.options.scope?.id}function hD(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let h=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?h=!0:t.signal.addEventListener("abort",()=>{h=!0}),t.signal)})},g=pq(t.options,t.fetchOptions),x=async(b,v,w)=>{if(h)return Promise.reject();if(v==null&&b.pages.length)return Promise.resolve(b);const S=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:v,direction:w?"backward":"forward",meta:t.options.meta};return p(E),E})(),A=await g(S),{maxPages:T}=t.options,C=w?sae:aae;return{pages:C(b.pages,A,T),pageParams:C(b.pageParams,v,T)}};if(i&&s.length){const b=i==="backward",v=b?vae:pD,w={pages:s,pageParams:o},N=v(r,w);l=await x(w,N,b)}else{const b=e??s.length;do{const v=c===0?o[0]??r.initialPageParam:pD(r,l);if(c>0&&v==null)break;l=await x(l,v),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=u}}}function pD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function vae(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var yae=class{#t;#e;#n;#r;#i;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new pae,this.#e=e.mutationCache||new gae,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=qE.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=b0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#t.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(dc(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(r.queryHash)?.state.data,o=rae(t,s);if(o!==void 0)return this.#t.build(this,r).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return Kn.batch(()=>this.#t.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Kn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#t;return Kn.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Kn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Kr).catch(Kr)}invalidateQueries(e,t={}){return Kn.batch(()=>(this.#t.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Kn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Kr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Kr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#t.build(this,t);return n.isStaleByTime(dc(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Kr).catch(Kr)}fetchInfiniteQuery(e){return e.behavior=hD(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Kr).catch(Kr)}ensureInfiniteQueryData(e){return e.behavior=hD(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return b0.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set(Ku(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{ag(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set(Ku(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{ag(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=BE(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===WE&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},UE=class extends sd{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=Lk(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#n=void 0;#r=void 0;#i;#a;#o;#s;#h;#d;#f;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),mD(this.#e,this.options)?this.#p():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fk(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fk(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,n=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ea(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!x0(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const r=this.hasListeners();r&&gD(this.#e,n,this.options,t)&&this.#p(),this.updateResult(),r&&(this.#e!==n||Ea(this.options.enabled,this.#e)!==Ea(t.enabled,this.#e)||dc(this.options.staleTime,this.#e)!==dc(t.staleTime,this.#e))&&this.#g();const i=this.#v();r&&(this.#e!==n||Ea(this.options.enabled,this.#e)!==Ea(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),n=this.createResult(t,e);return bae(this,n)&&(this.#r=n,this.#a=this.options,this.#i=this.#e.state),n}getCurrentResult(){return this.#r}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),n=this.#t.getQueryCache().build(this.#t,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#r))}#p(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Kr)),t}#g(){this.#b();const e=dc(this.options.staleTime,this.#e);if(Hu||this.#r.isStale||!Rk(e))return;const n=hq(this.#r.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#r.isStale||this.updateResult()},n)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(Hu||Ea(this.options.enabled,this.#e)===!1||!Rk(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||qE.isFocused())&&this.#p()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#e,r=this.options,i=this.#r,s=this.#i,o=this.#a,c=e!==n?e.state:this.#n,{state:u}=e;let h={...u},p=!1,g;if(t._optimisticResults){const I=this.hasListeners(),F=!I&&mD(e,t),W=I&&gD(e,n,t,r);(F||W)&&(h={...h,...bq(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:x,errorUpdatedAt:b,status:v}=h;g=h.data;let w=!1;if(t.placeholderData!==void 0&&g===void 0&&v==="pending"){let I;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=i.data,w=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,I!==void 0&&(v="success",g=Dk(i?.data,I,t),p=!0)}if(t.select&&g!==void 0&&!w)if(i&&g===s?.data&&t.select===this.#h)g=this.#d;else try{this.#h=t.select,g=t.select(g),g=Dk(i?.data,g,t),this.#d=g,this.#s=null}catch(I){this.#s=I}this.#s&&(x=this.#s,g=this.#d,b=Date.now(),v="error");const N=h.fetchStatus==="fetching",S=v==="pending",A=v==="error",T=S&&N,C=g!==void 0,O={status:v,fetchStatus:h.fetchStatus,isPending:S,isSuccess:v==="success",isError:A,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:h.dataUpdatedAt,error:x,errorUpdatedAt:b,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:N,isRefetching:N&&!S,isLoadingError:A&&!C,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:A&&C,isStale:VE(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Ea(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=$=>{O.status==="error"?$.reject(O.error):O.data!==void 0&&$.resolve(O.data)},F=()=>{const $=this.#o=O.promise=Lk();I($)},W=this.#o;switch(W.status){case"pending":e.queryHash===n.queryHash&&I(W);break;case"fulfilled":(O.status==="error"||O.data!==W.value)&&F();break;case"rejected":(O.status!=="error"||O.error!==W.reason)&&F();break}}return O}updateResult(){const e=this.#r,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#f=this.#e),x0(t,e))return;this.#r=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#m.size)return!0;const s=new Set(i??this.#m);return this.options.throwOnError&&s.add("error"),Object.keys(this.#r).some(o=>{const l=o;return this.#r[l]!==e[l]&&s.has(l)})};this.#j({listeners:n()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){Kn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#r)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function xae(e,t){return Ea(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mD(e,t){return xae(e,t)||e.state.data!==void 0&&Fk(e,t,t.refetchOnMount)}function Fk(e,t,n){if(Ea(t.enabled,e)!==!1&&dc(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&VE(e,t)}return!1}function gD(e,t,n,r){return(e!==t||Ea(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&VE(e,n)}function VE(e,t){return Ea(t.enabled,e)!==!1&&e.isStaleByTime(dc(t.staleTime,e))}function bae(e,t){return!x0(e.getCurrentResult(),t)}function vD(e,t){const n=new Set(t);return e.filter(r=>!n.has(r))}function wae(e,t,n){const r=e.slice(0);return r[t]=n,r}var _ae=class extends sd{#t;#e;#n;#r;#i;#a;#o;#s;#h=[];constructor(e,t,n){super(),this.#t=e,this.#r=n,this.#n=[],this.#i=[],this.#e=[],this.setQueries(t)}onSubscribe(){this.listeners.size===1&&this.#i.forEach(e=>{e.subscribe(t=>{this.#u(e,t)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.#i.forEach(e=>{e.destroy()})}setQueries(e,t){this.#n=e,this.#r=t,Kn.batch(()=>{const n=this.#i,r=this.#c(this.#n);this.#h=r,r.forEach(l=>l.observer.setOptions(l.defaultedQueryOptions));const i=r.map(l=>l.observer),s=i.map(l=>l.getCurrentResult()),o=i.some((l,c)=>l!==n[c]);n.length===i.length&&!o||(this.#i=i,this.#e=s,this.hasListeners()&&(vD(n,i).forEach(l=>{l.destroy()}),vD(i,n).forEach(l=>{l.subscribe(c=>{this.#u(l,c)})}),this.#l()))})}getCurrentResult(){return this.#e}getQueries(){return this.#i.map(e=>e.getCurrentQuery())}getObservers(){return this.#i}getOptimisticResult(e,t){const n=this.#c(e),r=n.map(i=>i.observer.getOptimisticResult(i.defaultedQueryOptions));return[r,i=>this.#f(i??r,t),()=>this.#d(r,n)]}#d(e,t){return t.map((n,r)=>{const i=e[r];return n.defaultedQueryOptions.notifyOnChangeProps?i:n.observer.trackResult(i,s=>{t.forEach(o=>{o.observer.trackProp(s)})})})}#f(e,t){return t?((!this.#a||this.#e!==this.#s||t!==this.#o)&&(this.#o=t,this.#s=this.#e,this.#a=zE(this.#a,t(e))),this.#a):e}#c(e){const t=new Map(this.#i.map(r=>[r.options.queryHash,r])),n=[];return e.forEach(r=>{const i=this.#t.defaultQueryOptions(r),s=t.get(i.queryHash);s?n.push({defaultedQueryOptions:i,observer:s}):n.push({defaultedQueryOptions:i,observer:new UE(this.#t,i)})}),n}#u(e,t){const n=this.#i.indexOf(e);n!==-1&&(this.#e=wae(this.#e,n,t),this.#l())}#l(){if(this.hasListeners()){const e=this.#a,t=this.#d(this.#e,this.#h),n=this.#f(t,this.#r?.combine);e!==n&&Kn.batch(()=>{this.listeners.forEach(r=>{r(this.#e)})})}}},jae=class extends sd{#t;#e=void 0;#n;#r;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),x0(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&Ku(n.mutationKey)!==Ku(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#i(),this.#a()}mutate(t,n){return this.#r=n,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#i(){const t=this.#n?.state??wq();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Kn.batch(()=>{if(this.#r&&this.hasListeners()){const n=this.#e.variables,r=this.#e.context;t?.type==="success"?(this.#r.onSuccess?.(t.data,n,r),this.#r.onSettled?.(t.data,null,n,r)):t?.type==="error"&&(this.#r.onError?.(t.error,n,r),this.#r.onSettled?.(void 0,t.error,n,r))}this.listeners.forEach(n=>{n(this.#e)})})}},_q=j.createContext(void 0),tr=e=>{const t=j.useContext(_q);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Sae=({client:e,children:t})=>(j.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(_q.Provider,{value:e,children:t})),jq=j.createContext(!1),Sq=()=>j.useContext(jq);jq.Provider;function Nae(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Pae=j.createContext(Nae()),Nq=()=>j.useContext(Pae),Pq=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},Aq=e=>{j.useEffect(()=>{e.clearReset()},[e])},kq=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||mq(n,[e.error,r])),Cq=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Tq=(e,t)=>e.isLoading&&e.isFetching&&!t,$k=(e,t)=>e?.suspense&&t.isPending,w0=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Aae({queries:e,...t},n){const r=tr(),i=Sq(),s=Nq(),o=j.useMemo(()=>e.map(v=>{const w=r.defaultQueryOptions(v);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[e,r,i]);o.forEach(v=>{Cq(v),Pq(v,s)}),Aq(s);const[l]=j.useState(()=>new _ae(r,o,t)),[c,u,h]=l.getOptimisticResult(o,t.combine),p=!i&&t.subscribed!==!1;j.useSyncExternalStore(j.useCallback(v=>p?l.subscribe(Kn.batchCalls(v)):Kr,[l,p]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),j.useEffect(()=>{l.setQueries(o,t)},[o,t,l]);const x=c.some((v,w)=>$k(o[w],v))?c.flatMap((v,w)=>{const N=o[w];if(N){const S=new UE(r,N);if($k(N,v))return w0(N,S,s);Tq(v,i)&&w0(N,S,s)}return[]}):[];if(x.length>0)throw Promise.all(x);const b=c.find((v,w)=>{const N=o[w];return N&&kq({result:v,errorResetBoundary:s,throwOnError:N.throwOnError,query:r.getQueryCache().get(N.queryHash),suspense:N.suspense})});if(b?.error)throw b.error;return u(h())}function kae(e,t,n){const r=Sq(),i=Nq(),s=tr(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=r?"isRestoring":"optimistic",Cq(o),Pq(o,i),Aq(i);const l=!s.getQueryCache().get(o.queryHash),[c]=j.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),h=!r&&e.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(p=>{const g=h?c.subscribe(Kn.batchCalls(p)):Kr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),j.useEffect(()=>{c.setOptions(o)},[o,c]),$k(o,u))throw w0(o,c,i);if(kq({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Hu&&Tq(u,r)&&(l?w0(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Kr).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ir(e,t){return kae(e,UE)}function fc(e,t){const n=tr(),[r]=j.useState(()=>new jae(n,e));j.useEffect(()=>{r.setOptions(e)},[r,e]);const i=j.useSyncExternalStore(j.useCallback(o=>r.subscribe(Kn.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=j.useCallback((o,l)=>{r.mutate(o,l).catch(Kr)},[r]);if(i.error&&mq(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function sg(){return sg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sg.apply(this,arguments)}var sc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sc||(sc={}));const yD="popstate";function Cae(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:l}=r.location;return _0("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:og(i)}return Eq(t,n,null,e)}function Tae(e){e===void 0&&(e={});function t(i,s){let{pathname:o="/",search:l="",hash:c=""}=od(i.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),_0("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof s=="string"?s:og(s))}function r(i,s){mw(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return Eq(t,n,r,e)}function Jn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mw(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Eae(){return Math.random().toString(36).substr(2,8)}function xD(e,t){return{usr:e.state,key:e.key,idx:t}}function _0(e,t,n,r){return n===void 0&&(n=null),sg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?od(t):t,{state:n,key:t&&t.key||r||Eae()})}function og(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function od(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Eq(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=sc.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(sg({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function p(){l=sc.Pop;let w=h(),N=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:N})}function g(w,N){l=sc.Push;let S=_0(v.location,w,N);n&&n(S,w),u=h()+1;let A=xD(S,u),T=v.createHref(S);try{o.pushState(A,"",T)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(T)}s&&c&&c({action:l,location:v.location,delta:1})}function x(w,N){l=sc.Replace;let S=_0(v.location,w,N);n&&n(S,w),u=h();let A=xD(S,u),T=v.createHref(S);o.replaceState(A,"",T),s&&c&&c({action:l,location:v.location,delta:0})}function b(w){let N=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof w=="string"?w:og(w);return S=S.replace(/ $/,"%20"),Jn(N,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,N)}let v={get action(){return l},get location(){return e(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(yD,p),c=w,()=>{i.removeEventListener(yD,p),c=null}},createHref(w){return t(i,w)},createURL:b,encodeLocation(w){let N=b(w);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:x,go(w){return o.go(w)}};return v}var bD;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(bD||(bD={}));function Oae(e,t,n){return n===void 0&&(n="/"),Mae(e,t,n)}function Mae(e,t,n,r){let i=typeof t=="string"?od(t):t,s=HE(i.pathname||"/",n);if(s==null)return null;let o=Oq(e);Rae(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Hae(s);l=qae(o[c],u)}return l}function Oq(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Jn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=hc([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Jn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Oq(s.children,t,h,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:zae(u,s.index),routesMeta:h})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Mq(s.path))i(s,o,c)}),t}function Mq(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Mq(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Rae(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Wae(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Iae=/^:[\w-]+$/,Dae=3,Lae=2,Fae=1,$ae=10,Bae=-2,wD=e=>e==="*";function zae(e,t){let n=e.split("/"),r=n.length;return n.some(wD)&&(r+=Bae),t&&(r+=Lae),n.filter(i=>!wD(i)).reduce((i,s)=>i+(Iae.test(s)?Dae:s===""?Fae:$ae),r)}function Wae(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function qae(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=s==="/"?t:t.slice(s.length)||"/",p=Uae({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:hc([s,p.pathname]),pathnameBase:Xae(hc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=hc([s,p.pathnameBase]))}return o}function Uae(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Vae(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,h,p)=>{let{paramName:g,isOptional:x}=h;if(g==="*"){let v=l[p]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const b=l[p];return x&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Vae(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),mw(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Hae(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return mw(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function HE(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const Kae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gae=e=>Kae.test(e);function Yae(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?od(e):e,s;if(n)if(Gae(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),mw(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=_D(n.substring(1),"/"):s=_D(n,t)}else s=t;return{pathname:s,search:Qae(r),hash:Jae(i)}}function _D(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sj(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zae(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function KE(e,t){let n=Zae(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function GE(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=od(e):(i=sg({},e),Jn(!i.pathname||!i.pathname.includes("?"),Sj("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),Sj("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),Sj("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let p=t.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=Yae(i,l),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const hc=e=>e.join("/").replace(/\/\/+/g,"/"),Xae=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Qae=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Jae=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ese(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rq=["post","put","patch","delete"];new Set(Rq);const tse=["get",...Rq];new Set(tse);function lg(){return lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lg.apply(this,arguments)}const YE=j.createContext(null),nse=j.createContext(null),kc=j.createContext(null),gw=j.createContext(null),dl=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Iq=j.createContext(null);function rse(e,t){let{relative:n}=t===void 0?{}:t;Dh()||Jn(!1);let{basename:r,navigator:i}=j.useContext(kc),{hash:s,pathname:o,search:l}=Fq(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:hc([r,o])),i.createHref({pathname:c,search:l,hash:s})}function Dh(){return j.useContext(gw)!=null}function go(){return Dh()||Jn(!1),j.useContext(gw).location}function Dq(e){j.useContext(kc).static||j.useLayoutEffect(e)}function bi(){let{isDataRoute:e}=j.useContext(dl);return e?gse():ise()}function ise(){Dh()||Jn(!1);let e=j.useContext(YE),{basename:t,future:n,navigator:r}=j.useContext(kc),{matches:i}=j.useContext(dl),{pathname:s}=go(),o=JSON.stringify(KE(i,n.v7_relativeSplatPath)),l=j.useRef(!1);return Dq(()=>{l.current=!0}),j.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let p=GE(u,JSON.parse(o),s,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:hc([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,o,s,e])}function Lq(){let{matches:e}=j.useContext(dl),t=e[e.length-1];return t?t.params:{}}function Fq(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=j.useContext(kc),{matches:i}=j.useContext(dl),{pathname:s}=go(),o=JSON.stringify(KE(i,r.v7_relativeSplatPath));return j.useMemo(()=>GE(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function ase(e,t){return sse(e,t)}function sse(e,t,n,r){Dh()||Jn(!1);let{navigator:i}=j.useContext(kc),{matches:s}=j.useContext(dl),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=go(),h;if(t){var p;let w=typeof t=="string"?od(t):t;c==="/"||(p=w.pathname)!=null&&p.startsWith(c)||Jn(!1),h=w}else h=u;let g=h.pathname||"/",x=g;if(c!=="/"){let w=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=Oae(e,{pathname:x}),v=dse(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:hc([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:hc([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return t&&v?j.createElement(gw.Provider,{value:{location:lg({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:sc.Pop}},v):v}function ose(){let e=mse(),t=ese(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),n?j.createElement("pre",{style:i},n):null,null)}const lse=j.createElement(ose,null);class cse extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?j.createElement(dl.Provider,{value:this.props.routeContext},j.createElement(Iq.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function use(e){let{routeContext:t,match:n,children:r}=e,i=j.useContext(YE);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(dl.Provider,{value:t},r)}function dse(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);h>=0||Jn(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:g,errors:x}=n,b=p.route.loader&&g[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,p,g)=>{let x,b=!1,v=null,w=null;n&&(x=l&&p.route.id?l[p.route.id]:void 0,v=p.route.errorElement||lse,c&&(u<0&&g===0?(vse("route-fallback"),b=!0,w=null):u===g&&(b=!0,w=p.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,g+1)),S=()=>{let A;return x?A=v:b?A=w:p.route.Component?A=j.createElement(p.route.Component,null):p.route.element?A=p.route.element:A=h,j.createElement(use,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:A})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?j.createElement(cse,{location:n.location,revalidation:n.revalidation,component:v,error:x,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):S()},null)}var $q=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})($q||{}),Bq=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(Bq||{});function fse(e){let t=j.useContext(YE);return t||Jn(!1),t}function hse(e){let t=j.useContext(nse);return t||Jn(!1),t}function pse(e){let t=j.useContext(dl);return t||Jn(!1),t}function zq(e){let t=pse(),n=t.matches[t.matches.length-1];return n.route.id||Jn(!1),n.route.id}function mse(){var e;let t=j.useContext(Iq),n=hse(),r=zq();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gse(){let{router:e}=fse($q.UseNavigateStable),t=zq(Bq.UseNavigateStable),n=j.useRef(!1);return Dq(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,lg({fromRouteId:t},s)))},[e,t])}const jD={};function vse(e,t,n){jD[e]||(jD[e]=!0)}function Wq(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function Yo(e){let{to:t,replace:n,state:r,relative:i}=e;Dh()||Jn(!1);let{future:s,static:o}=j.useContext(kc),{matches:l}=j.useContext(dl),{pathname:c}=go(),u=bi(),h=GE(t,KE(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(h);return j.useEffect(()=>u(JSON.parse(p),{replace:n,state:r,relative:i}),[u,p,i,n,r]),null}function wn(e){Jn(!1)}function qq(e){let{basename:t="/",children:n=null,location:r,navigationType:i=sc.Pop,navigator:s,static:o=!1,future:l}=e;Dh()&&Jn(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:o,future:lg({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof r=="string"&&(r=od(r));let{pathname:h="/",search:p="",hash:g="",state:x=null,key:b="default"}=r,v=j.useMemo(()=>{let w=HE(h,c);return w==null?null:{location:{pathname:w,search:p,hash:g,state:x,key:b},navigationType:i}},[c,h,p,g,x,b,i]);return v==null?null:j.createElement(kc.Provider,{value:u},j.createElement(gw.Provider,{children:n,value:v}))}function yse(e){let{children:t,location:n}=e;return ase(Bk(t),n)}new Promise(()=>{});function Bk(e,t){t===void 0&&(t=[]);let n=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let s=[...t,i];if(r.type===j.Fragment){n.push.apply(n,Bk(r.props.children,s));return}r.type!==wn&&Jn(!1),!r.props.index||!r.props.children||Jn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Bk(r.props.children,s)),n.push(o)}),n}function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zk.apply(this,arguments)}function xse(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function bse(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wse(e,t){return e.button===0&&(!t||t==="_self")&&!bse(e)}function Wk(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function _se(e,t){let n=Wk(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const jse=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sse="6";try{window.__reactRouterVersion=Sse}catch{}const Nse="startTransition",j0=mE[Nse];function Pse(e){let{basename:t,children:n,future:r,window:i}=e,s=j.useRef();s.current==null&&(s.current=Cae({window:i,v5Compat:!0}));let o=s.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=j.useCallback(p=>{u&&j0?j0(()=>c(p)):c(p)},[c,u]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>Wq(r),[r]),j.createElement(qq,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}function Ase(e){let{basename:t,children:n,future:r,window:i}=e,s=j.useRef();s.current==null&&(s.current=Tae({window:i,v5Compat:!0}));let o=s.current,[l,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=j.useCallback(p=>{u&&j0?j0(()=>c(p)):c(p)},[c,u]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>Wq(r),[r]),j.createElement(qq,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const kse=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cse=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Nn=j.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:h,viewTransition:p}=t,g=xse(t,jse),{basename:x}=j.useContext(kc),b,v=!1;if(typeof u=="string"&&Cse.test(u)&&(b=u,kse))try{let A=new URL(window.location.href),T=u.startsWith("//")?new URL(A.protocol+u):new URL(u),C=HE(T.pathname,x);T.origin===A.origin&&C!=null?u=C+T.search+T.hash:v=!0}catch{}let w=rse(u,{relative:i}),N=Tse(u,{replace:o,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:p});function S(A){r&&r(A),A.defaultPrevented||N(A)}return j.createElement("a",zk({},g,{href:b||w,onClick:v||s?r:S,ref:n,target:c}))});var SD;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(SD||(SD={}));var ND;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ND||(ND={}));function Tse(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=bi(),u=go(),h=Fq(e,{relative:o});return j.useCallback(p=>{if(wse(p,n)){p.preventDefault();let g=r!==void 0?r:og(u)===og(h);c(e,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,h,r,i,n,e,s,o,l])}function Uq(e){let t=j.useRef(Wk(e)),n=j.useRef(!1),r=go(),i=j.useMemo(()=>_se(r.search,n.current?null:t.current),[r.search]),s=bi(),o=j.useCallback((l,c)=>{const u=Wk(typeof l=="function"?l(i):l);n.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function Gu(){if(typeof window>"u")return!1;const e=window.location.origin,t=window.location.href,n=window.location.protocol;if(e==="capacitor://localhost"||t.startsWith("capacitor://")||n==="capacitor:")return!0;const r=navigator.userAgent||"",i=/iPhone|iPad|iPod/.test(r),s=/Android/.test(r);return!!((i||s)&&!n.startsWith("http"))}const vw=Object.freeze(Object.defineProperty({__proto__:null,isNative:Gu},Symbol.toStringTag,{value:"Module"})),Ot=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Ot.displayName="Card";const Ye=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex flex-col space-y-1.5 p-6",e),...t}));Ye.displayName="CardHeader";const Je=j.forwardRef(({className:e,...t},n)=>a.jsx("h3",{ref:n,className:re("text-2xl font-semibold leading-none tracking-tight",e),...t}));Je.displayName="CardTitle";const kr=j.forwardRef(({className:e,...t},n)=>a.jsx("p",{ref:n,className:re("text-sm text-muted-foreground",e),...t}));kr.displayName="CardDescription";const $e=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("p-6 pt-0",e),...t}));$e.displayName="CardContent";const Ese=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("flex items-center p-6 pt-0",e),...t}));Ese.displayName="CardFooter";const et=j.forwardRef(({className:e,...t},n)=>{const{variant:r,animated:i,hover:s,glowIntensity:o,...l}=t;return a.jsx(Ot,{ref:n,className:re(e),...l})});et.displayName="GlassCard";const ZE=Th("inline-flex items-center justify-center gap-1.5 whitespace-nowrap rounded text-xs font-medium uppercase tracking-wide ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-3.5 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary/20 hover:bg-primary/90",destructive:"bg-destructive/10 text-destructive border border-destructive/30 hover:bg-destructive/20",outline:"border border-border bg-transparent hover:bg-muted/50 text-foreground",secondary:"bg-secondary/50 text-secondary-foreground border border-border hover:bg-secondary/70",ghost:"hover:bg-muted/50 text-muted-foreground hover:text-foreground",link:"text-accent underline-offset-4 hover:underline",control:"bg-card border border-border text-foreground hover:border-accent/50 hover:text-accent",controlActive:"bg-accent/10 border border-accent/40 text-accent"},size:{default:"h-8 px-3 py-1.5",sm:"h-7 px-2.5 py-1",lg:"h-9 px-4 py-2",icon:"h-8 w-8",xs:"h-6 px-2 py-0.5 text-[10px]"}},defaultVariants:{variant:"default",size:"default"}}),Se=j.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const o=r?Iee:"button";return a.jsx(o,{className:re(ZE({variant:t,size:n,className:e})),ref:s,...i})});Se.displayName="Button";class Ose extends j.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("[ErrorBoundary] Caught an error:",t,n)}render(){return this.state.hasError?a.jsx("div",{className:"min-h-[100svh] flex items-center justify-center p-4 bg-background",children:a.jsxs(et,{className:"max-w-md w-full",children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ni,{className:"h-5 w-5 text-destructive"}),a.jsx(Je,{children:"Something went wrong"})]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&a.jsxs("details",{className:"text-xs text-muted-foreground",children:[a.jsx("summary",{className:"cursor-pointer mb-2",children:"Error details"}),a.jsx("pre",{className:"mt-2 p-2 bg-muted rounded overflow-auto",children:this.state.error.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{onClick:()=>{this.setState({hasError:!1,error:null}),window.location.reload()},className:"flex-1",children:"Refresh Page"}),a.jsx(Se,{variant:"outline",onClick:()=>{this.setState({hasError:!1,error:null}),window.location.href="/dashboard"},className:"flex-1",children:"Go to Dashboard"})]})]})]})}):this.props.children}}const Mse="modulepreload",Rse=function(e){return"/"+e},PD={},bs=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(u){return Promise.all(u.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=c(n.map(u=>{if(u=Rse(u),u in PD)return;PD[u]=!0;const h=u.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":Mse,h||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),h)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return i.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function Vq(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ise}=Object.prototype,{getPrototypeOf:XE}=Object,{iterator:yw,toStringTag:Hq}=Symbol,xw=(e=>t=>{const n=Ise.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ns=e=>(e=e.toLowerCase(),t=>xw(t)===e),bw=e=>t=>typeof t===e,{isArray:Lh}=Array,Kf=bw("undefined");function mv(e){return e!==null&&!Kf(e)&&e.constructor!==null&&!Kf(e.constructor)&&Mi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Kq=Ns("ArrayBuffer");function Dse(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Kq(e.buffer),t}const Lse=bw("string"),Mi=bw("function"),Gq=bw("number"),gv=e=>e!==null&&typeof e=="object",Fse=e=>e===!0||e===!1,e0=e=>{if(xw(e)!=="object")return!1;const t=XE(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Hq in e)&&!(yw in e)},$se=e=>{if(!gv(e)||mv(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Bse=Ns("Date"),zse=Ns("File"),Wse=Ns("Blob"),qse=Ns("FileList"),Use=e=>gv(e)&&Mi(e.pipe),Vse=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Mi(e.append)&&((t=xw(e))==="formdata"||t==="object"&&Mi(e.toString)&&e.toString()==="[object FormData]"))},Hse=Ns("URLSearchParams"),[Kse,Gse,Yse,Zse]=["ReadableStream","Request","Response","Headers"].map(Ns),Xse=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vv(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Lh(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{if(mv(e))return;const s=n?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(r=0;r<o;r++)l=s[r],t.call(null,e[l],l,e)}}function Yq(e,t){if(mv(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const ku=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Zq=e=>!Kf(e)&&e!==ku;function qk(){const{caseless:e,skipUndefined:t}=Zq(this)&&this||{},n={},r=(i,s)=>{const o=e&&Yq(n,s)||s;e0(n[o])&&e0(i)?n[o]=qk(n[o],i):e0(i)?n[o]=qk({},i):Lh(i)?n[o]=i.slice():(!t||!Kf(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&vv(arguments[i],r);return n}const Qse=(e,t,n,{allOwnKeys:r}={})=>(vv(t,(i,s)=>{n&&Mi(i)?e[s]=Vq(i,n):e[s]=i},{allOwnKeys:r}),e),Jse=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),eoe=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toe=(e,t,n,r)=>{let i,s,o;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=n!==!1&&XE(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},noe=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},roe=e=>{if(!e)return null;if(Lh(e))return e;let t=e.length;if(!Gq(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},ioe=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&XE(Uint8Array)),aoe=(e,t)=>{const r=(e&&e[yw]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},soe=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},ooe=Ns("HTMLFormElement"),loe=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),AD=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),coe=Ns("RegExp"),Xq=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};vv(n,(i,s)=>{let o;(o=t(i,s,e))!==!1&&(r[s]=o||i)}),Object.defineProperties(e,r)},uoe=e=>{Xq(e,(t,n)=>{if(Mi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Mi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},doe=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Lh(e)?r(e):r(String(e).split(t)),n},foe=()=>{},hoe=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function poe(e){return!!(e&&Mi(e.append)&&e[Hq]==="FormData"&&e[yw])}const moe=e=>{const t=new Array(10),n=(r,i)=>{if(gv(r)){if(t.indexOf(r)>=0)return;if(mv(r))return r;if(!("toJSON"in r)){t[i]=r;const s=Lh(r)?[]:{};return vv(r,(o,l)=>{const c=n(o,i+1);!Kf(c)&&(s[l]=c)}),t[i]=void 0,s}}return r};return n(e,0)},goe=Ns("AsyncFunction"),voe=e=>e&&(gv(e)||Mi(e))&&Mi(e.then)&&Mi(e.catch),Qq=((e,t)=>e?setImmediate:t?((n,r)=>(ku.addEventListener("message",({source:i,data:s})=>{i===ku&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),ku.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Mi(ku.postMessage)),yoe=typeof queueMicrotask<"u"?queueMicrotask.bind(ku):typeof process<"u"&&process.nextTick||Qq,xoe=e=>e!=null&&Mi(e[yw]),xe={isArray:Lh,isArrayBuffer:Kq,isBuffer:mv,isFormData:Vse,isArrayBufferView:Dse,isString:Lse,isNumber:Gq,isBoolean:Fse,isObject:gv,isPlainObject:e0,isEmptyObject:$se,isReadableStream:Kse,isRequest:Gse,isResponse:Yse,isHeaders:Zse,isUndefined:Kf,isDate:Bse,isFile:zse,isBlob:Wse,isRegExp:coe,isFunction:Mi,isStream:Use,isURLSearchParams:Hse,isTypedArray:ioe,isFileList:qse,forEach:vv,merge:qk,extend:Qse,trim:Xse,stripBOM:Jse,inherits:eoe,toFlatObject:toe,kindOf:xw,kindOfTest:Ns,endsWith:noe,toArray:roe,forEachEntry:aoe,matchAll:soe,isHTMLForm:ooe,hasOwnProperty:AD,hasOwnProp:AD,reduceDescriptors:Xq,freezeMethods:uoe,toObjectSet:doe,toCamelCase:loe,noop:foe,toFiniteNumber:hoe,findKey:Yq,global:ku,isContextDefined:Zq,isSpecCompliantForm:poe,toJSONObject:moe,isAsyncFn:goe,isThenable:voe,setImmediate:Qq,asap:yoe,isIterable:xoe};function Pt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}xe.inherits(Pt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:xe.toJSONObject(this.config),code:this.code,status:this.status}}});const Jq=Pt.prototype,eU={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{eU[e]={value:e}});Object.defineProperties(Pt,eU);Object.defineProperty(Jq,"isAxiosError",{value:!0});Pt.from=(e,t,n,r,i,s)=>{const o=Object.create(Jq);xe.toFlatObject(e,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const l=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Pt.call(o,l,c,n,r,i),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",s&&Object.assign(o,s),o};const boe=null;function Uk(e){return xe.isPlainObject(e)||xe.isArray(e)}function tU(e){return xe.endsWith(e,"[]")?e.slice(0,-2):e}function kD(e,t,n){return e?e.concat(t).map(function(i,s){return i=tU(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function woe(e){return xe.isArray(e)&&!e.some(Uk)}const _oe=xe.toFlatObject(xe,{},null,function(t){return/^is[A-Z]/.test(t)});function ww(e,t,n){if(!xe.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=xe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!xe.isUndefined(w[v])});const r=n.metaTokens,i=n.visitor||h,s=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&xe.isSpecCompliantForm(t);if(!xe.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(xe.isDate(b))return b.toISOString();if(xe.isBoolean(b))return b.toString();if(!c&&xe.isBlob(b))throw new Pt("Blob is not supported. Use a Buffer instead.");return xe.isArrayBuffer(b)||xe.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,v,w){let N=b;if(b&&!w&&typeof b=="object"){if(xe.endsWith(v,"{}"))v=r?v:v.slice(0,-2),b=JSON.stringify(b);else if(xe.isArray(b)&&woe(b)||(xe.isFileList(b)||xe.endsWith(v,"[]"))&&(N=xe.toArray(b)))return v=tU(v),N.forEach(function(A,T){!(xe.isUndefined(A)||A===null)&&t.append(o===!0?kD([v],T,s):o===null?v:v+"[]",u(A))}),!1}return Uk(b)?!0:(t.append(kD(w,v,s),u(b)),!1)}const p=[],g=Object.assign(_oe,{defaultVisitor:h,convertValue:u,isVisitable:Uk});function x(b,v){if(!xe.isUndefined(b)){if(p.indexOf(b)!==-1)throw Error("Circular reference detected in "+v.join("."));p.push(b),xe.forEach(b,function(N,S){(!(xe.isUndefined(N)||N===null)&&i.call(t,N,xe.isString(S)?S.trim():S,v,g))===!0&&x(N,v?v.concat(S):[S])}),p.pop()}}if(!xe.isObject(e))throw new TypeError("data must be an object");return x(e),t}function CD(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function QE(e,t){this._pairs=[],e&&ww(e,this,t)}const nU=QE.prototype;nU.append=function(t,n){this._pairs.push([t,n])};nU.toString=function(t){const n=t?function(r){return t.call(this,r,CD)}:CD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function joe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function rU(e,t,n){if(!t)return e;const r=n&&n.encode||joe;xe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(t,n):s=xe.isURLSearchParams(t)?t.toString():new QE(t,n).toString(r),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class TD{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){xe.forEach(this.handlers,function(r){r!==null&&t(r)})}}const iU={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Soe=typeof URLSearchParams<"u"?URLSearchParams:QE,Noe=typeof FormData<"u"?FormData:null,Poe=typeof Blob<"u"?Blob:null,Aoe={isBrowser:!0,classes:{URLSearchParams:Soe,FormData:Noe,Blob:Poe},protocols:["http","https","file","blob","url","data"]},JE=typeof window<"u"&&typeof document<"u",Vk=typeof navigator=="object"&&navigator||void 0,koe=JE&&(!Vk||["ReactNative","NativeScript","NS"].indexOf(Vk.product)<0),Coe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Toe=JE&&window.location.href||"http://localhost",Eoe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:JE,hasStandardBrowserEnv:koe,hasStandardBrowserWebWorkerEnv:Coe,navigator:Vk,origin:Toe},Symbol.toStringTag,{value:"Module"})),Zr={...Eoe,...Aoe};function Ooe(e,t){return ww(e,new Zr.classes.URLSearchParams,{visitor:function(n,r,i,s){return Zr.isNode&&xe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...t})}function Moe(e){return xe.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Roe(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function aU(e){function t(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=n.length;return o=!o&&xe.isArray(i)?i.length:o,c?(xe.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!l):((!i[o]||!xe.isObject(i[o]))&&(i[o]=[]),t(n,r,i[o],s)&&xe.isArray(i[o])&&(i[o]=Roe(i[o])),!l)}if(xe.isFormData(e)&&xe.isFunction(e.entries)){const n={};return xe.forEachEntry(e,(r,i)=>{t(Moe(r),i,n,0)}),n}return null}function Ioe(e,t,n){if(xe.isString(e))try{return(t||JSON.parse)(e),xe.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const yv={transitional:iU,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=xe.isObject(t);if(s&&xe.isHTMLForm(t)&&(t=new FormData(t)),xe.isFormData(t))return i?JSON.stringify(aU(t)):t;if(xe.isArrayBuffer(t)||xe.isBuffer(t)||xe.isStream(t)||xe.isFile(t)||xe.isBlob(t)||xe.isReadableStream(t))return t;if(xe.isArrayBufferView(t))return t.buffer;if(xe.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ooe(t,this.formSerializer).toString();if((l=xe.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return ww(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),Ioe(t)):t}],transformResponse:[function(t){const n=this.transitional||yv.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(xe.isResponse(t)||xe.isReadableStream(t))return t;if(t&&xe.isString(t)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t,this.parseReviver)}catch(l){if(o)throw l.name==="SyntaxError"?Pt.from(l,Pt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};xe.forEach(["delete","get","head","post","put","patch"],e=>{yv.headers[e]={}});const Doe=xe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Loe=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||t[n]&&Doe[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ED=Symbol("internals");function tm(e){return e&&String(e).trim().toLowerCase()}function t0(e){return e===!1||e==null?e:xe.isArray(e)?e.map(t0):String(e)}function Foe(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const $oe=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Nj(e,t,n,r,i){if(xe.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!xe.isString(t)){if(xe.isString(r))return t.indexOf(r)!==-1;if(xe.isRegExp(r))return r.test(t)}}function Boe(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function zoe(e,t){const n=xe.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,o){return this[r].call(this,t,i,s,o)},configurable:!0})})}let Ri=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(l,c,u){const h=tm(c);if(!h)throw new Error("header name must be a non-empty string");const p=xe.findKey(i,h);(!p||i[p]===void 0||u===!0||u===void 0&&i[p]!==!1)&&(i[p||c]=t0(l))}const o=(l,c)=>xe.forEach(l,(u,h)=>s(u,h,c));if(xe.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(xe.isString(t)&&(t=t.trim())&&!$oe(t))o(Loe(t),n);else if(xe.isObject(t)&&xe.isIterable(t)){let l={},c,u;for(const h of t){if(!xe.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?xe.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(l,n)}else t!=null&&s(n,t,r);return this}get(t,n){if(t=tm(t),t){const r=xe.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return Foe(i);if(xe.isFunction(n))return n.call(this,i,r);if(xe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=tm(t),t){const r=xe.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Nj(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(o){if(o=tm(o),o){const l=xe.findKey(r,o);l&&(!n||Nj(r,r[l],l,n))&&(delete r[l],i=!0)}}return xe.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||Nj(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return xe.forEach(this,(i,s)=>{const o=xe.findKey(r,s);if(o){n[o]=t0(i),delete n[s];return}const l=t?Boe(s):String(s).trim();l!==s&&delete n[s],n[l]=t0(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return xe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&xe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[ED]=this[ED]={accessors:{}}).accessors,i=this.prototype;function s(o){const l=tm(o);r[l]||(zoe(i,o),r[l]=!0)}return xe.isArray(t)?t.forEach(s):s(t),this}};Ri.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);xe.reduceDescriptors(Ri.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});xe.freezeMethods(Ri);function Pj(e,t){const n=this||yv,r=t||n,i=Ri.from(r.headers);let s=r.data;return xe.forEach(e,function(l){s=l.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function sU(e){return!!(e&&e.__CANCEL__)}function Fh(e,t,n){Pt.call(this,e??"canceled",Pt.ERR_CANCELED,t,n),this.name="CanceledError"}xe.inherits(Fh,Pt,{__CANCEL__:!0});function oU(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Pt("Request failed with status code "+n.status,[Pt.ERR_BAD_REQUEST,Pt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Woe(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function qoe(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=r[s];o||(o=u),n[i]=c,r[i]=u;let p=s,g=0;for(;p!==i;)g+=n[p++],p=p%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-o<t)return;const x=h&&u-h;return x?Math.round(g*1e3/x):void 0}}function Uoe(e,t){let n=0,r=1e3/t,i,s;const o=(u,h=Date.now())=>{n=h,i=null,s&&(clearTimeout(s),s=null),e(...u)};return[(...u)=>{const h=Date.now(),p=h-n;p>=r?o(u,h):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},r-p)))},()=>i&&o(i)]}const S0=(e,t,n=3)=>{let r=0;const i=qoe(50,250);return Uoe(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-r,u=i(c),h=o<=l;r=o;const p={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(p)},n)},OD=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},MD=e=>(...t)=>xe.asap(()=>e(...t)),Voe=Zr.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Zr.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,Hoe=Zr.hasStandardBrowserEnv?{write(e,t,n,r,i,s,o){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];xe.isNumber(n)&&l.push(`expires=${new Date(n).toUTCString()}`),xe.isString(r)&&l.push(`path=${r}`),xe.isString(i)&&l.push(`domain=${i}`),s===!0&&l.push("secure"),xe.isString(o)&&l.push(`SameSite=${o}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Koe(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Goe(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function lU(e,t,n){let r=!Koe(t);return e&&(r||n==!1)?Goe(e,t):t}const RD=e=>e instanceof Ri?{...e}:e;function Yu(e,t){t=t||{};const n={};function r(u,h,p,g){return xe.isPlainObject(u)&&xe.isPlainObject(h)?xe.merge.call({caseless:g},u,h):xe.isPlainObject(h)?xe.merge({},h):xe.isArray(h)?h.slice():h}function i(u,h,p,g){if(xe.isUndefined(h)){if(!xe.isUndefined(u))return r(void 0,u,p,g)}else return r(u,h,p,g)}function s(u,h){if(!xe.isUndefined(h))return r(void 0,h)}function o(u,h){if(xe.isUndefined(h)){if(!xe.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,p){if(p in t)return r(u,h);if(p in e)return r(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,h,p)=>i(RD(u),RD(h),p,!0)};return xe.forEach(Object.keys({...e,...t}),function(h){const p=c[h]||i,g=p(e[h],t[h],h);xe.isUndefined(g)&&p!==l||(n[h]=g)}),n}const cU=e=>{const t=Yu({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:l}=t;if(t.headers=o=Ri.from(o),t.url=rU(lU(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),xe.isFormData(n)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(xe.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,p])=>{u.includes(h.toLowerCase())&&o.set(h,p)})}}if(Zr.hasStandardBrowserEnv&&(r&&xe.isFunction(r)&&(r=r(t)),r||r!==!1&&Voe(t.url))){const c=i&&s&&Hoe.read(s);c&&o.set(i,c)}return t},Yoe=typeof XMLHttpRequest<"u",Zoe=Yoe&&function(e){return new Promise(function(n,r){const i=cU(e);let s=i.data;const o=Ri.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,h,p,g,x,b;function v(){x&&x(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function N(){if(!w)return;const A=Ri.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),C={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:A,config:e,request:w};oU(function(O){n(O),v()},function(O){r(O),v()},C),w=null}"onloadend"in w?w.onloadend=N:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(N)},w.onabort=function(){w&&(r(new Pt("Request aborted",Pt.ECONNABORTED,e,w)),w=null)},w.onerror=function(T){const C=T&&T.message?T.message:"Network Error",E=new Pt(C,Pt.ERR_NETWORK,e,w);E.event=T||null,r(E),w=null},w.ontimeout=function(){let T=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||iU;i.timeoutErrorMessage&&(T=i.timeoutErrorMessage),r(new Pt(T,C.clarifyTimeoutError?Pt.ETIMEDOUT:Pt.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&xe.forEach(o.toJSON(),function(T,C){w.setRequestHeader(C,T)}),xe.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),l&&l!=="json"&&(w.responseType=i.responseType),u&&([g,b]=S0(u,!0),w.addEventListener("progress",g)),c&&w.upload&&([p,x]=S0(c),w.upload.addEventListener("progress",p),w.upload.addEventListener("loadend",x)),(i.cancelToken||i.signal)&&(h=A=>{w&&(r(!A||A.type?new Fh(null,e,w):A),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const S=Woe(i.url);if(S&&Zr.protocols.indexOf(S)===-1){r(new Pt("Unsupported protocol "+S+":",Pt.ERR_BAD_REQUEST,e));return}w.send(s||null)})},Xoe=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const s=function(u){if(!i){i=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof Pt?h:new Fh(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,s(new Pt(`timeout ${t} of ms exceeded`,Pt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=r;return c.unsubscribe=()=>xe.asap(l),c}},Qoe=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},Joe=async function*(e,t){for await(const n of ele(e))yield*Qoe(n,t)},ele=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},ID=(e,t,n,r)=>{const i=Joe(e,t);let s=0,o,l=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await i.next();if(u){l(),c.close();return}let p=h.byteLength;if(n){let g=s+=p;n(g)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},DD=64*1024,{isFunction:mx}=xe,tle=(({Request:e,Response:t})=>({Request:e,Response:t}))(xe.global),{ReadableStream:LD,TextEncoder:FD}=xe.global,$D=(e,...t)=>{try{return!!e(...t)}catch{return!1}},nle=e=>{e=xe.merge.call({skipUndefined:!0},tle,e);const{fetch:t,Request:n,Response:r}=e,i=t?mx(t):typeof fetch=="function",s=mx(n),o=mx(r);if(!i)return!1;const l=i&&mx(LD),c=i&&(typeof FD=="function"?(b=>v=>b.encode(v))(new FD):async b=>new Uint8Array(await new n(b).arrayBuffer())),u=s&&l&&$D(()=>{let b=!1;const v=new n(Zr.origin,{body:new LD,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!v}),h=o&&l&&$D(()=>xe.isReadableStream(new r("").body)),p={stream:h&&(b=>b.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!p[b]&&(p[b]=(v,w)=>{let N=v&&v[b];if(N)return N.call(v);throw new Pt(`Response type '${b}' is not supported`,Pt.ERR_NOT_SUPPORT,w)})});const g=async b=>{if(b==null)return 0;if(xe.isBlob(b))return b.size;if(xe.isSpecCompliantForm(b))return(await new n(Zr.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(xe.isArrayBufferView(b)||xe.isArrayBuffer(b))return b.byteLength;if(xe.isURLSearchParams(b)&&(b=b+""),xe.isString(b))return(await c(b)).byteLength},x=async(b,v)=>{const w=xe.toFiniteNumber(b.getContentLength());return w??g(v)};return async b=>{let{url:v,method:w,data:N,signal:S,cancelToken:A,timeout:T,onDownloadProgress:C,onUploadProgress:E,responseType:O,headers:I,withCredentials:F="same-origin",fetchOptions:W}=cU(b),$=t||fetch;O=O?(O+"").toLowerCase():"text";let z=Xoe([S,A&&A.toAbortSignal()],T),V=null;const U=z&&z.unsubscribe&&(()=>{z.unsubscribe()});let te;try{if(E&&u&&w!=="get"&&w!=="head"&&(te=await x(I,N))!==0){let q=new n(v,{method:"POST",body:N,duplex:"half"}),H;if(xe.isFormData(N)&&(H=q.headers.get("content-type"))&&I.setContentType(H),q.body){const[ne,se]=OD(te,S0(MD(E)));N=ID(q.body,DD,ne,se)}}xe.isString(F)||(F=F?"include":"omit");const Q=s&&"credentials"in n.prototype,J={...W,signal:z,method:w.toUpperCase(),headers:I.normalize().toJSON(),body:N,duplex:"half",credentials:Q?F:void 0};V=s&&new n(v,J);let G=await(s?$(V,W):$(v,J));const ee=h&&(O==="stream"||O==="response");if(h&&(C||ee&&U)){const q={};["status","statusText","headers"].forEach(de=>{q[de]=G[de]});const H=xe.toFiniteNumber(G.headers.get("content-length")),[ne,se]=C&&OD(H,S0(MD(C),!0))||[];G=new r(ID(G.body,DD,ne,()=>{se&&se(),U&&U()}),q)}O=O||"text";let X=await p[xe.findKey(p,O)||"text"](G,b);return!ee&&U&&U(),await new Promise((q,H)=>{oU(q,H,{data:X,headers:Ri.from(G.headers),status:G.status,statusText:G.statusText,config:b,request:V})})}catch(Q){throw U&&U(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Pt("Network Error",Pt.ERR_NETWORK,b,V),{cause:Q.cause||Q}):Pt.from(Q,Q&&Q.code,b,V)}}},rle=new Map,uU=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:i}=t,s=[r,i,n];let o=s.length,l=o,c,u,h=rle;for(;l--;)c=s[l],u=h.get(c),u===void 0&&h.set(c,u=l?new Map:nle(t)),h=u;return u};uU();const e2={http:boe,xhr:Zoe,fetch:{get:uU}};xe.forEach(e2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const BD=e=>`- ${e}`,ile=e=>xe.isFunction(e)||e===null||e===!1;function ale(e,t){e=xe.isArray(e)?e:[e];const{length:n}=e;let r,i;const s={};for(let o=0;o<n;o++){r=e[o];let l;if(i=r,!ile(r)&&(i=e2[(l=String(r)).toLowerCase()],i===void 0))throw new Pt(`Unknown adapter '${l}'`);if(i&&(xe.isFunction(i)||(i=i.get(t))))break;s[l||"#"+o]=i}if(!i){const o=Object.entries(s).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let l=n?o.length>1?`since :
`+o.map(BD).join(`
`):" "+BD(o[0]):"as no adapter specified";throw new Pt("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return i}const dU={getAdapter:ale,adapters:e2};function Aj(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Fh(null,e)}function zD(e){return Aj(e),e.headers=Ri.from(e.headers),e.data=Pj.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),dU.getAdapter(e.adapter||yv.adapter,e)(e).then(function(r){return Aj(e),r.data=Pj.call(e,e.transformResponse,r),r.headers=Ri.from(r.headers),r},function(r){return sU(r)||(Aj(e),r&&r.response&&(r.response.data=Pj.call(e,e.transformResponse,r.response),r.response.headers=Ri.from(r.response.headers))),Promise.reject(r)})}const fU="1.13.2",_w={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{_w[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const WD={};_w.transitional=function(t,n,r){function i(s,o){return"[Axios v"+fU+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,l)=>{if(t===!1)throw new Pt(i(o," has been removed"+(n?" in "+n:"")),Pt.ERR_DEPRECATED);return n&&!WD[o]&&(WD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,o,l):!0}};_w.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function sle(e,t,n){if(typeof e!="object")throw new Pt("options must be an object",Pt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new Pt("option "+s+" must be "+c,Pt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pt("Unknown option "+s,Pt.ERR_BAD_OPTION)}}const n0={assertOptions:sle,validators:_w},qs=n0.validators;let Du=class{constructor(t){this.defaults=t||{},this.interceptors={request:new TD,response:new TD}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Yu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&n0.assertOptions(r,{silentJSONParsing:qs.transitional(qs.boolean),forcedJSONParsing:qs.transitional(qs.boolean),clarifyTimeoutError:qs.transitional(qs.boolean)},!1),i!=null&&(xe.isFunction(i)?n.paramsSerializer={serialize:i}:n0.assertOptions(i,{encode:qs.function,serialize:qs.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),n0.assertOptions(n,{baseUrl:qs.spelling("baseURL"),withXsrfToken:qs.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&xe.merge(s.common,s[n.method]);s&&xe.forEach(["delete","get","head","post","put","patch","common"],b=>{delete s[b]}),n.headers=Ri.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,p=0,g;if(!c){const b=[zD.bind(this),void 0];for(b.unshift(...l),b.push(...u),g=b.length,h=Promise.resolve(n);p<g;)h=h.then(b[p++],b[p++]);return h}g=l.length;let x=n;for(;p<g;){const b=l[p++],v=l[p++];try{x=b(x)}catch(w){v.call(this,w);break}}try{h=zD.call(this,x)}catch(b){return Promise.reject(b)}for(p=0,g=u.length;p<g;)h=h.then(u[p++],u[p++]);return h}getUri(t){t=Yu(this.defaults,t);const n=lU(t.baseURL,t.url,t.allowAbsoluteUrls);return rU(n,t.params,t.paramsSerializer)}};xe.forEach(["delete","get","head","options"],function(t){Du.prototype[t]=function(n,r){return this.request(Yu(r||{},{method:t,url:n,data:(r||{}).data}))}});xe.forEach(["post","put","patch"],function(t){function n(r){return function(s,o,l){return this.request(Yu(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Du.prototype[t]=n(),Du.prototype[t+"Form"]=n(!0)});let ole=class hU{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(l=>{r.subscribe(l),s=l}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},t(function(s,o,l){r.reason||(r.reason=new Fh(s,o,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new hU(function(i){t=i}),cancel:t}}};function lle(e){return function(n){return e.apply(null,n)}}function cle(e){return xe.isObject(e)&&e.isAxiosError===!0}const Hk={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hk).forEach(([e,t])=>{Hk[t]=e});function pU(e){const t=new Du(e),n=Vq(Du.prototype.request,t);return xe.extend(n,Du.prototype,t,{allOwnKeys:!0}),xe.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return pU(Yu(e,i))},n}const mn=pU(yv);mn.Axios=Du;mn.CanceledError=Fh;mn.CancelToken=ole;mn.isCancel=sU;mn.VERSION=fU;mn.toFormData=ww;mn.AxiosError=Pt;mn.Cancel=mn.CanceledError;mn.all=function(t){return Promise.all(t)};mn.spread=lle;mn.isAxiosError=cle;mn.mergeConfig=Yu;mn.AxiosHeaders=Ri;mn.formToJSON=e=>aU(xe.isHTMLForm(e)?new FormData(e):e);mn.getAdapter=dU.getAdapter;mn.HttpStatusCode=Hk;mn.default=mn;const{Axios:IBe,AxiosError:DBe,CanceledError:LBe,isCancel:FBe,CancelToken:$Be,VERSION:BBe,all:zBe,Cancel:WBe,isAxiosError:qBe,spread:UBe,toFormData:VBe,AxiosHeaders:ule,HttpStatusCode:HBe,formToJSON:KBe,getAdapter:GBe,mergeConfig:YBe}=mn;function Zt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ws(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function xc(e,t){const n=Zt(e);return isNaN(t)?ws(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Kk(e,t){const n=Zt(e);if(isNaN(t))return ws(e,NaN);if(!t)return n;const r=n.getDate(),i=ws(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const mU=6048e5,dle=864e5,gU=6e4,vU=36e5;let fle={};function xv(){return fle}function Gn(e,t){const n=xv(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Zt(e),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function N0(e){return Gn(e,{weekStartsOn:1})}function yU(e){const t=Zt(e),n=t.getFullYear(),r=ws(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=N0(r),s=ws(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=N0(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function Gf(e){const t=Zt(e);return t.setHours(0,0,0,0),t}function qD(e){const t=Zt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function hle(e,t){const n=Gf(e),r=Gf(t),i=+n-qD(n),s=+r-qD(r);return Math.round((i-s)/dle)}function ple(e){const t=yU(e),n=ws(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),N0(n)}function jw(e,t){const n=t*7;return xc(e,n)}function mle(e){return ws(e,Date.now())}function gle(e,t){const n=Gf(e),r=Gf(t);return+n==+r}function vle(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yle(e){if(!vle(e)&&typeof e!="number")return!1;const t=Zt(e);return!isNaN(Number(t))}function xU(e){const t=Zt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function t2(e,t){const n=Zt(e.start),r=Zt(e.end);let i=+n>+r;const s=i?+n:+r,o=i?r:n;o.setHours(0,0,0,0);let l=1;const c=[];for(;+o<=s;)c.push(Zt(o)),o.setDate(o.getDate()+l),o.setHours(0,0,0,0);return i?c.reverse():c}function xle(e,t){const n=Zt(e.start),r=Zt(e.end);let i=+n>+r;const s=Gn(i?r:n,t),o=Gn(i?n:r,t);s.setHours(15),o.setHours(15);const l=+o.getTime();let c=s,u=t?.step??1;if(!u)return[];u<0&&(u=-u,i=!i);const h=[];for(;+c<=l;)c.setHours(0),h.push(Zt(c)),c=jw(c,u),c.setHours(15);return i?h.reverse():h}function n2(e){const t=Zt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ble(e){const t=Zt(e),n=ws(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Zu(e,t){const n=xv(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=Zt(e),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}const wle={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_le=(e,t,n)=>{let r;const i=wle[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function kj(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jle={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sle={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nle={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ple={date:kj({formats:jle,defaultWidth:"full"}),time:kj({formats:Sle,defaultWidth:"full"}),dateTime:kj({formats:Nle,defaultWidth:"full"})},Ale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},kle=(e,t,n,r)=>Ale[e];function nm(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n?.width?String(n.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n?.width?String(n.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Cle={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tle={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ele={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ole={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Mle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rle={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ile=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Dle={ordinalNumber:Ile,era:nm({values:Cle,defaultWidth:"wide"}),quarter:nm({values:Tle,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nm({values:Ele,defaultWidth:"wide"}),day:nm({values:Ole,defaultWidth:"wide"}),dayPeriod:nm({values:Mle,defaultWidth:"wide",formattingValues:Rle,defaultFormattingWidth:"wide"})};function rm(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Fle(l,p=>p.test(o)):Lle(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const h=t.slice(o.length);return{value:u,rest:h}}}function Lle(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Fle(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function $le(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const Ble=/^(\d+)(th|st|nd|rd)?/i,zle=/\d+/i,Wle={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},qle={any:[/^b/i,/^(a|c)/i]},Ule={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Vle={any:[/1/i,/2/i,/3/i,/4/i]},Hle={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Kle={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Gle={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Yle={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zle={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xle={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Qle={ordinalNumber:$le({matchPattern:Ble,parsePattern:zle,valueCallback:e=>parseInt(e,10)}),era:rm({matchPatterns:Wle,defaultMatchWidth:"wide",parsePatterns:qle,defaultParseWidth:"any"}),quarter:rm({matchPatterns:Ule,defaultMatchWidth:"wide",parsePatterns:Vle,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rm({matchPatterns:Hle,defaultMatchWidth:"wide",parsePatterns:Kle,defaultParseWidth:"any"}),day:rm({matchPatterns:Gle,defaultMatchWidth:"wide",parsePatterns:Yle,defaultParseWidth:"any"}),dayPeriod:rm({matchPatterns:Zle,defaultMatchWidth:"any",parsePatterns:Xle,defaultParseWidth:"any"})},Jle={code:"en-US",formatDistance:_le,formatLong:Ple,formatRelative:kle,localize:Dle,match:Qle,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ece(e){const t=Zt(e);return hle(t,ble(t))+1}function tce(e){const t=Zt(e),n=+N0(t)-+ple(t);return Math.round(n/mU)+1}function bU(e,t){const n=Zt(e),r=n.getFullYear(),i=xv(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=ws(e,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const l=Gn(o,t),c=ws(e,0);c.setFullYear(r,0,s),c.setHours(0,0,0,0);const u=Gn(c,t);return n.getTime()>=l.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function nce(e,t){const n=xv(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=bU(e,t),s=ws(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Gn(s,t)}function wU(e,t){const n=Zt(e),r=+Gn(n,t)-+nce(n,t);return Math.round(r/mU)+1}function Qt(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Jl={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return Qt(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Qt(n+1,2)},d(e,t){return Qt(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Qt(e.getHours()%12||12,t.length)},H(e,t){return Qt(e.getHours(),t.length)},m(e,t){return Qt(e.getMinutes(),t.length)},s(e,t){return Qt(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Qt(i,t.length)}},of={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UD={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Jl.y(e,t)},Y:function(e,t,n,r){const i=bU(e,r),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return Qt(o,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):Qt(s,t.length)},R:function(e,t){const n=yU(e);return Qt(n,t.length)},u:function(e,t){const n=e.getFullYear();return Qt(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Qt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Qt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Jl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return Qt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=wU(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Qt(i,t.length)},I:function(e,t,n){const r=tce(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):Qt(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Jl.d(e,t)},D:function(e,t,n){const r=ece(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Qt(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Qt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Qt(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return Qt(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=of.noon:r===0?i=of.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=of.evening:r>=12?i=of.afternoon:r>=4?i=of.morning:i=of.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Jl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Jl.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Qt(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):Qt(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Jl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Jl.s(e,t)},S:function(e,t){return Jl.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return HD(r);case"XXXX":case"XX":return xu(r);default:return xu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return HD(r);case"xxxx":case"xx":return xu(r);default:return xu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+VD(r,":");default:return"GMT"+xu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+VD(r,":");default:return"GMT"+xu(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return Qt(r,t.length)},T:function(e,t,n){const r=e.getTime();return Qt(r,t.length)}};function VD(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+Qt(s,2)}function HD(e,t){return e%60===0?(e>0?"-":"+")+Qt(Math.abs(e)/60,2):xu(e,t)}function xu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Qt(Math.trunc(r/60),2),s=Qt(r%60,2);return n+i+t+s}const KD=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},_U=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},rce=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return KD(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",KD(r,t)).replace("{{time}}",_U(i,t))},ice={p:_U,P:rce},ace=/^D+$/,sce=/^Y+$/,oce=["D","DD","YY","YYYY"];function lce(e){return ace.test(e)}function cce(e){return sce.test(e)}function uce(e,t,n){const r=dce(e,t,n);if(console.warn(r),oce.includes(e))throw new RangeError(r)}function dce(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const fce=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hce=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,pce=/^'([^]*?)'?$/,mce=/''/g,gce=/[a-zA-Z]/;function Ne(e,t,n){const r=xv(),i=r.locale??Jle,s=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,o=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,l=Zt(e);if(!yle(l))throw new RangeError("Invalid time value");let c=t.match(hce).map(h=>{const p=h[0];if(p==="p"||p==="P"){const g=ice[p];return g(h,i.formatLong)}return h}).join("").match(fce).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const p=h[0];if(p==="'")return{isToken:!1,value:vce(h)};if(UD[p])return{isToken:!0,value:h};if(p.match(gce))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(h=>{if(!h.isToken)return h.value;const p=h.value;(cce(p)||lce(p))&&uce(p,t,String(e));const g=UD[p[0]];return g(l,p,i.localize,u)}).join("")}function vce(e){const t=e.match(pce);return t?t[1].replace(mce,"'"):e}function Gk(e,t){const n=Zt(e),r=Zt(t);return+n<+r}function yce(e){return+Zt(e)<Date.now()}function xce(e,t){const n=Zt(e),r=Zt(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Wo(e){return gle(e,mle(e))}function jU(e,t){const n=+Zt(e),[r,i]=[+Zt(t.start),+Zt(t.end)].sort((s,o)=>s-o);return n>=r&&n<=i}function jn(e,t){return xc(e,-t)}function or(e,t){const r=jce(e);let i;if(r.date){const c=Sce(r.date,2);i=Nce(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(r.time&&(o=Pce(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(l=Ace(r.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+l)}const gx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},bce=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,wce=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,_ce=/^([+-])(\d{2})(?::?(\d{2}))?$/;function jce(e){const t={},n=e.split(gx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],gx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(gx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=gx.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function Sce(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function Nce(e,t){if(t===null)return new Date(NaN);const n=e.match(bce);if(!n)return new Date(NaN);const r=!!n[4],i=im(n[1]),s=im(n[2])-1,o=im(n[3]),l=im(n[4]),c=im(n[5])-1;if(r)return Oce(t,l,c)?kce(t,l,c):new Date(NaN);{const u=new Date(0);return!Tce(t,s,o)||!Ece(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,o)),u)}}function im(e){return e?parseInt(e):1}function Pce(e){const t=e.match(wce);if(!t)return NaN;const n=Cj(t[1]),r=Cj(t[2]),i=Cj(t[3]);return Mce(n,r,i)?n*vU+r*gU+i*1e3:NaN}function Cj(e){return e&&parseFloat(e.replace(",","."))||0}function Ace(e){if(e==="Z")return 0;const t=e.match(_ce);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return Rce(r,i)?n*(r*vU+i*gU):NaN}function kce(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const Cce=[31,null,31,30,31,30,31,31,30,31,30,31];function SU(e){return e%400===0||e%4===0&&e%100!==0}function Tce(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Cce[t]||(SU(e)?29:28))}function Ece(e,t){return t>=1&&t<=(SU(e)?366:365)}function Oce(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function Mce(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function Rce(e,t){return t>=0&&t<=59}function GD(e,t){return Kk(e,-t)}function NU(e,t){return jw(e,-1)}function Ii(){return typeof window>"u"?!1:!!window.location.hostname.includes("lovable")}const Us=new Date,PU=[{id:"mock-1",date:Ne(jn(Us,1),"yyyy-MM-dd"),sport:"running",title:"Morning Easy Run",duration:45,distance:8.2,avgPace:"5:29/km",avgHeartRate:142,elevation:85,trainingLoad:55,source:"strava",workout_id:"mock-workout-1",coachFeedback:"Good easy effort. Heart rate stayed in Zone 2 for 85% of the run. Nice negative split in the second half."},{id:"mock-2",date:Ne(jn(Us,2),"yyyy-MM-dd"),sport:"cycling",title:"Tempo Intervals",duration:75,distance:42,avgPace:"33.6 km/h",avgHeartRate:158,avgPower:245,elevation:320,trainingLoad:95,source:"strava",workout_id:"mock-workout-2",coachFeedback:"Strong tempo work. Power output was consistent across all intervals. Consider 2-3 more watts next session.",normalizedPower:250,intensityFactor:.85,effortSource:"power"},{id:"mock-3",date:Ne(jn(Us,3),"yyyy-MM-dd"),sport:"running",title:"Threshold Intervals",duration:55,distance:10.5,avgPace:"5:14/km",avgHeartRate:165,elevation:45,trainingLoad:78,source:"strava",workout_id:"mock-workout-3",coachFeedback:"Executed the workout as planned. Recovery between intervals was adequate. You handled the cumulative fatigue well.",effortSource:"pace"},{id:"mock-4",date:Ne(jn(Us,5),"yyyy-MM-dd"),sport:"running",title:"Long Run",duration:95,distance:18.2,avgPace:"5:13/km",avgHeartRate:148,elevation:180,trainingLoad:120,source:"strava",workout_id:"mock-workout-4",coachFeedback:"Excellent long run execution. Pacing was well controlled - you resisted the urge to go out too fast.",effortSource:"hr"},{id:"mock-5",date:Ne(jn(Us,6),"yyyy-MM-dd"),sport:"cycling",title:"Recovery Spin",duration:40,distance:22,avgPace:"33.0 km/h",avgHeartRate:118,avgPower:145,elevation:65,trainingLoad:25,source:"strava",workout_id:"mock-workout-5"},{id:"mock-6",date:Ne(jn(Us,7),"yyyy-MM-dd"),sport:"swimming",title:"Pool Swim - Technique Focus",duration:50,distance:2,avgPace:"2:30/100m",avgHeartRate:135,elevation:0,trainingLoad:40,source:"strava",workout_id:"mock-workout-6",coachFeedback:"Good technique work. Focus on catch phase and body rotation. Maintain this form in open water."},{id:"mock-7",date:Ne(jn(Us,8),"yyyy-MM-dd"),sport:"running",title:"Track Workout - 400m Repeats",duration:60,distance:12,avgPace:"4:45/km",avgHeartRate:172,elevation:15,trainingLoad:88,source:"strava",workout_id:"mock-workout-7",coachFeedback:"Strong track session. Intervals were consistent and well-paced. Recovery was appropriate between efforts.",effortSource:"pace"},{id:"mock-8",date:Ne(jn(Us,9),"yyyy-MM-dd"),sport:"cycling",title:"Hill Repeats",duration:90,distance:38,avgPace:"25.3 km/h",avgHeartRate:162,avgPower:280,elevation:850,trainingLoad:110,source:"strava",workout_id:"mock-workout-8",coachFeedback:"Excellent power output on the climbs. Maintained good cadence throughout. Consider adding one more repeat next time.",normalizedPower:285,intensityFactor:.92,effortSource:"power"},{id:"mock-9",date:Ne(jn(Us,10),"yyyy-MM-dd"),sport:"running",title:"Easy Recovery Run",duration:35,distance:6.5,avgPace:"5:23/km",avgHeartRate:138,elevation:30,trainingLoad:35,source:"strava",workout_id:"mock-workout-9",coachFeedback:"Perfect recovery pace. Keep these runs truly easy to maximize adaptation from harder sessions.",effortSource:"hr"},{id:"mock-10",date:Ne(jn(Us,12),"yyyy-MM-dd"),sport:"triathlon",title:"Brick Workout - Bike + Run",duration:120,distance:50,avgPace:"30.0 km/h",avgHeartRate:155,avgPower:220,elevation:200,trainingLoad:105,source:"strava",workout_id:"mock-workout-10",coachFeedback:"Good brick session. Transition run felt smooth. This type of training is crucial for race day performance."}],Ur=new Date,r2=[{id:"session-1",date:Ne(jn(Ur,1),"yyyy-MM-dd"),time:"07:00",type:"running",title:"Easy Run",duration_minutes:45,distance_km:8,intensity:"Zone 2",status:"planned",notes:"Steady aerobic run at conversational pace"},{id:"session-2",date:Ne(jn(Ur,2),"yyyy-MM-dd"),time:"18:00",type:"cycling",title:"Tempo Intervals",duration_minutes:75,distance_km:40,intensity:"Sweet Spot",status:"planned",notes:"3x12 minutes at sweet spot power with 5 min recovery"},{id:"session-3",date:Ne(jn(Ur,3),"yyyy-MM-dd"),time:"17:30",type:"running",title:"Threshold Intervals",duration_minutes:55,distance_km:10.5,intensity:"Threshold",status:"planned",notes:"5x3 minutes at threshold pace with 2 min recovery"},{id:"session-4",date:Ne(jn(Ur,5),"yyyy-MM-dd"),time:"08:00",type:"running",title:"Long Run",duration_minutes:95,distance_km:18,intensity:"Zone 2",status:"planned",notes:"Build aerobic endurance with controlled long run"},{id:"session-5",date:Ne(jn(Ur,6),"yyyy-MM-dd"),time:"10:00",type:"cycling",title:"Recovery Spin",duration_minutes:40,distance_km:22,intensity:"Very Easy",status:"planned",notes:"Active recovery - keep it easy"},{id:"session-6",date:Ne(jn(Ur,7),"yyyy-MM-dd"),time:"06:30",type:"swimming",title:"Pool Swim - Technique Focus",duration_minutes:50,distance_km:2,intensity:"Moderate",status:"planned",notes:"Focus on catch phase and body rotation"},{id:"session-7",date:Ne(jn(Ur,8),"yyyy-MM-dd"),time:"19:00",type:"running",title:"Track Workout - 400m Repeats",duration_minutes:60,distance_km:12,intensity:"VO2max",status:"planned",notes:"8x400m at 5K pace with 90s recovery"},{id:"session-8",date:Ne(jn(Ur,9),"yyyy-MM-dd"),time:"14:00",type:"cycling",title:"Hill Repeats",duration_minutes:90,distance_km:38,intensity:"Threshold",status:"planned",notes:"5x5 minutes hill repeats at threshold power"},{id:"session-9",date:Ne(jn(Ur,10),"yyyy-MM-dd"),time:"17:00",type:"running",title:"Easy Recovery Run",duration_minutes:35,distance_km:6.5,intensity:"Zone 1",status:"planned",notes:"Very easy recovery run - keep heart rate low"},{id:"session-10",date:Ne(jn(Ur,12),"yyyy-MM-dd"),time:"08:00",type:"triathlon",title:"Brick Workout - Bike + Run",duration_minutes:120,distance_km:50,intensity:"Moderate",status:"planned",notes:"60 min bike + 20 min transition run"},{id:"session-today",date:Ne(Ur,"yyyy-MM-dd"),time:"18:00",type:"running",title:"Easy Run",duration_minutes:50,distance_km:9,intensity:"Zone 2",status:"planned",notes:"Steady aerobic run at conversational pace"},{id:"session-tomorrow",date:Ne(xc(Ur,1),"yyyy-MM-dd"),time:"17:30",type:"cycling",title:"Sweet Spot Intervals",duration_minutes:75,distance_km:45,intensity:"Sweet Spot",status:"planned",notes:"3x12 minutes at sweet spot power (88-93% FTP)"},{id:"session-day-after",date:Ne(xc(Ur,2),"yyyy-MM-dd"),time:"07:00",type:"running",title:"Recovery Jog",duration_minutes:30,distance_km:5,intensity:"Very Easy",status:"planned",notes:"Very easy recovery run. Walk breaks are fine."}];function Ice(e){let t,n;e?(t=new Date(e),n=new Date(t),n.setDate(t.getDate()+6)):(t=Gn(Ur,{weekStartsOn:1}),n=Zu(Ur,{weekStartsOn:1}));const r=Ne(t,"yyyy-MM-dd"),i=Ne(n,"yyyy-MM-dd");return r2.filter(s=>{const o=s.date;return o>=r&&o<=i})}function Dce(){const e=Ne(Ur,"yyyy-MM-dd");return r2.filter(t=>t.date===e)}const $h=()=>{const e=typeof window<"u"&&(window.location.protocol==="capacitor:"||window.location.origin==="capacitor://localhost"||window.location.href.startsWith("capacitor://"));if(typeof window<"u"&&console.log("[API] Environment check:",{isCapacitor:e,protocol:window.location.protocol,origin:window.location.origin,href:window.location.href.substring(0,50),hasViteApiUrl:!0,isProd:!0,isDev:!1}),e){const t="https://virtus-ai.onrender.com";return console.log("[API] Using base URL (Capacitor):",t),t}{if(window.location.origin==="capacitor://localhost"||window.location.href.startsWith("capacitor://")){const n="https://virtus-ai.onrender.com";return console.log("[API] Using base URL (Capacitor, detected in PROD path):",n),n}const t="https://virtus-ai.onrender.com";return console.log("[API] Using base URL:",t),t}};function Lce(e){const t=(e.duration||30)*60,n=5,r=Math.ceil(t/n),i=[],s=[],o=[],l=[],c=[],u=[],h=[],p=[],g=e.avgHeartRate||145,x=e.avgPower||200,b=(e.distance||10)*1e3,v=e.elevation||100;let w=5.5;if(e.avgPace&&e.avgPace.includes(":")){const[A,T]=e.avgPace.split(":").map(C=>parseFloat(C));!isNaN(A)&&!isNaN(T)&&(w=A+T/60)}const N=37.7749,S=-122.4194;for(let A=0;A<r;A++){const T=A*n,C=T/t;i.push(T);const E=C*.01+Math.sin(A*.1)*.001,O=C*.015+Math.cos(A*.1)*.001;s.push([N+E,S+O]),u.push(Math.round(C*b));const I=Math.sin(C*Math.PI*2)*(v/3),F=(Math.random()-.5)*5;o.push(Math.max(0,Math.round(100+I+F)));const W=Math.sin(C*Math.PI*4)*8,$=(Math.random()-.5)*6,z=C*5;if(c.push(Math.round(g+W+$+z)),Math.random()>.02){const Q=Math.sin(C*Math.PI*3)*.3,J=(Math.random()-.5)*.2,G=o[A]>(o[A-1]||100)?.15:-.05;l.push(Math.max(3,w+Q+J+G))}else l.push(null);if(e.avgPower||e.sport==="cycling"){const Q=Math.sin(C*Math.PI*5)*30,J=(Math.random()-.5)*20,G=o[A]>(o[A-1]||100)?25:-10;h.push(Math.max(50,Math.round(x+Q+J+G)))}const V=e.sport==="cycling"?85:175,U=Math.sin(C*Math.PI*6)*5,te=(Math.random()-.5)*4;p.push(Math.round(V+U+te))}return{time:i,route_points:s,elevation:o,pace:l,heartrate:c,distance:u,data_points:r,...h.length>0?{power:h}:{},cadence:p}}const nt=mn.create({baseURL:$h(),withCredentials:!Gu(),timeout:3e4}),xm=e=>{if(!e||typeof e!="object")return!1;const t=e;return!!(t.code==="ERR_NETWORK"||t.message&&(t.message.includes("CORS")||t.message.includes("Cross-Origin")||t.message.includes("Access-Control-Allow-Origin"))||t.response?.status===500&&t.code==="ERR_NETWORK")},Sw=async()=>{console.log("[API] Initiating Strava connect");try{const e=await nt.get("/auth/strava"),t=e.redirect_url||e.oauth_url||e.url;if(!t)throw new Error("Backend did not return OAuth URL");console.log("[API] Redirecting to Strava OAuth URL"),window.location.href=t}catch(e){throw console.error("[API] Failed to initiate Strava connect:",e),e}},Fce=async()=>{console.log("[API] Disconnecting Strava");try{const e=await nt.post("/auth/strava/disconnect");if((e&&typeof e=="object"?e:{}).connected===!1){console.log("[API] Strava disconnected successfully (connected: false)");return}console.log("[API] Strava disconnected successfully (HTTP 200)")}catch(e){const t=e;if(t.status&&t.status>=500)throw console.error("[API] Failed to disconnect Strava (server error):",e),e;if(t.status&&t.status<500){const n=t;if(n.details&&typeof n.details=="object"&&n.details.connected===!1){console.log("[API] Strava already disconnected (connected: false in error response)");return}console.log("[API] Strava disconnect treated as success (4xx error, likely already disconnected)");return}throw console.error("[API] Failed to disconnect Strava (unknown error):",e),e}},$ce=async()=>{console.log("[API] Initiating Google connect");try{const e=$h(),t=typeof window<"u"&&(window.location.protocol==="capacitor:"||window.location.origin==="capacitor://localhost"||window.location.href.startsWith("capacitor://")),n=new URLSearchParams;n.set("platform",t?"mobile":"web"),t&&n.set("redirect_uri","athletespace://auth/callback");const r=`${e}/auth/google/login?${n.toString()}`;if(console.log("[API] Google OAuth redirect URL:",r),console.log("[API] API base URL:",e),console.log("[API] Platform:",t?"mobile":"web"),typeof window<"u"){const i=window.location.origin;if(r.startsWith(i)){const s=`[API] CRITICAL: Google OAuth URL points to frontend domain (${i}) instead of backend! This will cause OAuth failures. URL: ${r}`;throw console.error(s),new Error("Google OAuth URL must point to backend domain, not frontend. Check VITE_API_URL configuration.")}}console.log("[API] Redirecting to Google OAuth URL:",r),window.location.href=r}catch(e){throw console.error("[API] Failed to initiate Google connect:",e),e}},cg=async()=>{console.log("[API] Fetching user profile (optional)");try{const e=await nt.get("/me/profile");return!e||typeof e!="object"?(console.warn("[API] /me/profile returned invalid response:",e),null):e}catch(e){if(!xm(e)&&(console.warn("[API] Failed to fetch profile (this is optional):",e),e&&typeof e=="object"&&"status"in e)){const t=e;if(t.status===500){const n=(t.message||"").toLowerCase();return(n.includes("column")&&n.includes("does not exist")||n.includes("programmingerror")||n.includes("database"))&&console.warn("[API] Database schema error detected. Profile endpoint unavailable."),console.warn("[API] /me/profile returned 500 - treating as optional and returning null"),null}if(t.status===404)return console.log("[API] Profile not found (404) - user needs to complete onboarding"),null;if(t.status===401)return console.log("[API] Not authenticated (401) - profile unavailable"),null}return null}},AU=async e=>{console.log("[API] Updating user profile");try{const t={};e.name!==void 0&&(t.name=e.name),e.email!==void 0&&(t.email=e.email),e.gender!==void 0&&(t.gender=e.gender);const n=e.date_of_birth||e.dateOfBirth;n!==void 0&&(t.date_of_birth=n);const r=e.unit_system||e.unitSystem;r!==void 0&&(t.unit_system=r);const i=e.weight_lbs,s=e.weight_kg;if(i!=null)t.weight_lbs=Number(i.toFixed(1));else if(s!=null)t.weight_kg=Number(s.toFixed(1));else{const p=e.weight;if(p!=null){const g=typeof p=="number"?p:parseFloat(String(p));isNaN(g)||(r==="imperial"?t.weight_lbs=Number(g.toFixed(1)):t.weight_kg=Number(g.toFixed(1)))}}const o=e.height_in,l=e.height_cm;if(o!=null)t.height_in=Number(o.toFixed(1));else if(l!=null)t.height_cm=Number(l.toFixed(1));else{const p=e.height;if(p!=null){const g=typeof p=="number"?p:parseFloat(String(p));isNaN(g)||(r==="imperial"?t.height_in=Number(g.toFixed(1)):t.height_cm=Number(g.toFixed(1)))}}e.location!==void 0&&(t.location=e.location);const c=e.target_event||e.targetEvent;c!==void 0&&(t.target_event=c),e.goals!==void 0&&(t.goals=e.goals);const u=e.race_input;return u!==void 0&&(t.race_input=u),await nt.put("/me/profile",t)}catch(t){if(console.error("[API] Failed to update profile:",t),t&&typeof t=="object"&&"message"in t){const n=String(t.message);(n.includes("years_training")||n.includes("UndefinedColumn"))&&console.warn("[API] Backend database schema issue detected - years_training column missing. This is a backend issue that needs to be fixed.")}throw t}},Bce=async()=>{console.log("[API] Fetching training preferences");try{return await nt.get("/me/training-preferences")}catch(e){throw console.error("[API] Failed to fetch training preferences:",e),e}},zce=async e=>{console.log("[API] Completing onboarding");try{return await nt.post("/api/onboarding/complete",e)}catch(t){throw console.error("[API] Failed to complete onboarding:",t),t}},Wce=async e=>{console.log("[API] Updating training preferences");try{const t={};return e.years_of_training!==void 0&&(t.years_of_training=e.years_of_training),e.primary_sports!==void 0&&(t.primary_sports=e.primary_sports),e.available_days!==void 0&&(t.available_days=e.available_days),e.weekly_hours!==void 0&&(t.weekly_hours=e.weekly_hours),e.training_focus!==void 0&&(t.training_focus=e.training_focus),e.injury_history!==void 0&&(t.injury_history=e.injury_history),e.injury_notes!==void 0&&(t.injury_notes=e.injury_notes),e.consistency!==void 0&&(t.consistency=e.consistency),e.goal!==void 0&&(t.goal=e.goal),await nt.put("/me/training-preferences",t)}catch(t){throw console.error("[API] Failed to update training preferences:",t),t}},qce=async e=>{console.log("[API] Uploading activity file:",e.name);const t=new FormData;t.append("file",e);try{return await nt.post("/activities/upload",t)}catch(n){throw console.error("[API] Failed to upload activity:",n),n}},Uce=async()=>{console.log("[API] Fetching privacy settings");try{return await nt.get("/me/privacy-settings")}catch(e){throw console.error("[API] Failed to fetch privacy settings:",e),e}},Vce=async e=>{console.log("[API] Updating privacy settings");try{return await nt.put("/me/privacy-settings",e)}catch(t){throw console.error("[API] Failed to update privacy settings:",t),t}},Hce=async()=>{console.log("[API] Fetching notification preferences");try{return await nt.get("/me/notifications")}catch(e){throw console.error("[API] Failed to fetch notification preferences:",e),e}},Kce=async e=>{console.log("[API] Updating settings profile");try{return await nt.patch("/settings/profile",e)}catch(t){throw console.error("[API] Failed to update settings profile:",t),t}},Gce=async e=>{console.log("[API] Updating notification preferences");try{return await nt.put("/me/notifications",e)}catch(t){throw console.error("[API] Failed to update notification preferences:",t),t}},Yce=async e=>{console.log("[API] Changing password");try{return await nt.post("/me/change-password",e)}catch(t){throw console.error("[API] Failed to change password:",t),t}},Zce=async e=>{console.log("[API] Changing email");try{return await nt.post("/auth/change-email",e)}catch(t){throw console.error("[API] Failed to change email:",t),t}},Xce=async()=>{console.log("[API] Fetching Strava status");try{return await nt.get("/strava/status")}catch(e){throw console.error("[API] Failed to fetch Strava status:",e),e}};function Qce(e){if(!e)return"";let t;if(typeof e=="string"){let n=e.replace(/\+00:00$/,"Z").replace(/-00:00$/,"Z");n=n.endsWith("Z")?n:n+"Z",t=new Date(n)}else if(e instanceof Date)t=e;else{let r=String(e).replace(/\+00:00$/,"Z").replace(/-00:00$/,"Z");r=r.endsWith("Z")?r:r+"Z",t=new Date(r)}return isNaN(t.getTime())?(console.warn("[API] Invalid date field:",e),typeof e=="string"?e.split("T")[0]:""):t.toISOString().split("T")[0]}const xi=async e=>{if(Ii()){console.log("[API] Preview mode: Returning mock activities"),await new Promise(n=>setTimeout(n,300));let t=[...PU];return e?.offset&&(t=t.slice(e.offset)),e?.limit&&(t=t.slice(0,e.limit)),t}console.log("[API] Fetching activities with params:",e);try{const t=e&&{...e,limit:e.limit&&e.limit>1e3?1e3:e.limit},n=await nt.get("/activities",{params:t});console.log("[API] Activities response:",n);let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){const c=n.activities||n.data||n.items;Array.isArray(c)&&(r=c)}r.length>0&&(console.log("[API] Sample activity structure:",r[0]),console.log("[API] Activity keys:",Object.keys(r[0])));const i=new Set;let s=0;const o=r.filter(c=>{if(!c||typeof c!="object")return!1;const h=c.strava_activity_id;if(h!=null){const p=String(h);if(i.has(p))return s++,!1;i.add(p)}return!0});s>0&&console.log(`[API] Removed ${s} duplicate activities (by strava_activity_id)`);const l=o.filter(c=>{if(!c||typeof c!="object")return!1;const u=c;if(!u.id||typeof u.id!="string")return!1;const h=u.start_time||u.date||u.start_date||u.start_date_local||u.activity_date;if(!h||typeof h!="string"&&!(h instanceof Date))return!1;const p=u.sport||u.type||u.activity_type||u.sport_type;if(!p||typeof p!="string")return!1;const g=(u.title||u.name||u.activity_name||"").toString().toLowerCase();return!(g.includes("placeholder")||g.includes("mock")||g.includes("sample"))}).map(c=>{const u=c,h=u.start_time||u.date||u.start_date||u.start_date_local||u.activity_date||"",p=u.type||u.sport||u.activity_type||u.sport_type||"",g=u.title||u.name||u.activity_name||`${p} Activity`,x=Qce(h),b=typeof p=="string"?p.toLowerCase():String(p).toLowerCase();let v="running";b.includes("run")?v="running":b.includes("ride")||b.includes("bike")||b.includes("cycle")?v="cycling":b.includes("swim")?v="swimming":b.includes("tri")&&(v="triathlon");let w=0;typeof u.duration_seconds=="number"?w=Math.round(u.duration_seconds/60):typeof u.duration=="number"?w=u.duration>1e3?Math.round(u.duration/60):u.duration:typeof u.moving_time=="number"?w=Math.round(u.moving_time/60):typeof u.elapsed_time=="number"?w=Math.round(u.elapsed_time/60):typeof u.duration_minutes=="number"&&(w=u.duration_minutes);let N=0;typeof u.distance_meters=="number"?N=Math.round(u.distance_meters/1e3*10)/10:typeof u.distance=="number"?N=u.distance>100?Math.round(u.distance/1e3*10)/10:Math.round(u.distance*10)/10:typeof u.distance_km=="number"&&(N=Math.round(u.distance_km*10)/10);let S;return typeof u.elevation_gain_meters=="number"?S=Math.round(u.elevation_gain_meters*10)/10:typeof u.total_elevation_gain=="number"?S=Math.round(u.total_elevation_gain*10)/10:typeof u.elevation_gain=="number"?S=Math.round(u.elevation_gain*10)/10:typeof u.elevation=="number"&&(S=Math.round(u.elevation*10)/10),{id:u.id,date:x,sport:v,title:typeof g=="string"?g:g.toString(),duration:w,distance:N,avgPace:u.average_speed?typeof u.average_speed=="number"?`${Math.round(1e3/u.average_speed)} min/km`:u.average_speed.toString():void 0,avgHeartRate:typeof u.average_heartrate=="number"?u.average_heartrate:typeof u.avg_heart_rate=="number"?u.avg_heart_rate:typeof u.heart_rate=="number"?u.heart_rate:void 0,avgPower:typeof u.average_watts=="number"?u.average_watts:typeof u.avg_power=="number"?u.avg_power:typeof u.power=="number"?u.power:void 0,elevation:S,trainingLoad:typeof u.training_load=="number"?u.training_load:typeof u.tss=="number"?u.tss:typeof u.stress_score=="number"?u.stress_score:typeof u.load=="number"?u.load:0,source:"strava",workout_id:typeof u.workout_id=="string"?u.workout_id:void 0,planned_session_id:typeof u.planned_session_id=="string"?u.planned_session_id:u.planned_session_id===null?null:void 0,coachFeedback:typeof u.coach_feedback=="string"?u.coach_feedback:typeof u.coachFeedback=="string"?u.coachFeedback:void 0,normalizedPower:typeof u.normalized_power=="number"?u.normalized_power:typeof u.normalizedPower=="number"?u.normalizedPower:void 0,intensityFactor:typeof u.intensity_factor=="number"?u.intensity_factor:typeof u.intensityFactor=="number"?u.intensityFactor:void 0,effortSource:u.effort_source==="power"||u.effort_source==="pace"||u.effort_source==="hr"?u.effort_source:u.effortSource==="power"||u.effortSource==="pace"||u.effortSource==="hr"?u.effortSource:void 0}});return console.log(`[API] Filtered ${l.length} valid activities from ${r.length} total`),l.length===0&&r.length>0&&console.warn("[API] All activities were filtered out. Raw response:",n),l}catch(t){throw console.error("[API] Failed to fetch activities:",t),t}},i2=e=>{if(Array.isArray(e))return e;if(!e||typeof e!="object")return;const t=e;if(Array.isArray(t.data))return t.data;if(Array.isArray(t.values))return t.values;if(Array.isArray(t.items))return t.items},lf=e=>{const t=i2(e);return t?t.map(r=>typeof r=="number"?r:Number(r)).filter(r=>Number.isFinite(r)):void 0},Jce=e=>{const t=i2(e);if(t)return t.map(n=>{if(n==null)return null;const r=typeof n=="number"?n:Number(n);return Number.isFinite(r)?r:null})},YD=e=>{const t=i2(e);return t?t.map(r=>{if(!Array.isArray(r)||r.length<2)return null;const i=typeof r[0]=="number"?r[0]:Number(r[0]),s=typeof r[1]=="number"?r[1]:Number(r[1]);return!Number.isFinite(i)||!Number.isFinite(s)?null:[i,s]}).filter(r=>r!==null):void 0},eue=e=>{const t=e&&typeof e=="object"?e:{},n=t.streams&&typeof t.streams=="object"?t.streams:t,r=n.data&&typeof n.data=="object"?n.data:n,i=lf(r.time)??[],s=lf(r.distance)??[],o=YD(r.route_points)??YD(r.latlng)??[],l=lf(r.elevation)??[],c=Jce(r.pace)??[],u=lf(r.heartrate??r.heart_rate),h=lf(r.power??r.watts),p=lf(r.cadence),g=typeof r.data_points=="number"&&Number.isFinite(r.data_points)?r.data_points:i.length;return{time:i,route_points:o,elevation:l,pace:c,distance:s,data_points:g,...u&&u.length?{heartrate:u}:{},...h&&h.length?{power:h}:{},...p&&p.length?{cadence:p}:{}}},Bh=async e=>{if(console.log("[API] Fetching activity streams",e),Ii()){console.log("[API] Preview mode: Returning mock activity streams:",e),await new Promise(n=>setTimeout(n,300));const t=PU.find(n=>n.id===e);if(!t)throw new Error(`Activity ${e} not found in mock data`);return Lce(t)}try{let t,n=!1;try{t=await nt.get(`/activities/${e}`),n=t?.has_streams===!0}catch(o){if(xm(o))throw console.warn("[API] CORS error checking activity streams. Streams feature unavailable."),new Error("Stream data is not available due to server configuration.");console.warn("[API] Could not fetch activity to check has_streams, proceeding...",o)}if(!n){console.log("[API] Streams not available, fetching from Strava...");try{await nt.post(`/activities/${e}/fetch-streams`),await new Promise(o=>setTimeout(o,2e3))}catch(o){if(xm(o))throw console.warn("[API] CORS error fetching streams from Strava. Streams feature unavailable."),new Error("Stream data is not available due to server configuration.");const l=o?.response?.status,c=o?.message||"";throw l===500?(console.error("[API] Failed to fetch streams from Strava (server error):",o),new Error("Failed to fetch stream data from Strava. Please try again later.")):l===404?(console.warn("[API] Streams not available for this activity:",o),new Error("Stream data is not available for this activity.")):(console.warn("[API] Failed to fetch streams from Strava:",o),o)}}let r;const i=3,s=2e3;for(let o=0;o<i;o++)try{const l=await nt.get(`/activities/${e}/streams`);return eue(l)}catch(l){if(xm(l))throw console.warn("[API] CORS error fetching streams. Streams feature unavailable."),new Error("Stream data is not available due to server configuration.");r=l;const c=l?.response?.status,u=l?.message||"";if(c===500)throw console.error("[API] Server error fetching streams:",l),new Error("Server error while fetching stream data. Please try again later.");if(c===404&&o<i-1){console.log(`[API] Streams not ready yet, retrying in ${s}ms... (attempt ${o+1}/${i})`),await new Promise(h=>setTimeout(h,s));continue}if(o===i-1)throw c===404?new Error("Stream data is not available for this activity."):l}throw r}catch(t){throw xm(t)||console.error("[API] Failed to fetch activity streams:",t),t}},bc=async e=>{console.log("[API] Fetching training load");try{const t=e?{days:e}:void 0;return await nt.get("/state/training-load",{params:t,timeout:6e4})}catch(t){const n=t;if(n.status===500||n.status===503)return console.warn("[API] Training load endpoint returned 500, returning empty response"),{dates:[],daily_load:[],daily_tss:[],ctl:[],atl:[],tsb:[]};throw console.error("[API] Failed to fetch training load:",t),t}},bv=async e=>{console.log("[API] Fetching overview");try{return await nt.get("/me/overview",{params:e?{days:e}:void 0})}catch(t){throw console.error("[API] Failed to fetch overview:",t),t}};function tue(e){if(!e||e.length===0)return;const t=e[0];if(typeof t=="string")return e.map((n,r)=>({id:`plan-item-${r}`,title:n,description:void 0,date:void 0,sport:void 0}));if(typeof t=="object"&&t!==null&&"id"in t&&"title"in t)return e}function nue(e){if(!e||e.length===0)return;const t=[];for(const n of e)for(const r of n.sessions){const i=r.type?.toLowerCase()||"";let s="running";i.includes("swim")?s="swimming":i.includes("bike")||i.includes("cycle")?s="cycling":i.includes("tri")?s="triathlon":s="running",t.push({id:r.session_id,title:r.template_name,description:r.notes||`${r.type} session`,date:r.date,sport:s})}return t.length>0?t:void 0}const a2=async(e,t)=>{const n={message:e};t?.message_id&&(n.message_id=t.message_id);try{const r=await nt.post("/coach/chat",n);return r.planned_weeks&&(!r.plan_items||r.plan_items.length===0)&&(r.plan_items=nue(r.planned_weeks)),r.plan_items&&r.plan_items.length>0&&(r.plan_items=tue(r.plan_items)),r}catch(r){const i=r;throw console.error("[API] Failed to send coach chat:",{message:i.message,status:i.status,code:i.code,details:i.details,userMessage:e.substring(0,50)+(e.length>50?"...":"")}),i.status===500?{...i,message:"The coach service is temporarily unavailable. Please try again in a moment."}:r}},ld=async e=>{if(Ii()){console.log("[API] Preview mode: Returning mock calendar week"),await new Promise(i=>setTimeout(i,200));const t=Ice(e),n=e||Ne(Gn(new Date,{weekStartsOn:1}),"yyyy-MM-dd"),r=Ne(Zu(new Date(n),{weekStartsOn:1}),"yyyy-MM-dd");return{week_start:n,week_end:r,sessions:t}}console.log("[API] Fetching calendar week",e?`(requested date: ${e})`:"(current week)");try{const t=await nt.get("/calendar/week",e?{params:{date:e}}:{});console.log("[API] Calendar week response:",t);const n=t.data||t;if(n&&typeof n=="object"){if("sessions"in n&&Array.isArray(n.sessions))return n;if("data"in n&&n.data&&typeof n.data=="object"){const r=n.data;if(r.sessions&&Array.isArray(r.sessions))return{week_start:r.week_start||"",week_end:r.week_end||"",sessions:r.sessions}}}return console.warn("[API] Calendar week response doesn't match expected format:",t),{week_start:e||"",week_end:e||"",sessions:[]}}catch(t){if(t&&typeof t=="object"&&"status"in t&&t.status===500){console.warn("[API] Calendar week returned 500 error. Returning empty week. UI will continue to work.");const r=e||new Date().toISOString().split("T")[0];return{week_start:r,week_end:r,sessions:[]}}throw console.error("[API] Failed to fetch calendar week:",t),t}},s2=async e=>{if(Ii()){console.log("[API] Preview mode: Returning mock calendar today"),await new Promise(r=>setTimeout(r,200));const t=Dce();return{date:Ne(new Date,"yyyy-MM-dd"),sessions:t}}console.log("[API] Fetching calendar today",e?`(requested date: ${e} - API returns today)`:"");try{return await nt.get("/calendar/today")}catch(t){if(t&&typeof t=="object"&&"status"in t&&t.status===500)return console.warn("[API] Calendar today returned 500 error. Returning empty today. UI will continue to work."),{date:e||new Date().toISOString().split("T")[0],sessions:[]};throw console.error("[API] Failed to fetch calendar today:",t),t}},Nw=async()=>{if(Ii()){console.log("[API] Preview mode: Returning mock calendar season"),await new Promise(s=>setTimeout(s,200));const e=r2,t=Ne(jn(new Date,14),"yyyy-MM-dd"),n=Ne(xc(new Date,7),"yyyy-MM-dd"),r=e.filter(s=>s.status==="planned").length,i=e.filter(s=>s.status==="completed").length;return{season_start:t,season_end:n,sessions:e,total_sessions:e.length,completed_sessions:i,planned_sessions:r}}console.log("[API] Fetching calendar season");try{const e=await nt.get("/calendar/season");console.log("[API] Calendar season response:",e);const t=e.data||e;if(t&&typeof t=="object"){if("sessions"in t&&Array.isArray(t.sessions))return t;if("data"in t&&t.data&&typeof t.data=="object"){const n=t.data;if(n.sessions&&Array.isArray(n.sessions))return{season_start:n.season_start||"",season_end:n.season_end||"",sessions:n.sessions,total_sessions:n.total_sessions||0,completed_sessions:n.completed_sessions||0,planned_sessions:n.planned_sessions||0}}}return console.warn("[API] Calendar season response doesn't match expected format:",e),{season_start:new Date().toISOString().split("T")[0],season_end:new Date().toISOString().split("T")[0],sessions:[],total_sessions:0,completed_sessions:0,planned_sessions:0}}catch(e){throw console.error("[API] Failed to fetch calendar season:",e),e}},rue=async e=>{console.log("[API] Creating manual session:",e);try{return await nt.post("/training/sessions/manual",e)}catch(t){throw console.error("[API] Failed to create manual session:",t),t}},iue=async(e,t)=>{console.log("[API] Creating manual week:",{weekStart:e,sessionCount:t.length});try{const n=await nt.post("/training/weeks/manual",{week_start:e,sessions:t}),r=n.data||n;return Array.isArray(r)?r:r&&typeof r=="object"&&"sessions"in r&&Array.isArray(r.sessions)?r.sessions:[]}catch(n){throw console.error("[API] Failed to create manual week:",n),n}},aue=async e=>{console.log("[API] Creating manual season:",{sessionCount:e.length});try{const t=await nt.post("/training/seasons/manual",{sessions:e}),n=t.data||t;return Array.isArray(n)?n:n&&typeof n=="object"&&"sessions"in n&&Array.isArray(n.sessions)?n.sessions:[]}catch(t){throw console.error("[API] Failed to create manual season:",t),t}},sue=async e=>{console.log("[API] Exporting workout to FIT:",e);try{return await nt.get(`/training/sessions/${e}/export/fit`,{responseType:"blob"})}catch(t){throw console.error("[API] Failed to export workout to FIT:",t),t}},kU=async(e,t,n,r)=>{console.log("[API] Updating session status:",{sessionId:e,status:t,completedActivityId:n,confirmed:r});try{const i={status:t};n&&(i.completed_activity_id=n),r===!0&&(i.confirmed=!0);const s=await nt.patch(`/calendar/sessions/${e}/status`,i);return console.log("[API] Session status response:",s),s.data||s}catch(i){throw console.error("[API] Failed to update session status:",i),i}},oue=async(e,t,n,r)=>{if(!e)throw new Error("planned_session_id required to move session");console.log("[API] Updating planned session date:",{sessionId:e,scheduledDate:t,startTime:n,orderInDay:r});try{const i={scheduled_date:t};n!==void 0&&(i.start_time=n),r!==void 0&&(i.order_in_day=r);const s=await nt.patch(`/planned-sessions/${e}`,i);return console.log("[API] Planned session date updated:",s),s.data||s}catch(i){throw console.error("[API] Failed to update planned session date:",i),i}},lue=async()=>{console.log("[API] Checking for recent activities");try{return await nt.post("/me/sync/check")}catch(e){throw console.error("[API] Failed to check recent activities:",e),e}},o2=async()=>{console.log("[API] User-initiated sync");try{return await nt.post("/me/sync/now")}catch(e){throw console.error("[API] Failed to sync activities:",e),e}},cue=async()=>{console.log("[API] Fetching coach recommendations");try{return await nt.get("/coach/recommendations")}catch(e){throw console.error("[API] Failed to fetch coach recommendations:",e),e}},uue=async()=>{console.log("[API] Syncing Strava data");try{await nt.post("/strava/sync")}catch(e){throw console.error("[API] Failed to sync Strava data:",e),e}};async function due(e){try{const t=await e();return t??(console.warn("[API] safeApiCall: Function returned undefined/null"),null)}catch(t){return console.error("[API] safeApiCall error:",t),null}}const fue=e=>{if(mn.isAxiosError(e)){const t=e,n=t.response?.status,r=t.response?.data,i=l=>typeof l=="string"?l:Array.isArray(l)?l.map(c=>typeof c=="string"?c:c&&typeof c=="object"&&"msg"in c?String(c.msg):String(c)).join(", "):l&&typeof l=="object"&&"msg"in l?String(l.msg):String(l);let s="An unexpected error occurred",o;if(r?.detail)if(typeof r.detail=="object"&&r.detail!==null&&!Array.isArray(r.detail)){const l=r.detail;o=l,s=l.message||i(r.detail)}else s=i(r.detail);else if(r?.message)s=i(r.message);else if(r?.error)s=i(r.error);else if(t.code==="ECONNABORTED"||t.message&&t.message.includes("timeout"))s="Request timed out. Please try again.";else if(t.code==="ERR_NETWORK"||!t.response){const l=t.config?.url||t.request?.responseURL||"",c=t.config?.baseURL||"",u=l.startsWith("http")?l:`${c}${l}`,h=l&&!l.startsWith(window.location.origin);console.error("[API] ERR_NETWORK details:",{code:t.code,message:t.message,requestUrl:u,baseURL:c,isCrossOrigin:h,requestStatus:t.request?.status,requestReadyState:t.request?.readyState,hasResponse:!!t.response,error:t}),h&&t.message&&t.message.includes("CORS")||typeof t.request<"u"&&t.request.status===0?s="Network error: Unable to connect to the backend server. This may be a temporary connectivity issue.":s="Network error. Please check your connection and ensure the backend server is running."}else if(n===401)s="Authentication required. Please log in.";else if(n===403)s="You don't have permission to perform this action.";else if(n===404)s="Resource not found.";else if(n===500){const l=JSON.stringify(r||t.message||"").toLowerCase();l.includes("column")&&l.includes("does not exist")||l.includes("programmingerror")||l.includes("undefinedcolumn")||l.includes("migration")?s="Database configuration error. The server is being updated. Please try again in a few moments.":s="Server error. Please try again later."}else t.message&&(s=t.message);return{message:s,status:n,code:t.code,details:o||r}}return e instanceof Error?{message:e.message,details:e}:{message:"An unknown error occurred",details:e}};nt.interceptors.request.use(async e=>{if(e.headers||(e.headers=new ule),(e.method==="post"||e.method==="put"||e.method==="patch")&&e.data){const n="application/json";typeof e.headers.set=="function"?e.headers.set("Content-Type",n):e.headers["Content-Type"]=n}if(Gu()){const{getAccessToken:n}=await bs(async()=>{const{getAccessToken:i}=await import("./tokenStorage-DsCrg9Ig.js");return{getAccessToken:i}},__vite__mapDeps([0,1])),r=await n();r&&(typeof e.headers.set=="function"?e.headers.set("Authorization",`Bearer ${r}`):e.headers.Authorization=`Bearer ${r}`)}Gu()&&(typeof e.headers.set=="function"?e.headers.set("X-Client","mobile"):e.headers["X-Client"]="mobile");const t=Ine();return typeof e.headers.set=="function"?e.headers.set("X-Conversation-Id",t):e.headers["X-Conversation-Id"]=t,e},e=>Promise.reject(e));let ZD=!1;const XD=e=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("auth-redirect",{detail:{path:e}}))},QD=()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("auth-logout",{detail:{}}))};nt.interceptors.response.use(e=>{const t=e.config?.url||"",n=t==="/me"||t.endsWith("/me");return e.data===void 0||e.data===null?(console.warn("[API] Response interceptor: response.data is undefined/null",{status:e.status,url:t}),n?null:{}):(n&&console.log("[API] /me response interceptor:",{url:t,status:e.status,data:e.data,dataType:typeof e.data}),e.data)},e=>{const t=fue(e),n=e?.config?.url||"";if(n==="/me"||n.endsWith("/me")){if(t.status===401){QD();const i=typeof window<"u"?window.location.pathname:"";return["/login","/signup","/onboarding"].some(l=>i===l||i.startsWith(`${l}/`))||XD("/login"),Promise.reject(t)}return t.status===404?(console.error("[API] /me returned 404 - BACKEND CONTRACT VIOLATION. /me must NEVER return 404. It should return 200 (authenticated), 401 (not authenticated), or 500 (server error). Frontend invariant: NOT logging out on 404. Backend should be fixed to return 401 instead of 404."),Promise.resolve({data:null,status:404})):Promise.reject(t)}if(t.status===401){QD();const i=typeof window<"u"?window.location.pathname:"";return["/login","/signup","/onboarding"].some(l=>i===l||i.startsWith(`${l}/`))||XD("/login"),Promise.reject(t)}return t.status===503||(t.code==="ERR_NETWORK"||t.message&&t.message.includes("CORS")?ZD||(console.warn("[API] CORS/Network error detected. If this persists, check backend CORS configuration."),ZD=!0):console.error("[API] Request failed:",t)),Promise.reject(t)});const hue=async e=>{console.log("[API] Fetching workout execution:",e);try{return await nt.get(`/workouts/${e}/execution`)}catch(t){throw console.error("[API] Failed to fetch workout execution:",t),t}},pue=async(e,t)=>{console.log("[API] Updating workout date:",{workoutId:e,scheduledDate:t});try{return await nt.patch(`/workouts/${e}`,{scheduled_date:t})}catch(n){throw console.error("[API] Failed to update workout date:",n),n}},vx="",JD="";let yx=null,am=null;async function CU(){if(yx)return yx;try{return yx=(await bs(()=>import("./index-D4G8N7ZS.js"),__vite__mapDeps([2,1]))).SocialLogin,yx}catch(e){throw console.error("[GoogleAuthNative] Failed to import SocialLogin plugin:",e),new Error("Native Google Sign-In is not available on this platform")}}async function mue(){return am||(am=(async()=>{try{const e=await CU();if(!vx)throw new Error("VITE_GOOGLE_WEB_CLIENT_ID is not configured. Please set this environment variable to your Google Web Client ID.");console.log("[GoogleAuthNative] Initializing with config:",{webClientId:vx.substring(0,20)+"...",hasIosClientId:!!JD}),await e.initialize({google:{webClientId:vx,iOSClientId:JD||void 0,iOSServerClientId:vx,mode:"online"}}),console.log("[GoogleAuthNative] Initialization successful")}catch(e){throw console.error("[GoogleAuthNative] Initialization failed:",e),am=null,e}})(),am)}async function gue(){console.log("[GoogleAuthNative] Starting native Google Sign-In"),await mue();const t=await(await CU()).login({provider:"google",options:{scopes:["email","profile"]}});console.log("[GoogleAuthNative] Login result received:",{hasIdToken:!!t.result.idToken,hasAccessToken:!!t.result.accessToken,email:t.result.profile.email});const n=t.result.idToken;if(!n)throw new Error("Google Sign-In did not return an ID token");console.log("[GoogleAuthNative] Sending idToken to backend for verification");try{const r=await nt.post("/auth/google/mobile",{id_token:n,platform:"mobile"}),{storeAccessToken:i}=await bs(async()=>{const{storeAccessToken:l}=await import("./tokenStorage-DsCrg9Ig.js");return{storeAccessToken:l}},__vite__mapDeps([0,1])),s=r.access_token,o=r.expires_in||2592e3;s?(await i(s,o),console.log("[GoogleAuthNative]  Token stored securely for mobile")):console.warn("[GoogleAuthNative]  Mobile Google login: No access_token in response"),console.log("[GoogleAuthNative] Backend authentication successful")}catch(r){throw console.error("[GoogleAuthNative] Backend authentication failed:",r),r}}const du="auth_token";function eL(e){if(!e)return!0;try{const t=e.split(".");if(t.length!==3)return!0;const r=JSON.parse(atob(t[1])).exp;if(!r)return!0;const i=r*1e3,s=Date.now()>=i;return s&&console.log("[Auth] Token expired:",{expiredAt:new Date(i).toISOString(),now:new Date().toISOString()}),s}catch(t){return console.warn("[Auth] Failed to parse token:",t),!0}}const pi={getToken:()=>localStorage.getItem(du),setToken:e=>{localStorage.setItem(du,e)},clear:()=>{localStorage.removeItem(du)},isLoggedIn:()=>{const e=localStorage.getItem(du);return e?eL(e)?(localStorage.removeItem(du),!1):!0:!1},isTokenExpired:()=>{const e=localStorage.getItem(du);return e?eL(e):!0},getTokenExpiration:()=>{const e=localStorage.getItem(du);if(!e)return null;try{const t=e.split(".");if(t.length!==3)return null;const r=JSON.parse(atob(t[1])).exp;return r?new Date(r*1e3):null}catch{return null}},logout:()=>{}};async function vue(e,t){try{const n=await nt.post("/auth/login",{email:e,password:t});if(console.log("[LOGIN] Login successful"),console.log("[LOGIN] Response:",n),!n)throw new Error("Login response was empty");const{isNative:r}=await bs(async()=>{const{isNative:i}=await Promise.resolve().then(()=>vw);return{isNative:i}},void 0);if(r()){const{storeAccessToken:i}=await bs(async()=>{const{storeAccessToken:l}=await import("./tokenStorage-DsCrg9Ig.js");return{storeAccessToken:l}},__vite__mapDeps([0,1])),s=n.access_token,o=n.expires_in||2592e3;s?(await i(s,o),console.log("[LOGIN]  Token stored securely for mobile")):console.warn("[LOGIN]  Mobile login: No access_token in response")}else console.log("[LOGIN]  Authentication cookie set successfully (web)")}catch(n){const r=n;throw{status:r.status||500,message:r.message||"Login failed",details:r.details}}}async function yue(e,t){try{const n=await nt.post("/auth/signup",{email:e,password:t});if(console.log("[SIGNUP] Signup successful"),console.log("[SIGNUP] Response:",n),!n)throw new Error("Signup response was empty");const{isNative:r}=await bs(async()=>{const{isNative:i}=await Promise.resolve().then(()=>vw);return{isNative:i}},void 0);if(r()){const{storeAccessToken:i}=await bs(async()=>{const{storeAccessToken:l}=await import("./tokenStorage-DsCrg9Ig.js");return{storeAccessToken:l}},__vite__mapDeps([0,1])),s=n.access_token,o=n.expires_in||2592e3;s?(await i(s,o),console.log("[SIGNUP]  Token stored securely for mobile")):console.warn("[SIGNUP]  Mobile signup: No access_token in response")}else console.log("[SIGNUP]  Authentication cookie set successfully (web)")}catch(n){const r=n;throw{status:r.status||500,message:r.message||"Signup failed",details:r.details}}}async function xue(){const e=Gu();if(console.log("[Auth] Starting Google login, isNative:",e),e){console.log("[Auth] Using native Google Sign-In SDK"),await gue();return}console.log("[Auth] Using web OAuth redirect flow");const n="https://virtus-ai.onrender.com",r=new URLSearchParams;r.set("platform","web");const i=`${n}/auth/google/login?${r.toString()}`;if(console.log("[Auth] Google OAuth redirect URL:",i),typeof window<"u"){const s=window.location.origin;if(i.startsWith(s))throw console.error("[Auth] CRITICAL: OAuth URL points to frontend instead of backend!"),new Error("Google OAuth URL must point to backend domain.")}window.location.href=i}async function bue(){const{isNative:e}=await bs(async()=>{const{isNative:t}=await Promise.resolve().then(()=>vw);return{isNative:t}},void 0);if(e()){const{clearAccessToken:t}=await bs(async()=>{const{clearAccessToken:n}=await import("./tokenStorage-DsCrg9Ig.js");return{clearAccessToken:n}},__vite__mapDeps([0,1]));await t(),console.log("[LOGOUT]  Token cleared for mobile")}try{await nt.post("/auth/logout"),console.log("[Auth]  Logout successful, cookie cleared by backend (web)")}catch(t){t.status}}let sm=null;async function tL(){return sm||(sm=(async()=>{try{const e=await nt.get("/me");if(console.log("[Auth] /me response received:",e),!e||typeof e!="object")return console.warn("[Auth] /me returned invalid response:",e),null;const t=e;console.log("[Auth] Parsed backend response:",t);const n=t.id||t.user_id;if(!n)return console.warn("[Auth] /me response missing user_id/id:",e),null;if(!t.email)return console.warn("[Auth] /me response missing email (email is mandatory):",e),null;const r={id:n,email:t.email,onboarding_complete:t.onboarding_complete??!1,strava_connected:t.strava_connected??!1,role:t.role,timezone:t.timezone||"UTC"};return console.log("[Auth] Created user profile:",r),r}catch(e){const t=e;return t.status===401?(console.log("[Auth] /me returned 401 - user not authenticated (cookie missing/invalid)"),null):t.status===404?(console.error("[Auth] /me returned 404 - BACKEND CONTRACT VIOLATION. /me must NEVER return 404. Backend should return 401 instead. Defensive fix: Returning null (not authenticated) but NOT triggering logout."),null):(t.status===500?console.error("[Auth] /me returned 500 - backend server error. Treating as not authenticated."):console.warn("[Auth] Failed to fetch /me:",e),null)}finally{sm=null}})(),sm)}const TU=j.createContext({user:null,loading:!0,status:"bootstrapping",authReady:!1,refreshUser:async()=>{},logout:async()=>{}}),gn=()=>j.useContext(TU);function wue({children:e}){const[t,n]=j.useState(null),[r,i]=j.useState(!0),[s,o]=j.useState("bootstrapping"),[l,c]=j.useState(!1),u=async()=>{if(!l){c(!0),i(!0);try{const g=await tL();g?(n(g),o("authenticated")):(console.log("[AuthContext] /me returned null, setting unauthenticated"),n(null),o("unauthenticated"))}catch(g){console.error("[AuthContext] Unexpected error:",g),n(null),o("unauthenticated")}finally{i(!1),c(!1)}}},h=async()=>{try{await bue()}catch(g){console.error("[AuthContext] Logout error:",g)}finally{n(null),o("unauthenticated"),i(!1)}};j.useEffect(()=>{const g=()=>{console.log("[AuthContext] Received logout event from API interceptor"),n(null),o("unauthenticated"),i(!1)};return window.addEventListener("auth-logout",g),()=>{window.removeEventListener("auth-logout",g)}},[]),j.useEffect(()=>{(async()=>{console.log("[AuthContext] Bootstrapping auth..."),o("bootstrapping"),i(!0);const{isNative:x}=await bs(async()=>{const{isNative:b}=await Promise.resolve().then(()=>vw);return{isNative:b}},void 0);if(x()){const{hasValidToken:b}=await bs(async()=>{const{hasValidToken:w}=await import("./tokenStorage-DsCrg9Ig.js");return{hasValidToken:w}},__vite__mapDeps([0,1]));if(!await b()){console.log("[AuthContext] No valid token found for mobile, setting unauthenticated"),n(null),o("unauthenticated"),i(!1);return}console.log("[AuthContext] Valid token found for mobile, checking /me")}try{const b=await tL();b?(console.log("[AuthContext] /me succeeded, setting authenticated"),n(b),o("authenticated")):(console.log("[AuthContext] /me returned null, setting unauthenticated"),n(null),o("unauthenticated"))}catch(b){console.error("[AuthContext] Bootstrap error:",b),n(null),o("unauthenticated")}finally{i(!1)}})()},[]);const p=!r&&s!=="bootstrapping";return a.jsx(TU.Provider,{value:{user:t,loading:r,status:s,authReady:p,refreshUser:u,logout:h},children:e})}function Zo({className:e,...t}){return a.jsx("div",{className:re("animate-pulse rounded-md bg-muted",e),...t})}const _ue=Th("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),uo=j.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:re(_ue({variant:t}),e),...n}));uo.displayName="Alert";const l2=j.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:re("mb-1 font-medium leading-none tracking-tight",e),...t}));l2.displayName="AlertTitle";const fo=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:re("text-sm [&_p]:leading-relaxed",e),...t}));fo.displayName="AlertDescription";function EU(){return a.jsxs(uo,{className:"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/20 rounded-none border-x-0 border-t-0",children:[a.jsx(ni,{className:"h-4 w-4 text-yellow-600 dark:text-yellow-500"}),a.jsx(fo,{className:"text-sm font-medium text-yellow-900 dark:text-yellow-100",children:" Preview mode  data not real"})]})}function jue({children:e}){return a.jsxs("div",{className:"min-h-[100svh]",children:[a.jsx(EU,{}),e]})}function ja({children:e}){const{user:t,loading:n,status:r}=gn();return Ii()?(console.log("[RequireAuth] Preview mode detected, bypassing auth for visual preview"),a.jsx(jue,{children:e})):(console.log("[RequireAuth] Auth state:",{user:t,loading:n,status:r,hasUser:!!t,onboardingComplete:t?.onboarding_complete}),r==="bootstrapping"||n?(console.log("[RequireAuth] Bootstrapping, showing spinner"),a.jsx("div",{className:"min-h-[100svh] flex items-center justify-center",children:a.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[a.jsx(Zo,{className:"h-12 w-full"}),a.jsx(Zo,{className:"h-32 w-full"}),a.jsx(Zo,{className:"h-8 w-3/4"})]})})):r==="unauthenticated"?(console.log("[RequireAuth] User not authenticated, redirecting to login"),a.jsx(Yo,{to:"/login",replace:!0})):r==="authenticated"&&t&&!t.onboarding_complete?(console.log("[RequireAuth] User authenticated but onboarding not complete, redirecting to onboarding"),a.jsx(Yo,{to:"/onboarding",replace:!0})):(console.log("[RequireAuth] User authenticated and onboarding complete, rendering children"),a.jsx(a.Fragment,{children:e})))}const OU=j.createContext({});function Sue(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const c2=j.createContext(null),MU=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function Nue(e=!0){const t=j.useContext(c2);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=j.useId();j.useEffect(()=>{e&&i(s)},[e]);const o=j.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,o]:[!0]}const u2=typeof window<"u",Pue=u2?j.useLayoutEffect:j.useEffect,sa=e=>e;let RU=sa;function d2(e){let t;return()=>(t===void 0&&(t=e()),t)}const Yf=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Xo=e=>e*1e3,Qo=e=>e/1e3,Aue={useManualTiming:!1};function kue(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,h=!1,p=!1)=>{const x=p&&r?t:n;return h&&s.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[t,n]=[n,t],t.forEach(l),t.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const xx=["read","resolveKeyframes","update","preRender","render","postRender"],Cue=40;function IU(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=xx.reduce((N,S)=>(N[S]=kue(s),N),{}),{read:l,resolveKeyframes:c,update:u,preRender:h,render:p,postRender:g}=o,x=()=>{const N=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(N-i.timestamp,Cue),1),i.timestamp=N,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),h.process(i),p.process(i),g.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(x))},b=()=>{n=!0,r=!0,i.isProcessing||e(x)};return{schedule:xx.reduce((N,S)=>{const A=o[S];return N[S]=(T,C=!1,E=!1)=>(n||b(),A.schedule(T,C,E)),N},{}),cancel:N=>{for(let S=0;S<xx.length;S++)o[xx[S]].cancel(N)},state:i,steps:o}}const{schedule:An,cancel:wc,state:Mr,steps:Tj}=IU(typeof requestAnimationFrame<"u"?requestAnimationFrame:sa,!0),DU=j.createContext({strict:!1}),nL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zf={};for(const e in nL)Zf[e]={isEnabled:t=>nL[e].some(n=>!!t[n])};function Tue(e){for(const t in e)Zf[t]={...Zf[t],...e[t]}}const Eue=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function P0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Eue.has(e)}let LU=e=>!P0(e);function Oue(e){e&&(LU=t=>t.startsWith("on")?!P0(t):e(t))}try{Oue(require("@emotion/is-prop-valid").default)}catch{}function Mue(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(LU(i)||n===!0&&P0(i)||!t&&!P0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Rue(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const Pw=j.createContext({});function ug(e){return typeof e=="string"||Array.isArray(e)}function Aw(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const f2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],h2=["initial",...f2];function kw(e){return Aw(e.animate)||h2.some(t=>ug(e[t]))}function FU(e){return!!(kw(e)||e.variants)}function Iue(e,t){if(kw(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ug(n)?n:void 0,animate:ug(r)?r:void 0}}return e.inherit!==!1?t:{}}function Due(e){const{initial:t,animate:n}=Iue(e,j.useContext(Pw));return j.useMemo(()=>({initial:t,animate:n}),[rL(t),rL(n)])}function rL(e){return Array.isArray(e)?e.join(" "):e}const Lue=Symbol.for("motionComponentSymbol");function _f(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Fue(e,t,n){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):_f(n)&&(n.current=r))},[t])}const p2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$ue="framerAppearId",$U="data-"+p2($ue),{schedule:m2}=IU(queueMicrotask,!1),BU=j.createContext({});function Bue(e,t,n,r,i){var s,o;const{visualElement:l}=j.useContext(Pw),c=j.useContext(DU),u=j.useContext(c2),h=j.useContext(MU).reducedMotion,p=j.useRef(null);r=r||c.renderer,!p.current&&r&&(p.current=r(e,{visualState:t,parent:l,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const g=p.current,x=j.useContext(BU);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&zue(p.current,n,i,x);const b=j.useRef(!1);j.useInsertionEffect(()=>{g&&b.current&&g.update(n,u)});const v=n[$U],w=j.useRef(!!v&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return Pue(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),m2.render(g.render),w.current&&g.animationState&&g.animationState.animateChanges())}),j.useEffect(()=>{g&&(!w.current&&g.animationState&&g.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)===null||N===void 0||N.call(window,v)}),w.current=!1))}),g}function zue(e,t,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:zU(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&_f(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function zU(e){if(e)return e.options.allowProjection!==!1?e.projection:zU(e.parent)}function Wue({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){var s,o;e&&Tue(e);function l(u,h){let p;const g={...j.useContext(MU),...u,layoutId:que(u)},{isStatic:x}=g,b=Due(u),v=r(u,x);if(!x&&u2){Uue();const w=Vue(g);p=w.MeasureLayout,b.visualElement=Bue(i,v,g,t,w.ProjectionNode)}return a.jsxs(Pw.Provider,{value:b,children:[p&&b.visualElement?a.jsx(p,{visualElement:b.visualElement,...g}):null,n(i,u,Fue(v,b.visualElement,h),v,x,b.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=j.forwardRef(l);return c[Lue]=i,c}function que({layoutId:e}){const t=j.useContext(OU).id;return t&&e!==void 0?t+"-"+e:e}function Uue(e,t){j.useContext(DU).strict}function Vue(e){const{drag:t,layout:n}=Zf;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Hue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g2(e){return typeof e!="string"||e.includes("-")?!1:!!(Hue.indexOf(e)>-1||/[A-Z]/u.test(e))}function iL(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function v2(e,t,n,r){if(typeof t=="function"){const[i,s]=iL(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=iL(r);t=t(n!==void 0?n:e.custom,i,s)}return t}const Yk=e=>Array.isArray(e),Kue=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Gue=e=>Yk(e)?e[e.length-1]||0:e,Qr=e=>!!(e&&e.getVelocity);function r0(e){const t=Qr(e)?e.get():e;return Kue(t)?t.toValue():t}function Yue({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},r,i,s){const o={latestValues:Zue(r,i,s,e),renderState:t()};return n&&(o.onMount=l=>n({props:r,current:l,...o}),o.onUpdate=l=>n(l)),o}const WU=e=>(t,n)=>{const r=j.useContext(Pw),i=j.useContext(c2),s=()=>Yue(e,t,r,i);return n?s():Sue(s)};function Zue(e,t,n,r){const i={},s=r(e,{});for(const g in s)i[g]=r0(s[g]);let{initial:o,animate:l}=e;const c=kw(e),u=FU(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?l:o;if(p&&typeof p!="boolean"&&!Aw(p)){const g=Array.isArray(p)?p:[p];for(let x=0;x<g.length;x++){const b=v2(e,g[x]);if(b){const{transitionEnd:v,transition:w,...N}=b;for(const S in N){let A=N[S];if(Array.isArray(A)){const T=h?A.length-1:0;A=A[T]}A!==null&&(i[S]=A)}for(const S in v)i[S]=v[S]}}}return i}const zh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],cd=new Set(zh),qU=e=>t=>typeof t=="string"&&t.startsWith(e),UU=qU("--"),Xue=qU("var(--"),y2=e=>Xue(e)?Que.test(e.split("/*")[0].trim()):!1,Que=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,VU=(e,t)=>t&&typeof e=="number"?t.transform(e):e,al=(e,t,n)=>n>t?t:n<e?e:n,Wh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},dg={...Wh,transform:e=>al(0,1,e)},bx={...Wh,default:1},wv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ec=wv("deg"),io=wv("%"),pt=wv("px"),Jue=wv("vh"),ede=wv("vw"),aL={...io,parse:e=>io.parse(e)/100,transform:e=>io.transform(e*100)},tde={borderWidth:pt,borderTopWidth:pt,borderRightWidth:pt,borderBottomWidth:pt,borderLeftWidth:pt,borderRadius:pt,radius:pt,borderTopLeftRadius:pt,borderTopRightRadius:pt,borderBottomRightRadius:pt,borderBottomLeftRadius:pt,width:pt,maxWidth:pt,height:pt,maxHeight:pt,top:pt,right:pt,bottom:pt,left:pt,padding:pt,paddingTop:pt,paddingRight:pt,paddingBottom:pt,paddingLeft:pt,margin:pt,marginTop:pt,marginRight:pt,marginBottom:pt,marginLeft:pt,backgroundPositionX:pt,backgroundPositionY:pt},nde={rotate:ec,rotateX:ec,rotateY:ec,rotateZ:ec,scale:bx,scaleX:bx,scaleY:bx,scaleZ:bx,skew:ec,skewX:ec,skewY:ec,distance:pt,translateX:pt,translateY:pt,translateZ:pt,x:pt,y:pt,z:pt,perspective:pt,transformPerspective:pt,opacity:dg,originX:aL,originY:aL,originZ:pt},sL={...Wh,transform:Math.round},x2={...tde,...nde,zIndex:sL,size:pt,fillOpacity:dg,strokeOpacity:dg,numOctaves:sL},rde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ide=zh.length;function ade(e,t,n){let r="",i=!0;for(let s=0;s<ide;s++){const o=zh[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||n){const u=VU(l,x2[o]);if(!c){i=!1;const h=rde[o]||o;r+=`${h}(${u}) `}n&&(t[o]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function b2(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(cd.has(c)){o=!0;continue}else if(UU(c)){i[c]=u;continue}else{const h=VU(u,x2[c]);c.startsWith("origin")?(l=!0,s[c]=h):r[c]=h}}if(t.transform||(o||n?r.transform=ade(t,e.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${u} ${h}`}}const sde={offset:"stroke-dashoffset",array:"stroke-dasharray"},ode={offset:"strokeDashoffset",array:"strokeDasharray"};function lde(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?sde:ode;e[s.offset]=pt.transform(-r);const o=pt.transform(t),l=pt.transform(n);e[s.array]=`${o} ${l}`}function oL(e,t,n){return typeof e=="string"?e:pt.transform(t+n*e)}function cde(e,t,n){const r=oL(t,e.x,e.width),i=oL(n,e.y,e.height);return`${r} ${i}`}function w2(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},h,p){if(b2(e,u,p),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:x,dimensions:b}=e;g.transform&&(b&&(x.transform=g.transform),delete g.transform),b&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=cde(b,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&lde(g,o,l,c,!1)}const _2=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),HU=()=>({..._2(),attrs:{}}),j2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function KU(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const GU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YU(e,t,n,r){KU(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(GU.has(i)?i:p2(i),t.attrs[i])}const A0={};function ude(e){Object.assign(A0,e)}function ZU(e,{layout:t,layoutId:n}){return cd.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!A0[e]||e==="opacity")}function S2(e,t,n){var r;const{style:i}=e,s={};for(const o in i)(Qr(i[o])||t.style&&Qr(t.style[o])||ZU(o,e)||((r=n?.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function XU(e,t,n){const r=S2(e,t,n);for(const i in e)if(Qr(e[i])||Qr(t[i])){const s=zh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function dde(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const lL=["x","y","width","height","cx","cy","r"],fde={useVisualState:WU({scrapeMotionValuesFromProps:XU,createRenderState:HU,onUpdate:({props:e,prevProps:t,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!e.drag;if(!s){for(const l in i)if(cd.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<lL.length;l++){const c=lL[l];e[c]!==t[c]&&(o=!0)}o&&An.read(()=>{dde(n,r),An.render(()=>{w2(r,i,j2(n.tagName),e.transformTemplate),YU(n,r)})})}})},hde={useVisualState:WU({scrapeMotionValuesFromProps:S2,createRenderState:_2})};function QU(e,t,n){for(const r in t)!Qr(t[r])&&!ZU(r,n)&&(e[r]=t[r])}function pde({transformTemplate:e},t){return j.useMemo(()=>{const n=_2();return b2(n,t,e),Object.assign({},n.vars,n.style)},[t])}function mde(e,t){const n=e.style||{},r={};return QU(r,n,e),Object.assign(r,pde(e,t)),r}function gde(e,t){const n={},r=mde(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}function vde(e,t,n,r){const i=j.useMemo(()=>{const s=HU();return w2(s,t,j2(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};QU(s,e.style,e),i.style={...s,...i.style}}return i}function yde(e=!1){return(n,r,i,{latestValues:s},o)=>{const c=(g2(n)?vde:gde)(r,s,o,n),u=Mue(r,typeof n=="string",e),h=n!==j.Fragment?{...u,...c,ref:i}:{},{children:p}=r,g=j.useMemo(()=>Qr(p)?p.get():p,[p]);return j.createElement(n,{...h,children:g})}}function xde(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...g2(r)?fde:hde,preloadedFeatures:e,useRender:yde(i),createVisualElement:t,Component:r};return Wue(o)}}function JU(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Cw(e,t,n){const r=e.getProps();return v2(r,t,n!==void 0?n:r.custom,e)}const bde=d2(()=>window.ScrollTimeline!==void 0);class wde{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>{if(bde()&&i.attachTimeline)return i.attachTimeline(t);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _de extends wde{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function N2(e,t){return e?e[t]||e.default||e:void 0}const Zk=2e4;function eV(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Zk;)t+=n,r=e.next(t);return t>=Zk?1/0:t}function P2(e){return typeof e=="function"}function cL(e,t){e.timeline=t,e.onfinish=null}const A2=e=>Array.isArray(e)&&typeof e[0]=="number",jde={linearEasing:void 0};function Sde(e,t){const n=d2(e);return()=>{var r;return(r=jde[t])!==null&&r!==void 0?r:n()}}const k0=Sde(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),tV=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Yf(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function nV(e){return!!(typeof e=="function"&&k0()||!e||typeof e=="string"&&(e in Xk||k0())||A2(e)||Array.isArray(e)&&e.every(nV))}const bm=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Xk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:bm([0,.65,.55,1]),circOut:bm([.55,0,1,.45]),backIn:bm([.31,.01,.66,-.59]),backOut:bm([.33,1.53,.69,.99])};function rV(e,t){if(e)return typeof e=="function"&&k0()?tV(e,t):A2(e)?bm(e):Array.isArray(e)?e.map(n=>rV(n,t)||Xk.easeOut):Xk[e]}const as={x:!1,y:!1};function iV(){return as.x||as.y}function aV(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function sV(e,t){const n=aV(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function uL(e){return t=>{t.pointerType==="touch"||iV()||e(t)}}function Nde(e,t,n={}){const[r,i,s]=sV(e,n),o=uL(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const h=uL(p=>{u(p),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,i)});return r.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const oV=(e,t)=>t?e===t?!0:oV(e,t.parentElement):!1,k2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Pde=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ade(e){return Pde.has(e.tagName)||e.tabIndex!==-1}const wm=new WeakSet;function dL(e){return t=>{t.key==="Enter"&&e(t)}}function Ej(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const kde=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=dL(()=>{if(wm.has(n))return;Ej(n,"down");const i=dL(()=>{Ej(n,"up")}),s=()=>Ej(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function fL(e){return k2(e)&&!iV()}function Cde(e,t,n={}){const[r,i,s]=sV(e,n),o=l=>{const c=l.currentTarget;if(!fL(l)||wm.has(c))return;wm.add(c);const u=t(l),h=(x,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!fL(x)||!wm.has(c))&&(wm.delete(c),typeof u=="function"&&u(x,{success:b}))},p=x=>{h(x,n.useGlobalTarget||oV(c,x.target))},g=x=>{h(x,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(l=>{!Ade(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>kde(u,i),i)}),s}function Tde(e){return e==="x"||e==="y"?as[e]?null:(as[e]=!0,()=>{as[e]=!1}):as.x||as.y?null:(as.x=as.y=!0,()=>{as.x=as.y=!1})}const lV=new Set(["width","height","top","left","right","bottom",...zh]);let i0;function Ede(){i0=void 0}const ao={now:()=>(i0===void 0&&ao.set(Mr.isProcessing||Aue.useManualTiming?Mr.timestamp:performance.now()),i0),set:e=>{i0=e,queueMicrotask(Ede)}};function C2(e,t){e.indexOf(t)===-1&&e.push(t)}function T2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class E2{constructor(){this.subscriptions=[]}add(t){return C2(this.subscriptions,t),()=>T2(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function cV(e,t){return t?e*(1e3/t):0}const hL=30,Ode=e=>!isNaN(parseFloat(e));class Mde{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ao.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ao.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Ode(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new E2);const r=this.events[t].add(n);return t==="change"?()=>{r(),An.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=ao.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>hL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,hL);return cV(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fg(e,t){return new Mde(e,t)}function Rde(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,fg(n))}function Ide(e,t){const n=Cw(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const l=Gue(s[o]);Rde(e,o,l)}}function Dde(e){return!!(Qr(e)&&e.add)}function Qk(e,t){const n=e.getValue("willChange");if(Dde(n))return n.add(t)}function uV(e){return e.props[$U]}const dV=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Lde=1e-7,Fde=12;function $de(e,t,n,r,i){let s,o,l=0;do o=t+(n-t)/2,s=dV(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>Lde&&++l<Fde);return o}function _v(e,t,n,r){if(e===t&&n===r)return sa;const i=s=>$de(s,0,1,e,n);return s=>s===0||s===1?s:dV(i(s),t,r)}const fV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hV=e=>t=>1-e(1-t),pV=_v(.33,1.53,.69,.99),O2=hV(pV),mV=fV(O2),gV=e=>(e*=2)<1?.5*O2(e):.5*(2-Math.pow(2,-10*(e-1))),M2=e=>1-Math.sin(Math.acos(e)),vV=hV(M2),yV=fV(M2),xV=e=>/^0[^.\s]+$/u.test(e);function Bde(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||xV(e):!0}const Em=e=>Math.round(e*1e5)/1e5,R2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zde(e){return e==null}const Wde=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,I2=(e,t)=>n=>!!(typeof n=="string"&&Wde.test(n)&&n.startsWith(e)||t&&!zde(n)&&Object.prototype.hasOwnProperty.call(n,t)),bV=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,l]=r.match(R2);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},qde=e=>al(0,255,e),Oj={...Wh,transform:e=>Math.round(qde(e))},Cu={test:I2("rgb","red"),parse:bV("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Oj.transform(e)+", "+Oj.transform(t)+", "+Oj.transform(n)+", "+Em(dg.transform(r))+")"};function Ude(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Jk={test:I2("#"),parse:Ude,transform:Cu.transform},jf={test:I2("hsl","hue"),parse:bV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+io.transform(Em(t))+", "+io.transform(Em(n))+", "+Em(dg.transform(r))+")"},Vr={test:e=>Cu.test(e)||Jk.test(e)||jf.test(e),parse:e=>Cu.test(e)?Cu.parse(e):jf.test(e)?jf.parse(e):Jk.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cu.transform(e):jf.transform(e)},Vde=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Hde(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(R2))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(Vde))===null||n===void 0?void 0:n.length)||0)>0}const wV="number",_V="color",Kde="var",Gde="var(",pL="${}",Yde=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hg(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(Yde,c=>(Vr.test(c)?(r.color.push(s),i.push(_V),n.push(Vr.parse(c))):c.startsWith(Gde)?(r.var.push(s),i.push(Kde),n.push(c)):(r.number.push(s),i.push(wV),n.push(parseFloat(c))),++s,pL)).split(pL);return{values:n,split:l,indexes:r,types:i}}function jV(e){return hg(e).values}function SV(e){const{split:t,types:n}=hg(e),r=t.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=t[o],i[o]!==void 0){const l=n[o];l===wV?s+=Em(i[o]):l===_V?s+=Vr.transform(i[o]):s+=i[o]}return s}}const Zde=e=>typeof e=="number"?0:e;function Xde(e){const t=jV(e);return SV(e)(t.map(Zde))}const _c={test:Hde,parse:jV,createTransformer:SV,getAnimatableNone:Xde},Qde=new Set(["brightness","contrast","saturate","opacity"]);function Jde(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(R2)||[];if(!r)return e;const i=n.replace(r,"");let s=Qde.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const efe=/\b([a-z-]*)\(.*?\)/gu,eC={..._c,getAnimatableNone:e=>{const t=e.match(efe);return t?t.map(Jde).join(" "):e}},tfe={...x2,color:Vr,backgroundColor:Vr,outlineColor:Vr,fill:Vr,stroke:Vr,borderColor:Vr,borderTopColor:Vr,borderRightColor:Vr,borderBottomColor:Vr,borderLeftColor:Vr,filter:eC,WebkitFilter:eC},D2=e=>tfe[e];function NV(e,t){let n=D2(e);return n!==eC&&(n=_c),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const nfe=new Set(["auto","none","0"]);function rfe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!nfe.has(s)&&hg(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=NV(n,i)}const mL=e=>e===Wh||e===pt,gL=(e,t)=>parseFloat(e.split(", ")[t]),vL=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return gL(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?gL(s[1],e):0}},ife=new Set(["x","y","z"]),afe=zh.filter(e=>!ife.has(e));function sfe(e){const t=[];return afe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Xf={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:vL(4,13),y:vL(5,14)};Xf.translateX=Xf.x;Xf.translateY=Xf.y;const Lu=new Set;let tC=!1,nC=!1;function PV(){if(nC){const e=Array.from(Lu).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=sfe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var l;(l=r.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}nC=!1,tC=!1,Lu.forEach(e=>e.complete()),Lu.clear()}function AV(){Lu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(nC=!0)})}function ofe(){AV(),PV()}class L2{constructor(t,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Lu.add(this),tC||(tC=!0,An.read(AV),An.resolveKeyframes(PV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const c=r.readValue(n,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Lu.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Lu.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kV=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),lfe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function cfe(e){const t=lfe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function CV(e,t,n=1){const[r,i]=cfe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return kV(o)?parseFloat(o):o}return y2(i)?CV(i,t,n+1):i}const TV=e=>t=>t.test(e),ufe={test:e=>e==="auto",parse:e=>e},EV=[Wh,pt,io,ec,ede,Jue,ufe],yL=e=>EV.find(TV(e));class OV extends L2{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),y2(u))){const h=CV(u,n.current);h!==void 0&&(t[c]=h),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!lV.has(r)||t.length!==2)return;const[i,s]=t,o=yL(i),l=yL(s);if(o!==l)if(mL(o)&&mL(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)Bde(t[i])&&r.push(i);r.length&&rfe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Xf[r](n.measureViewportBox(),window.getComputedStyle(n.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const xL=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_c.test(e)||e==="0")&&!e.startsWith("url("));function dfe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function ffe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=xL(i,t),l=xL(s,t);return!o||!l?!1:dfe(e)||(n==="spring"||P2(n))&&r}const hfe=e=>e!==null;function Tw(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(hfe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const pfe=40;class MV{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ao.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>pfe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ofe(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=ao.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!ffe(t,r,i,s))if(o)this.options.duration=0;else{c&&c(Tw(t,this.options,n)),l&&l(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ln=(e,t,n)=>e+(t-e)*n;function Mj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function mfe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,c=2*n-l;i=Mj(c,l,e+1/3),s=Mj(c,l,e),o=Mj(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function C0(e,t){return n=>n>0?t:e}const Rj=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},gfe=[Jk,Cu,jf],vfe=e=>gfe.find(t=>t.test(e));function bL(e){const t=vfe(e);if(!t)return!1;let n=t.parse(e);return t===jf&&(n=mfe(n)),n}const wL=(e,t)=>{const n=bL(e),r=bL(t);if(!n||!r)return C0(e,t);const i={...n};return s=>(i.red=Rj(n.red,r.red,s),i.green=Rj(n.green,r.green,s),i.blue=Rj(n.blue,r.blue,s),i.alpha=Ln(n.alpha,r.alpha,s),Cu.transform(i))},yfe=(e,t)=>n=>t(e(n)),jv=(...e)=>e.reduce(yfe),rC=new Set(["none","hidden"]);function xfe(e,t){return rC.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function bfe(e,t){return n=>Ln(e,t,n)}function F2(e){return typeof e=="number"?bfe:typeof e=="string"?y2(e)?C0:Vr.test(e)?wL:jfe:Array.isArray(e)?RV:typeof e=="object"?Vr.test(e)?wL:wfe:C0}function RV(e,t){const n=[...e],r=n.length,i=e.map((s,o)=>F2(s)(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function wfe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=F2(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function _fe(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=(n=e.values[l])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const jfe=(e,t)=>{const n=_c.createTransformer(t),r=hg(e),i=hg(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?rC.has(e)&&!i.values.length||rC.has(t)&&!r.values.length?xfe(e,t):jv(RV(_fe(r,i),i.values),n):C0(e,t)};function IV(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ln(e,t,n):F2(e)(e,t)}const Sfe=5;function DV(e,t,n){const r=Math.max(t-Sfe,0);return cV(n-e(r),t-r)}const Vn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ij=.001;function Nfe({duration:e=Vn.duration,bounce:t=Vn.bounce,velocity:n=Vn.velocity,mass:r=Vn.mass}){let i,s,o=1-t;o=al(Vn.minDamping,Vn.maxDamping,o),e=al(Vn.minDuration,Vn.maxDuration,Qo(e)),o<1?(i=u=>{const h=u*o,p=h*e,g=h-n,x=iC(u,o),b=Math.exp(-p);return Ij-g/x*b},s=u=>{const p=u*o*e,g=p*n+n,x=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-p),v=iC(Math.pow(u,2),o);return(-i(u)+Ij>0?-1:1)*((g-x)*b)/v}):(i=u=>{const h=Math.exp(-u*e),p=(u-n)*e+1;return-Ij+h*p},s=u=>{const h=Math.exp(-u*e),p=(n-u)*(e*e);return h*p});const l=5/e,c=Afe(i,s,l);if(e=Xo(e),isNaN(c))return{stiffness:Vn.stiffness,damping:Vn.damping,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Pfe=12;function Afe(e,t,n){let r=n;for(let i=1;i<Pfe;i++)r=r-e(r)/t(r);return r}function iC(e,t){return e*Math.sqrt(1-t*t)}const kfe=["duration","bounce"],Cfe=["stiffness","damping","mass"];function _L(e,t){return t.some(n=>e[n]!==void 0)}function Tfe(e){let t={velocity:Vn.velocity,stiffness:Vn.stiffness,damping:Vn.damping,mass:Vn.mass,isResolvedFromDuration:!1,...e};if(!_L(e,Cfe)&&_L(e,kfe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*al(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Vn.mass,stiffness:i,damping:s}}else{const n=Nfe(e);t={...t,...n,mass:Vn.mass},t.isResolvedFromDuration=!0}return t}function LV(e=Vn.visualDuration,t=Vn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:h,duration:p,velocity:g,isResolvedFromDuration:x}=Tfe({...n,velocity:-Qo(n.velocity||0)}),b=g||0,v=u/(2*Math.sqrt(c*h)),w=o-s,N=Qo(Math.sqrt(c/h)),S=Math.abs(w)<5;r||(r=S?Vn.restSpeed.granular:Vn.restSpeed.default),i||(i=S?Vn.restDelta.granular:Vn.restDelta.default);let A;if(v<1){const C=iC(N,v);A=E=>{const O=Math.exp(-v*N*E);return o-O*((b+v*N*w)/C*Math.sin(C*E)+w*Math.cos(C*E))}}else if(v===1)A=C=>o-Math.exp(-N*C)*(w+(b+N*w)*C);else{const C=N*Math.sqrt(v*v-1);A=E=>{const O=Math.exp(-v*N*E),I=Math.min(C*E,300);return o-O*((b+v*N*w)*Math.sinh(I)+C*w*Math.cosh(I))/C}}const T={calculatedDuration:x&&p||null,next:C=>{const E=A(C);if(x)l.done=C>=p;else{let O=0;v<1&&(O=C===0?Xo(b):DV(A,C,E));const I=Math.abs(O)<=r,F=Math.abs(o-E)<=i;l.done=I&&F}return l.value=l.done?o:E,l},toString:()=>{const C=Math.min(eV(T),Zk),E=tV(O=>T.next(C*O).value,C,30);return C+"ms "+E}};return T}function jL({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:h}){const p=e[0],g={done:!1,value:p},x=I=>l!==void 0&&I<l||c!==void 0&&I>c,b=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let v=n*t;const w=p+v,N=o===void 0?w:o(w);N!==w&&(v=N-p);const S=I=>-v*Math.exp(-I/r),A=I=>N+S(I),T=I=>{const F=S(I),W=A(I);g.done=Math.abs(F)<=u,g.value=g.done?N:W};let C,E;const O=I=>{x(g.value)&&(C=I,E=LV({keyframes:[g.value,b(g.value)],velocity:DV(A,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return O(0),{calculatedDuration:null,next:I=>{let F=!1;return!E&&C===void 0&&(F=!0,T(I),O(I)),C!==void 0&&I>=C?E.next(I-C):(!F&&T(I),g)}}}const Efe=_v(.42,0,1,1),Ofe=_v(0,0,.58,1),FV=_v(.42,0,.58,1),Mfe=e=>Array.isArray(e)&&typeof e[0]!="number",Rfe={linear:sa,easeIn:Efe,easeInOut:FV,easeOut:Ofe,circIn:M2,circInOut:yV,circOut:vV,backIn:O2,backInOut:mV,backOut:pV,anticipate:gV},SL=e=>{if(A2(e)){RU(e.length===4);const[t,n,r,i]=e;return _v(t,n,r,i)}else if(typeof e=="string")return Rfe[e];return e};function Ife(e,t,n){const r=[],i=n||IV,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||sa:t;l=jv(c,l)}r.push(l)}return r}function Dfe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(RU(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Ife(t,r,i),c=l.length,u=h=>{if(o&&h<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(h<e[p+1]);p++);const g=Yf(e[p],e[p+1],h);return l[p](g)};return n?h=>u(al(e[0],e[s-1],h)):u}function Lfe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Yf(0,t,r);e.push(Ln(n,1,i))}}function Ffe(e){const t=[0];return Lfe(t,e.length-1),t}function $fe(e,t){return e.map(n=>n*t)}function Bfe(e,t){return e.map(()=>t||FV).splice(0,e.length-1)}function T0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Mfe(r)?r.map(SL):SL(r),s={done:!1,value:t[0]},o=$fe(n&&n.length===t.length?n:Ffe(t),e),l=Dfe(o,t,{ease:Array.isArray(i)?i:Bfe(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const zfe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>An.update(t,!0),stop:()=>wc(t),now:()=>Mr.isProcessing?Mr.timestamp:ao.now()}},Wfe={decay:jL,inertia:jL,tween:T0,keyframes:T0,spring:LV},qfe=e=>e/100;class $2 extends MV{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||L2,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=P2(n)?n:Wfe[n]||T0;let c,u;l!==T0&&typeof t[0]!="number"&&(c=jv(qfe,IV(t[0],t[1])),t=[0,100]);const h=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=eV(h));const{calculatedDuration:p}=h,g=p+i,x=g*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:g,totalDuration:x}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:g,repeat:x,repeatType:b,repeatDelay:v,onUpdate:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const N=this.currentTime-g*(this.speed>=0?1:-1),S=this.speed>=0?N<0:N>h;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let A=this.currentTime,T=s;if(x){const I=Math.min(this.currentTime,h)/p;let F=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&F--,F=Math.min(F,x+1),F%2&&(b==="reverse"?(W=1-W,v&&(W-=v/p)):b==="mirror"&&(T=o)),A=al(0,1,W)*p}const C=S?{done:!1,value:c[0]}:T.next(A);l&&(C.value=l(C.value));let{done:E}=C;!S&&u!==null&&(E=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return O&&i!==void 0&&(C.value=Tw(c,this.options,i)),w&&w(C.value),O&&this.finish(),C}get duration(){const{resolved:t}=this;return t?Qo(t.calculatedDuration):0}get time(){return Qo(this.currentTime)}set time(t){t=Xo(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qo(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=zfe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Ufe=new Set(["opacity","clipPath","filter","transform"]);function Vfe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:n};c&&(u.offset=c);const h=rV(l,i);return Array.isArray(h)&&(u.easing=h),e.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Hfe=d2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),E0=10,Kfe=2e4;function Gfe(e){return P2(e.type)||e.type==="spring"||!nV(e.ease)}function Yfe(e,t){const n=new $2({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<Kfe;)r=n.sample(s),i.push(r.value),s+=E0;return{times:void 0,keyframes:i,duration:s-E0,ease:"linear"}}const $V={anticipate:gV,backInOut:mV,circInOut:yV};function Zfe(e){return e in $V}class NL extends MV{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new OV(s,(o,l)=>this.onKeyframesResolved(o,l),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&k0()&&Zfe(s)&&(s=$V[s]),Gfe(this.options)){const{onComplete:p,onUpdate:g,motionValue:x,element:b,...v}=this.options,w=Yfe(t,v);t=w.keyframes,t.length===1&&(t[1]=t[0]),r=w.duration,i=w.times,s=w.ease,o="keyframes"}const h=Vfe(l.owner.current,c,t,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(cL(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;l.set(Tw(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Qo(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Qo(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Xo(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return sa;const{animation:r}=n;cL(r,t)}return sa}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:l}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:p,element:g,...x}=this.options,b=new $2({...x,keyframes:r,duration:i,type:s,ease:o,times:l,isGenerator:!0}),v=Xo(this.time);u.setWithVelocity(b.sample(v-E0).value,b.sample(v).value,E0)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return Hfe()&&r&&Ufe.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const Xfe={type:"spring",stiffness:500,damping:25,restSpeed:10},Qfe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Jfe={type:"keyframes",duration:.8},ehe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},the=(e,{keyframes:t})=>t.length>2?Jfe:cd.has(e)?e.startsWith("scale")?Qfe(t[1]):Xfe:ehe;function nhe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const B2=(e,t,n,r={},i,s)=>o=>{const l=N2(r,e)||{},c=l.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Xo(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};nhe(l)||(h={...h,...the(e,h)}),h.duration&&(h.duration=Xo(h.duration)),h.repeatDelay&&(h.repeatDelay=Xo(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=Tw(h.keyframes,l);if(g!==void 0)return An.update(()=>{h.onUpdate(g),h.onComplete()}),new _de([])}return!s&&NL.supports(h)?new NL(h):new $2(h)};function rhe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function BV(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;r&&(o=r);const u=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),x=c[p];if(x===void 0||h&&rhe(h,p))continue;const b={delay:n,...N2(o||{},p)};let v=!1;if(window.MotionHandoffAnimation){const N=uV(e);if(N){const S=window.MotionHandoffAnimation(N,p,An);S!==null&&(b.startTime=S,v=!0)}}Qk(e,p),g.start(B2(p,g,x,e.shouldReduceMotion&&lV.has(p)?{type:!1}:b,e,v));const w=g.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{An.update(()=>{l&&Ide(e,l)})}),u}function aC(e,t,n={}){var r;const i=Cw(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(BV(e,i,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:g}=s;return ihe(e,t,h+u,p,g,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,h]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>h())}else return Promise.all([o(),l(n.delay)])}function ihe(e,t,n=0,r=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>l-u*r;return Array.from(e.variantChildren).sort(ahe).forEach((u,h)=>{u.notify("AnimationStart",t),o.push(aC(u,t,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function ahe(e,t){return e.sortNodePosition(t)}function she(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>aC(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=aC(e,t,n);else{const i=typeof t=="function"?Cw(e,t,n.custom):t;r=Promise.all(BV(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const ohe=h2.length;function zV(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?zV(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ohe;n++){const r=h2[n],i=e.props[r];(ug(i)||i===!1)&&(t[r]=i)}return t}const lhe=[...f2].reverse(),che=f2.length;function uhe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>she(e,n,r)))}function dhe(e){let t=uhe(e),n=PL(),r=!0;const i=c=>(u,h)=>{var p;const g=Cw(e,h,c==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:x,transitionEnd:b,...v}=g;u={...u,...v,...b}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,h=zV(e.parent)||{},p=[],g=new Set;let x={},b=1/0;for(let w=0;w<che;w++){const N=lhe[w],S=n[N],A=u[N]!==void 0?u[N]:h[N],T=ug(A),C=N===c?S.isActive:null;C===!1&&(b=w);let E=A===h[N]&&A!==u[N]&&T;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),S.protectedKeys={...x},!S.isActive&&C===null||!A&&!S.prevProp||Aw(A)||typeof A=="boolean")continue;const O=fhe(S.prevProp,A);let I=O||N===c&&S.isActive&&!E&&T||w>b&&T,F=!1;const W=Array.isArray(A)?A:[A];let $=W.reduce(i(N),{});C===!1&&($={});const{prevResolvedValues:z={}}=S,V={...z,...$},U=J=>{I=!0,g.has(J)&&(F=!0,g.delete(J)),S.needsAnimating[J]=!0;const G=e.getValue(J);G&&(G.liveStyle=!1)};for(const J in V){const G=$[J],ee=z[J];if(x.hasOwnProperty(J))continue;let X=!1;Yk(G)&&Yk(ee)?X=!JU(G,ee):X=G!==ee,X?G!=null?U(J):g.add(J):G!==void 0&&g.has(J)?U(J):S.protectedKeys[J]=!0}S.prevProp=A,S.prevResolvedValues=$,S.isActive&&(x={...x,...$}),r&&e.blockInitialAnimation&&(I=!1),I&&(!(E&&O)||F)&&p.push(...W.map(J=>({animation:J,options:{type:N}})))}if(g.size){const w={};g.forEach(N=>{const S=e.getBaseTarget(N),A=e.getValue(N);A&&(A.liveStyle=!0),w[N]=S??null}),p.push({animation:w})}let v=!!p.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(p):Promise.resolve()}function l(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(g=>{var x;return(x=g.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const p=o(c);for(const g in n)n[g].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=PL(),r=!0}}}function fhe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!JU(t,e):!1}function fu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function PL(){return{animate:fu(!0),whileInView:fu(),whileHover:fu(),whileTap:fu(),whileDrag:fu(),whileFocus:fu(),exit:fu()}}class Cc{constructor(t){this.isMounted=!1,this.node=t}update(){}}class hhe extends Cc{constructor(t){super(t),t.animationState||(t.animationState=dhe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Aw(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let phe=0;class mhe extends Cc{constructor(){super(...arguments),this.id=phe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const ghe={animation:{Feature:hhe},exit:{Feature:mhe}};function pg(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Sv(e){return{point:{x:e.pageX,y:e.pageY}}}const vhe=e=>t=>k2(t)&&e(t,Sv(t));function Om(e,t,n,r){return pg(e,t,vhe(n),r)}const AL=(e,t)=>Math.abs(e-t);function yhe(e,t){const n=AL(e.x,t.x),r=AL(e.y,t.y);return Math.sqrt(n**2+r**2)}class WV{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Lj(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=yhe(p.offset,{x:0,y:0})>=3;if(!g&&!x)return;const{point:b}=p,{timestamp:v}=Mr;this.history.push({...b,timestamp:v});const{onStart:w,onMove:N}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Dj(g,this.transformPagePoint),An.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Lj(p.type==="pointercancel"?this.lastMoveEventInfo:Dj(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(p,w),b&&b(p,w)},!k2(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Sv(t),l=Dj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Mr;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(t,Lj(l,this.history)),this.removeListeners=jv(Om(this.contextWindow,"pointermove",this.handlePointerMove),Om(this.contextWindow,"pointerup",this.handlePointerUp),Om(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wc(this.updatePoint)}}function Dj(e,t){return t?{point:t(e.point)}:e}function kL(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Lj({point:e},t){return{point:e,delta:kL(e,qV(t)),offset:kL(e,xhe(t)),velocity:bhe(t,.1)}}function xhe(e){return e[0]}function qV(e){return e[e.length-1]}function bhe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=qV(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Xo(t)));)n--;if(!r)return{x:0,y:0};const s=Qo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const UV=1e-4,whe=1-UV,_he=1+UV,VV=.01,jhe=0-VV,She=0+VV;function ca(e){return e.max-e.min}function Nhe(e,t,n){return Math.abs(e-t)<=n}function CL(e,t,n,r=.5){e.origin=r,e.originPoint=Ln(t.min,t.max,e.origin),e.scale=ca(n)/ca(t),e.translate=Ln(n.min,n.max,e.origin)-e.originPoint,(e.scale>=whe&&e.scale<=_he||isNaN(e.scale))&&(e.scale=1),(e.translate>=jhe&&e.translate<=She||isNaN(e.translate))&&(e.translate=0)}function Mm(e,t,n,r){CL(e.x,t.x,n.x,r?r.originX:void 0),CL(e.y,t.y,n.y,r?r.originY:void 0)}function TL(e,t,n){e.min=n.min+t.min,e.max=e.min+ca(t)}function Phe(e,t,n){TL(e.x,t.x,n.x),TL(e.y,t.y,n.y)}function EL(e,t,n){e.min=t.min-n.min,e.max=e.min+ca(t)}function Rm(e,t,n){EL(e.x,t.x,n.x),EL(e.y,t.y,n.y)}function Ahe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Ln(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Ln(n,e,r.max):Math.min(e,n)),e}function OL(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function khe(e,{top:t,left:n,bottom:r,right:i}){return{x:OL(e.x,n,i),y:OL(e.y,t,r)}}function ML(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Che(e,t){return{x:ML(e.x,t.x),y:ML(e.y,t.y)}}function The(e,t){let n=.5;const r=ca(e),i=ca(t);return i>r?n=Yf(t.min,t.max-r,e.min):r>i&&(n=Yf(e.min,e.max-i,t.min)),al(0,1,n)}function Ehe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const sC=.35;function Ohe(e=sC){return e===!1?e=0:e===!0&&(e=sC),{x:RL(e,"left","right"),y:RL(e,"top","bottom")}}function RL(e,t,n){return{min:IL(e,t),max:IL(e,n)}}function IL(e,t){return typeof e=="number"?e:e[t]||0}const DL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sf=()=>({x:DL(),y:DL()}),LL=()=>({min:0,max:0}),Qn=()=>({x:LL(),y:LL()});function ka(e){return[e("x"),e("y")]}function HV({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Mhe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Rhe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Fj(e){return e===void 0||e===1}function oC({scale:e,scaleX:t,scaleY:n}){return!Fj(e)||!Fj(t)||!Fj(n)}function bu(e){return oC(e)||KV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function KV(e){return FL(e.x)||FL(e.y)}function FL(e){return e&&e!=="0%"}function O0(e,t,n){const r=e-n,i=t*r;return n+i}function $L(e,t,n,r,i){return i!==void 0&&(e=O0(e,i,r)),O0(e,n,r)+t}function lC(e,t=0,n=1,r,i){e.min=$L(e.min,t,n,r,i),e.max=$L(e.max,t,n,r,i)}function GV(e,{x:t,y:n}){lC(e.x,t.translate,t.scale,t.originPoint),lC(e.y,n.translate,n.scale,n.originPoint)}const BL=.999999999999,zL=1.0000000000001;function Ihe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=n[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,GV(e,o)),r&&bu(s.latestValues)&&Pf(e,s.latestValues))}t.x<zL&&t.x>BL&&(t.x=1),t.y<zL&&t.y>BL&&(t.y=1)}function Nf(e,t){e.min=e.min+t,e.max=e.max+t}function WL(e,t,n,r,i=.5){const s=Ln(e.min,e.max,i);lC(e,t,n,s,r)}function Pf(e,t){WL(e.x,t.x,t.scaleX,t.scale,t.originX),WL(e.y,t.y,t.scaleY,t.scale,t.originY)}function YV(e,t){return HV(Rhe(e.getBoundingClientRect(),t))}function Dhe(e,t,n){const r=YV(e,n),{scroll:i}=t;return i&&(Nf(r.x,i.offset.x),Nf(r.y,i.offset.y)),r}const ZV=({current:e})=>e?e.ownerDocument.defaultView:null,Lhe=new WeakMap;class Fhe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Sv(h).point)},s=(h,p)=>{const{drag:g,dragPropagation:x,onDragStart:b}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tde(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ka(w=>{let N=this.getAxisMotionValue(w).get()||0;if(io.test(N)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[w];A&&(N=ca(A)*(parseFloat(N)/100))}}this.originPoint[w]=N}),b&&An.postRender(()=>b(h,p)),Qk(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:b,onDrag:v}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(x&&this.currentDirection===null){this.currentDirection=$he(w),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),v&&v(h,p)},l=(h,p)=>this.stop(h,p),c=()=>ka(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new WV(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ZV(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&An.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!wx(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Ahe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&_f(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=khe(i.layoutBox,n):this.constraints=!1,this.elastic=Ohe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ka(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Ehe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!_f(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Dhe(r,i.root,this.visualElement.getTransformPagePoint());let o=Che(i.layout.layoutBox,s);if(n){const l=n(Mhe(o));this.hasMutatedConstraints=!!l,l&&(o=HV(l))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ka(h=>{if(!wx(h,n,this.currentDirection))return;let p=c&&c[h]||{};o&&(p={min:0,max:0});const g=i?200:1e6,x=i?40:1e7,b={type:"inertia",velocity:r?t[h]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return Qk(this.visualElement,t),r.start(B2(t,r,0,n,this.visualElement,!1))}stopAnimation(){ka(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ka(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ka(n=>{const{drag:r}=this.getProps();if(!wx(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[n];s.set(t[n]-Ln(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!_f(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ka(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=The({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ka(o=>{if(!wx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Ln(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Lhe.set(this.visualElement,this);const t=this.visualElement.current,n=Om(t,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();_f(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),An.read(r);const o=pg(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ka(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),n(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=sC,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function wx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $he(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Bhe extends Cc{constructor(t){super(t),this.removeGroupControls=sa,this.removeListeners=sa,this.controls=new Fhe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||sa}unmount(){this.removeGroupControls(),this.removeListeners()}}const qL=e=>(t,n)=>{e&&An.postRender(()=>e(t,n))};class zhe extends Cc{constructor(){super(...arguments),this.removePointerDownListener=sa}onPointerDown(t){this.session=new WV(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ZV(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:qL(t),onStart:qL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&An.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Om(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const a0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UL(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const om={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(pt.test(e))e=parseFloat(e);else return e;const n=UL(e,t.target.x),r=UL(e,t.target.y);return`${n}% ${r}%`}},Whe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=_c.parse(e);if(i.length>5)return r;const s=_c.createTransformer(e),o=typeof i[0]!="number"?1:0,l=n.x.scale*t.x,c=n.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=Ln(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class qhe extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;ude(Uhe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),a0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||An.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),m2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function XV(e){const[t,n]=Nue(),r=j.useContext(OU);return a.jsx(qhe,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(BU),isPresent:t,safeToRemove:n})}const Uhe={borderRadius:{...om,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:om,borderTopRightRadius:om,borderBottomLeftRadius:om,borderBottomRightRadius:om,boxShadow:Whe};function Vhe(e,t,n){const r=Qr(e)?e:fg(e);return r.start(B2("",r,t,n)),r.animation}function Hhe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Khe=(e,t)=>e.depth-t.depth;class Ghe{constructor(){this.children=[],this.isDirty=!1}add(t){C2(this.children,t),this.isDirty=!0}remove(t){T2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Khe),this.isDirty=!1,this.children.forEach(t)}}function Yhe(e,t){const n=ao.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(wc(r),e(s-t))};return An.read(r,!0),()=>wc(r)}const QV=["TopLeft","TopRight","BottomLeft","BottomRight"],Zhe=QV.length,VL=e=>typeof e=="string"?parseFloat(e):e,HL=e=>typeof e=="number"||pt.test(e);function Xhe(e,t,n,r,i,s){i?(e.opacity=Ln(0,n.opacity!==void 0?n.opacity:1,Qhe(r)),e.opacityExit=Ln(t.opacity!==void 0?t.opacity:1,0,Jhe(r))):s&&(e.opacity=Ln(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Zhe;o++){const l=`border${QV[o]}Radius`;let c=KL(t,l),u=KL(n,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||HL(c)===HL(u)?(e[l]=Math.max(Ln(VL(c),VL(u),r),0),(io.test(u)||io.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||n.rotate)&&(e.rotate=Ln(t.rotate||0,n.rotate||0,r))}function KL(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Qhe=JV(0,.5,vV),Jhe=JV(.5,.95,sa);function JV(e,t,n){return r=>r<e?0:r>t?1:n(Yf(e,t,r))}function GL(e,t){e.min=t.min,e.max=t.max}function Sa(e,t){GL(e.x,t.x),GL(e.y,t.y)}function YL(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function ZL(e,t,n,r,i){return e-=t,e=O0(e,1/n,r),i!==void 0&&(e=O0(e,1/i,r)),e}function epe(e,t=0,n=1,r=.5,i,s=e,o=e){if(io.test(t)&&(t=parseFloat(t),t=Ln(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Ln(s.min,s.max,r);e===s&&(l-=t),e.min=ZL(e.min,t,n,l,i),e.max=ZL(e.max,t,n,l,i)}function XL(e,t,[n,r,i],s,o){epe(e,t[n],t[r],t[i],t.scale,s,o)}const tpe=["x","scaleX","originX"],npe=["y","scaleY","originY"];function QL(e,t,n,r){XL(e.x,t,tpe,n?n.x:void 0,r?r.x:void 0),XL(e.y,t,npe,n?n.y:void 0,r?r.y:void 0)}function JL(e){return e.translate===0&&e.scale===1}function e9(e){return JL(e.x)&&JL(e.y)}function e5(e,t){return e.min===t.min&&e.max===t.max}function rpe(e,t){return e5(e.x,t.x)&&e5(e.y,t.y)}function t5(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function t9(e,t){return t5(e.x,t.x)&&t5(e.y,t.y)}function n5(e){return ca(e.x)/ca(e.y)}function r5(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class ipe{constructor(){this.members=[]}add(t){C2(this.members,t),t.scheduleRender()}remove(t){if(T2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ape(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=n?.z||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:p,rotateY:g,skewX:x,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),x&&(r+=`skewX(${x}deg) `),b&&(r+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const wu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},_m=typeof window<"u"&&window.MotionDebug!==void 0,$j=["","X","Y","Z"],spe={visibility:"hidden"},i5=1e3;let ope=0;function Bj(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function n9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=uV(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",An,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&n9(r)}function r9({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=ope++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_m&&(wu.totalNodes=wu.resolvedTargetDeltas=wu.recalculatedProjection=0),this.nodes.forEach(upe),this.nodes.forEach(mpe),this.nodes.forEach(gpe),this.nodes.forEach(dpe),_m&&window.MotionDebug.record(wu)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ghe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new E2),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Hhe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Yhe(g,250),a0.hasAnimatedSinceResize&&(a0.hasAnimatedSinceResize=!1,this.nodes.forEach(s5))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||wpe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:N}=h.getProps(),S=!this.targetLayout||!t9(this.targetLayout,b)||x,A=!g&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||A||g&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,A);const T={...N2(v,"layout"),onPlay:w,onComplete:N};(h.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else g||s5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vpe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&n9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(a5);return}this.isUpdating||this.nodes.forEach(hpe),this.isUpdating=!1,this.nodes.forEach(ppe),this.nodes.forEach(lpe),this.nodes.forEach(cpe),this.clearAllSnapshots();const l=ao.now();Mr.delta=al(0,1e3/60,l-Mr.timestamp),Mr.timestamp=l,Mr.isProcessing=!0,Tj.update.process(Mr),Tj.preRender.process(Mr),Tj.render.process(Mr),Mr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,m2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(fpe),this.sharedNodes.forEach(ype)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,An.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){An.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!e9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(l||bu(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),_pe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Qn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(jpe))){const{scroll:h}=this.root;h&&(Nf(c.x,h.offset.x),Nf(c.y,h.offset.y))}return c}removeElementScroll(o){var l;const c=Qn();if(Sa(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:g}=h;h!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Sa(c,o),Nf(c.x,p.offset.x),Nf(c.y,p.offset.y))}return c}applyTransform(o,l=!1){const c=Qn();Sa(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Pf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),bu(h.latestValues)&&Pf(c,h.latestValues)}return bu(this.latestValues)&&Pf(c,this.latestValues),c}removeTransform(o){const l=Qn();Sa(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!bu(u.latestValues))continue;oC(u.latestValues)&&u.updateSnapshot();const h=Qn(),p=u.measurePageBox();Sa(h,p),QL(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return bu(this.latestValues)&&QL(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=Mr.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Rm(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),Sa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qn(),this.targetWithTransforms=Qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Phe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sa(this.target,this.layout.layoutBox),GV(this.target,this.targetDelta)):Sa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Rm(this.relativeTargetOrigin,this.target,x.target),Sa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_m&&wu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oC(this.parent.latestValues)||KV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Mr.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Sa(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,x=this.treeScale.y;Ihe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Qn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YL(this.prevProjectionDelta.x,this.projectionDelta.x),YL(this.prevProjectionDelta.y,this.projectionDelta.y)),Mm(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==x||!r5(this.projectionDelta.x,this.prevProjectionDelta.x)||!r5(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),_m&&wu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sf(),this.projectionDelta=Sf(),this.projectionDeltaWithTransform=Sf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},p=Sf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Qn(),x=c?c.source:void 0,b=this.layout?this.layout.source:void 0,v=x!==b,w=this.getStack(),N=!w||w.members.length<=1,S=!!(v&&!N&&this.options.crossfade===!0&&!this.path.some(bpe));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const C=T/1e3;o5(p.x,o.x,C),o5(p.y,o.y,C),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xpe(this.relativeTarget,this.relativeTargetOrigin,g,C),A&&rpe(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Qn()),Sa(A,this.relativeTarget)),v&&(this.animationValues=h,Xhe(h,u,this.latestValues,C,S,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=An.update(()=>{a0.hasAnimatedSinceResize=!0,this.currentAnimation=Vhe(0,i5,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(i5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:h}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&i9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Qn();const p=ca(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=ca(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Sa(l,c),Pf(l,h),Mm(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new ipe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Bj("z",o,u,this.animationValues);for(let h=0;h<$j.length;h++)Bj(`rotate${$j[h]}`,o,u,this.animationValues),Bj(`skew${$j[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return spe;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=r0(o?.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=r0(o?.pointerEvents)||""),this.hasProjected&&!bu(this.latestValues)&&(v.transform=h?h({},""):"none",this.hasProjected=!1),v}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=ape(this.projectionDeltaWithTransform,this.treeScale,g),h&&(u.transform=h(g,u.transform));const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const v in A0){if(g[v]===void 0)continue;const{correct:w,applyTo:N}=A0[v],S=u.transform==="none"?g[v]:w(g[v],p);if(N){const A=N.length;for(let T=0;T<A;T++)u[N[T]]=S}else u[v]=S}return this.options.layoutId&&(u.pointerEvents=p===this?r0(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(a5),this.root.sharedNodes.clear()}}}function lpe(e){e.updateLayout()}function cpe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?ka(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],x=ca(g);g.min=r[p].min,g.max=g.min+x}):i9(s,n.layoutBox,r)&&ka(p=>{const g=o?n.measuredBox[p]:n.layoutBox[p],x=ca(r[p]);g.max=g.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+x)});const l=Sf();Mm(l,r,n.layoutBox);const c=Sf();o?Mm(c,e.applyTransform(i,!0),n.measuredBox):Mm(c,r,n.layoutBox);const u=!e9(l);let h=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:x}=p;if(g&&x){const b=Qn();Rm(b,n.layoutBox,g.layoutBox);const v=Qn();Rm(v,r,x.layoutBox),t9(b,v)||(h=!0),p.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=b,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function upe(e){_m&&wu.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function dpe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function fpe(e){e.clearSnapshot()}function a5(e){e.clearMeasurements()}function hpe(e){e.isLayoutDirty=!1}function ppe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function s5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mpe(e){e.resolveTargetDelta()}function gpe(e){e.calcProjection()}function vpe(e){e.resetSkewAndRotation()}function ype(e){e.removeLeadSnapshot()}function o5(e,t,n){e.translate=Ln(t.translate,0,n),e.scale=Ln(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function l5(e,t,n,r){e.min=Ln(t.min,n.min,r),e.max=Ln(t.max,n.max,r)}function xpe(e,t,n,r){l5(e.x,t.x,n.x,r),l5(e.y,t.y,n.y,r)}function bpe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wpe={duration:.45,ease:[.4,0,.1,1]},c5=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),u5=c5("applewebkit/")&&!c5("chrome/")?Math.round:sa;function d5(e){e.min=u5(e.min),e.max=u5(e.max)}function _pe(e){d5(e.x),d5(e.y)}function i9(e,t,n){return e==="position"||e==="preserve-aspect"&&!Nhe(n5(t),n5(n),.2)}function jpe(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const Spe=r9({attachResizeListener:(e,t)=>pg(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zj={current:void 0},a9=r9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!zj.current){const e=new Spe({});e.mount(window),e.setOptions({layoutScroll:!0}),zj.current=e}return zj.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Npe={pan:{Feature:zhe},drag:{Feature:Bhe,ProjectionNode:a9,MeasureLayout:XV}};function f5(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&An.postRender(()=>s(t,Sv(t)))}class Ppe extends Cc{mount(){const{current:t}=this.node;t&&(this.unmount=Nde(t,n=>(f5(this.node,n,"Start"),r=>f5(this.node,r,"End"))))}unmount(){}}class Ape extends Cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jv(pg(this.node.current,"focus",()=>this.onFocus()),pg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function h5(e,t,n){const{props:r}=e;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&An.postRender(()=>s(t,Sv(t)))}class kpe extends Cc{mount(){const{current:t}=this.node;t&&(this.unmount=Cde(t,n=>(h5(this.node,n,"Start"),(r,{success:i})=>h5(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const cC=new WeakMap,Wj=new WeakMap,Cpe=e=>{const t=cC.get(e.target);t&&t(e)},Tpe=e=>{e.forEach(Cpe)};function Epe({root:e,...t}){const n=e||document;Wj.has(n)||Wj.set(n,{});const r=Wj.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Tpe,{root:e,...t})),r[i]}function Ope(e,t,n){const r=Epe(t);return cC.set(e,n),r.observe(e),()=>{cC.delete(e),r.unobserve(e)}}const Mpe={some:0,all:1};class Rpe extends Cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Mpe[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=u?h:p;g&&g(c)};return Ope(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Ipe(t,n))&&this.startObserver()}unmount(){}}function Ipe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Dpe={inView:{Feature:Rpe},tap:{Feature:kpe},focus:{Feature:Ape},hover:{Feature:Ppe}},Lpe={layout:{ProjectionNode:a9,MeasureLayout:XV}},M0={current:null},z2={current:!1};function s9(){if(z2.current=!0,!!u2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>M0.current=e.matches;e.addListener(t),t()}else M0.current=!1}const Fpe=[...EV,Vr,_c],$pe=e=>Fpe.find(TV(e)),p5=new WeakMap;function Bpe(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Qr(i))e.addValue(r,i);else if(Qr(s))e.addValue(r,fg(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,fg(o!==void 0?o:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const m5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zpe{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=L2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=ao.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,An.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=kw(n),this.isVariantNode=FU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in g){const b=g[x];c[x]!==void 0&&Qr(b)&&b.set(c[x],!1)}}mount(t){this.current=t,p5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),z2.current||s9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){p5.delete(this.current),this.projection&&this.projection.unmount(),wc(this.notifyUpdate),wc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=cd.has(t),i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&An.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Zf){const n=Zf[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m5.length;r++){const i=m5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Bpe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=fg(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(kV(i)||xV(i))?i=parseFloat(i):!$pe(i)&&_c.test(n)&&(i=NV(t,n)),this.setBaseTarget(t,Qr(i)?i.get():i)),Qr(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=v2(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Qr(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new E2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class o9 extends zpe{constructor(){super(...arguments),this.KeyframeResolver=OV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Qr(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Wpe(e){return window.getComputedStyle(e)}class qpe extends o9{constructor(){super(...arguments),this.type="html",this.renderInstance=KU}readValueFromInstance(t,n){if(cd.has(n)){const r=D2(n);return r&&r.default||0}else{const r=Wpe(t),i=(UU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return YV(t,n)}build(t,n,r){b2(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return S2(t,n,r)}}class Upe extends o9{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(cd.has(n)){const r=D2(n);return r&&r.default||0}return n=GU.has(n)?n:p2(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return XU(t,n,r)}build(t,n,r){w2(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){YU(t,n,r,i)}mount(t){this.isSVGTag=j2(t.tagName),super.mount(t)}}const Vpe=(e,t)=>g2(e)?new Upe(t):new qpe(t,{allowProjection:e!==j.Fragment}),Hpe=xde({...ghe,...Dpe,...Npe,...Lpe},Vpe),Tn=Rue(Hpe);function Kpe(){!z2.current&&s9();const[e]=j.useState(M0.current);return e}const Gpe={some:0,all:1};function Ype(e,t,{root:n,margin:r,amount:i="some"}={}){const s=aV(e),o=new WeakMap,l=u=>{u.forEach(h=>{const p=o.get(h.target);if(h.isIntersecting!==!!p)if(h.isIntersecting){const g=t(h);typeof g=="function"?o.set(h.target,g):c.unobserve(h.target)}else typeof p=="function"&&(p(h),o.delete(h.target))})},c=new IntersectionObserver(l,{root:n,rootMargin:r,threshold:typeof i=="number"?i:Gpe[i]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function l9(e,{root:t,margin:n,amount:r,once:i=!1}={}){const[s,o]=j.useState(!1);return j.useEffect(()=>{if(!e.current||i&&s)return;const l=()=>(o(!0),i?void 0:()=>o(!1)),c={root:t&&t.current||void 0,margin:n,amount:r};return Ype(e.current,l,c)},[t,e,n,i,r]),s}const Zpe=()=>{const[e,t]=j.useState(!1);j.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)");t(r.matches);const i=s=>{t(s.matches)};return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[]);const n="h-8 md:h-10 lg:h-11 w-auto opacity-95 pointer-events-none drop-shadow-[0_0_12px_rgba(120,180,255,0.25)]";return e?a.jsx("img",{src:"/AthleteSpace_logo_dark.jpg",alt:"Athlete Space",className:n}):a.jsx("video",{src:"/branding/athletespace-logo-motion.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:n})},Xpe=()=>{const[e,t]=j.useState(!1);return a.jsxs(Tn.nav,{className:"fixed top-0 left-0 right-0 z-50 pt-[env(safe-area-inset-top,0px)]",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.1},children:[a.jsx("div",{className:"absolute inset-0 bg-slate-950/80 backdrop-blur-sm border-b border-slate-800/30"}),a.jsx("div",{className:"relative container mx-auto px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("a",{href:"/",className:"flex items-center gap-2",children:a.jsx(Zpe,{})}),a.jsxs("div",{className:"hidden md:flex items-center gap-8 text-[11px] font-mono tracking-[0.12em] uppercase",children:[a.jsx("a",{href:"#system",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"System"}),a.jsx("a",{href:"#athletes",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"Athletes"}),a.jsx("a",{href:"#coaches",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"Coaches"}),a.jsx("a",{href:"/about",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"About"}),a.jsx("a",{href:"/science",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"Science & AI"}),a.jsx("a",{href:"/faq",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"FAQ"}),a.jsx("a",{href:"/support",className:"text-slate-500 hover:text-slate-300 transition-colors",children:"Support"}),a.jsx("a",{href:"/login",className:"text-slate-400 hover:text-slate-200 transition-colors",children:"Sign In"})]}),a.jsx("button",{className:"md:hidden text-slate-400",onClick:()=>t(!e),children:e?a.jsx(Ss,{size:20}):a.jsx(SW,{size:20})})]})}),e&&a.jsx(Tn.div,{className:"md:hidden absolute left-0 right-0 bg-slate-950/95 backdrop-blur-sm border-b border-slate-800/30",style:{top:"calc(4rem + env(safe-area-inset-top, 0px))"},initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},children:a.jsxs("div",{className:"container mx-auto px-6 py-4 flex flex-col gap-4 text-[11px] font-mono tracking-[0.12em] uppercase",children:[a.jsx("a",{href:"#system",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"System"}),a.jsx("a",{href:"#athletes",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"Athletes"}),a.jsx("a",{href:"#coaches",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"Coaches"}),a.jsx("a",{href:"/about",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"About"}),a.jsx("a",{href:"/science",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"Science & AI"}),a.jsx("a",{href:"/faq",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"FAQ"}),a.jsx("a",{href:"/support",className:"text-slate-500 hover:text-slate-300 transition-colors py-2",children:"Support"}),a.jsx("a",{href:"/login",className:"text-slate-400 hover:text-slate-200 transition-colors py-2",children:"Sign In"})]})})]})};var c9={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},W2={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},Qpe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],R0={CSS:{},springs:{}};function Qs(e,t,n){return Math.min(Math.max(e,t),n)}function Im(e,t){return e.indexOf(t)>-1}function qj(e,t){return e.apply(null,t)}var at={arr:function(e){return Array.isArray(e)},obj:function(e){return Im(Object.prototype.toString.call(e),"Object")},pth:function(e){return at.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||at.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return at.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return at.hex(e)||at.rgb(e)||at.hsl(e)},key:function(e){return!c9.hasOwnProperty(e)&&!W2.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function u9(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function d9(e,t){var n=u9(e),r=Qs(at.und(n[0])?1:n[0],.1,100),i=Qs(at.und(n[1])?100:n[1],.1,100),s=Qs(at.und(n[2])?10:n[2],.1,100),o=Qs(at.und(n[3])?0:n[3],.1,100),l=Math.sqrt(i/r),c=s/(2*Math.sqrt(i*r)),u=c<1?l*Math.sqrt(1-c*c):0,h=1,p=c<1?(c*l+-o)/u:-o+l;function g(b){var v=t?t*b/1e3:b;return c<1?v=Math.exp(-v*c*l)*(h*Math.cos(u*v)+p*Math.sin(u*v)):v=(h+p*v)*Math.exp(-v*l),b===0||b===1?b:1-v}function x(){var b=R0.springs[e];if(b)return b;for(var v=1/6,w=0,N=0;;)if(w+=v,g(w)===1){if(N++,N>=16)break}else N=0;var S=w*v*1e3;return R0.springs[e]=S,S}return t?g:x}function Jpe(e){return e===void 0&&(e=10),function(t){return Math.ceil(Qs(t,1e-6,1)*e)*(1/e)}}var eme=(function(){var e=11,t=1/(e-1);function n(h,p){return 1-3*p+3*h}function r(h,p){return 3*p-6*h}function i(h){return 3*h}function s(h,p,g){return((n(p,g)*h+r(p,g))*h+i(p))*h}function o(h,p,g){return 3*n(p,g)*h*h+2*r(p,g)*h+i(p)}function l(h,p,g,x,b){var v,w,N=0;do w=p+(g-p)/2,v=s(w,x,b)-h,v>0?g=w:p=w;while(Math.abs(v)>1e-7&&++N<10);return w}function c(h,p,g,x){for(var b=0;b<4;++b){var v=o(p,g,x);if(v===0)return p;var w=s(p,g,x)-h;p-=w/v}return p}function u(h,p,g,x){if(!(0<=h&&h<=1&&0<=g&&g<=1))return;var b=new Float32Array(e);if(h!==p||g!==x)for(var v=0;v<e;++v)b[v]=s(v*t,h,g);function w(N){for(var S=0,A=1,T=e-1;A!==T&&b[A]<=N;++A)S+=t;--A;var C=(N-b[A])/(b[A+1]-b[A]),E=S+C*t,O=o(E,h,g);return O>=.001?c(N,E,h,g):O===0?E:l(N,S,S+t,h,g)}return function(N){return h===p&&g===x||N===0||N===1?N:s(w(N),p,x)}}return u})(),f9=(function(){var e={linear:function(){return function(r){return r}}},t={Sine:function(){return function(r){return 1-Math.cos(r*Math.PI/2)}},Expo:function(){return function(r){return r?Math.pow(2,10*r-10):0}},Circ:function(){return function(r){return 1-Math.sqrt(1-r*r)}},Back:function(){return function(r){return r*r*(3*r-2)}},Bounce:function(){return function(r){for(var i,s=4;r<((i=Math.pow(2,--s))-1)/11;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((i*3-2)/22-r,2)}},Elastic:function(r,i){r===void 0&&(r=1),i===void 0&&(i=.5);var s=Qs(r,1,10),o=Qs(i,.1,2);return function(l){return l===0||l===1?l:-s*Math.pow(2,10*(l-1))*Math.sin((l-1-o/(Math.PI*2)*Math.asin(1/s))*(Math.PI*2)/o)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(r,i){t[r]=function(){return function(s){return Math.pow(s,i+2)}}}),Object.keys(t).forEach(function(r){var i=t[r];e["easeIn"+r]=i,e["easeOut"+r]=function(s,o){return function(l){return 1-i(s,o)(1-l)}},e["easeInOut"+r]=function(s,o){return function(l){return l<.5?i(s,o)(l*2)/2:1-i(s,o)(l*-2+2)/2}},e["easeOutIn"+r]=function(s,o){return function(l){return l<.5?(1-i(s,o)(1-l*2))/2:(i(s,o)(l*2-1)+1)/2}}}),e})();function q2(e,t){if(at.fnc(e))return e;var n=e.split("(")[0],r=f9[n],i=u9(e);switch(n){case"spring":return d9(e,t);case"cubicBezier":return qj(eme,i);case"steps":return qj(Jpe,i);default:return qj(r,i)}}function h9(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function Ew(e,t){for(var n=e.length,r=arguments.length>=2?arguments[1]:void 0,i=[],s=0;s<n;s++)if(s in e){var o=e[s];t.call(r,o,s,e)&&i.push(o)}return i}function Ow(e){return e.reduce(function(t,n){return t.concat(at.arr(n)?Ow(n):n)},[])}function g5(e){return at.arr(e)?e:(at.str(e)&&(e=h9(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function U2(e,t){return e.some(function(n){return n===t})}function V2(e){var t={};for(var n in e)t[n]=e[n];return t}function uC(e,t){var n=V2(e);for(var r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function Mw(e,t){var n=V2(e);for(var r in t)n[r]=at.und(e[r])?t[r]:e[r];return n}function tme(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function nme(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(l,c,u,h){return c+c+u+u+h+h}),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),i=parseInt(r[1],16),s=parseInt(r[2],16),o=parseInt(r[3],16);return"rgba("+i+","+s+","+o+",1)"}function rme(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,r=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,s=t[4]||1;function o(g,x,b){return b<0&&(b+=1),b>1&&(b-=1),b<1/6?g+(x-g)*6*b:b<1/2?x:b<2/3?g+(x-g)*(2/3-b)*6:g}var l,c,u;if(r==0)l=c=u=i;else{var h=i<.5?i*(1+r):i+r-i*r,p=2*i-h;l=o(p,h,n+1/3),c=o(p,h,n),u=o(p,h,n-1/3)}return"rgba("+l*255+","+c*255+","+u*255+","+s+")"}function ime(e){if(at.rgb(e))return tme(e);if(at.hex(e))return nme(e);if(at.hsl(e))return rme(e)}function Jo(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function ame(e){if(Im(e,"translate")||e==="perspective")return"px";if(Im(e,"rotate")||Im(e,"skew"))return"deg"}function dC(e,t){return at.fnc(e)?e(t.target,t.id,t.total):e}function Js(e,t){return e.getAttribute(t)}function H2(e,t,n){var r=Jo(t);if(U2([n,"deg","rad","turn"],r))return t;var i=R0.CSS[t+n];if(!at.und(i))return i;var s=100,o=document.createElement(e.tagName),l=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;l.appendChild(o),o.style.position="absolute",o.style.width=s+n;var c=s/o.offsetWidth;l.removeChild(o);var u=c*parseFloat(t);return R0.CSS[t+n]=u,u}function p9(e,t,n){if(t in e.style){var r=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(r)||"0";return n?H2(e,i,n):i}}function K2(e,t){if(at.dom(e)&&!at.inp(e)&&(!at.nil(Js(e,t))||at.svg(e)&&e[t]))return"attribute";if(at.dom(e)&&U2(Qpe,t))return"transform";if(at.dom(e)&&t!=="transform"&&p9(e,t))return"css";if(e[t]!=null)return"object"}function m9(e){if(at.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,r=new Map,i;i=n.exec(t);)r.set(i[1],i[2]);return r}}function sme(e,t,n,r){var i=Im(t,"scale")?1:0+ame(t),s=m9(e).get(t)||i;return n&&(n.transforms.list.set(t,s),n.transforms.last=t),r?H2(e,s,r):s}function G2(e,t,n,r){switch(K2(e,t)){case"transform":return sme(e,t,r,n);case"css":return p9(e,t,n);case"attribute":return Js(e,t);default:return e[t]||0}}function Y2(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var r=Jo(e)||0,i=parseFloat(t),s=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return i+s+r;case"-":return i-s+r;case"*":return i*s+r}}function g9(e,t){if(at.col(e))return ime(e);if(/\s/g.test(e))return e;var n=Jo(e),r=n?e.substr(0,e.length-n.length):e;return t?r+t:r}function Z2(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function ome(e){return Math.PI*2*Js(e,"r")}function lme(e){return Js(e,"width")*2+Js(e,"height")*2}function cme(e){return Z2({x:Js(e,"x1"),y:Js(e,"y1")},{x:Js(e,"x2"),y:Js(e,"y2")})}function v9(e){for(var t=e.points,n=0,r,i=0;i<t.numberOfItems;i++){var s=t.getItem(i);i>0&&(n+=Z2(r,s)),r=s}return n}function ume(e){var t=e.points;return v9(e)+Z2(t.getItem(t.numberOfItems-1),t.getItem(0))}function y9(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return ome(e);case"rect":return lme(e);case"line":return cme(e);case"polyline":return v9(e);case"polygon":return ume(e)}}function dme(e){var t=y9(e);return e.setAttribute("stroke-dasharray",t),t}function fme(e){for(var t=e.parentNode;at.svg(t)&&at.svg(t.parentNode);)t=t.parentNode;return t}function x9(e,t){var n=t||{},r=n.el||fme(e),i=r.getBoundingClientRect(),s=Js(r,"viewBox"),o=i.width,l=i.height,c=n.viewBox||(s?s.split(" "):[0,0,o,l]);return{el:r,viewBox:c,x:c[0]/1,y:c[1]/1,w:o,h:l,vW:c[2],vH:c[3]}}function hme(e,t){var n=at.str(e)?h9(e)[0]:e,r=t||100;return function(i){return{property:i,el:n,svg:x9(n),totalLength:y9(n)*(r/100)}}}function pme(e,t,n){function r(h){h===void 0&&(h=0);var p=t+h>=1?t+h:0;return e.el.getPointAtLength(p)}var i=x9(e.el,e.svg),s=r(),o=r(-1),l=r(1),c=n?1:i.w/i.vW,u=n?1:i.h/i.vH;switch(e.property){case"x":return(s.x-i.x)*c;case"y":return(s.y-i.y)*u;case"angle":return Math.atan2(l.y-o.y,l.x-o.x)*180/Math.PI}}function v5(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,r=g9(at.pth(e)?e.totalLength:e,t)+"";return{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:at.str(e)||t?r.split(n):[]}}function X2(e){var t=e?Ow(at.arr(e)?e.map(g5):g5(e)):[];return Ew(t,function(n,r,i){return i.indexOf(n)===r})}function b9(e){var t=X2(e);return t.map(function(n,r){return{target:n,id:r,total:t.length,transforms:{list:m9(n)}}})}function mme(e,t){var n=V2(t);if(/^spring/.test(n.easing)&&(n.duration=d9(n.easing)),at.arr(e)){var r=e.length,i=r===2&&!at.obj(e[0]);i?e={value:e}:at.fnc(t.duration)||(n.duration=t.duration/r)}var s=at.arr(e)?e:[e];return s.map(function(o,l){var c=at.obj(o)&&!at.pth(o)?o:{value:o};return at.und(c.delay)&&(c.delay=l?0:t.delay),at.und(c.endDelay)&&(c.endDelay=l===s.length-1?t.endDelay:0),c}).map(function(o){return Mw(o,n)})}function gme(e){for(var t=Ew(Ow(e.map(function(s){return Object.keys(s)})),function(s){return at.key(s)}).reduce(function(s,o){return s.indexOf(o)<0&&s.push(o),s},[]),n={},r=function(s){var o=t[s];n[o]=e.map(function(l){var c={};for(var u in l)at.key(u)?u==o&&(c.value=l[u]):c[u]=l[u];return c})},i=0;i<t.length;i++)r(i);return n}function vme(e,t){var n=[],r=t.keyframes;r&&(t=Mw(gme(r),t));for(var i in t)at.key(i)&&n.push({name:i,tweens:mme(t[i],e)});return n}function yme(e,t){var n={};for(var r in e){var i=dC(e[r],t);at.arr(i)&&(i=i.map(function(s){return dC(s,t)}),i.length===1&&(i=i[0])),n[r]=i}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function xme(e,t){var n;return e.tweens.map(function(r){var i=yme(r,t),s=i.value,o=at.arr(s)?s[1]:s,l=Jo(o),c=G2(t.target,e.name,l,t),u=n?n.to.original:c,h=at.arr(s)?s[0]:u,p=Jo(h)||Jo(c),g=l||p;return at.und(o)&&(o=u),i.from=v5(h,g),i.to=v5(Y2(o,h),g),i.start=n?n.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=q2(i.easing,i.duration),i.isPath=at.pth(s),i.isPathTargetInsideSVG=i.isPath&&at.svg(t.target),i.isColor=at.col(i.from.original),i.isColor&&(i.round=1),n=i,i})}var w9={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,r,i){if(r.list.set(t,n),t===r.last||i){var s="";r.list.forEach(function(o,l){s+=l+"("+o+") "}),e.style.transform=s}}};function _9(e,t){var n=b9(e);n.forEach(function(r){for(var i in t){var s=dC(t[i],r),o=r.target,l=Jo(s),c=G2(o,i,l,r),u=l||Jo(c),h=Y2(g9(s,u),c),p=K2(o,i);w9[p](o,i,h,r.transforms,!0)}})}function bme(e,t){var n=K2(e.target,t.name);if(n){var r=xme(t,e),i=r[r.length-1];return{type:n,property:t.name,animatable:e,tweens:r,duration:i.end,delay:r[0].delay,endDelay:i.endDelay}}}function wme(e,t){return Ew(Ow(e.map(function(n){return t.map(function(r){return bme(n,r)})})),function(n){return!at.und(n)})}function j9(e,t){var n=e.length,r=function(s){return s.timelineOffset?s.timelineOffset:0},i={};return i.duration=n?Math.max.apply(Math,e.map(function(s){return r(s)+s.duration})):t.duration,i.delay=n?Math.min.apply(Math,e.map(function(s){return r(s)+s.delay})):t.delay,i.endDelay=n?i.duration-Math.max.apply(Math,e.map(function(s){return r(s)+s.duration-s.endDelay})):t.endDelay,i}var y5=0;function _me(e){var t=uC(c9,e),n=uC(W2,e),r=vme(n,e),i=b9(e.targets),s=wme(i,r),o=j9(s,n),l=y5;return y5++,Mw(t,{id:l,children:[],animatables:i,animations:s,duration:o.duration,delay:o.delay,endDelay:o.endDelay})}var us=[],S9=(function(){var e;function t(){!e&&(!x5()||!sn.suspendWhenDocumentHidden)&&us.length>0&&(e=requestAnimationFrame(n))}function n(i){for(var s=us.length,o=0;o<s;){var l=us[o];l.paused?(us.splice(o,1),s--):(l.tick(i),o++)}e=o>0?requestAnimationFrame(n):void 0}function r(){sn.suspendWhenDocumentHidden&&(x5()?e=cancelAnimationFrame(e):(us.forEach(function(i){return i._onDocumentVisibility()}),S9()))}return typeof document<"u"&&document.addEventListener("visibilitychange",r),t})();function x5(){return!!document&&document.hidden}function sn(e){e===void 0&&(e={});var t=0,n=0,r=0,i,s=0,o=null;function l(S){var A=window.Promise&&new Promise(function(T){return o=T});return S.finished=A,A}var c=_me(e);l(c);function u(){var S=c.direction;S!=="alternate"&&(c.direction=S!=="normal"?"normal":"reverse"),c.reversed=!c.reversed,i.forEach(function(A){return A.reversed=c.reversed})}function h(S){return c.reversed?c.duration-S:S}function p(){t=0,n=h(c.currentTime)*(1/sn.speed)}function g(S,A){A&&A.seek(S-A.timelineOffset)}function x(S){if(c.reversePlayback)for(var T=s;T--;)g(S,i[T]);else for(var A=0;A<s;A++)g(S,i[A])}function b(S){for(var A=0,T=c.animations,C=T.length;A<C;){var E=T[A],O=E.animatable,I=E.tweens,F=I.length-1,W=I[F];F&&(W=Ew(I,function(me){return S<me.end})[0]||W);for(var $=Qs(S-W.start-W.delay,0,W.duration)/W.duration,z=isNaN($)?1:W.easing($),V=W.to.strings,U=W.round,te=[],Q=W.to.numbers.length,J=void 0,G=0;G<Q;G++){var ee=void 0,X=W.to.numbers[G],q=W.from.numbers[G]||0;W.isPath?ee=pme(W.value,z*X,W.isPathTargetInsideSVG):ee=q+z*(X-q),U&&(W.isColor&&G>2||(ee=Math.round(ee*U)/U)),te.push(ee)}var H=V.length;if(!H)J=te[0];else{J=V[0];for(var ne=0;ne<H;ne++){V[ne];var se=V[ne+1],de=te[ne];isNaN(de)||(se?J+=de+se:J+=de+" ")}}w9[E.type](O.target,E.property,J,O.transforms),E.currentValue=J,A++}}function v(S){c[S]&&!c.passThrough&&c[S](c)}function w(){c.remaining&&c.remaining!==!0&&c.remaining--}function N(S){var A=c.duration,T=c.delay,C=A-c.endDelay,E=h(S);c.progress=Qs(E/A*100,0,100),c.reversePlayback=E<c.currentTime,i&&x(E),!c.began&&c.currentTime>0&&(c.began=!0,v("begin")),!c.loopBegan&&c.currentTime>0&&(c.loopBegan=!0,v("loopBegin")),E<=T&&c.currentTime!==0&&b(0),(E>=C&&c.currentTime!==A||!A)&&b(A),E>T&&E<C?(c.changeBegan||(c.changeBegan=!0,c.changeCompleted=!1,v("changeBegin")),v("change"),b(E)):c.changeBegan&&(c.changeCompleted=!0,c.changeBegan=!1,v("changeComplete")),c.currentTime=Qs(E,0,A),c.began&&v("update"),S>=A&&(n=0,w(),c.remaining?(t=r,v("loopComplete"),c.loopBegan=!1,c.direction==="alternate"&&u()):(c.paused=!0,c.completed||(c.completed=!0,v("loopComplete"),v("complete"),!c.passThrough&&"Promise"in window&&(o(),l(c)))))}return c.reset=function(){var S=c.direction;c.passThrough=!1,c.currentTime=0,c.progress=0,c.paused=!0,c.began=!1,c.loopBegan=!1,c.changeBegan=!1,c.completed=!1,c.changeCompleted=!1,c.reversePlayback=!1,c.reversed=S==="reverse",c.remaining=c.loop,i=c.children,s=i.length;for(var A=s;A--;)c.children[A].reset();(c.reversed&&c.loop!==!0||S==="alternate"&&c.loop===1)&&c.remaining++,b(c.reversed?c.duration:0)},c._onDocumentVisibility=p,c.set=function(S,A){return _9(S,A),c},c.tick=function(S){r=S,t||(t=r),N((r+(n-t))*sn.speed)},c.seek=function(S){N(h(S))},c.pause=function(){c.paused=!0,p()},c.play=function(){c.paused&&(c.completed&&c.reset(),c.paused=!1,us.push(c),p(),S9())},c.reverse=function(){u(),c.completed=!c.reversed,p()},c.restart=function(){c.reset(),c.play()},c.remove=function(S){var A=X2(S);N9(A,c)},c.reset(),c.autoplay&&c.play(),c}function b5(e,t){for(var n=t.length;n--;)U2(e,t[n].animatable.target)&&t.splice(n,1)}function N9(e,t){var n=t.animations,r=t.children;b5(e,n);for(var i=r.length;i--;){var s=r[i],o=s.animations;b5(e,o),!o.length&&!s.children.length&&r.splice(i,1)}!n.length&&!r.length&&t.pause()}function jme(e){for(var t=X2(e),n=us.length;n--;){var r=us[n];N9(t,r)}}function Sme(e,t){t===void 0&&(t={});var n=t.direction||"normal",r=t.easing?q2(t.easing):null,i=t.grid,s=t.axis,o=t.from||0,l=o==="first",c=o==="center",u=o==="last",h=at.arr(e),p=parseFloat(h?e[0]:e),g=h?parseFloat(e[1]):0,x=Jo(h?e[1]:e)||0,b=t.start||0+(h?p:0),v=[],w=0;return function(N,S,A){if(l&&(o=0),c&&(o=(A-1)/2),u&&(o=A-1),!v.length){for(var T=0;T<A;T++){if(!i)v.push(Math.abs(o-T));else{var C=c?(i[0]-1)/2:o%i[0],E=c?(i[1]-1)/2:Math.floor(o/i[0]),O=T%i[0],I=Math.floor(T/i[0]),F=C-O,W=E-I,$=Math.sqrt(F*F+W*W);s==="x"&&($=-F),s==="y"&&($=-W),v.push($)}w=Math.max.apply(Math,v)}r&&(v=v.map(function(V){return r(V/w)*w})),n==="reverse"&&(v=v.map(function(V){return s?V<0?V*-1:-V:Math.abs(w-V)}))}var z=h?(g-p)/w:p;return b+z*(Math.round(v[S]*100)/100)+x}}function Nme(e){e===void 0&&(e={});var t=sn(e);return t.duration=0,t.add=function(n,r){var i=us.indexOf(t),s=t.children;i>-1&&us.splice(i,1);function o(g){g.passThrough=!0}for(var l=0;l<s.length;l++)o(s[l]);var c=Mw(n,uC(W2,e));c.targets=c.targets||e.targets;var u=t.duration;c.autoplay=!1,c.direction=t.direction,c.timelineOffset=at.und(r)?u:Y2(r,u),o(t),t.seek(c.timelineOffset);var h=sn(c);o(h),s.push(h);var p=j9(s,e);return t.delay=p.delay,t.endDelay=p.endDelay,t.duration=p.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}sn.version="3.2.1";sn.speed=1;sn.suspendWhenDocumentHidden=!0;sn.running=us;sn.remove=jme;sn.get=G2;sn.set=_9;sn.convertPx=H2;sn.path=hme;sn.setDashoffset=dme;sn.stagger=Sme;sn.timeline=Nme;sn.easing=q2;sn.penner=f9;sn.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};const Pme=({className:e="",animate:t=!0})=>{const n=j.useRef(null),[r,i]=j.useState(!1),s=()=>{const l=[];for(let g=0;g<=120;g++){const x=g/120*1200,b=g/120,v=200*.5,w=Math.sin(b*Math.PI*.8)*40,N=Math.sin(b*Math.PI*8)*15,S=(Math.random()-.5)*10,A=b>.6&&b<.7?-30:0,T=v-w-N-S-A;l.push([x,Math.max(20,Math.min(180,T))])}let p=`M ${l[0][0]} ${l[0][1]}`;for(let g=1;g<l.length;g++){const[x,b]=l[g],[v,w]=l[g-1],N=(v+x)/2;p+=` C ${N} ${w}, ${N} ${b}, ${x} ${b}`}return p},o=j.useRef(s());return j.useEffect(()=>{if(!t||r||!n.current)return;const l=n.current,c=l.getTotalLength();l.style.strokeDasharray=`${c}`,l.style.strokeDashoffset=`${c}`,sn({targets:l,strokeDashoffset:[c,0],duration:3e3,easing:"easeInOutQuart",complete:()=>i(!0)})},[t,r]),a.jsx(Tn.div,{className:`relative ${e}`,initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:.5},children:a.jsxs("svg",{viewBox:"0 0 1200 200",className:"w-full h-auto",preserveAspectRatio:"none",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"signalGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"hsl(210, 100%, 50%)",stopOpacity:"0.3"}),a.jsx("stop",{offset:"30%",stopColor:"hsl(210, 100%, 60%)",stopOpacity:"0.8"}),a.jsx("stop",{offset:"60%",stopColor:"hsl(160, 80%, 45%)",stopOpacity:"1"}),a.jsx("stop",{offset:"80%",stopColor:"hsl(210, 100%, 60%)",stopOpacity:"0.9"}),a.jsx("stop",{offset:"100%",stopColor:"hsl(210, 100%, 50%)",stopOpacity:"0.4"})]}),a.jsxs("filter",{id:"signalGlow",x:"-20%",y:"-50%",width:"140%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("line",{x1:"0",y1:"100",x2:"1200",y2:"100",stroke:"hsl(215, 20%, 20%)",strokeWidth:"0.5",strokeDasharray:"4 8"}),a.jsx("line",{x1:"0",y1:"50",x2:"1200",y2:"50",stroke:"hsl(215, 20%, 15%)",strokeWidth:"0.5",strokeDasharray:"2 12"}),a.jsx("line",{x1:"0",y1:"150",x2:"1200",y2:"150",stroke:"hsl(215, 20%, 15%)",strokeWidth:"0.5",strokeDasharray:"2 12"}),a.jsx("path",{ref:n,d:o.current,fill:"none",stroke:"url(#signalGradient)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#signalGlow)"})]})})},Ame=[{label:"STATUS",value:"BUILDING",trend:"stable"},{label:"LOAD",value:"WITHIN RANGE",trend:"up"},{label:"READINESS",value:"78%",trend:"stable"},{label:"RISK",value:"LOW",trend:"stable"}],kme=({trend:e})=>!e||e==="stable"?null:a.jsx("span",{className:"ml-1 text-[10px]",children:e==="up"?"":""}),Cme=()=>a.jsx(Tn.div,{className:"w-full border-b border-slate-800/50",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},children:a.jsx("div",{className:"container mx-auto px-6",children:a.jsx("div",{className:"flex items-center justify-between py-3 text-[11px] tracking-[0.15em] font-mono",children:Ame.map((e,t)=>a.jsxs("div",{className:"flex items-center",children:[t>0&&a.jsx("div",{className:"w-px h-3 bg-slate-700/50 mr-6"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-500 uppercase",children:e.label}),a.jsxs("span",{className:"text-slate-300 uppercase flex items-center",children:[a.jsx(kme,{trend:e.trend}),e.value]})]})]},e.label))})})}),w5=({variant:e="default"})=>{const t=e==="default"?[{label:"PACE ",value:"0.04",explanation:"Normalized daily load"},{label:"LOAD",value:"+6",suffix:"7d",explanation:"Model confidence (14d)"},{label:"CTL",value:"",explanation:"Autonomic balance"},{label:"ATL",value:"",explanation:"Training response"},{label:"TSB",value:"+8.2",explanation:"vs personal baseline"}]:[{label:"ADAPTATION",value:"94%",explanation:"Model confidence (14d)"},{label:"RECOVERY",value:"OPTIMAL",explanation:"Autonomic balance"},{label:"STRAIN",value:"12.4",explanation:"Normalized daily load"},{label:"HRV",value:"+3ms",explanation:"vs personal baseline"},{label:"SLEEP",value:"7.2h",explanation:"Effective sleep time"}];return a.jsx(Tn.div,{className:"w-full bg-slate-900/30 border-y border-slate-800/30 py-4 overflow-hidden",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6},children:a.jsx("div",{className:"flex items-center justify-center gap-8 md:gap-16",children:t.map((n,r)=>a.jsxs("div",{className:"flex flex-col items-center gap-1 whitespace-nowrap",children:[a.jsxs("div",{className:"flex items-center gap-2 text-[11px] tracking-[0.12em] font-mono",children:[a.jsx("span",{className:"text-slate-600 uppercase",children:n.label}),a.jsx("span",{className:"text-slate-400",children:n.value}),n.suffix&&a.jsxs("span",{className:"text-slate-600",children:["(",n.suffix,")"]})]}),n.explanation&&a.jsx("span",{className:"text-[9px] font-mono tracking-wider text-slate-600 opacity-50",children:n.explanation})]},r))})})},Tme=()=>{const e=j.useRef(null);return j.useEffect(()=>{e.current&&(e.current.playbackRate=.8)},[]),a.jsxs("section",{className:"relative min-h-[100svh] flex flex-col bg-slate-950",children:[a.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute inset-0 opacity-[0.027]",style:{backgroundImage:`
              linear-gradient(to right, hsl(215, 20%, 30%) 1px, transparent 1px),
              linear-gradient(to bottom, hsl(215, 20%, 30%) 1px, transparent 1px)
            `,backgroundSize:"80px 80px"}}),a.jsx("video",{ref:e,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"absolute inset-0 w-full h-full object-cover opacity-[0.30]",style:{filter:"saturate(0.75) contrast(1.20)"},children:a.jsx("source",{src:"/Cycling_male.mp4",type:"video/mp4"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-950/35 via-slate-950/55 to-slate-950"})]}),a.jsx("div",{className:"relative z-10",style:{paddingTop:"calc(4rem + env(safe-area-inset-top, 0px) + 0.5rem)"},children:a.jsx(Cme,{})}),a.jsxs("div",{className:"relative z-10 flex-1 flex flex-col justify-center container mx-auto px-6 py-16",children:[a.jsxs(Tn.div,{className:"mb-12",initial:{opacity:0},animate:{opacity:1},transition:{duration:1.2,delay:.3},children:[a.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-mono font-light text-slate-200 mb-6 leading-[1.15] tracking-tight",children:"Training, driven by Data and Intelligence."}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-6 lg:gap-12",children:[a.jsxs("h2",{className:"text-lg md:text-xl lg:text-2xl text-slate-400 font-light leading-relaxed max-w-3xl",children:["Your training data becomes a signal.",a.jsx("br",{}),"The signal informs a decision.",a.jsx("br",{}),"The decision drives adaptation."]}),a.jsx("a",{href:"/signup",className:"flex-shrink-0 px-8 py-3 text-xs font-mono tracking-[0.1em] uppercase bg-slate-200 text-slate-950 hover:bg-white transition-colors",children:"Get Started"})]}),a.jsx("p",{className:"text-xs font-mono tracking-[0.15em] text-slate-500 uppercase mt-6",children:"Closed-loop performance system"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Pme,{className:"w-full max-w-5xl",animate:!0}),a.jsxs(Tn.div,{className:"absolute -bottom-8 left-0 flex gap-8 text-[10px] font-mono tracking-wider text-slate-600",initial:{opacity:0},animate:{opacity:1},transition:{delay:3.5,duration:.8},children:[a.jsx("span",{children:"30d"}),a.jsx("span",{className:"text-slate-500",children:"|"}),a.jsx("span",{children:"TRAINING LOAD SIGNAL"})]})]}),a.jsxs(Tn.div,{className:"mt-24 flex items-center gap-6",initial:{opacity:0},animate:{opacity:1},transition:{delay:4,duration:.8},children:[a.jsx("a",{href:"/login",className:"text-sm font-mono tracking-[0.1em] text-slate-400 hover:text-slate-200 transition-colors border-b border-slate-700 hover:border-slate-500 pb-1",children:"Enter the Performance System"}),a.jsx("span",{className:"text-slate-700",children:"|"}),a.jsx("a",{href:"#system",className:"text-sm font-mono tracking-[0.1em] text-slate-600 hover:text-slate-400 transition-colors",children:"View a Live System Example"})]})]}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-800/50 to-transparent"})]})},Rw=({src:e,className:t="",opacity:n=.6,filter:r="saturate(0.6) contrast(1.1)",label:i="ATHLETE  LIVE"})=>{const s=j.useRef(null),o=j.useRef(null),l=l9(s,{once:!1,margin:"-20%"}),[c,u]=j.useState(!1),h=j.useCallback(()=>{const p=o.current;if(!p)return;const g=p.play();g!==void 0&&g.catch(()=>{})},[]);return j.useEffect(()=>{const p=()=>{u(!0),l&&h()};return c||(document.addEventListener("touchstart",p,{once:!0}),document.addEventListener("click",p,{once:!0})),()=>{document.removeEventListener("touchstart",p),document.removeEventListener("click",p)}},[c,l,h]),j.useEffect(()=>{const p=o.current;p&&(l?h():p.pause())},[l,h]),a.jsxs(Tn.div,{ref:s,className:`relative overflow-hidden ${t}`,initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8},children:[a.jsxs("div",{className:"absolute inset-0 border border-slate-800/50 pointer-events-none z-10",children:[a.jsx("div",{className:"absolute top-0 left-0 w-3 h-3 border-t border-l border-slate-700/50"}),a.jsx("div",{className:"absolute top-0 right-0 w-3 h-3 border-t border-r border-slate-700/50"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-3 h-3 border-b border-l border-slate-700/50"}),a.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 border-b border-r border-slate-700/50"})]}),a.jsx("div",{className:"absolute top-2 left-3 z-10 text-[9px] font-mono tracking-wider text-slate-600",children:i}),a.jsx("video",{ref:o,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"w-full h-full object-cover",style:{filter:r,opacity:n},children:a.jsx("source",{src:e,type:"video/mp4"})}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950/80 via-transparent to-slate-950/40"})]})},_5=[{id:"data",label:"DATA",sublabel:"Sensors & sessions"},{id:"signal",label:"SIGNAL",sublabel:"Pattern recognition"},{id:"decision",label:"DECISION",sublabel:"AI analysis"},{id:"adaptation",label:"ADAPTATION",sublabel:"Training response"}],Eme=()=>{const e=j.useRef(null),t=l9(e,{once:!0,margin:"-100px"}),[n,r]=j.useState(!1);return j.useEffect(()=>{t&&!n&&(sn({targets:".flow-line",strokeDashoffset:[sn.setDashoffset,0],duration:800,delay:sn.stagger(300,{start:200}),easing:"easeInOutQuart"}),sn({targets:".flow-dot",scale:[0,1],opacity:[0,1],duration:400,delay:sn.stagger(300,{start:100}),easing:"easeOutBack"}),r(!0))},[t,n]),a.jsx("section",{ref:e,className:"relative py-32 bg-slate-950",id:"system",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsx(Tn.div,{className:"mb-12",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8},children:a.jsx("span",{className:"text-[10px] tracking-[0.3em] text-slate-600 font-mono uppercase",children:"System Logic"})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[a.jsxs(Tn.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[a.jsxs("div",{className:"relative mb-8",children:[a.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",viewBox:"0 0 800 100",preserveAspectRatio:"none",style:{height:"100px"},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"lineGradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"hsl(210, 80%, 50%)",stopOpacity:"0.2"}),a.jsx("stop",{offset:"50%",stopColor:"hsl(160, 70%, 45%)",stopOpacity:"0.5"}),a.jsx("stop",{offset:"100%",stopColor:"hsl(210, 80%, 50%)",stopOpacity:"0.2"})]})}),a.jsx("line",{className:"flow-line",x1:"100",y1:"50",x2:"300",y2:"50",stroke:"url(#lineGradient)",strokeWidth:"1",strokeDasharray:"200"}),a.jsx("line",{className:"flow-line",x1:"300",y1:"50",x2:"500",y2:"50",stroke:"url(#lineGradient)",strokeWidth:"1",strokeDasharray:"200"}),a.jsx("line",{className:"flow-line",x1:"500",y1:"50",x2:"700",y2:"50",stroke:"url(#lineGradient)",strokeWidth:"1",strokeDasharray:"200"})]}),a.jsx("div",{className:"relative flex justify-between items-center py-12",children:_5.map((i,s)=>a.jsxs(Tn.div,{className:"flex flex-col items-center",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:s*.15,duration:.6},children:[a.jsx("div",{className:"flow-dot w-2 h-2 rounded-full bg-slate-600 mb-4 opacity-0",style:{transform:"scale(0)"}}),a.jsx("span",{className:"text-sm font-mono tracking-[0.15em] text-slate-300 mb-1",children:i.label}),a.jsx("span",{className:"text-[10px] font-mono tracking-wider text-slate-600",children:i.sublabel}),s<_5.length-1&&a.jsx("span",{className:"absolute text-slate-700 text-xs",style:{left:`${(s+.5)*25}%`,top:"50%",transform:"translateY(-50%)"},children:""})]},i.id))})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed mb-4",children:["Performance is not training more.",a.jsx("br",{}),"It is managing stress faster than it accumulates."]}),a.jsx("p",{className:"text-slate-500 text-sm leading-relaxed font-mono",children:"AthleteSpace models load, recovery, and adaptation continuously  not just after workouts."})]})]}),a.jsx(Rw,{src:"/crossFit_female.mp4",className:"aspect-video rounded-sm"})]})]})})},Ome=({title:e,description:t,metrics:n,align:r="left"})=>a.jsxs(Tn.div,{className:`max-w-lg ${r==="right"?"ml-auto text-right":""}`,initial:{opacity:0,x:r==="left"?-20:20},whileInView:{opacity:1,x:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.8},children:[a.jsx("h3",{className:"text-sm font-mono tracking-[0.15em] text-slate-300 mb-3 uppercase",children:e}),a.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-6",children:t}),n&&a.jsx("div",{className:`flex gap-6 ${r==="right"?"justify-end":""}`,children:n.map((i,s)=>a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-lg font-mono text-slate-300 tracking-tight",children:i.value}),a.jsx("div",{className:"text-[10px] font-mono text-slate-600 tracking-wider uppercase",children:i.label})]},s))})]}),Mme=()=>a.jsx("section",{className:"relative py-24 bg-slate-950",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsx("div",{className:"py-16",children:a.jsx(Ome,{title:"System Logic",description:"Performance is not training more. It is managing stress faster than it accumulates. AthleteSpace models load, recovery, and adaptation continuously  not just after workouts.",metrics:[{label:"ATL",value:""},{label:"CTL",value:"+2.1"},{label:"TSB",value:"+8"}],align:"left"})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center mt-16",children:[a.jsx(Rw,{src:"/running_female.mp4",className:"aspect-video rounded-sm",label:"SIGNAL  LIVE"}),a.jsxs(Tn.div,{className:"border border-slate-800/50 bg-slate-900/20 p-8",initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[a.jsx("h3",{className:"text-sm font-mono tracking-[0.15em] text-slate-300 mb-6 uppercase",children:"System Decision Example"}),a.jsxs("div",{className:"space-y-3 text-sm font-mono text-slate-400 leading-relaxed",children:[a.jsx("p",{children:"Load trending upward."}),a.jsx("p",{children:"Recovery within range."}),a.jsx("p",{children:"Adaptation stable."}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-800/50",children:[a.jsx("p",{className:"text-slate-300",children:"System recommendation:"}),a.jsx("p",{className:"text-slate-200 mt-1",children:"Proceed with planned intensity."})]})]})]})]})]})}),Rme=()=>a.jsx("section",{className:"relative py-24 bg-slate-950",id:"athletes",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsx(Tn.div,{className:"mb-12",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8},children:a.jsx("span",{className:"text-[10px] tracking-[0.3em] text-slate-600 font-mono uppercase",children:"Built For"})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[a.jsxs(Tn.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[a.jsx("h2",{className:"text-2xl font-mono tracking-tight text-slate-200 mb-6",children:"Athletes who measure, not guess."}),a.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8",children:"Marathon. Triathlon. Ultra. Cycling. The sport changes, the system logic remains. Load in. Adaptation out. Performance follows signal."}),a.jsxs("div",{className:"flex gap-8 text-sm font-mono",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg",children:" 0.04"}),a.jsx("div",{className:"text-[10px] text-slate-600 tracking-wider uppercase",children:"Pace Trend"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg",children:"+6"}),a.jsx("div",{className:"text-[10px] text-slate-600 tracking-wider uppercase",children:"7d Load"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg",children:"94%"}),a.jsx("div",{className:"text-[10px] text-slate-600 tracking-wider uppercase",children:"Adaptation"})]})]})]}),a.jsx(Rw,{src:"/Hyrox_male.mp4",className:"aspect-video rounded-sm"})]})]})}),Ime=()=>a.jsx("section",{className:"relative py-24 bg-slate-950",id:"coaches",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsx(Tn.div,{className:"mb-12",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8},children:a.jsx("span",{className:"text-[10px] tracking-[0.3em] text-slate-600 font-mono uppercase",children:"Built For Coaches"})}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-16 items-center",children:[a.jsx(Rw,{src:"/coach_athletes.mp4",className:"aspect-video rounded-sm",opacity:.65,filter:"saturate(0.65) contrast(1.15)",label:"COACH  LIVE"}),a.jsxs(Tn.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[a.jsxs("h2",{className:"text-2xl font-mono tracking-tight text-slate-200 mb-6",children:["One system.",a.jsx("br",{}),"Many athletes.",a.jsx("br",{}),"Zero guesswork."]}),a.jsx("p",{className:"text-slate-500 text-sm leading-relaxed mb-8",children:"Athlete Space gives coaches a real-time performance system  tracking load, recovery, and risk across athletes from one control layer."}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg font-mono tracking-tight mb-1",children:"12"}),a.jsx("div",{className:"text-[10px] font-mono text-slate-600 tracking-[0.12em] uppercase mb-1",children:"ATHLETES"}),a.jsx("div",{className:"text-[9px] font-mono text-slate-700 opacity-50",children:"Active roster"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg font-mono tracking-tight mb-1",children:"STABLE"}),a.jsx("div",{className:"text-[10px] font-mono text-slate-600 tracking-[0.12em] uppercase mb-1",children:"LOAD DISTRIBUTION"}),a.jsx("div",{className:"text-[9px] font-mono text-slate-700 opacity-50",children:"30-day window"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg font-mono tracking-tight mb-1",children:"1"}),a.jsx("div",{className:"text-[10px] font-mono text-slate-600 tracking-[0.12em] uppercase mb-1",children:"RISK FLAGS"}),a.jsx("div",{className:"text-[9px] font-mono text-slate-700 opacity-50",children:"Action required"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-slate-300 text-lg font-mono tracking-tight mb-1",children:"91%"}),a.jsx("div",{className:"text-[10px] font-mono text-slate-600 tracking-[0.12em] uppercase mb-1",children:"ADHERENCE"}),a.jsx("div",{className:"text-[9px] font-mono text-slate-700 opacity-50",children:"Last 14 days"})]})]}),a.jsxs(Tn.div,{className:"border border-slate-800/50 bg-slate-900/20 p-6 mb-8",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8,delay:.3},children:[a.jsx("h3",{className:"text-sm font-mono tracking-[0.15em] text-slate-300 mb-4 uppercase",children:"System Insight"}),a.jsxs("div",{className:"space-y-2 text-sm font-mono text-slate-400 leading-relaxed",children:[a.jsx("p",{children:"Two athletes approaching overload."}),a.jsx("p",{children:"One under-stimulated."}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-800/50",children:[a.jsx("p",{className:"text-slate-300",children:"Recommended action:"}),a.jsxs("p",{className:"text-slate-200 mt-1",children:["Reduce intensity for Group A.",a.jsx("br",{}),"Progress load for Athlete 7."]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"/login",className:"text-sm font-mono tracking-[0.1em] text-slate-400 hover:text-slate-200 transition-colors border-b border-slate-700 hover:border-slate-500 pb-1",children:"Enter Coach View"}),a.jsx("span",{className:"text-slate-700",children:"|"}),a.jsx("a",{href:"#system",className:"text-sm font-mono tracking-[0.1em] text-slate-600 hover:text-slate-400 transition-colors",children:"View System Logic"})]})]})]})]})}),Dme=()=>{const[e,t]=j.useState(!1);j.useEffect(()=>{const r=window.matchMedia("(prefers-reduced-motion: reduce)");t(r.matches);const i=s=>{t(s.matches)};return r.addEventListener("change",i),()=>r.removeEventListener("change",i)},[]);const n="w-48 md:w-60 h-auto opacity-70 pointer-events-none";return e?a.jsx("img",{src:"/AthleteSpace_logo_dark.jpg",alt:"Athlete Space",className:n}):a.jsx("video",{src:"/branding/athletespace-logo-motion.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:n})},Lme=()=>a.jsxs("section",{className:"relative py-20 md:py-28 bg-slate-950 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-800/30 to-transparent"}),a.jsx("div",{className:"relative container mx-auto px-6",children:a.jsxs(Tn.div,{className:"max-w-5xl mx-auto flex flex-col md:flex-row items-center md:items-center gap-8 md:gap-12",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:1,ease:"easeOut"},children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Dme,{})}),a.jsxs(Tn.div,{className:"flex flex-col gap-3 text-center md:text-left",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8,delay:.3},children:[a.jsx("h3",{className:"text-xl md:text-2xl font-mono font-medium tracking-[0.2em] text-slate-300 uppercase",children:"ATHLETESPACE"}),a.jsx("p",{className:"text-sm md:text-base font-mono tracking-wide text-slate-500 italic",children:"Precision intelligence for elite training."})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-800/30 to-transparent"})]}),Fme=()=>a.jsx("footer",{className:"relative py-16 bg-slate-950 border-t border-slate-900/50",children:a.jsxs("div",{className:"container mx-auto px-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/AthleteSpace_logo_dark.jpg",alt:"Athlete Space",className:"h-5 w-auto opacity-50 pointer-events-none"}),a.jsx("span",{className:"text-[10px] font-mono tracking-[0.2em] text-slate-600 uppercase",children:"Performance System"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-8 text-[10px] font-mono tracking-[0.15em] text-slate-600 uppercase",children:[a.jsx("a",{href:"/about",className:"hover:text-slate-400 transition-colors",children:"About"}),a.jsx("a",{href:"/science",className:"hover:text-slate-400 transition-colors",children:"Science & AI"}),a.jsx("a",{href:"/privacy",className:"hover:text-slate-400 transition-colors",children:"Privacy"}),a.jsx("a",{href:"/faq",className:"hover:text-slate-400 transition-colors",children:"FAQ"}),a.jsx("a",{href:"/login",className:"hover:text-slate-400 transition-colors",children:"Sign In"})]})]}),a.jsxs(Tn.div,{className:"mt-16 pt-12 border-t border-slate-900/30 text-center",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8},children:[a.jsx("a",{href:"/login",className:"inline-block text-sm font-mono tracking-[0.1em] text-slate-300 hover:text-slate-200 transition-colors border-b border-slate-700 hover:border-slate-500 pb-1 mb-4",children:"Enter the Performance System"}),a.jsx("p",{className:"text-xs font-mono tracking-wider text-slate-600 mt-3",children:"Built for endurance athletes who train by signal, not guesswork."})]}),a.jsx(Tn.div,{className:"mt-12 pt-8 border-t border-slate-900/30",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.8,delay:.2},children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 text-[9px] font-mono tracking-wider text-slate-700",children:[a.jsx("span",{children:" 2025 Athlete Space"}),a.jsx("span",{children:"Signal-driven training intelligence"})]})})]})}),$me=()=>(j.useEffect(()=>(document.documentElement.classList.add("dark"),()=>{}),[]),a.jsxs("div",{className:"min-h-[100svh] bg-slate-950 text-slate-200 overflow-x-hidden",children:[a.jsx(Xpe,{}),a.jsx(Tme,{}),a.jsx(w5,{variant:"default"}),a.jsx(Eme,{}),a.jsx(w5,{variant:"alt"}),a.jsx(Mme,{}),a.jsx(Rme,{}),a.jsx(Ime,{}),a.jsx(Lme,{}),a.jsx(Fme,{})]}));function P9(){return a.jsx("div",{className:"min-h-[100svh] flex items-center justify-center",children:a.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[a.jsx(Zo,{className:"h-12 w-full"}),a.jsx(Zo,{className:"h-32 w-full"}),a.jsx(Zo,{className:"h-8 w-3/4"})]})})}function Bme(){const{user:e,loading:t,status:n}=gn();return Ii()?(console.log("[AuthLanding] Preview mode detected, redirecting to dashboard"),a.jsx(Yo,{to:"/dashboard",replace:!0})):n==="bootstrapping"||t?a.jsx(P9,{}):n==="unauthenticated"?a.jsx($me,{}):n==="authenticated"&&e&&!e.onboarding_complete?a.jsx(Yo,{to:"/onboarding",replace:!0}):a.jsx(Yo,{to:"/dashboard",replace:!0})}function j5({children:e}){const{user:t,loading:n,status:r}=gn();return r==="bootstrapping"||n?a.jsx(P9,{}):r==="authenticated"&&t?t.onboarding_complete?a.jsx(Yo,{to:"/dashboard",replace:!0}):a.jsx(Yo,{to:"/onboarding",replace:!0}):a.jsx(a.Fragment,{children:e})}function zme(){const{user:e,loading:t}=gn();j.useEffect(()=>{t||e&&e.strava_connected&&lue().catch(n=>{})},[t,e])}function A9(){try{const e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&typeof e=="string")return e}catch(e){console.warn("[Timezone] Failed to detect timezone:",e)}return"UTC"}async function Wme(e){return due(e)}async function qme(e){return Wme(async()=>{const t=await nt.patch("/users/me",e);return!t||typeof t!="object"?null:t})}const Ume="timezone_synced_session";function Vme(){const{user:e,status:t}=gn(),n=j.useRef(!1);j.useEffect(()=>{if(t!=="authenticated"||!e||n.current)return;const r=`${Ume}_${e.id}`;if(sessionStorage.getItem(r)==="true"){n.current=!0;return}const s=A9(),o=e.timezone||"UTC";if(s===o){console.log(`[Timezone] Timezone matches backend (${s}), skipping sync`),sessionStorage.setItem(r,"true"),n.current=!0;return}console.log(`[Timezone] Syncing timezone: ${o}  ${s}`),qme({timezone:s}).then(()=>{console.log(`[Timezone] Successfully synced timezone to ${s}`),sessionStorage.setItem(r,"true"),n.current=!0}).catch(l=>{console.warn("[Timezone] Failed to sync timezone (non-critical):",l),sessionStorage.setItem(r,"true"),n.current=!0})},[e,t])}const Hme={addListener:(e,t)=>Promise.resolve({remove:()=>Promise.resolve()})},Kme={open:async e=>{throw new Error("Browser plugin not available in web builds")},close:async()=>{throw new Error("Browser plugin not available in web builds")}};function Gme(e){j.useEffect(()=>{if(!Gu())return;const t=Hme.addListener("appUrlOpen",async({url:n})=>{if(n&&(console.log("[AuthDeepLink] Received deep link:",n),n.includes("/auth/callback")||n.includes("auth/callback"))){console.log("[AuthDeepLink] OAuth callback detected");try{await Kme.close(),console.log("[AuthDeepLink] In-app browser closed")}catch(r){console.log("[AuthDeepLink] Browser close skipped (not open or error):",r)}try{const r=new URL(n),i=r.searchParams.get("error"),s=r.searchParams.get("token");if(i){console.error("[AuthDeepLink] OAuth error:",i),window.location.hash=`/login?error=${encodeURIComponent(i)}`;return}s&&console.warn("[AuthDeepLink] Token in URL detected - backend should set HTTP-only cookies instead")}catch(r){console.warn("[AuthDeepLink] Failed to parse URL:",r)}window.location.hash="/"}});return()=>{t.then(n=>n.remove()).catch(()=>{})}},[e])}function S5(e){if(typeof window>"u")return;const t=window.document.documentElement;if(t.classList.remove("light","dark"),e==="system"){const n=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(n)}else t.classList.add(e)}function Yme(){if(typeof window>"u")return"light";const e=localStorage.getItem("theme");return e&&["light","dark","system"].includes(e)?e:window.matchMedia("(prefers-color-scheme: dark)").matches?"system":"light"}const k9=j.createContext(void 0);function Zme({children:e}){const[t,n]=j.useState(()=>Yme());j.useEffect(()=>{S5(t),localStorage.setItem("theme",t),window.dispatchEvent(new CustomEvent("theme-change",{detail:{theme:t}}))},[t]),j.useEffect(()=>{const i=s=>{if(s.key==="theme"&&s.newValue){const o=s.newValue;["light","dark","system"].includes(o)&&n(o)}};return window.addEventListener("storage",i),()=>window.removeEventListener("storage",i)},[]),j.useEffect(()=>{const i=s=>{const o=s;o.detail?.theme&&o.detail.theme!==t&&n(o.detail.theme)};return window.addEventListener("theme-change",i),()=>window.removeEventListener("theme-change",i)},[t]),j.useEffect(()=>{if(t!=="system")return;const i=window.matchMedia("(prefers-color-scheme: dark)"),s=()=>{S5("system")};return i.addEventListener("change",s),()=>i.removeEventListener("change",s)},[t]);const r=i=>{n(i)};return a.jsx(k9.Provider,{value:{theme:t,setTheme:r},children:e})}function Xme(){const e=j.useContext(k9);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function C9(e){if(!e||typeof e!="function")return Promise.resolve(void 0);try{const t=e();return t&&typeof t=="object"&&"then"in t?Promise.resolve(t).catch(()=>{}):Promise.resolve(t)}catch{return Promise.resolve(void 0)}}function Qme(e){return C9(e).then(()=>{})}function Jme(e,t){e==="authenticated"&&(!t||typeof t!="function"||C9(t).catch(()=>{}))}function mg({className:e="",size:t="default"}){const n={nav:"h-5 md:h-6",footer:"h-4",default:"h-6"};return a.jsx("img",{src:"/AthleteSpace_logo_dark.jpg",alt:"AthleteSpace",className:re(n[t],"w-auto opacity-90 pointer-events-none select-none",e)})}const ege=[{path:"/dashboard",label:"Dashboard",icon:Fte},{path:"/calendar",label:"Calendar",icon:Cte},{path:"/plan",label:"Training Plan",icon:Ete},{path:"/activities",label:"Activities",icon:lo},{path:"/analytics",label:"Analytics",icon:xW},{path:"/coach",label:"Coach",icon:Jr},{path:"/admin",label:"Admin Ops",icon:ul},{path:"/admin/ai",label:"Admin AI",icon:uc},{path:"/admin/analytics",label:"Admin Analytics",icon:aw},{path:"/settings",label:"Settings",icon:Zte}];function Yn({children:e}){const t=go(),n=bi(),[r,i]=j.useState(!1),{logout:s}=gn(),o=async()=>{try{await s(),n("/login",{replace:!0})}catch(l){console.error("[AppLayout] Logout error:",l),n("/login",{replace:!0})}};return a.jsxs("div",{className:"min-h-[100svh] bg-background",children:[a.jsxs("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-card border-b z-50 flex items-center px-4 pt-[env(safe-area-inset-top,0px)] h-[calc(3.5rem+env(safe-area-inset-top,0px))]",children:[a.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>i(!r),className:"mr-3",children:r?a.jsx(Ss,{className:"h-5 w-5"}):a.jsx(SW,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center",children:a.jsx(mg,{size:"nav"})})]}),a.jsx("aside",{className:re("fixed left-0 w-64 bg-card border-r z-40 transition-transform duration-200 ease-in-out","top-[calc(3.5rem+env(safe-area-inset-top,0px))] h-[calc(100%-3.5rem-env(safe-area-inset-top,0px))]","lg:top-0 lg:h-full","lg:translate-x-0",r?"translate-x-0":"-translate-x-full"),children:a.jsxs("div",{className:"flex flex-col h-full",children:[a.jsx("div",{className:"hidden lg:flex h-16 items-center px-6 border-b",children:a.jsx(mg,{size:"nav"})}),a.jsx("nav",{className:"flex-1 py-4 px-3 space-y-1",children:ege.map(l=>{const c=l.icon,u=t.pathname===l.path;return a.jsxs(Nn,{to:l.path,onClick:()=>i(!1),className:re("flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors",u?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(c,{className:"h-4 w-4"}),l.label]},l.path)})}),a.jsxs("div",{className:"p-4 border-t space-y-1",children:[a.jsxs(Nn,{to:"/faq",onClick:()=>i(!1),className:re("flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors w-full",t.pathname==="/faq"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(Wu,{className:"h-4 w-4"}),"FAQ"]}),a.jsxs(Nn,{to:"/support",onClick:()=>i(!1),className:re("flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors w-full",t.pathname==="/support"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx($te,{className:"h-4 w-4"}),"Support"]}),a.jsxs(Nn,{to:"/privacy",onClick:()=>i(!1),className:re("flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-colors w-full",t.pathname==="/privacy"?"bg-accent text-accent-foreground":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(ul,{className:"h-4 w-4"}),"Privacy"]}),a.jsxs(Se,{variant:"ghost",onClick:o,className:"w-full justify-start text-muted-foreground hover:text-foreground",children:[a.jsx(Bte,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]})}),r&&a.jsx("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-30 lg:hidden",onClick:()=>i(!1)}),a.jsx("main",{className:re("min-h-[100svh] pt-safe-area lg:pt-0 lg:pl-64 transition-all duration-200"),children:a.jsx("div",{className:"mx-auto max-w-[1400px] px-6 py-6",children:e})})]})}const tge=e=>{if(!e||typeof e!="string")return"proceed";const t=e.toLowerCase();return t.includes("rest")||t.includes("recovery")?"rest":t.includes("modify")||t.includes("adjust")?"modify":t.includes("replace")||t.includes("change")?"replace":"proceed"},nge={proceed:{icon:Ar,label:"Proceed",colorClass:"text-green-600 dark:text-green-400",bgClass:"bg-green-500/10"},modify:{icon:Fa,label:"Modify",colorClass:"text-amber-600 dark:text-amber-400",bgClass:"bg-amber-500/10"},replace:{icon:qu,label:"Replace",colorClass:"text-blue-600 dark:text-blue-400",bgClass:"bg-blue-500/10"},rest:{icon:uv,label:"Rest",colorClass:"text-amber-600 dark:text-amber-400",bgClass:"bg-amber-500/10"}};function rge({todayIntelligence:e,isLoading:t=!1,error:n,className:r}){const i=e;if(t)return a.jsxs(Ot,{className:re("h-full flex flex-col",r),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Decision"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center",children:a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]});if(n&&typeof n=="object"&&"status"in n&&n.status===503)return a.jsxs(Ot,{className:re("h-full flex flex-col",r),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Decision"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing your training data..."})})]});if(n||!i)return a.jsxs(Ot,{className:re("h-full flex flex-col",r),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Decision"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Decision unavailable"})})]});if(i.confidence?.score===0&&(i.confidence?.explanation==="Decision not yet generated"||i.explanation==="The coach is still analyzing your training data. Recommendations will be available soon.")||i.explanation==="The coach is still analyzing your training data. Recommendations will be available soon."||i.confidence?.explanation==="Decision not yet generated")return a.jsxs(Ot,{className:re("h-full flex flex-col",r),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Decision"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analyzing your training data..."})})]});const l=tge(i.recommendation),c=i.explanation||i.recommendation,u=i.confidence,h=nge[l],p=h.icon;return a.jsxs(Ot,{className:re("h-full flex flex-col",r),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Decision"})}),a.jsxs($e,{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:re("p-2 rounded-lg",h.bgClass),children:a.jsx(p,{className:re("h-5 w-5",h.colorClass)})}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("span",{className:re("text-xl font-semibold",h.colorClass),children:h.label})}),u&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[Math.round(u.score*100),"% confidence"]})]})]}),c&&a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed flex-1",children:c}),u&&u.explanation&&u.explanation!=="Decision not yet generated"&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t",children:u.explanation})]})]})}const ige=Th("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}}),ln=j.forwardRef(({className:e,variant:t,children:n,...r},i)=>a.jsx("div",{ref:i,className:re(ige({variant:t}),e),...r,children:n}));ln.displayName="Badge";const T9=e=>{if(e&&typeof e=="object"&&"message"in e){const t=e;return t.code==="ERR_NETWORK"||t.message&&t.message.includes("CORS")?{message:"Unable to connect to the intelligence service. The backend server may be down or not configured to allow requests from this domain.",status:t.status,code:t.code}:{message:t.message||"Failed to load intelligence",status:t.status,code:t.code}}return{message:"An unexpected error occurred"}},age=async()=>{try{const e=await nt.get("/intelligence/season"),t=e;return t.plan?{phases:t.plan.phases||[],race_markers:[],explanation:`Season plan for ${t.plan.goal||"training"} targeting ${t.plan.target_date||"future date"}`}:t.intent||t.decision?null:e}catch(e){throw console.error("[Intelligence] Failed to load season intelligence:",e),T9(e)}},Q2=async e=>{try{const t=e?{decision_date:e}:void 0,n=await nt.get("/intelligence/today",{params:t}),r=n;if(r.decision){const i=r.decision.confidence,s=i&&typeof i.score=="number"&&typeof i.explanation=="string"?{score:i.score,explanation:i.explanation}:{score:.8,explanation:"Based on current training state"};return{recommendation:r.decision.recommendation||"",explanation:r.decision.explanation||r.decision.recommendation||"",confidence:s}}return n}catch(t){const n=T9(t);throw n.status!==503&&n.code!=="ERR_NETWORK"&&console.error("[Intelligence] Failed to load today intelligence:",t),n}};function sge(){const{status:e,user:t,authReady:n}=gn();return{isLoaded:n,isAuthenticated:n&&e==="authenticated"&&!!t}}function Mt(e){const{isLoaded:t,isAuthenticated:n}=sge(),r=t&&n&&e.enabled!==!1;return Ir({...e,enabled:r,retry:(i,s)=>s&&typeof s=="object"&&"status"in s&&s.status===401?!1:e.retry!==void 0?typeof e.retry=="function"?e.retry(i,s):typeof e.retry=="number"?i<e.retry:!1:i<1})}function oge({data:e,showData:t,plannedData:n,isCompliance:r=!1,compact:i=!1,className:s}){const o=e.length>0?Math.max(...e):10,l=e.indexOf(o);return a.jsxs("div",{className:re("relative rounded-lg overflow-hidden h-full",i?"mx-1.5 mb-1.5":"mx-3 mb-3",s),style:{boxShadow:"inset 0 2px 4px rgba(0, 0, 0, 0.35)"},children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[hsl(var(--card))] to-[hsl(var(--background))] opacity-80"}),a.jsx("div",{className:"dark:absolute dark:inset-0 dark:bg-gradient-to-b dark:from-[#0d141d] dark:to-[#10171f] dark:border-t dark:border-[hsl(var(--border))]"}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-[hsl(var(--border))] opacity-50"}),a.jsx("div",{className:re("relative h-full flex items-end gap-[1px]",i?"px-1 py-1":"px-1.5 py-1.5"),children:e.map((c,u)=>{const h=c/o*100,p=u===l&&t,g=n&&n.length>0?Math.max(...n):1,x=n&&n[u]?n[u]/g*100:0;return a.jsxs("div",{className:"flex-1 flex items-end justify-center relative",children:[r&&n&&a.jsx("div",{className:"absolute bottom-0 w-full rounded-[2px]",style:{height:`${x}%`,backgroundColor:"hsl(var(--muted-foreground))",opacity:.25}}),a.jsx("div",{className:"w-full relative rounded-[2px]",style:{height:t?`${h}%`:"26%",backgroundColor:p?"hsl(var(--foreground))":"hsl(var(--muted-foreground))",opacity:t?.9:.24,boxShadow:t?p?"0 0 0 1px hsla(var(--foreground), 0.2), inset 0 1px 0 rgba(255,255,255,0.12), 0 1px 2px rgba(0,0,0,0.2)":"inset 0 1px 0 rgba(255,255,255,0.08), 0 1px 1px rgba(0,0,0,0.15)":"none"},children:p&&a.jsx("div",{className:"absolute -top-[2px] left-0 right-0 h-[2px] rounded-t-[2px]",style:{background:"linear-gradient(to bottom, hsla(var(--foreground), 0.7), transparent)"}})})]},u)})})]})}function Ps(){const{user:e}=gn(),t=e?.unitSystem||"imperial";return{unitSystem:t,isLoading:!1,convertDistance:c=>t==="imperial"?{value:Math.round(c*.621371*10)/10,unit:"mi"}:{value:Math.round(c*10)/10,unit:"km"},convertElevation:c=>t==="imperial"?{value:Math.round(c*3.28084*10)/10,unit:"ft"}:{value:Math.round(c*10)/10,unit:"m"},convertWeight:c=>t==="imperial"?{value:Math.round(c*2.20462*10)/10,unit:"lbs"}:{value:Math.round(c*10)/10,unit:"kg"},convertHeight:c=>{if(t==="imperial"){const u=c/2.54,h=Math.floor(u/12),p=Math.round(u%12);return{value:parseFloat(`${h}.${p}`),unit:"ft"}}return{value:Math.round(c),unit:"cm"}},convertPace:c=>t==="imperial"?{value:Math.round(c*1.60934*100)/100,unit:"min/mi"}:{value:Math.round(c*100)/100,unit:"min/km"},formatDistance:c=>`${c.value} ${c.unit}`}}function Uj(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`}function Vj(e){if(!e||!Number.isFinite(e))return"--:--";const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${n.toString().padStart(2,"0")}`}const lge=.621371,cge=1.60934;function uge({planned:e,completed:t,phase:n,compact:r=!1,className:i}){const{unitSystem:s}=Ps(),o=s==="imperial",l=n==="compliance"&&e&&t,c=n==="completed"?t:e,u=n==="completed";if(!c&&!l)return null;const h=b=>o?b*lge:b,p=b=>o?b*cge:b,g=o?"mi":"km",x=o?"/mi":"/km";return a.jsx("div",{className:re("rounded-lg","bg-[hsl(var(--muted))]","dark:bg-gradient-to-b dark:from-[hsl(var(--card))] dark:to-[hsl(var(--background))]",r?"mx-1.5 mb-1.5 px-1.5 py-1.5":"mx-3 mb-3 px-3.5 py-3",i),style:{boxShadow:"inset 0 1px 2px rgba(0, 0, 0, 0.08), 0 1px 0 rgba(255, 255, 255, 0.02)"},children:a.jsxs("div",{className:"grid grid-cols-3 gap-0",children:[a.jsxs("div",{className:re("border-r border-[hsl(var(--border))] border-opacity-40 min-w-0",r?"pr-1":"pr-3.5"),children:[a.jsx("div",{className:re("font-medium uppercase tracking-[0.1em] mb-1 text-muted-foreground",r?"text-[6px]":"text-[8px]"),children:"Dist"}),l&&e&&t?a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("div",{className:re("font-medium line-through leading-none opacity-50 text-muted-foreground font-mono",r?"text-[8px]":"text-[10px]"),children:h(e.distanceKm).toFixed(1)}),a.jsx("div",{className:re("font-semibold leading-none tracking-tight text-foreground font-mono",r?"text-[11px]":"text-[18px]"),children:h(t.distanceKm).toFixed(1)})]}):a.jsx("div",{className:re("font-semibold leading-none tracking-tight font-mono",u?r?"text-[11px] text-foreground":"text-[18px] text-foreground":r?"text-[10px] text-muted-foreground":"text-[16px] text-muted-foreground"),children:c?.distanceKm?h(c.distanceKm).toFixed(1):"--"}),a.jsx("div",{className:re("font-medium mt-0.5 text-muted-foreground/60",r?"text-[5px]":"text-[8px]"),children:g})]}),a.jsxs("div",{className:re("border-r border-[hsl(var(--border))] border-opacity-40 min-w-0",r?"px-1":"px-3.5"),children:[a.jsx("div",{className:re("font-medium uppercase tracking-[0.1em] mb-1 text-muted-foreground",r?"text-[6px]":"text-[8px]"),children:"Time"}),l&&e&&t?a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("div",{className:re("font-medium line-through leading-none opacity-50 text-muted-foreground font-mono",r?"text-[8px]":"text-[10px]"),children:Uj(e.durationSec)}),a.jsx("div",{className:re("font-semibold leading-none tracking-tight text-foreground font-mono",r?"text-[11px]":"text-[18px]"),children:Uj(t.durationSec)})]}):a.jsx("div",{className:re("font-semibold leading-none tracking-tight font-mono",u?r?"text-[11px] text-foreground":"text-[18px] text-foreground":r?"text-[10px] text-muted-foreground":"text-[16px] text-muted-foreground"),children:c?Uj(c.durationSec):"--:--"}),a.jsx("div",{className:re("font-medium mt-0.5 text-muted-foreground/60",r?"text-[5px]":"text-[8px]"),children:"h:mm"})]}),a.jsxs("div",{className:re("min-w-0",r?"pl-1":"pl-3.5"),children:[a.jsx("div",{className:re("font-medium uppercase tracking-[0.1em] mb-1 text-muted-foreground",r?"text-[6px]":"text-[8px]"),children:"Pace"}),l&&e&&t?a.jsxs("div",{className:"space-y-0.5",children:[a.jsx("div",{className:re("font-medium line-through leading-none opacity-50 text-muted-foreground font-mono",r?"text-[8px]":"text-[10px]"),children:Vj(p(e.paceSecPerKm))}),a.jsx("div",{className:re("font-semibold leading-none tracking-tight text-foreground font-mono",r?"text-[11px]":"text-[18px]"),children:Vj(p(t.paceSecPerKm))})]}):a.jsx("div",{className:re("font-semibold leading-none tracking-tight font-mono",u?r?"text-[11px] text-foreground":"text-[18px] text-foreground":r?"text-[10px] text-muted-foreground":"text-[16px] text-muted-foreground"),children:c?Vj(p(c.paceSecPerKm)):"--:--"}),a.jsx("div",{className:re("font-medium mt-0.5 text-muted-foreground/60",r?"text-[5px]":"text-[8px]"),children:x})]})]})})}function dge(e){switch(e){case"positive":return"ring-1 ring-[hsl(var(--load-fresh))]/20";case"warning":return"ring-1 ring-[hsl(var(--training-threshold))]/20";default:return""}}function fge({message:e,tone:t,className:n}){return e?a.jsx("div",{className:re("mx-3 mb-3 px-3 py-2 rounded-lg","bg-[hsl(var(--background))]","dark:bg-gradient-to-b dark:from-[#0d141d] dark:to-[#0f161f]",dge(t),n),style:{boxShadow:"inset 0 1px 3px rgba(0, 0, 0, 0.25)"},children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"text-[7px] uppercase tracking-[0.12em] font-medium mt-0.5 text-muted-foreground/60 shrink-0",children:"AI"}),a.jsx("div",{className:"flex-1 text-[11px] leading-relaxed text-muted-foreground line-clamp-2",children:e})]})}):null}function N5(e){return{threshold:"Threshold",interval:"Intervals",recovery:"Recovery",long:"Long Run",easy:"Easy",tempo:"Tempo"}[e]||e}function hge(e,t){return e==="compliance"?{borderLeft:`2px solid ${t?"hsl(var(--load-fresh))":"hsl(var(--muted-foreground))"}`,borderTop:"1px solid hsl(var(--border))",borderRight:"1px solid hsl(var(--border))",borderBottom:"1px solid hsl(var(--border))"}:e==="completed"?{border:"1px solid hsl(var(--border))"}:{border:"1px solid hsl(var(--border) / 0.6)"}}function pge(e,t){if(!e||!t)return!1;if(e.distanceKm===0||e.durationSec===0)return!0;const n=Math.abs((t.distanceKm-e.distanceKm)/e.distanceKm),r=Math.abs((t.durationSec-e.durationSec)/e.durationSec);return n<.15&&r<.15}function I0({session:e,compact:t=!1,className:n}){const{phase:r,type:i,title:s,planned:o,completed:l,effortData:c,plannedEffortData:u,coachInsight:h}=e,p=r==="compliance",g=r==="completed",x=p?pge(o,l):!1,b=g||p,v=c||u||[],w=s||N5(i);return a.jsxs("div",{className:re("rounded-xl overflow-hidden h-full flex flex-col","bg-[hsl(var(--card))]","dark:bg-gradient-to-b dark:from-[#1a2331] dark:to-[#151d28]",n),style:{...hge(r,x),boxShadow:"0 1px 3px rgba(0, 0, 0, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.03)"},children:[a.jsxs("div",{className:re("px-2 pt-2",t?"pb-1":"px-4 pt-4 pb-3"),children:[a.jsx("div",{className:re("font-semibold tracking-tight text-foreground truncate",t?"text-[10px]":"text-sm"),children:w}),!t&&a.jsx("div",{className:"text-[9px] font-medium uppercase tracking-[0.12em] text-muted-foreground mt-0.5",children:N5(i)})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx(uge,{planned:o,completed:l,phase:r,compact:t})}),v.length>0&&a.jsx("div",{className:"flex-1 min-h-0",children:a.jsx(oge,{data:c||u||[],showData:b,plannedData:p?u:void 0,isCompliance:p,compact:t})}),!t&&h&&a.jsx("div",{className:"flex-shrink-0",children:a.jsx(fge,{message:h.message,tone:h.tone})})]})}function E9(e){if(!e)return"easy";const t=e.toLowerCase();return t.includes("threshold")||t.includes("tempo")?"threshold":t.includes("interval")||t.includes("vo2")?"interval":t.includes("recovery")||t.includes("easy")?"recovery":t.includes("long")||t.includes("endurance")?"long":"easy"}function O9(e){return{threshold:"Threshold Run",interval:"Interval Session",recovery:"Recovery Run",long:"Long Run",easy:"Easy Run",tempo:"Tempo Run"}[e]||"Workout"}function mge(e,t){const n=e.status==="completed"||!!t,r=e.status==="planned"||!!e.duration_minutes;return n&&r?"compliance":n?"completed":"planned"}function gge(e){const t=e.distance_km,n=e.duration_minutes;if(!t&&!n)return;const r=(n??0)*60,i=t??0,s=i>0?r/i:0;return{distanceKm:i,durationSec:r,paceSecPerKm:s}}function vge(e){if(!e)return;const t=(e.duration??0)*60,n=e.distance??0,r=n>0?t/n:0;return{distanceKm:n,durationSec:t,paceSecPerKm:r}}function M9(e,t=10){if(!e)return[];const n=e.heartrate||e.pace;if(!n||n.length===0)return[];const r=Math.max(1,Math.floor(n.length/t)),i=[];for(let c=0;c<n.length&&i.length<t;c+=r){const u=n[c];u!=null&&i.push(u)}if(i.length===0)return[];const s=Math.min(...i),l=Math.max(...i)-s||1;return i.map(c=>{const h=!!e.heartrate?1+(c-s)/l*9:10-(c-s)/l*9;return Math.max(1,Math.min(10,Math.round(h)))})}function R9(e,t=10){const n=(e||"").toLowerCase();return n.includes("interval")||n.includes("vo2")?Array.from({length:t},(r,i)=>i%2===0?3+Math.random()*2:7+Math.random()*2):n.includes("tempo")||n.includes("threshold")?Array.from({length:t},(r,i)=>i<2||i>=t-2?3+Math.random()*2:6+Math.random()*2):n.includes("long")?Array.from({length:t},(r,i)=>{const s=i/t;return s<.2?4+s*5:s>.8?5+(1-s)*3:5+Math.random()*1.5}):Array.from({length:t},()=>3+Math.random()*2)}function yge(e){if(!e)return"neutral";const t=e.toLowerCase();return t.includes("great")||t.includes("excellent")||t.includes("strong")||t.includes("good")?"positive":t.includes("caution")||t.includes("careful")||t.includes("warning")||t.includes("monitor")||t.includes("high")?"warning":"neutral"}function xge(e){const{session:t,activity:n,streams:r,coachFeedback:i}=e,s=mge(t,n),o=E9(t.type||t.intensity),l=t.title||n?.title||O9(o),c=gge(t),u=vge(n),h=s!=="planned"?M9(r):void 0,p=R9(t.intensity||t.type||"easy"),g=i||n?.coachFeedback||t.notes,x=g?{tone:yge(g),message:g}:void 0;return{id:t.id,title:l,type:o,phase:s,planned:c,completed:u,effortData:h&&h.length>0?h:p,plannedEffortData:p,coachInsight:x}}function P5(e,t){const n=e.durationMin*60,r=e.distanceKm??0;let i=0;if(e.pace){const b=e.pace.match(/(\d+):(\d+)/);b&&(i=parseInt(b[1],10)*60+parseInt(b[2],10))}else r>0&&(i=n/r);let s="planned";e.kind==="completed"&&(s=e.compliance==="complete"||e.isPaired?"compliance":"completed");const o=E9(e.intent),l=e.title||O9(o),c={distanceKm:r,durationSec:n,paceSecPerKm:i},u=s==="planned"||s==="compliance"?c:void 0,h=s==="completed"||s==="compliance"?c:void 0,p=s!=="planned"&&t?M9(t):void 0,g=R9(e.intent);let x;return e.coachNote?x={tone:e.coachNote.tone==="encouragement"?"positive":e.coachNote.tone==="warning"?"warning":"neutral",message:e.coachNote.text}:e.description&&(x={tone:"neutral",message:e.description}),{id:e.id,title:l,type:o,phase:s,planned:u,completed:h,effortData:p&&p.length>0?p:g,plannedEffortData:g,coachInsight:x}}function bge(e){if(!e||typeof e!="string")return"aerobic";const t=e.toLowerCase();return t.includes("threshold")||t.includes("tempo")?"threshold":t.includes("vo2")||t.includes("interval")?"vo2":t.includes("endurance")||t.includes("long")?"endurance":t.includes("recovery")||t.includes("easy")?"recovery":"aerobic"}function wge(e={}){const t=Ne(new Date,"yyyy-MM-dd"),n=e.todayData,r=e.isLoading,i=e.error,s=e.trainingLoad7d,o=e.activities10,l=e.todayIntelligence,c=e.className,{data:u,isLoading:h,error:p}=Mt({queryKey:["calendarToday",t],queryFn:()=>s2(t),retry:1,enabled:n===void 0}),{data:g}=Mt({queryKey:["trainingLoad",7],queryFn:()=>(console.log("[TodayWorkoutCard] Fetching training load for 7 days"),bc(7)),retry:(V,U)=>{if(U&&typeof U=="object"){const te=U;if(te.status===500||te.status===503||te.code==="ECONNABORTED"||te.message&&te.message.includes("timed out"))return!1}return V<1},enabled:s===void 0,staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0}),{data:x}=Mt({queryKey:["activities","limit",10],queryFn:()=>xi({limit:10}),retry:1,enabled:o===void 0,staleTime:120*1e3,gcTime:600*1e3}),{data:b}=Mt({queryKey:["intelligence","today","current"],queryFn:()=>Q2(),retry:1,enabled:l===void 0,staleTime:1800*1e3,gcTime:3600*1e3}),v=n!==void 0?n:u,w=r!==void 0?r:h,N=i!==void 0?i:p,S=o!==void 0?o:x,A=l!==void 0?l:b,T=v?.sessions?.find(V=>V.status==="planned"||V.status==="completed")||null,C=j.useMemo(()=>!T||!S?null:T.completed_activity_id?S.find(U=>U.id===T.completed_activity_id)||null:S.find(U=>(U.date?.split("T")[0]||U.date)===t)||null,[S,t,T]),E=T?.completed_activity_id||C?.id||null,{data:O}=Mt({queryKey:["activityStreams",E],queryFn:()=>Bh(E),retry:1,enabled:!!E,staleTime:900*1e3,gcTime:1800*1e3}),I=j.useMemo(()=>{if(!T)return null;const U=(A&&typeof A=="object"?A.message:void 0)||C?.coachFeedback||T.notes;return xge({session:T,activity:C,streams:O,coachFeedback:U})},[T,C,O,A]);if(w)return a.jsxs(Ot,{className:re("h-full flex flex-col",c),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Session"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center py-4",children:a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]});if(N||!T||!I)return a.jsxs(Ot,{className:re("h-full flex flex-col",c),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Today's Session"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center py-4",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:N?"Unable to load session":"Rest day - no session scheduled"})})]});const F=T.type||"",W=bge(F),$=T.status==="completed"||!!C;function z(V){switch(V){case"recovery":return"secondary";case"aerobic":return"default";case"endurance":return"default";case"threshold":return"outline";case"vo2":return"destructive"}}return a.jsxs(Ot,{className:re("h-full flex flex-col",c),children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Je,{className:"text-lg",children:"Today's Session"}),a.jsx(ln,{variant:$?"default":z(W),children:$?"Completed":T.intensity||F||"Planned"})]}),a.jsx($e,{className:"flex-1 py-2",children:a.jsx(I0,{session:I})})]})}function _ge(e){const t=new Map;return!e||!Array.isArray(e.dates)||!Array.isArray(e.daily_tss)||e.dates.forEach((n,r)=>{const i=e.daily_tss[r];if(i!=null&&!isNaN(i)){const s=Math.abs(i);t.set(n,s)}}),t}function Nv(e,t){if(!e||!Array.isArray(e))return[];const n=_ge(t);return e.map(r=>{const i=r.date?.split("T")[0]||r.date,s=n.get(i);return s!==void 0&&(!r.trainingLoad||r.trainingLoad===0)?{...r,trainingLoad:Math.round(s)}:r})}function jge(e,t){if(!t||!Array.isArray(t.dates)||!Array.isArray(t.daily_tss))return null;const n=e.split("T")[0],r=t.dates.indexOf(n);if(r===-1)return null;const i=t.daily_tss[r];return i==null||isNaN(i)?null:Math.abs(i)}function Sge({data:e,maxLoad:t}){const[n,r]=j.useState(0);j.useEffect(()=>{const x=setTimeout(()=>r(1),50);return()=>clearTimeout(x)},[]);const i=280,s=80,o={top:8,right:4,bottom:16,left:4},l=i-o.left-o.right,c=s-o.top-o.bottom,u=l/e.length-4,h=Math.max(t,1),p=e.map((x,b)=>{const v=o.left+b*(l/e.length)+u/2+2,w=x.load/h*c,N=o.top+c-w;return{x:v,y:N,load:x.load}});let g="";if(p.length>0){g=`M ${p[0].x} ${p[0].y}`;for(let x=1;x<p.length;x++){const b=p[x-1],v=p[x],w=(b.x+v.x)/2;g+=` Q ${w} ${b.y}, ${w} ${(b.y+v.y)/2}`,g+=` Q ${w} ${v.y}, ${v.x} ${v.y}`}}return a.jsxs("svg",{viewBox:`0 0 ${i} ${s}`,className:"w-full h-full",style:{overflow:"visible"},children:[a.jsxs("defs",{children:[a.jsx("pattern",{id:"loadGrid",width:"40",height:"20",patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:"M 40 0 L 0 0 0 20",fill:"none",stroke:"hsl(215 15% 18%)",strokeWidth:"0.5",opacity:"0.3"})}),a.jsxs("linearGradient",{id:"loadTraceGradient",x1:"0%",y1:"100%",x2:"0%",y2:"0%",children:[a.jsx("stop",{offset:"0%",stopColor:"hsl(215 60% 45%)",stopOpacity:"0.4"}),a.jsx("stop",{offset:"100%",stopColor:"hsl(175 60% 50%)",stopOpacity:"0.8"})]}),a.jsxs("filter",{id:"loadGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[a.jsx("feGaussianBlur",{stdDeviation:"1.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("rect",{x:o.left,y:o.top,width:l,height:c,fill:"url(#loadGrid)"}),a.jsx("line",{x1:o.left,y1:o.top+c,x2:o.left+l,y2:o.top+c,stroke:"hsl(215 15% 22%)",strokeWidth:"1"}),e.map((x,b)=>{const v=x.load/h*c,w=o.left+b*(l/e.length)+2,N=o.top+c-v;return a.jsxs("g",{children:[a.jsx("rect",{x:w,y:N,width:u,height:v*n,fill:x.isToday?"hsl(175 60% 45%)":"hsl(215 15% 24%)",opacity:x.isToday?.9:.6,style:{transition:"height 0.4s ease-out, y 0.4s ease-out",transformOrigin:"bottom"}}),a.jsx("text",{x:w+u/2,y:s-2,textAnchor:"middle",fill:"hsl(215 20% 45%)",fontSize:"8",fontFamily:"JetBrains Mono, monospace",letterSpacing:"0.02em",children:x.day.toUpperCase()}),x.load>0&&a.jsx("text",{x:w+u/2,y:N-4,textAnchor:"middle",fill:x.isToday?"hsl(175 60% 55%)":"hsl(215 20% 55%)",fontSize:"7",fontFamily:"JetBrains Mono, monospace",opacity:n,children:x.load})]},b)}),p.length>1&&a.jsx("path",{d:g,fill:"none",stroke:"url(#loadTraceGradient)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#loadGlow)",opacity:n*.7,style:{transition:"opacity 0.5s ease-out 0.2s"}}),p.length>0&&e[e.length-1].load>0&&a.jsx("circle",{cx:p[p.length-1].x,cy:p[p.length-1].y,r:"3",fill:"hsl(175 60% 50%)",filter:"url(#loadGlow)",opacity:n,style:{transition:"opacity 0.5s ease-out 0.3s"}})]})}function Nge(e={}){const t=new Date,n=Gn(t,{weekStartsOn:1}),r=Ne(n,"yyyy-MM-dd"),i=e.activities100,s=e.activities100Loading,o=e.trainingLoad7d,l=e.trainingLoad7dLoading,c=e.weekData,u=e.weekDataLoading,{data:h,isLoading:p}=Mt({queryKey:["activities","limit",100],queryFn:()=>xi({limit:100}),retry:1,enabled:i===void 0,staleTime:300*1e3,gcTime:1800*1e3,refetchOnWindowFocus:!0}),{data:g,isLoading:x}=Mt({queryKey:["trainingLoad",7],queryFn:()=>(console.log("[WeeklyLoadCard] Fetching training load for 7 days"),bc(7)),retry:(F,W)=>{if(W&&typeof W=="object"){const $=W;if($.status===500||$.status===503||$.code==="ECONNABORTED"||$.message&&$.message.includes("timed out"))return!1}return F<1},enabled:o===void 0,staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0}),{data:b,isLoading:v}=Mt({queryKey:["calendarWeek",r],queryFn:()=>ld(r),retry:1,enabled:c===void 0,staleTime:120*1e3,gcTime:600*1e3}),w=i!==void 0?i:h,N=o!==void 0?o:g,S=c!==void 0?c:b,A=(s!==void 0?s:p)||(l!==void 0?l:x)||(u!==void 0?u:v),T=j.useMemo(()=>w?Nv(w,N):[],[w,N]),C=j.useMemo(()=>{const F=Array.from({length:7},($,z)=>{const V=jn(t,6-z),U=Ne(V,"yyyy-MM-dd");return{day:Ne(V,"EEE"),date:U,load:0,isToday:z===6}}),W=Array.isArray(T)?T:[];return F.forEach($=>{const V=W.filter(U=>!U||!U.date?!1:U.date.split("T")[0]===$.date).reduce((U,te)=>{const Q=te.trainingLoad||0;return U+(typeof Q=="number"?Q:0)},0);$.load=Math.round(V)}),F},[T,t]),E=j.useMemo(()=>{let F=0,W=0;F=C.reduce((U,te)=>U+te.load,0),W=(Array.isArray(S?.sessions)?S.sessions:[]).filter(U=>U?.status==="planned"||U?.status==="completed").reduce((U,te)=>{const Q=(te.duration_minutes||60)/60;return U+Math.round(Q*50)},0),F>0&&W===0&&(W=F);const V=W>0?F/W*100:0;return{actualLoad:Math.round(F),plannedLoad:Math.round(W),progress:V}},[C,S]),O=j.useMemo(()=>Math.max(...C.map(F=>F.load),1),[C]),I=e.className;return A?a.jsxs(Ot,{className:re("flex flex-col",I),children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-lg",children:"Weekly Load"})}),a.jsx($e,{className:"flex-1 flex items-center justify-center",children:a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}):a.jsxs(Ot,{className:re("flex flex-col",I),children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Je,{className:"text-lg",children:"Weekly Load"}),a.jsxs("span",{className:"text-sm font-medium",children:[E.actualLoad," ",a.jsx("span",{className:"text-muted-foreground",children:"/"})," ",E.plannedLoad," ",a.jsx("span",{className:"text-xs text-muted-foreground ml-0.5",children:"TSS"})]})]}),a.jsxs($e,{className:"flex-1 flex flex-col space-y-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary transition-all duration-500 ease-out rounded-full",style:{width:`${Math.min(E.progress,100)}%`}})}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Adherence"}),a.jsxs("span",{className:"text-sm font-medium",children:[E.progress.toFixed(0),"%"]})]})]}),a.jsx("div",{className:"flex-1 min-h-[80px] -mx-1",children:a.jsx(Sge,{data:C,maxLoad:O})})]})]})}function Pge(e,t){if(!e)return"other";const n=e.toLowerCase(),r=t?.toLowerCase()||"";return r.includes("race")||r.includes("marathon")||r.includes("5k")||r.includes("10k")||r.includes("half marathon")||r.includes("ironman")||r.includes("triathlon")||r.includes("event")||n.includes("race")||n.includes("event")?"race":n.includes("run")||n==="running"?"run":n.includes("ride")||n.includes("cycling")||n.includes("bike")?"ride":n.includes("swim")?"swim":n.includes("strength")||n.includes("weight")||n.includes("gym")?"strength":"other"}function Age(e){if(!e)return"easy";const t=e.toLowerCase();return t.includes("easy")||t.includes("recovery")||t.includes("aerobic")?"easy":t.includes("steady")||t.includes("endurance")?"steady":t.includes("tempo")||t.includes("threshold")?"tempo":t.includes("interval")||t.includes("vo2")||t.includes("speed")?"intervals":t.includes("long")?"long":t.includes("rest")||t.includes("off")?"rest":"easy"}function kge(e){if(e.length<=1)return e.map(n=>({items:[n],count:1,hasAM:_x(n.startLocal),hasPM:!_x(n.startLocal),totalDuration:n.durationMin,totalLoad:n.load||0}));const t=new Map;for(const n of e){const r=`${n.sport}-${n.intent}`;t.has(r)||t.set(r,[]),t.get(r).push(n)}return Array.from(t.values()).map(n=>({items:n,count:n.length,hasAM:n.some(r=>_x(r.startLocal)),hasPM:n.some(r=>!_x(r.startLocal)),totalDuration:n.reduce((r,i)=>r+i.durationMin,0),totalLoad:n.reduce((r,i)=>r+(i.load||0),0)}))}function _x(e){return new Date(e).getHours()<12}function ud(e){return e?e.toLowerCase().split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):""}function fC(e,t){const n=e.status==="completed"||e.completed===!0||!!e.completed_at||!!e.completed_activity_id,r=n?"completed":"planned",i=!!e.completed_activity_id,s=t.find(g=>g.planned_session_id===e.id||e.workout_id&&g.workout_id===e.workout_id);let o;e.status==="missed"?o="missed":n&&(o="complete");const l=s?.trainingLoad;let c;s?.distance?c=s.distance:e.distance_km&&(c=e.distance_km);const u=s?.avgPace;let h;s&&(s.avgPower?h=`${Math.round(s.avgPower)}W`:s.avgHeartRate&&(h=`${s.avgHeartRate} bpm`));let p=e.date;return e.time?p=`${e.date}T${e.time}:00`:p=`${e.date}T00:00:00`,{id:e.id,kind:r,sport:Pge(e.type,e.title),intent:Age(e.intensity),title:ud(e.title||""),startLocal:p,durationMin:e.duration_minutes||0,load:l,distanceKm:c,pace:u,secondary:h,isPaired:i,compliance:o,description:e.notes||void 0}}function Cge({sport:e}){const n={running:"hsl(175 60% 45%)",cycling:"hsl(35 80% 55%)",swimming:"hsl(210 70% 55%)",triathlon:"hsl(280 50% 55%)",strength:"hsl(0 60% 55%)"}[e]||"hsl(215 20% 45%)";return a.jsx("svg",{width:"8",height:"8",viewBox:"0 0 8 8",className:"flex-shrink-0",children:a.jsx("circle",{cx:"4",cy:"4",r:"3",fill:n,opacity:"0.9"})})}function Tge({current:e,average:t}){if(t===0)return null;const n=(e-t)/t*100,r=n>0,i=Math.abs(n).toFixed(0);return Math.abs(n)<5?null:a.jsxs("span",{className:re("font-mono text-[9px] tracking-tight ml-1",r?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:[r?"":"",i,"%"]})}function Ege(e={}){const{convertDistance:t}=Ps(),n=tr(),[r,i]=j.useState(!1),s=e.activities10,o=e.activities10Loading,l=e.activities10Error,c=e.trainingLoad60d,{data:u,isLoading:h,error:p,refetch:g}=Mt({queryKey:["activities","limit",10],queryFn:()=>xi({limit:10}),retry:1,enabled:s===void 0,staleTime:120*1e3,gcTime:600*1e3,refetchOnWindowFocus:!0}),x=async()=>{i(!0);try{await o2(),Le({title:"Sync started",description:"Activities are being synced in the background."}),setTimeout(()=>{n.invalidateQueries({queryKey:["activities"]}),g()},3e3)}catch(C){console.error("Failed to sync activities:",C),Le({title:"Sync failed",description:C instanceof Error?C.message:"Could not sync activities",variant:"destructive"})}finally{i(!1)}},{data:b}=Mt({queryKey:["trainingLoad",60],queryFn:()=>(console.log("[RecentActivitiesCard] Fetching training load for 60 days"),bc(60)),retry:(C,E)=>{if(E&&typeof E=="object"){const O=E;if(O.status===500||O.status===503||O.code==="ECONNABORTED"||O.message&&O.message.includes("timed out"))return!1}return C<1},enabled:c===void 0,staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0}),v=s!==void 0?s:u,w=o!==void 0?o:h,N=l!==void 0?l:p,S=c!==void 0?c:b,{recentActivities:A,averageTss:T}=j.useMemo(()=>{let C=[];if(Array.isArray(v))C=v;else if(v&&typeof v=="object"&&"activities"in v){const W=v.activities;C=Array.isArray(W)?W:[]}const E=Nv(C,S);if(!Array.isArray(E))return{recentActivities:[],averageTss:0};const O=E.sort((W,$)=>{if(!W.date||!$.date)return 0;try{const z=typeof W.date=="string"?or(W.date.split("T")[0]):new Date(W.date);return(typeof $.date=="string"?or($.date.split("T")[0]):new Date($.date)).getTime()-z.getTime()}catch{return 0}}),I=Array.isArray(O)?O.slice(0,4):[],F=I.length>0?I.reduce((W,$)=>W+($.trainingLoad||0),0)/I.length:0;return{recentActivities:I,averageTss:Math.round(F)}},[v,S]);return a.jsxs(Ot,{className:re("flex flex-col",e.className),children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(Je,{className:"text-lg",children:"Recent Activities"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Se,{variant:"ghost",size:"sm",onClick:x,className:"h-6 px-1.5",disabled:w||r,title:"Sync activities",children:a.jsx(qu,{className:re("h-3 w-3",r&&"animate-spin")})}),a.jsx(Nn,{to:"/activities",className:"text-xs text-muted-foreground hover:text-primary transition-colors",children:"View all "})]})]}),a.jsx($e,{className:"flex-1 flex flex-col",children:w?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(st,{className:"h-4 w-4 animate-spin text-muted-foreground"})}):N||A.length===0?a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:N?"Unable to load activities":"No recent activities"})}):a.jsxs("div",{className:"space-y-0",children:[a.jsxs("div",{className:"grid grid-cols-[8px_1fr_60px_50px_50px] gap-2 py-1 border-b",children:[a.jsx("div",{}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider",children:"Session"}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider text-right",children:"Dist"}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider text-right",children:"Dur"}),a.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wider text-right",children:"TSS"})]}),(Array.isArray(A)?A:[]).filter(C=>C&&C.date&&C.id).map((C,E)=>{const O=C.date?(()=>{try{return Ne(or(C.date),"dd MMM")}catch{return C.date}})():"",I=E===A.length-1,F=t(C.distance||0);return a.jsxs("div",{className:re("grid grid-cols-[8px_1fr_60px_50px_50px] gap-2 py-1.5 items-center",!I&&"border-b"),children:[a.jsx(Cge,{sport:C.sport||"running"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm truncate",children:ud(C.title||"Session")}),a.jsx("div",{className:"text-xs text-muted-foreground",children:O})]}),a.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[F.value.toFixed(1),a.jsx("span",{className:"text-xs ml-0.5",children:F.unit})]}),a.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[C.duration||0,a.jsx("span",{className:"text-xs ml-0.5",children:"m"})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-sm font-medium",children:C.trainingLoad||0}),a.jsx(Tge,{current:C.trainingLoad||0,average:T})]})]},C.id)})]})})]})}const ft=j.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:re("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));ft.displayName="Input";function I9(e){return"Good to see you. What would you like to focus on today?"}async function Oge(e){return await nt.get(`/conversations/${e}/progress`)}async function Mge(e){return await nt.get(`/conversations/${e}/messages`)}function A5(e,t){const n=t.filter(r=>r.step_id===e);return n.length===0?"planned":n[n.length-1].status}const Rge=[{id:"review",label:"Review CTL / ATL / TSB"},{id:"focus",label:"Determine weekly focus"},{id:"workouts",label:"Plan key workouts"},{id:"recovery",label:"Insert recovery"}];function J2({conversationId:e,mode:t="executing",onConfirm:n,onComplete:r}){const[i,s]=j.useState(null),[o,l]=j.useState(!0),[c,u]=j.useState(!1),h=j.useRef(null),p=j.useRef(!1);if(j.useEffect(()=>{if(!e||t!=="executing"){e?t!=="executing"&&console.info("[CoachProgress] Skipping polling: mode is",t,'(expected "executing")'):console.info("[CoachProgress] Skipping polling: conversationId is",e),h.current&&(clearInterval(h.current),h.current=null),l(!1),s(null),u(!1),p.current=!1;return}console.info("[CoachProgress] Starting polling for conversation:",e),console.info("[CoachProgress] Polling endpoint: /conversations/"+e+"/progress"),l(!0);const b=async()=>{try{console.info("[CoachProgress] Polling /conversations/"+e+"/progress");const v=await Oge(e);s(v),l(!1),v.steps.length>0&&v.steps.every(N=>{const S=A5(N.id,v.events);return S==="completed"||S==="failed"||S==="skipped"})&&(u(!0),h.current&&(clearInterval(h.current),h.current=null),!p.current&&r&&(p.current=!0,r()))}catch(v){console.error("[CoachProgressPanel] Failed to fetch progress:",v),l(!1)}};return b(),h.current=setInterval(()=>{b()},1750),()=>{h.current&&(clearInterval(h.current),h.current=null)}},[e,t,r]),t==="planning")return a.jsxs("div",{className:"mb-4 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:[a.jsxs("div",{className:"mb-3",children:[a.jsx("h3",{className:"text-sm font-semibold text-foreground mb-1",children:"Proposed Weekly Planning Steps"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Review and confirm before generating your plan."})]}),a.jsx("ul",{className:"space-y-2 mb-4",role:"list",children:Rge.map(b=>a.jsxs("li",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[a.jsx("span",{className:"flex items-center justify-center shrink-0","aria-hidden":"true",children:a.jsx(HI,{className:"h-4 w-4 text-muted-foreground/50"})}),a.jsx("span",{children:b.label})]},b.id))}),n&&a.jsx(Se,{onClick:n,className:"w-full bg-coach hover:bg-coach/90 text-coach-foreground",children:"Generate Weekly Plan"})]});if(t!=="executing"||c)return null;if(o&&!i)return a.jsx("div",{className:"mb-4 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[a.jsx(ps,{className:"h-4 w-4 animate-pulse"}),a.jsx("span",{children:"Initializing training plan..."})]})})});if(!i||i.steps.length===0)return a.jsx("div",{className:"mb-4 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:a.jsx("div",{className:"space-y-2",children:a.jsxs("div",{className:"flex items-center gap-3 text-sm text-muted-foreground",children:[a.jsx(ps,{className:"h-4 w-4 animate-pulse"}),a.jsx("span",{children:"Preparing your training plan..."})]})})});const g=b=>{switch(b){case"in_progress":return a.jsx(ps,{className:"h-4 w-4 text-muted-foreground animate-pulse"});case"completed":return a.jsx(Ar,{className:"h-4 w-4 text-load-fresh"});case"failed":return a.jsx(ni,{className:"h-4 w-4 text-destructive"});case"skipped":return a.jsx(AW,{className:"h-4 w-4 text-muted-foreground"});default:return a.jsx(HI,{className:"h-4 w-4 text-muted-foreground/50"})}},x=b=>{switch(b){case"in_progress":return"in progress";case"completed":return"completed";case"failed":return"failed";case"skipped":return"skipped";default:return"planned"}};return a.jsx("div",{className:"mb-4 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:a.jsx("ul",{className:"space-y-2",role:"list",children:i.steps.map(b=>{const v=A5(b.id,i.events),w=v==="in_progress";return a.jsxs("li",{className:re("flex items-center gap-3 text-sm",w&&"font-medium"),"aria-busy":w,children:[a.jsx("span",{className:re("flex items-center justify-center shrink-0",w&&"animate-pulse"),"aria-hidden":"true",children:g(v)}),a.jsxs("span",{className:"text-foreground",children:[b.label,a.jsxs("span",{className:"sr-only",children:[" - ",x(v)]})]})]},b.id)})})})}function D0({planItems:e}){return!e||e.length===0?null:a.jsxs(et,{className:"mt-4 border-accent/20 bg-accent/5",children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-base font-semibold",children:"Training Plan"})}),a.jsx($e,{className:"pt-0",children:a.jsx("ul",{className:"space-y-2",role:"list",children:e.map(t=>a.jsxs("li",{className:re("flex flex-col gap-1 rounded-md p-3 text-sm","bg-card border border-border/50"),children:[a.jsx("div",{className:"font-medium text-foreground",children:t.title}),t.description&&a.jsx("div",{className:"text-muted-foreground",children:t.description}),t.date&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:t.date}),t.sport&&a.jsx("div",{className:"text-xs text-muted-foreground",children:t.sport})]},t.id))})})]})}function Ige({minimized:e=!1}){const[t,n]=j.useState(!e),[r,i]=j.useState([]),[s,o]=j.useState(""),[l,c]=j.useState(!1),[u,h]=j.useState(null),p=j.useRef(!1),g=async()=>{if(p.current||!s.trim())return;const v=s.trim(),w=crypto.randomUUID();o(""),p.current=!0,c(!0),console.info("Sending coach message",{length:v.length,messageId:w});const N={id:w,role:"athlete",content:v};i(S=>[...S,N]);try{const S=await a2(v,{message_id:w});S.conversation_id&&h(S.conversation_id);const A={id:(Date.now()+1).toString(),role:"coach",content:S.reply||"I understand.",show_plan:S.show_plan===!0,plan_items:S.plan_items,response_type:S.response_type};i(T=>[...T,A])}catch(S){const T=S.message||"Sorry, please try again.",C={id:(Date.now()+1).toString(),role:"coach",content:T};i(E=>[...E,C])}finally{c(!1),p.current=!1}},x=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),g())},b=v=>{v.preventDefault(),g()};return j.useEffect(()=>{const v=I9();i([{id:"1",role:"coach",content:v}])},[]),t?a.jsx("div",{className:"fixed bottom-6 right-6 z-50 w-80",children:a.jsxs(Ot,{className:"flex flex-col h-[360px] shadow-xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 border-b",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-accent/20 flex items-center justify-center",children:a.jsx(Jr,{className:"h-3 w-3 text-accent-foreground"})}),a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"AI Coach"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Nn,{to:"/coach",children:a.jsx(Se,{variant:"ghost",size:"icon",className:"h-6 w-6",children:a.jsx(zte,{className:"h-3 w-3"})})}),a.jsx(Se,{variant:"ghost",size:"icon",onClick:()=>n(!1),className:"h-6 w-6",children:a.jsx(Ss,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden p-2.5",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-1.5 mb-2",children:[u&&a.jsx(J2,{conversationId:u,mode:"executing"}),r.slice(-4).map(v=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:re("flex gap-1.5",v.role==="athlete"&&"flex-row-reverse"),children:[a.jsx("div",{className:re("w-5 h-5 rounded-full flex items-center justify-center shrink-0",v.role==="coach"?"bg-accent/20":"bg-secondary"),children:v.role==="coach"?a.jsx(Jr,{className:"h-2.5 w-2.5 text-accent-foreground"}):a.jsx(Uu,{className:"h-2.5 w-2.5 text-muted-foreground"})}),a.jsx("div",{className:re("max-w-[80%] rounded px-2.5 py-1 text-sm",v.role==="coach"?"bg-accent/10 border":"bg-secondary"),children:v.content})]}),v.role==="coach"&&v.show_plan===!0&&v.plan_items&&(!v.response_type||["plan","weekly_plan","season_plan","session_plan","recommendation","summary"].includes(v.response_type))&&a.jsxs("div",{className:re("flex gap-1.5"),children:[a.jsx("div",{className:"w-5 shrink-0"}),a.jsx("div",{className:"max-w-[80%]",children:a.jsx(D0,{planItems:v.plan_items})})]})]},v.id)),l&&a.jsxs("div",{className:"flex gap-1.5",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-accent/20 flex items-center justify-center",children:a.jsx(Jr,{className:"h-2.5 w-2.5 text-accent-foreground"})}),a.jsx("div",{className:"bg-accent/10 border rounded px-2.5 py-1",children:a.jsxs("div",{className:"flex gap-0.5",children:[a.jsx("span",{className:"w-1 h-1 bg-accent rounded-full animate-pulse"}),a.jsx("span",{className:"w-1 h-1 bg-accent rounded-full animate-pulse [animation-delay:150ms]"}),a.jsx("span",{className:"w-1 h-1 bg-accent rounded-full animate-pulse [animation-delay:300ms]"})]})})]})]}),a.jsxs("form",{onSubmit:b,className:"flex gap-1.5",children:[a.jsx(ft,{value:s,onChange:v=>o(v.target.value),onKeyDown:x,placeholder:"Ask the coach...",className:"h-8 text-sm"}),a.jsx(Se,{type:"submit",disabled:!s.trim()||l||p.current,size:"icon",className:"h-8 w-8 shrink-0",children:a.jsx(dv,{className:"h-3 w-3"})})]})]})]})}):a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsxs(Se,{onClick:()=>n(!0),className:"h-10 px-4 gap-2 shadow-lg rounded-full",children:[a.jsx(wE,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs uppercase tracking-wider",children:"Ask Coach"})]})})}function D9({overview60d:e,isLoading:t=!1,className:n}){const r=e?.today,i=typeof r?.ctl=="number"?r.ctl:0,s=typeof r?.atl=="number"?r.atl:0,o=typeof r?.tsb=="number"?r.tsb:0,l=j.useMemo(()=>{const u=e?.metrics,h=Array.isArray(u?.tsb)?u.tsb:[];if(h.length<7)return 0;const p=h[h.length-1]?.[1]??o,g=h[h.length-7]?.[1]??o;return p-g},[e,o]),c=j.useMemo(()=>{if(i===0)return!0;const u=s/i;return u>=.8&&u<=1.2},[s,i]);return t?a.jsx(Ot,{className:re("p-4",n),children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsx("div",{className:"flex items-center gap-8",children:[1,2,3,4].map(u=>a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("div",{className:"w-16 h-4 bg-secondary rounded animate-pulse"}),a.jsx("div",{className:"w-12 h-6 bg-secondary rounded animate-pulse"})]},u))})})}):a.jsx(Ot,{className:re("p-4",n),children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Fitness (CTL)"}),a.jsx("span",{className:"text-xl font-semibold",children:i.toFixed(0)})]}),a.jsx("div",{className:"w-px h-10 bg-border hidden sm:block"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Fatigue (ATL)"}),a.jsx("span",{className:"text-xl font-semibold",children:s.toFixed(0)})]}),a.jsx("div",{className:"w-px h-10 bg-border hidden sm:block"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Load Status"}),a.jsx("span",{className:re("text-xl font-semibold",c?"text-green-600 dark:text-green-400":"text-amber-600 dark:text-amber-400"),children:c?"Optimal":"Monitor"})]}),a.jsx("div",{className:"w-px h-10 bg-border hidden sm:block"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Form (TSB)"}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsxs("span",{className:re("text-xl font-semibold",o>5?"text-green-600 dark:text-green-400":o>0?"text-blue-600 dark:text-blue-400":o>-10?"text-amber-600 dark:text-amber-400":"text-red-600 dark:text-red-400"),children:[o>0?"+":"",o.toFixed(0)]}),a.jsxs("span",{className:re("text-sm",l>0?"text-green-600 dark:text-green-400":l<-3?"text-red-600 dark:text-red-400":"text-muted-foreground"),children:[l>0?"":l<0?"":""," ",Math.abs(l).toFixed(1)]})]})]})]})})}function qh(){const{user:e,loading:t}=gn(),n=tr(),r=Ne(new Date,"yyyy-MM-dd"),i=j.useRef(!1),s=j.useRef(!1),o=j.useRef(null),{data:l,isLoading:c}=Mt({queryKey:["calendarToday",r],queryFn:()=>s2(r),retry:1,enabled:!t&&!!e&&!!e.strava_connected}),{data:u}=Mt({queryKey:["activities","today"],queryFn:()=>xi({limit:10}),retry:1,enabled:!t&&!!e&&!!e.strava_connected});j.useEffect(()=>{if(t||!e||!e.strava_connected||c||(o.current&&o.current!==r&&(i.current=!1,o.current=null),i.current||s.current))return;const h=l?.sessions?.find(g=>g.status==="planned"||g.status==="completed")||null,p=u?.find(g=>g.date?g.date.split("T")[0]===r:!1)||null;h||p||(s.current=!0,o2().then(()=>{i.current=!0,o.current=r,n.invalidateQueries({queryKey:["activities"]}),n.invalidateQueries({queryKey:["calendarToday",r]})}).catch(g=>{}).finally(()=>{s.current=!1}))},[t,e,c,l,u,r,n])}function Dge(){const e=Ne(new Date,"yyyy-MM-dd"),t=Gn(new Date,{weekStartsOn:1}),n=Ne(t,"yyyy-MM-dd"),r=Mt({queryKey:["calendarToday",e],queryFn:()=>s2(e),retry:1,staleTime:120*1e3,gcTime:600*1e3}),i=Mt({queryKey:["trainingLoad",7],queryFn:()=>bc(7),retry:(p,g)=>{if(g&&typeof g=="object"){const x=g;if(x.status===500||x.status===503||x.code==="ECONNABORTED"||x.message&&x.message.includes("timed out"))return!1}return p<1},staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0}),s=Mt({queryKey:["trainingLoad",60],queryFn:()=>bc(60),retry:(p,g)=>{if(g&&typeof g=="object"){const x=g;if(x.status===500||x.status===503||x.code==="ECONNABORTED"||x.message&&x.message.includes("timed out"))return!1}return p<1},staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0}),o=Mt({queryKey:["activities","limit",10],queryFn:()=>xi({limit:10}),retry:1,staleTime:120*1e3,gcTime:600*1e3,refetchOnWindowFocus:!0}),l=Mt({queryKey:["activities","limit",100],queryFn:()=>xi({limit:100}),retry:1,staleTime:300*1e3,gcTime:1800*1e3,refetchOnWindowFocus:!0}),c=Mt({queryKey:["overview",60],queryFn:()=>bv(60),retry:1,staleTime:120*1e3,gcTime:300*1e3,refetchOnWindowFocus:!0}),u=Mt({queryKey:["calendarWeek",n],queryFn:()=>ld(n),retry:1,staleTime:120*1e3,gcTime:600*1e3}),h=Mt({queryKey:["intelligence","today","current"],queryFn:()=>Q2(),retry:1,staleTime:1800*1e3,gcTime:3600*1e3});return{todayData:r.data,todayDataLoading:r.isLoading,todayDataError:r.error,trainingLoad7d:i.data,trainingLoad7dLoading:i.isLoading,trainingLoad7dError:i.error,trainingLoad60d:s.data,trainingLoad60dLoading:s.isLoading,trainingLoad60dError:s.error,activities10:o.data,activities10Loading:o.isLoading,activities10Error:o.error,activities100:l.data,activities100Loading:l.isLoading,activities100Error:l.error,overview60d:c.data,overview60dLoading:c.isLoading,overview60dError:c.error,weekData:u.data,weekDataLoading:u.isLoading,weekDataError:u.error,todayIntelligence:h.data,todayIntelligenceLoading:h.isLoading,todayIntelligenceError:h.error,isLoading:r.isLoading||i.isLoading||s.isLoading||o.isLoading||l.isLoading||c.isLoading||u.isLoading||h.isLoading}}const Lge=[{id:"athlete-1",name:"John D.",email:"john.d@example.com",last_activity_date:"2026-01-09"},{id:"athlete-2",name:"Sarah M.",email:"sarah.m@example.com",last_activity_date:"2026-01-08"},{id:"athlete-3",name:"Mike R.",email:"mike.r@example.com",last_activity_date:"2026-01-10"},{id:"athlete-4",name:"Emily K.",email:"emily.k@example.com",last_activity_date:"2026-01-07"}],jm={"athlete-1":{adherence_pct:82,adherence_trend:[90,85,80,70,75,78,72,80,85,88,82,79,84,82],load_trend:"stable",risk_level:"low",risks:[{type:"success",message:"No missed long runs"},{type:"warning",message:"2 intensity sessions back-to-back"},{type:"info",message:"Recovery trending stable"}],weekly_loads:[{week:"Week -2",level:"medium",value:65},{week:"Week -1",level:"high",value:85},{week:"Current",level:"medium",value:70}]},"athlete-2":{adherence_pct:95,adherence_trend:[92,94,96,95,93,97,94,96,95,98,94,93,95,95],load_trend:"increasing",risk_level:"low",risks:[{type:"success",message:"Excellent adherence streak"},{type:"info",message:"Load building as planned"}],weekly_loads:[{week:"Week -2",level:"medium",value:60},{week:"Week -1",level:"medium",value:72},{week:"Current",level:"high",value:85}]},"athlete-3":{adherence_pct:58,adherence_trend:[70,65,55,50,45,60,55,62,58,55,60,52,58,58],load_trend:"decreasing",risk_level:"high",risks:[{type:"warning",message:"Missed 3 sessions this week"},{type:"warning",message:"Adherence below target"},{type:"info",message:"Consider athlete check-in"}],weekly_loads:[{week:"Week -2",level:"high",value:80},{week:"Week -1",level:"medium",value:55},{week:"Current",level:"low",value:35}]},"athlete-4":{adherence_pct:74,adherence_trend:[80,75,72,78,70,68,75,72,76,74,71,73,75,74],load_trend:"stable",risk_level:"medium",risks:[{type:"warning",message:"Skipped recovery sessions"},{type:"info",message:"Intensity distribution slightly high"}],weekly_loads:[{week:"Week -2",level:"medium",value:68},{week:"Week -1",level:"medium",value:70},{week:"Current",level:"medium",value:65}]}},Hj=jm["athlete-1"],gg=typeof window<"u"&&window.location.hostname.includes("lovable");function Fge(){const{status:e}=gn();return Ir({queryKey:["coach","athletes"],queryFn:async()=>{if(gg)return await new Promise(r=>setTimeout(r,300)),Lge;const n=await nt.get("/coach/athletes");if(n&&typeof n=="object"&&"athletes"in n){const r=n.athletes;if(Array.isArray(r))return r.map(i=>{const s=i;return{id:String(s.id||""),name:String(s.name||""),email:typeof s.email=="string"?s.email:void 0,avatar_url:typeof s.avatar_url=="string"?s.avatar_url:void 0,avatar_initials:typeof s.avatar_initials=="string"?s.avatar_initials:void 0,last_activity_date:typeof s.last_activity_date=="string"?s.last_activity_date:void 0}})}return Array.isArray(n)?n.map(r=>{const i=r;return{id:String(i.id||""),name:String(i.name||""),email:typeof i.email=="string"?i.email:void 0,avatar_url:typeof i.avatar_url=="string"?i.avatar_url:void 0,avatar_initials:typeof i.avatar_initials=="string"?i.avatar_initials:void 0,last_activity_date:typeof i.last_activity_date=="string"?i.last_activity_date:void 0}}):(console.warn("[useCoachAthletes] Unexpected response format:",n),[])},enabled:gg||e==="authenticated",staleTime:300*1e3})}function $ge(e){const{status:t}=gn(),r=Ir({queryKey:["coach","dashboard",e],queryFn:async()=>{if(gg)return e&&jm[e]?jm[e]:Hj;if(!e)return Hj;const o=await nt.get(`/coach/athletes/${e}/dashboard`);if(!o||typeof o!="object")throw new Error("Invalid dashboard data response from API");return{adherence_pct:typeof o.adherence_pct=="number"?o.adherence_pct:0,adherence_trend:Array.isArray(o.adherence_trend)?o.adherence_trend:[],load_trend:o.load_trend||"stable",risk_level:o.risk_level||"low",risks:Array.isArray(o.risks)?o.risks:[],weekly_loads:Array.isArray(o.weekly_loads)?o.weekly_loads:[]}},enabled:(gg||t==="authenticated")&&!!e,staleTime:120*1e3,retry:1}),i=e&&jm[e]?jm[e]:Hj;return r.isLoading||!r.data?{...i,isLoading:!0}:r.error?{...i,isLoading:!1,error:r.error}:{...r.data,isLoading:!1}}function Bge(){const{data:e,isLoading:t}=Fge(),[n,r]=j.useState(null);j.useEffect(()=>{e&&e.length>0&&!n&&r(e[0].id)},[e,n]);const i=e?.find(s=>s.id===n)??null;return{athletes:e??[],selectedAthlete:i,selectedAthleteId:n,setSelectedAthleteId:r,isLoading:t}}const zge={default:"",success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",danger:"text-red-600 dark:text-red-400"};function Kj({label:e,value:t,subtext:n,variant:r="default"}){const i=zge[r];return a.jsx(Ot,{children:a.jsxs($e,{className:"pt-6",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground block mb-2",children:e}),a.jsx("p",{className:re("text-3xl font-semibold",i),children:t}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:n})]})})}var Gj,k5;function Li(){if(k5)return Gj;k5=1;var e=Array.isArray;return Gj=e,Gj}var Yj,C5;function L9(){if(C5)return Yj;C5=1;var e=typeof lx=="object"&&lx&&lx.Object===Object&&lx;return Yj=e,Yj}var Zj,T5;function vo(){if(T5)return Zj;T5=1;var e=L9(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Zj=n,Zj}var Xj,E5;function Pv(){if(E5)return Xj;E5=1;var e=vo(),t=e.Symbol;return Xj=t,Xj}var Qj,O5;function Wge(){if(O5)return Qj;O5=1;var e=Pv(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function s(o){var l=n.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var h=r.call(o);return u&&(l?o[i]=c:delete o[i]),h}return Qj=s,Qj}var Jj,M5;function qge(){if(M5)return Jj;M5=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Jj=n,Jj}var eS,R5;function fl(){if(R5)return eS;R5=1;var e=Pv(),t=Wge(),n=qge(),r="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:r:s&&s in Object(l)?t(l):n(l)}return eS=o,eS}var tS,I5;function hl(){if(I5)return tS;I5=1;function e(t){return t!=null&&typeof t=="object"}return tS=e,tS}var nS,D5;function Uh(){if(D5)return nS;D5=1;var e=fl(),t=hl(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return nS=r,nS}var rS,L5;function eO(){if(L5)return rS;L5=1;var e=Li(),t=Uh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:r.test(s)||!n.test(s)||o!=null&&s in Object(o)}return rS=i,rS}var iS,F5;function Tc(){if(F5)return iS;F5=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return iS=e,iS}var aS,$5;function tO(){if($5)return aS;$5=1;var e=fl(),t=Tc(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==r||c==i||c==n||c==s}return aS=o,aS}var sS,B5;function Uge(){if(B5)return sS;B5=1;var e=vo(),t=e["__core-js_shared__"];return sS=t,sS}var oS,z5;function Vge(){if(z5)return oS;z5=1;var e=Uge(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return oS=n,oS}var lS,W5;function F9(){if(W5)return lS;W5=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return lS=n,lS}var cS,q5;function Hge(){if(q5)return cS;q5=1;var e=tO(),t=Vge(),n=Tc(),r=F9(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,h=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||t(g))return!1;var x=e(g)?h:s;return x.test(r(g))}return cS=p,cS}var uS,U5;function Kge(){if(U5)return uS;U5=1;function e(t,n){return t?.[n]}return uS=e,uS}var dS,V5;function dd(){if(V5)return dS;V5=1;var e=Hge(),t=Kge();function n(r,i){var s=t(r,i);return e(s)?s:void 0}return dS=n,dS}var fS,H5;function Iw(){if(H5)return fS;H5=1;var e=dd(),t=e(Object,"create");return fS=t,fS}var hS,K5;function Gge(){if(K5)return hS;K5=1;var e=Iw();function t(){this.__data__=e?e(null):{},this.size=0}return hS=t,hS}var pS,G5;function Yge(){if(G5)return pS;G5=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return pS=e,pS}var mS,Y5;function Zge(){if(Y5)return mS;Y5=1;var e=Iw(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return r.call(o,s)?o[s]:void 0}return mS=i,mS}var gS,Z5;function Xge(){if(Z5)return gS;Z5=1;var e=Iw(),t=Object.prototype,n=t.hasOwnProperty;function r(i){var s=this.__data__;return e?s[i]!==void 0:n.call(s,i)}return gS=r,gS}var vS,X5;function Qge(){if(X5)return vS;X5=1;var e=Iw(),t="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=e&&i===void 0?t:i,this}return vS=n,vS}var yS,Q5;function Jge(){if(Q5)return yS;Q5=1;var e=Gge(),t=Yge(),n=Zge(),r=Xge(),i=Qge();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,yS=s,yS}var xS,J5;function eve(){if(J5)return xS;J5=1;function e(){this.__data__=[],this.size=0}return xS=e,xS}var bS,e4;function nO(){if(e4)return bS;e4=1;function e(t,n){return t===n||t!==t&&n!==n}return bS=e,bS}var wS,t4;function Dw(){if(t4)return wS;t4=1;var e=nO();function t(n,r){for(var i=n.length;i--;)if(e(n[i][0],r))return i;return-1}return wS=t,wS}var _S,n4;function tve(){if(n4)return _S;n4=1;var e=Dw(),t=Array.prototype,n=t.splice;function r(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():n.call(s,o,1),--this.size,!0}return _S=r,_S}var jS,r4;function nve(){if(r4)return jS;r4=1;var e=Dw();function t(n){var r=this.__data__,i=e(r,n);return i<0?void 0:r[i][1]}return jS=t,jS}var SS,i4;function rve(){if(i4)return SS;i4=1;var e=Dw();function t(n){return e(this.__data__,n)>-1}return SS=t,SS}var NS,a4;function ive(){if(a4)return NS;a4=1;var e=Dw();function t(n,r){var i=this.__data__,s=e(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return NS=t,NS}var PS,s4;function Lw(){if(s4)return PS;s4=1;var e=eve(),t=tve(),n=nve(),r=rve(),i=ive();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,PS=s,PS}var AS,o4;function rO(){if(o4)return AS;o4=1;var e=dd(),t=vo(),n=e(t,"Map");return AS=n,AS}var kS,l4;function ave(){if(l4)return kS;l4=1;var e=Jge(),t=Lw(),n=rO();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return kS=r,kS}var CS,c4;function sve(){if(c4)return CS;c4=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return CS=e,CS}var TS,u4;function Fw(){if(u4)return TS;u4=1;var e=sve();function t(n,r){var i=n.__data__;return e(r)?i[typeof r=="string"?"string":"hash"]:i.map}return TS=t,TS}var ES,d4;function ove(){if(d4)return ES;d4=1;var e=Fw();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return ES=t,ES}var OS,f4;function lve(){if(f4)return OS;f4=1;var e=Fw();function t(n){return e(this,n).get(n)}return OS=t,OS}var MS,h4;function cve(){if(h4)return MS;h4=1;var e=Fw();function t(n){return e(this,n).has(n)}return MS=t,MS}var RS,p4;function uve(){if(p4)return RS;p4=1;var e=Fw();function t(n,r){var i=e(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return RS=t,RS}var IS,m4;function iO(){if(m4)return IS;m4=1;var e=ave(),t=ove(),n=lve(),r=cve(),i=uve();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,IS=s,IS}var DS,g4;function $9(){if(g4)return DS;g4=1;var e=iO(),t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=r.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(n.Cache||e),s}return n.Cache=e,DS=n,DS}var LS,v4;function dve(){if(v4)return LS;v4=1;var e=$9(),t=500;function n(r){var i=e(r,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return LS=n,LS}var FS,y4;function fve(){if(y4)return FS;y4=1;var e=dve(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,l,c,u){s.push(c?u.replace(n,"$1"):l||o)}),s});return FS=r,FS}var $S,x4;function aO(){if(x4)return $S;x4=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=Array(i);++r<i;)s[r]=n(t[r],r,t);return s}return $S=e,$S}var BS,b4;function hve(){if(b4)return BS;b4=1;var e=Pv(),t=aO(),n=Li(),r=Uh(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return t(l,o)+"";if(r(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return BS=o,BS}var zS,w4;function B9(){if(w4)return zS;w4=1;var e=hve();function t(n){return n==null?"":e(n)}return zS=t,zS}var WS,_4;function z9(){if(_4)return WS;_4=1;var e=Li(),t=eO(),n=fve(),r=B9();function i(s,o){return e(s)?s:t(s,o)?[s]:n(r(s))}return WS=i,WS}var qS,j4;function $w(){if(j4)return qS;j4=1;var e=Uh();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return qS=t,qS}var US,S4;function sO(){if(S4)return US;S4=1;var e=z9(),t=$w();function n(r,i){i=e(i,r);for(var s=0,o=i.length;r!=null&&s<o;)r=r[t(i[s++])];return s&&s==o?r:void 0}return US=n,US}var VS,N4;function W9(){if(N4)return VS;N4=1;var e=sO();function t(n,r,i){var s=n==null?void 0:e(n,r);return s===void 0?i:s}return VS=t,VS}var pve=W9();const oa=Ut(pve);var HS,P4;function mve(){if(P4)return HS;P4=1;function e(t){return t==null}return HS=e,HS}var gve=mve();const ut=Ut(gve);var KS,A4;function vve(){if(A4)return KS;A4=1;var e=fl(),t=Li(),n=hl(),r="[object String]";function i(s){return typeof s=="string"||!t(s)&&n(s)&&e(s)==r}return KS=i,KS}var yve=vve();const Xu=Ut(yve);var xve=tO();const dt=Ut(xve);var bve=Tc();const Vh=Ut(bve);var GS={exports:{}},Gt={};var k4;function wve(){if(k4)return Gt;k4=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function v(w){if(typeof w=="object"&&w!==null){var N=w.$$typeof;switch(N){case e:switch(w=w.type,w){case n:case i:case r:case u:case h:return w;default:switch(w=w&&w.$$typeof,w){case l:case o:case c:case g:case p:case s:return w;default:return N}}case t:return N}}}return Gt.ContextConsumer=o,Gt.ContextProvider=s,Gt.Element=e,Gt.ForwardRef=c,Gt.Fragment=n,Gt.Lazy=g,Gt.Memo=p,Gt.Portal=t,Gt.Profiler=i,Gt.StrictMode=r,Gt.Suspense=u,Gt.SuspenseList=h,Gt.isAsyncMode=function(){return!1},Gt.isConcurrentMode=function(){return!1},Gt.isContextConsumer=function(w){return v(w)===o},Gt.isContextProvider=function(w){return v(w)===s},Gt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Gt.isForwardRef=function(w){return v(w)===c},Gt.isFragment=function(w){return v(w)===n},Gt.isLazy=function(w){return v(w)===g},Gt.isMemo=function(w){return v(w)===p},Gt.isPortal=function(w){return v(w)===t},Gt.isProfiler=function(w){return v(w)===i},Gt.isStrictMode=function(w){return v(w)===r},Gt.isSuspense=function(w){return v(w)===u},Gt.isSuspenseList=function(w){return v(w)===h},Gt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===n||w===i||w===r||w===u||w===h||w===x||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===p||w.$$typeof===s||w.$$typeof===o||w.$$typeof===c||w.$$typeof===b||w.getModuleId!==void 0)},Gt.typeOf=v,Gt}var C4;function _ve(){return C4||(C4=1,GS.exports=wve()),GS.exports}var jve=_ve(),YS,T4;function q9(){if(T4)return YS;T4=1;var e=fl(),t=hl(),n="[object Number]";function r(i){return typeof i=="number"||t(i)&&e(i)==n}return YS=r,YS}var ZS,E4;function Sve(){if(E4)return ZS;E4=1;var e=q9();function t(n){return e(n)&&n!=+n}return ZS=t,ZS}var Nve=Sve();const Hh=Ut(Nve);var Pve=q9();const Ave=Ut(Pve);var ui=function(t){return t===0?0:t>0?1:-1},Tu=function(t){return Xu(t)&&t.indexOf("%")===t.length-1},Oe=function(t){return Ave(t)&&!Hh(t)},kve=function(t){return ut(t)},vr=function(t){return Oe(t)||Xu(t)},Cve=0,Ec=function(t){var n=++Cve;return"".concat(t||"").concat(n)},di=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(t)&&!Xu(t))return r;var s;if(Tu(t)){var o=t.indexOf("%");s=n*parseFloat(t.slice(0,o))/100}else s=+t;return Hh(s)&&(s=r),i&&s>n&&(s=n),s},ac=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},Tve=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},Dn=function(t,n){return Oe(t)&&Oe(n)?function(r){return t+r*(n-t)}:function(){return n}};function L0(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):oa(r,t))===n})}var Eve=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,i=0,s=0,o=0,l=1/0,c=-1/0,u=0,h=0,p=0;p<n;p++)u=t[p].cx||0,h=t[p].cy||0,r+=u,i+=h,s+=u*h,o+=u*u,l=Math.min(l,u),c=Math.max(c,u);var g=n*o!==r*r?(n*s-r*i)/(n*o-r*r):0;return{xmin:l,xmax:c,a:g,b:(i-g*r)/n}},Ove=function(t,n){return Oe(t)&&Oe(n)?t-n:Xu(t)&&Xu(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function If(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function hC(e){"@babel/helpers - typeof";return hC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hC(e)}var Mve=["viewBox","children"],Rve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],O4=["points","pathLength"],XS={svg:Mve,polygon:O4,polyline:O4},oO=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],F0=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(j.isValidElement(t)&&(r=t.props),!Vh(r))return null;var i={};return Object.keys(r).forEach(function(s){oO.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},Ive=function(t,n,r){return function(i){return t(n,r,i),null}},jc=function(t,n,r){if(!Vh(t)||hC(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];oO.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=Ive(o,n,r))}),i},Dve=["children"],Lve=["children"];function M4(e,t){if(e==null)return{};var n=Fve(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function pC(e){"@babel/helpers - typeof";return pC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pC(e)}var R4={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},el=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},I4=null,QS=null,lO=function e(t){if(t===I4&&Array.isArray(QS))return QS;var n=[];return j.Children.forEach(t,function(r){ut(r)||(jve.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),QS=n,I4=t,n};function mi(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return el(i)}):r=[el(t)],lO(e).forEach(function(i){var s=oa(i,"type.displayName")||oa(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function ta(e,t){var n=mi(e,t);return n&&n[0]}var D4=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Oe(r)||r<=0||!Oe(i)||i<=0)},$ve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Bve=function(t){return t&&t.type&&Xu(t.type)&&$ve.indexOf(t.type)>=0},U9=function(t){return t&&pC(t)==="object"&&"clipDot"in t},zve=function(t,n,r,i){var s,o=(s=XS?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!dt(t)&&(i&&o.includes(n)||Rve.includes(n))||r&&oO.includes(n)},Qe=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(j.isValidElement(t)&&(i=t.props),!Vh(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;zve((l=i)===null||l===void 0?void 0:l[o],o,n,r)&&(s[o]=i[o])}),s},mC=function e(t,n){if(t===n)return!0;var r=j.Children.count(t);if(r!==j.Children.count(n))return!1;if(r===0)return!0;if(r===1)return L4(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=t[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!L4(s,o))return!1}return!0},L4=function(t,n){if(ut(t)&&ut(n))return!0;if(!ut(t)&&!ut(n)){var r=t.props||{},i=r.children,s=M4(r,Dve),o=n.props||{},l=o.children,c=M4(o,Lve);return i&&l?If(s,c)&&mC(i,l):!i&&!l?If(s,c):!1}return!1},F4=function(t,n){var r=[],i={};return lO(t).forEach(function(s,o){if(Bve(s))r.push(s);else if(s){var l=el(s.type),c=n[l]||{},u=c.handler,h=c.once;if(u&&(!h||!i[l])){var p=u(s,l,o);r.push(p),i[l]=!0}}}),r},Wve=function(t){var n=t&&t.type;return n&&R4[n]?R4[n]:null},qve=function(t,n){return lO(n).indexOf(t)},Uve=["children","width","height","viewBox","className","style","title","desc"];function gC(){return gC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gC.apply(this,arguments)}function Vve(e,t){if(e==null)return{};var n=Hve(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Hve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function vC(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=Vve(e,Uve),h=i||{width:n,height:r,x:0,y:0},p=wt("recharts-surface",s);return Y.createElement("svg",gC({},Qe(u,!0,"svg"),{className:p,width:n,height:r,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),Y.createElement("title",null,l),Y.createElement("desc",null,c),t)}var Kve=["children","className"];function yC(){return yC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yC.apply(this,arguments)}function Gve(e,t){if(e==null)return{};var n=Yve(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Yve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var At=Y.forwardRef(function(e,t){var n=e.children,r=e.className,i=Gve(e,Kve),s=wt("recharts-layer",r);return Y.createElement("g",yC({className:s},Qe(i,!0),{ref:t}),n)}),ms=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},JS,$4;function Zve(){if($4)return JS;$4=1;function e(t,n,r){var i=-1,s=t.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+n];return o}return JS=e,JS}var eN,B4;function Xve(){if(B4)return eN;B4=1;var e=Zve();function t(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:e(n,r,i)}return eN=t,eN}var tN,z4;function V9(){if(z4)return tN;z4=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+s+"]");function c(u){return l.test(u)}return tN=c,tN}var nN,W4;function Qve(){if(W4)return nN;W4=1;function e(t){return t.split("")}return nN=e,nN}var rN,q4;function Jve(){if(q4)return rN;q4=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",h="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",x="\\u200d",b=u+"?",v="["+s+"]?",w="(?:"+x+"(?:"+[h,p,g].join("|")+")"+v+b+")*",N=v+b+w,S="(?:"+[h+l+"?",l,p,g,o].join("|")+")",A=RegExp(c+"(?="+c+")|"+S+N,"g");function T(C){return C.match(A)||[]}return rN=T,rN}var iN,U4;function eye(){if(U4)return iN;U4=1;var e=Qve(),t=V9(),n=Jve();function r(i){return t(i)?n(i):e(i)}return iN=r,iN}var aN,V4;function tye(){if(V4)return aN;V4=1;var e=Xve(),t=V9(),n=eye(),r=B9();function i(s){return function(o){o=r(o);var l=t(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[s]()+u}}return aN=i,aN}var sN,H4;function nye(){if(H4)return sN;H4=1;var e=tye(),t=e("toUpperCase");return sN=t,sN}var rye=nye();const Bw=Ut(rye);function hn(e){return function(){return e}}const H9=Math.cos,$0=Math.sin,As=Math.sqrt,B0=Math.PI,zw=2*B0,xC=Math.PI,bC=2*xC,_u=1e-6,iye=bC-_u;function K9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function aye(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return K9;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sye{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?K9:aye(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=r-t,u=i-n,h=o-t,p=l-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>_u)if(!(Math.abs(p*c-u*h)>_u)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let x=r-o,b=i-l,v=c*c+u*u,w=x*x+b*b,N=Math.sqrt(v),S=Math.sqrt(g),A=s*Math.tan((xC-Math.acos((v+g-w)/(2*N*S)))/2),T=A/S,C=A/N;Math.abs(T-1)>_u&&this._append`L${t+T*h},${n+T*p}`,this._append`A${s},${s},0,0,${+(p*x>h*b)},${this._x1=t+C*c},${this._y1=n+C*u}`}}arc(t,n,r,i,s,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),u=t+l,h=n+c,p=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${h}`:(Math.abs(this._x1-u)>_u||Math.abs(this._y1-h)>_u)&&this._append`L${u},${h}`,r&&(g<0&&(g=g%bC+bC),g>iye?this._append`A${r},${r},0,1,${p},${t-l},${n-c}A${r},${r},0,1,${p},${this._x1=u},${this._y1=h}`:g>_u&&this._append`A${r},${r},0,${+(g>=xC)},${p},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function cO(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sye(t)}function uO(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function G9(e){this._context=e}G9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ww(e){return new G9(e)}function Y9(e){return e[0]}function Z9(e){return e[1]}function X9(e,t){var n=hn(!0),r=null,i=Ww,s=null,o=cO(l);e=typeof e=="function"?e:e===void 0?Y9:hn(e),t=typeof t=="function"?t:t===void 0?Z9:hn(t);function l(c){var u,h=(c=uO(c)).length,p,g=!1,x;for(r==null&&(s=i(x=o())),u=0;u<=h;++u)!(u<h&&n(p=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(p,u,c),+t(p,u,c));if(x)return s=null,x+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:hn(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:hn(+c),l):t},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:hn(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function jx(e,t,n){var r=null,i=hn(!0),s=null,o=Ww,l=null,c=cO(u);e=typeof e=="function"?e:e===void 0?Y9:hn(+e),t=typeof t=="function"?t:hn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Z9:hn(+n);function u(p){var g,x,b,v=(p=uO(p)).length,w,N=!1,S,A=new Array(v),T=new Array(v);for(s==null&&(l=o(S=c())),g=0;g<=v;++g){if(!(g<v&&i(w=p[g],g,p))===N)if(N=!N)x=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=x;--b)l.point(A[b],T[b]);l.lineEnd(),l.areaEnd()}N&&(A[g]=+e(w,g,p),T[g]=+t(w,g,p),l.point(r?+r(w,g,p):A[g],n?+n(w,g,p):T[g]))}if(S)return l=null,S+""||null}function h(){return X9().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:hn(+p),r=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:hn(+p),u):e},u.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:hn(+p),u):r},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:hn(+p),n=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:hn(+p),u):t},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:hn(+p),u):n},u.lineX0=u.lineY0=function(){return h().x(e).y(t)},u.lineY1=function(){return h().x(e).y(n)},u.lineX1=function(){return h().x(r).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:hn(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(l=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=l=null:l=o(s=p),u):s},u}class Q9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function oye(e){return new Q9(e,!0)}function lye(e){return new Q9(e,!1)}const dO={draw(e,t){const n=As(t/B0);e.moveTo(n,0),e.arc(0,0,n,0,zw)}},cye={draw(e,t){const n=As(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},J9=As(1/3),uye=J9*2,dye={draw(e,t){const n=As(t/uye),r=n*J9;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fye={draw(e,t){const n=As(t),r=-n/2;e.rect(r,r,n,n)}},hye=.8908130915292852,eH=$0(B0/10)/$0(7*B0/10),pye=$0(zw/10)*eH,mye=-H9(zw/10)*eH,gye={draw(e,t){const n=As(t*hye),r=pye*n,i=mye*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const o=zw*s/5,l=H9(o),c=$0(o);e.lineTo(c*n,-l*n),e.lineTo(l*r-c*i,c*r+l*i)}e.closePath()}},oN=As(3),vye={draw(e,t){const n=-As(t/(oN*3));e.moveTo(0,n*2),e.lineTo(-oN*n,-n),e.lineTo(oN*n,-n),e.closePath()}},Na=-.5,Pa=As(3)/2,wC=1/As(12),yye=(wC/2+1)*3,xye={draw(e,t){const n=As(t/yye),r=n/2,i=n*wC,s=r,o=n*wC+n,l=-s,c=o;e.moveTo(r,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Na*r-Pa*i,Pa*r+Na*i),e.lineTo(Na*s-Pa*o,Pa*s+Na*o),e.lineTo(Na*l-Pa*c,Pa*l+Na*c),e.lineTo(Na*r+Pa*i,Na*i-Pa*r),e.lineTo(Na*s+Pa*o,Na*o-Pa*s),e.lineTo(Na*l+Pa*c,Na*c-Pa*l),e.closePath()}};function bye(e,t){let n=null,r=cO(i);e=typeof e=="function"?e:hn(e||dO),t=typeof t=="function"?t:hn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:hn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:hn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function z0(){}function W0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function tH(e){this._context=e}tH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:W0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:W0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wye(e){return new tH(e)}function nH(e){this._context=e}nH.prototype={areaStart:z0,areaEnd:z0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:W0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _ye(e){return new nH(e)}function rH(e){this._context=e}rH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:W0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jye(e){return new rH(e)}function iH(e){this._context=e}iH.prototype={areaStart:z0,areaEnd:z0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Sye(e){return new iH(e)}function K4(e){return e<0?-1:1}function G4(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),l=(s*i+o*r)/(r+i);return(K4(s)+K4(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function Y4(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lN(e,t,n){var r=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-r)/3;e._context.bezierCurveTo(r+l,i+l*t,s-l,o-l*n,s,o)}function q0(e){this._context=e}q0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lN(this,this._t0,Y4(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lN(this,Y4(this,n=G4(this,e,t)),n);break;default:lN(this,this._t0,n=G4(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function aH(e){this._context=new sH(e)}(aH.prototype=Object.create(q0.prototype)).point=function(e,t){q0.prototype.point.call(this,t,e)};function sH(e){this._context=e}sH.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Nye(e){return new q0(e)}function Pye(e){return new aH(e)}function oH(e){this._context=e}oH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Z4(e),i=Z4(t),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Z4(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Aye(e){return new oH(e)}function qw(e,t){this._context=e,this._t=t}qw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function kye(e){return new qw(e,.5)}function Cye(e){return new qw(e,0)}function Tye(e){return new qw(e,1)}function Qf(e,t){if((o=e.length)>1)for(var n=1,r,i,s=e[t[0]],o,l=s.length;n<o;++n)for(i=s,s=e[t[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _C(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Eye(e,t){return e[t]}function Oye(e){const t=[];return t.key=e,t}function Mye(){var e=hn([]),t=_C,n=Qf,r=Eye;function i(s){var o=Array.from(e.apply(this,arguments),Oye),l,c=o.length,u=-1,h;for(const p of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+r(p,o[l].key,u,s)]).data=p;for(l=0,h=uO(t(o));l<c;++l)o[h[l]].index=l;return n(o,h),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:hn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:hn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?_C:typeof s=="function"?s:hn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Qf,i):n},i}function Rye(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=e[n][i][1]||0;if(o)for(n=0;n<r;++n)e[n][i][1]/=o}Qf(e,t)}}function Iye(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var o=0,l=0;o<i;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}Qf(e,t)}}function Dye(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var l=0,c=0,u=0;l<o;++l){for(var h=e[t[l]],p=h[r][1]||0,g=h[r-1][1]||0,x=(p-g)/2,b=0;b<l;++b){var v=e[t[b]],w=v[r][1]||0,N=v[r-1][1]||0;x+=w-N}c+=p,u+=x*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,Qf(e,t)}}function vg(e){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(e)}var Lye=["type","size","sizeType"];function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jC.apply(this,arguments)}function X4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Q4(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X4(Object(n),!0).forEach(function(r){Fye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fye(e,t,n){return t=$ye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ye(e){var t=Bye(e,"string");return vg(t)=="symbol"?t:t+""}function Bye(e,t){if(vg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zye(e,t){if(e==null)return{};var n=Wye(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Wye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var lH={symbolCircle:dO,symbolCross:cye,symbolDiamond:dye,symbolSquare:fye,symbolStar:gye,symbolTriangle:vye,symbolWye:xye},qye=Math.PI/180,Uye=function(t){var n="symbol".concat(Bw(t));return lH[n]||dO},Vye=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*qye;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Hye=function(t,n){lH["symbol".concat(Bw(t))]=n},Uw=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=zye(t,Lye),u=Q4(Q4({},c),{},{type:r,size:s,sizeType:l}),h=function(){var w=Uye(r),N=bye().type(w).size(Vye(s,l,r));return N()},p=u.className,g=u.cx,x=u.cy,b=Qe(u,!0);return g===+g&&x===+x&&s===+s?Y.createElement("path",jC({},b,{className:wt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(x,")"),d:h()})):null};Uw.registerSymbol=Hye;function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function SC(){return SC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SC.apply(this,arguments)}function J4(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(n),!0).forEach(function(r){yg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uH(r.key),r)}}function Zye(e,t,n){return t&&Yye(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xye(e,t,n){return t=U0(t),Qye(e,cH()?Reflect.construct(t,n||[],U0(e).constructor):t.apply(e,n))}function Qye(e,t){if(t&&(Jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jye(e)}function Jye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!e})()}function U0(e){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(e)}function exe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NC(e,t)}function NC(e,t){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NC(e,t)}function yg(e,t,n){return t=uH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uH(e){var t=txe(e,"string");return Jf(t)=="symbol"?t:t+""}function txe(e,t){if(Jf(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Aa=32,fO=(function(e){function t(){return Gye(this,t),Xye(this,t,arguments)}return exe(t,e),Zye(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Aa/2,o=Aa/6,l=Aa/3,c=r.inactive?i:r.color;if(r.type==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Aa,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Aa,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return Y.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Aa/8,"h").concat(Aa,"v").concat(Aa*3/4,"h").concat(-Aa,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(r.legendIcon)){var u=Kye({},r);return delete u.legendIcon,Y.cloneElement(r.legendIcon,u)}return Y.createElement(Uw,{fill:c,cx:s,cy:s,size:Aa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,h={x:0,y:0,width:Aa,height:Aa},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(x,b){var v=x.formatter||c,w=wt(yg(yg({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",x.inactive));if(x.type==="none")return null;var N=dt(x.value)?null:x.value;ms(!dt(x.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=x.inactive?u:x.color;return Y.createElement("li",SC({className:w,style:p,key:"legend-item-".concat(b)},jc(r.props,x,b)),Y.createElement(vC,{width:o,height:o,viewBox:h,style:g},r.renderIcon(x)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},v?v(N,x,b):N))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(j.PureComponent);yg(fO,"displayName","Legend");yg(fO,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var cN,e3;function nxe(){if(e3)return cN;e3=1;var e=Lw();function t(){this.__data__=new e,this.size=0}return cN=t,cN}var uN,t3;function rxe(){if(t3)return uN;t3=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return uN=e,uN}var dN,n3;function ixe(){if(n3)return dN;n3=1;function e(t){return this.__data__.get(t)}return dN=e,dN}var fN,r3;function axe(){if(r3)return fN;r3=1;function e(t){return this.__data__.has(t)}return fN=e,fN}var hN,i3;function sxe(){if(i3)return hN;i3=1;var e=Lw(),t=rO(),n=iO(),r=200;function i(s,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<r-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(s,o),this.size=l.size,this}return hN=i,hN}var pN,a3;function dH(){if(a3)return pN;a3=1;var e=Lw(),t=nxe(),n=rxe(),r=ixe(),i=axe(),s=sxe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=n,o.prototype.get=r,o.prototype.has=i,o.prototype.set=s,pN=o,pN}var mN,s3;function oxe(){if(s3)return mN;s3=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return mN=t,mN}var gN,o3;function lxe(){if(o3)return gN;o3=1;function e(t){return this.__data__.has(t)}return gN=e,gN}var vN,l3;function fH(){if(l3)return vN;l3=1;var e=iO(),t=oxe(),n=lxe();function r(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,vN=r,vN}var yN,c3;function hH(){if(c3)return yN;c3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return yN=e,yN}var xN,u3;function pH(){if(u3)return xN;u3=1;function e(t,n){return t.has(n)}return xN=e,xN}var bN,d3;function mH(){if(d3)return bN;d3=1;var e=fH(),t=hH(),n=pH(),r=1,i=2;function s(o,l,c,u,h,p){var g=c&r,x=o.length,b=l.length;if(x!=b&&!(g&&b>x))return!1;var v=p.get(o),w=p.get(l);if(v&&w)return v==l&&w==o;var N=-1,S=!0,A=c&i?new e:void 0;for(p.set(o,l),p.set(l,o);++N<x;){var T=o[N],C=l[N];if(u)var E=g?u(C,T,N,l,o,p):u(T,C,N,o,l,p);if(E!==void 0){if(E)continue;S=!1;break}if(A){if(!t(l,function(O,I){if(!n(A,I)&&(T===O||h(T,O,c,u,p)))return A.push(I)})){S=!1;break}}else if(!(T===C||h(T,C,c,u,p))){S=!1;break}}return p.delete(o),p.delete(l),S}return bN=s,bN}var wN,f3;function cxe(){if(f3)return wN;f3=1;var e=vo(),t=e.Uint8Array;return wN=t,wN}var _N,h3;function uxe(){if(h3)return _N;h3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,s){r[++n]=[s,i]}),r}return _N=e,_N}var jN,p3;function hO(){if(p3)return jN;p3=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return jN=e,jN}var SN,m3;function dxe(){if(m3)return SN;m3=1;var e=Pv(),t=cxe(),n=nO(),r=mH(),i=uxe(),s=hO(),o=1,l=2,c="[object Boolean]",u="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",x="[object RegExp]",b="[object Set]",v="[object String]",w="[object Symbol]",N="[object ArrayBuffer]",S="[object DataView]",A=e?e.prototype:void 0,T=A?A.valueOf:void 0;function C(E,O,I,F,W,$,z){switch(I){case S:if(E.byteLength!=O.byteLength||E.byteOffset!=O.byteOffset)return!1;E=E.buffer,O=O.buffer;case N:return!(E.byteLength!=O.byteLength||!$(new t(E),new t(O)));case c:case u:case g:return n(+E,+O);case h:return E.name==O.name&&E.message==O.message;case x:case v:return E==O+"";case p:var V=i;case b:var U=F&o;if(V||(V=s),E.size!=O.size&&!U)return!1;var te=z.get(E);if(te)return te==O;F|=l,z.set(E,O);var Q=r(V(E),V(O),F,W,$,z);return z.delete(E),Q;case w:if(T)return T.call(E)==T.call(O)}return!1}return SN=C,SN}var NN,g3;function gH(){if(g3)return NN;g3=1;function e(t,n){for(var r=-1,i=n.length,s=t.length;++r<i;)t[s+r]=n[r];return t}return NN=e,NN}var PN,v3;function fxe(){if(v3)return PN;v3=1;var e=gH(),t=Li();function n(r,i,s){var o=i(r);return t(r)?o:e(o,s(r))}return PN=n,PN}var AN,y3;function hxe(){if(y3)return AN;y3=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,s=0,o=[];++r<i;){var l=t[r];n(l,r,t)&&(o[s++]=l)}return o}return AN=e,AN}var kN,x3;function pxe(){if(x3)return kN;x3=1;function e(){return[]}return kN=e,kN}var CN,b3;function mxe(){if(b3)return CN;b3=1;var e=hxe(),t=pxe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return r.call(o,l)}))}:t;return CN=s,CN}var TN,w3;function gxe(){if(w3)return TN;w3=1;function e(t,n){for(var r=-1,i=Array(t);++r<t;)i[r]=n(r);return i}return TN=e,TN}var EN,_3;function vxe(){if(_3)return EN;_3=1;var e=fl(),t=hl(),n="[object Arguments]";function r(i){return t(i)&&e(i)==n}return EN=r,EN}var ON,j3;function pO(){if(j3)return ON;j3=1;var e=vxe(),t=hl(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=e((function(){return arguments})())?e:function(o){return t(o)&&r.call(o,"callee")&&!i.call(o,"callee")};return ON=s,ON}var Sm={exports:{}},MN,S3;function yxe(){if(S3)return MN;S3=1;function e(){return!1}return MN=e,MN}Sm.exports;var N3;function vH(){return N3||(N3=1,(function(e,t){var n=vo(),r=yxe(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;e.exports=u})(Sm,Sm.exports)),Sm.exports}var RN,P3;function mO(){if(P3)return RN;P3=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<i}return RN=n,RN}var IN,A3;function gO(){if(A3)return IN;A3=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return IN=t,IN}var DN,k3;function xxe(){if(k3)return DN;k3=1;var e=fl(),t=gO(),n=hl(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",x="[object Set]",b="[object String]",v="[object WeakMap]",w="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",A="[object Float64Array]",T="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",F="[object Uint16Array]",W="[object Uint32Array]",$={};$[S]=$[A]=$[T]=$[C]=$[E]=$[O]=$[I]=$[F]=$[W]=!0,$[r]=$[i]=$[w]=$[s]=$[N]=$[o]=$[l]=$[c]=$[u]=$[h]=$[p]=$[g]=$[x]=$[b]=$[v]=!1;function z(V){return n(V)&&t(V.length)&&!!$[e(V)]}return DN=z,DN}var LN,C3;function yH(){if(C3)return LN;C3=1;function e(t){return function(n){return t(n)}}return LN=e,LN}var Nm={exports:{}};Nm.exports;var T3;function bxe(){return T3||(T3=1,(function(e,t){var n=L9(),r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,o=s&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();e.exports=l})(Nm,Nm.exports)),Nm.exports}var FN,E3;function xH(){if(E3)return FN;E3=1;var e=xxe(),t=yH(),n=bxe(),r=n&&n.isTypedArray,i=r?t(r):e;return FN=i,FN}var $N,O3;function wxe(){if(O3)return $N;O3=1;var e=gxe(),t=pO(),n=Li(),r=vH(),i=mO(),s=xH(),o=Object.prototype,l=o.hasOwnProperty;function c(u,h){var p=n(u),g=!p&&t(u),x=!p&&!g&&r(u),b=!p&&!g&&!x&&s(u),v=p||g||x||b,w=v?e(u.length,String):[],N=w.length;for(var S in u)(h||l.call(u,S))&&!(v&&(S=="length"||x&&(S=="offset"||S=="parent")||b&&(S=="buffer"||S=="byteLength"||S=="byteOffset")||i(S,N)))&&w.push(S);return w}return $N=c,$N}var BN,M3;function _xe(){if(M3)return BN;M3=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||e;return n===i}return BN=t,BN}var zN,R3;function bH(){if(R3)return zN;R3=1;function e(t,n){return function(r){return t(n(r))}}return zN=e,zN}var WN,I3;function jxe(){if(I3)return WN;I3=1;var e=bH(),t=e(Object.keys,Object);return WN=t,WN}var qN,D3;function Sxe(){if(D3)return qN;D3=1;var e=_xe(),t=jxe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))r.call(s,l)&&l!="constructor"&&o.push(l);return o}return qN=i,qN}var UN,L3;function Av(){if(L3)return UN;L3=1;var e=tO(),t=gO();function n(r){return r!=null&&t(r.length)&&!e(r)}return UN=n,UN}var VN,F3;function Vw(){if(F3)return VN;F3=1;var e=wxe(),t=Sxe(),n=Av();function r(i){return n(i)?e(i):t(i)}return VN=r,VN}var HN,$3;function Nxe(){if($3)return HN;$3=1;var e=fxe(),t=mxe(),n=Vw();function r(i){return e(i,n,t)}return HN=r,HN}var KN,B3;function Pxe(){if(B3)return KN;B3=1;var e=Nxe(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,o,l,c,u,h){var p=l&t,g=e(s),x=g.length,b=e(o),v=b.length;if(x!=v&&!p)return!1;for(var w=x;w--;){var N=g[w];if(!(p?N in o:r.call(o,N)))return!1}var S=h.get(s),A=h.get(o);if(S&&A)return S==o&&A==s;var T=!0;h.set(s,o),h.set(o,s);for(var C=p;++w<x;){N=g[w];var E=s[N],O=o[N];if(c)var I=p?c(O,E,N,o,s,h):c(E,O,N,s,o,h);if(!(I===void 0?E===O||u(E,O,l,c,h):I)){T=!1;break}C||(C=N=="constructor")}if(T&&!C){var F=s.constructor,W=o.constructor;F!=W&&"constructor"in s&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof W=="function"&&W instanceof W)&&(T=!1)}return h.delete(s),h.delete(o),T}return KN=i,KN}var GN,z3;function Axe(){if(z3)return GN;z3=1;var e=dd(),t=vo(),n=e(t,"DataView");return GN=n,GN}var YN,W3;function kxe(){if(W3)return YN;W3=1;var e=dd(),t=vo(),n=e(t,"Promise");return YN=n,YN}var ZN,q3;function wH(){if(q3)return ZN;q3=1;var e=dd(),t=vo(),n=e(t,"Set");return ZN=n,ZN}var XN,U3;function Cxe(){if(U3)return XN;U3=1;var e=dd(),t=vo(),n=e(t,"WeakMap");return XN=n,XN}var QN,V3;function Txe(){if(V3)return QN;V3=1;var e=Axe(),t=rO(),n=kxe(),r=wH(),i=Cxe(),s=fl(),o=F9(),l="[object Map]",c="[object Object]",u="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",x=o(e),b=o(t),v=o(n),w=o(r),N=o(i),S=s;return(e&&S(new e(new ArrayBuffer(1)))!=g||t&&S(new t)!=l||n&&S(n.resolve())!=u||r&&S(new r)!=h||i&&S(new i)!=p)&&(S=function(A){var T=s(A),C=T==c?A.constructor:void 0,E=C?o(C):"";if(E)switch(E){case x:return g;case b:return l;case v:return u;case w:return h;case N:return p}return T}),QN=S,QN}var JN,H3;function Exe(){if(H3)return JN;H3=1;var e=dH(),t=mH(),n=dxe(),r=Pxe(),i=Txe(),s=Li(),o=vH(),l=xH(),c=1,u="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,x=g.hasOwnProperty;function b(v,w,N,S,A,T){var C=s(v),E=s(w),O=C?h:i(v),I=E?h:i(w);O=O==u?p:O,I=I==u?p:I;var F=O==p,W=I==p,$=O==I;if($&&o(v)){if(!o(w))return!1;C=!0,F=!1}if($&&!F)return T||(T=new e),C||l(v)?t(v,w,N,S,A,T):n(v,w,O,N,S,A,T);if(!(N&c)){var z=F&&x.call(v,"__wrapped__"),V=W&&x.call(w,"__wrapped__");if(z||V){var U=z?v.value():v,te=V?w.value():w;return T||(T=new e),A(U,te,N,S,T)}}return $?(T||(T=new e),r(v,w,N,S,A,T)):!1}return JN=b,JN}var eP,K3;function vO(){if(K3)return eP;K3=1;var e=Exe(),t=hl();function n(r,i,s,o,l){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,s,o,n,l)}return eP=n,eP}var tP,G3;function Oxe(){if(G3)return tP;G3=1;var e=dH(),t=vO(),n=1,r=2;function i(s,o,l,c){var u=l.length,h=u,p=!c;if(s==null)return!h;for(s=Object(s);u--;){var g=l[u];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<h;){g=l[u];var x=g[0],b=s[x],v=g[1];if(p&&g[2]){if(b===void 0&&!(x in s))return!1}else{var w=new e;if(c)var N=c(b,v,x,s,o,w);if(!(N===void 0?t(v,b,n|r,c,w):N))return!1}}return!0}return tP=i,tP}var nP,Y3;function _H(){if(Y3)return nP;Y3=1;var e=Tc();function t(n){return n===n&&!e(n)}return nP=t,nP}var rP,Z3;function Mxe(){if(Z3)return rP;Z3=1;var e=_H(),t=Vw();function n(r){for(var i=t(r),s=i.length;s--;){var o=i[s],l=r[o];i[s]=[o,l,e(l)]}return i}return rP=n,rP}var iP,X3;function jH(){if(X3)return iP;X3=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return iP=e,iP}var aP,Q3;function Rxe(){if(Q3)return aP;Q3=1;var e=Oxe(),t=Mxe(),n=jH();function r(i){var s=t(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return aP=r,aP}var sP,J3;function Ixe(){if(J3)return sP;J3=1;function e(t,n){return t!=null&&n in Object(t)}return sP=e,sP}var oP,eF;function Dxe(){if(eF)return oP;eF=1;var e=z9(),t=pO(),n=Li(),r=mO(),i=gO(),s=$w();function o(l,c,u){c=e(c,l);for(var h=-1,p=c.length,g=!1;++h<p;){var x=s(c[h]);if(!(g=l!=null&&u(l,x)))break;l=l[x]}return g||++h!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&r(x,p)&&(n(l)||t(l)))}return oP=o,oP}var lP,tF;function Lxe(){if(tF)return lP;tF=1;var e=Ixe(),t=Dxe();function n(r,i){return r!=null&&t(r,i,e)}return lP=n,lP}var cP,nF;function Fxe(){if(nF)return cP;nF=1;var e=vO(),t=W9(),n=Lxe(),r=eO(),i=_H(),s=jH(),o=$w(),l=1,c=2;function u(h,p){return r(h)&&i(p)?s(o(h),p):function(g){var x=t(g,h);return x===void 0&&x===p?n(g,h):e(p,x,l|c)}}return cP=u,cP}var uP,rF;function Kh(){if(rF)return uP;rF=1;function e(t){return t}return uP=e,uP}var dP,iF;function $xe(){if(iF)return dP;iF=1;function e(t){return function(n){return n?.[t]}}return dP=e,dP}var fP,aF;function Bxe(){if(aF)return fP;aF=1;var e=sO();function t(n){return function(r){return e(r,n)}}return fP=t,fP}var hP,sF;function zxe(){if(sF)return hP;sF=1;var e=$xe(),t=Bxe(),n=eO(),r=$w();function i(s){return n(s)?e(r(s)):t(s)}return hP=i,hP}var pP,oF;function yo(){if(oF)return pP;oF=1;var e=Rxe(),t=Fxe(),n=Kh(),r=Li(),i=zxe();function s(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?r(o)?t(o[0],o[1]):e(o):i(o)}return pP=s,pP}var mP,lF;function SH(){if(lF)return mP;lF=1;function e(t,n,r,i){for(var s=t.length,o=r+(i?1:-1);i?o--:++o<s;)if(n(t[o],o,t))return o;return-1}return mP=e,mP}var gP,cF;function Wxe(){if(cF)return gP;cF=1;function e(t){return t!==t}return gP=e,gP}var vP,uF;function qxe(){if(uF)return vP;uF=1;function e(t,n,r){for(var i=r-1,s=t.length;++i<s;)if(t[i]===n)return i;return-1}return vP=e,vP}var yP,dF;function Uxe(){if(dF)return yP;dF=1;var e=SH(),t=Wxe(),n=qxe();function r(i,s,o){return s===s?n(i,s,o):e(i,t,o)}return yP=r,yP}var xP,fF;function Vxe(){if(fF)return xP;fF=1;var e=Uxe();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return xP=t,xP}var bP,hF;function Hxe(){if(hF)return bP;hF=1;function e(t,n,r){for(var i=-1,s=t==null?0:t.length;++i<s;)if(r(n,t[i]))return!0;return!1}return bP=e,bP}var wP,pF;function Kxe(){if(pF)return wP;pF=1;function e(){}return wP=e,wP}var _P,mF;function Gxe(){if(mF)return _P;mF=1;var e=wH(),t=Kxe(),n=hO(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(s){return new e(s)}:t;return _P=i,_P}var jP,gF;function Yxe(){if(gF)return jP;gF=1;var e=fH(),t=Vxe(),n=Hxe(),r=pH(),i=Gxe(),s=hO(),o=200;function l(c,u,h){var p=-1,g=t,x=c.length,b=!0,v=[],w=v;if(h)b=!1,g=n;else if(x>=o){var N=u?null:i(c);if(N)return s(N);b=!1,g=r,w=new e}else w=u?[]:v;e:for(;++p<x;){var S=c[p],A=u?u(S):S;if(S=h||S!==0?S:0,b&&A===A){for(var T=w.length;T--;)if(w[T]===A)continue e;u&&w.push(A),v.push(S)}else g(w,A,h)||(w!==v&&w.push(A),v.push(S))}return v}return jP=l,jP}var SP,vF;function Zxe(){if(vF)return SP;vF=1;var e=yo(),t=Yxe();function n(r,i){return r&&r.length?t(r,e(i,2)):[]}return SP=n,SP}var Xxe=Zxe();const yF=Ut(Xxe);function NH(e,t,n){return t===!0?yF(e,n):dt(t)?yF(e,t):e}function eh(e){"@babel/helpers - typeof";return eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(e)}var Qxe=["ref"];function xF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xF(Object(n),!0).forEach(function(r){Hw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AH(r.key),r)}}function e0e(e,t,n){return t&&bF(e.prototype,t),n&&bF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function t0e(e,t,n){return t=V0(t),n0e(e,PH()?Reflect.construct(t,n||[],V0(e).constructor):t.apply(e,n))}function n0e(e,t){if(t&&(eh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r0e(e)}function r0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PH=function(){return!!e})()}function V0(e){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V0(e)}function i0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PC(e,t)}function PC(e,t){return PC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PC(e,t)}function Hw(e,t,n){return t=AH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AH(e){var t=a0e(e,"string");return eh(t)=="symbol"?t:t+""}function a0e(e,t){if(eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function s0e(e,t){if(e==null)return{};var n=o0e(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function l0e(e){return e.value}function c0e(e,t){if(Y.isValidElement(e))return Y.cloneElement(e,t);if(typeof e=="function")return Y.createElement(e,t);t.ref;var n=s0e(t,Qxe);return Y.createElement(fO,n)}var wF=1,tl=(function(e){function t(){var n;Jxe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=t0e(this,t,[].concat(i)),Hw(n,"lastBoundingBox",{width:-1,height:-1}),n}return i0e(t,e),e0e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>wF||Math.abs(i.height-this.lastBoundingBox.height)>wF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Bo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,h=i.chartHeight,p,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var x=this.getBBoxSnapshot();p={left:((u||0)-x.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();g={top:((h||0)-b.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Bo(Bo({},p),g)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,h=i.payload,p=Bo(Bo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(x){r.wrapperNode=x}},c0e(s,Bo(Bo({},this.props),{},{payload:NH(h,u,l0e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Bo(Bo({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&Oe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])})(j.PureComponent);Hw(tl,"displayName","Legend");Hw(tl,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NP,_F;function u0e(){if(_F)return NP;_F=1;var e=Pv(),t=pO(),n=Li(),r=e?e.isConcatSpreadable:void 0;function i(s){return n(s)||t(s)||!!(r&&s&&s[r])}return NP=i,NP}var PP,jF;function kH(){if(jF)return PP;jF=1;var e=gH(),t=u0e();function n(r,i,s,o,l){var c=-1,u=r.length;for(s||(s=t),l||(l=[]);++c<u;){var h=r[c];i>0&&s(h)?i>1?n(h,i-1,s,o,l):e(l,h):o||(l[l.length]=h)}return l}return PP=n,PP}var AP,SF;function d0e(){if(SF)return AP;SF=1;function e(t){return function(n,r,i){for(var s=-1,o=Object(n),l=i(n),c=l.length;c--;){var u=l[t?c:++s];if(r(o[u],u,o)===!1)break}return n}}return AP=e,AP}var kP,NF;function f0e(){if(NF)return kP;NF=1;var e=d0e(),t=e();return kP=t,kP}var CP,PF;function CH(){if(PF)return CP;PF=1;var e=f0e(),t=Vw();function n(r,i){return r&&e(r,i,t)}return CP=n,CP}var TP,AF;function h0e(){if(AF)return TP;AF=1;var e=Av();function t(n,r){return function(i,s){if(i==null)return i;if(!e(i))return n(i,s);for(var o=i.length,l=r?o:-1,c=Object(i);(r?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return TP=t,TP}var EP,kF;function yO(){if(kF)return EP;kF=1;var e=CH(),t=h0e(),n=t(e);return EP=n,EP}var OP,CF;function TH(){if(CF)return OP;CF=1;var e=yO(),t=Av();function n(r,i){var s=-1,o=t(r)?Array(r.length):[];return e(r,function(l,c,u){o[++s]=i(l,c,u)}),o}return OP=n,OP}var MP,TF;function p0e(){if(TF)return MP;TF=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return MP=e,MP}var RP,EF;function m0e(){if(EF)return RP;EF=1;var e=Uh();function t(n,r){if(n!==r){var i=n!==void 0,s=n===null,o=n===n,l=e(n),c=r!==void 0,u=r===null,h=r===r,p=e(r);if(!u&&!p&&!l&&n>r||l&&c&&h&&!u&&!p||s&&c&&h||!i&&h||!o)return 1;if(!s&&!l&&!p&&n<r||p&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!h)return-1}return 0}return RP=t,RP}var IP,OF;function g0e(){if(OF)return IP;OF=1;var e=m0e();function t(n,r,i){for(var s=-1,o=n.criteria,l=r.criteria,c=o.length,u=i.length;++s<c;){var h=e(o[s],l[s]);if(h){if(s>=u)return h;var p=i[s];return h*(p=="desc"?-1:1)}}return n.index-r.index}return IP=t,IP}var DP,MF;function v0e(){if(MF)return DP;MF=1;var e=aO(),t=sO(),n=yo(),r=TH(),i=p0e(),s=yH(),o=g0e(),l=Kh(),c=Li();function u(h,p,g){p.length?p=e(p,function(v){return c(v)?function(w){return t(w,v.length===1?v[0]:v)}:v}):p=[l];var x=-1;p=e(p,s(n));var b=r(h,function(v,w,N){var S=e(p,function(A){return A(v)});return{criteria:S,index:++x,value:v}});return i(b,function(v,w){return o(v,w,g)})}return DP=u,DP}var LP,RF;function y0e(){if(RF)return LP;RF=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return LP=e,LP}var FP,IF;function x0e(){if(IF)return FP;IF=1;var e=y0e(),t=Math.max;function n(r,i,s){return i=t(i===void 0?r.length-1:i,0),function(){for(var o=arguments,l=-1,c=t(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=o[l];return h[i]=s(u),e(r,this,h)}}return FP=n,FP}var $P,DF;function b0e(){if(DF)return $P;DF=1;function e(t){return function(){return t}}return $P=e,$P}var BP,LF;function EH(){if(LF)return BP;LF=1;var e=dd(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return BP=t,BP}var zP,FF;function w0e(){if(FF)return zP;FF=1;var e=b0e(),t=EH(),n=Kh(),r=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:n;return zP=r,zP}var WP,$F;function _0e(){if($F)return WP;$F=1;var e=800,t=16,n=Date.now;function r(i){var s=0,o=0;return function(){var l=n(),c=t-(l-o);if(o=l,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return WP=r,WP}var qP,BF;function j0e(){if(BF)return qP;BF=1;var e=w0e(),t=_0e(),n=t(e);return qP=n,qP}var UP,zF;function S0e(){if(zF)return UP;zF=1;var e=Kh(),t=x0e(),n=j0e();function r(i,s){return n(t(i,s,e),i+"")}return UP=r,UP}var VP,WF;function Kw(){if(WF)return VP;WF=1;var e=nO(),t=Av(),n=mO(),r=Tc();function i(s,o,l){if(!r(l))return!1;var c=typeof o;return(c=="number"?t(l)&&n(o,l.length):c=="string"&&o in l)?e(l[o],s):!1}return VP=i,VP}var HP,qF;function N0e(){if(qF)return HP;qF=1;var e=kH(),t=v0e(),n=S0e(),r=Kw(),i=n(function(s,o){if(s==null)return[];var l=o.length;return l>1&&r(s,o[0],o[1])?o=[]:l>2&&r(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return HP=i,HP}var P0e=N0e();const xO=Ut(P0e);function xg(e){"@babel/helpers - typeof";return xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xg(e)}function AC(){return AC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AC.apply(this,arguments)}function A0e(e,t){return E0e(e)||T0e(e,t)||C0e(e,t)||k0e()}function k0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C0e(e,t){if(e){if(typeof e=="string")return UF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UF(e,t)}}function UF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T0e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function E0e(e){if(Array.isArray(e))return e}function VF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VF(Object(n),!0).forEach(function(r){O0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function O0e(e,t,n){return t=M0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M0e(e){var t=R0e(e,"string");return xg(t)=="symbol"?t:t+""}function R0e(e,t){if(xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I0e(e){return Array.isArray(e)&&vr(e[0])&&vr(e[1])?e.join(" ~ "):e}var D0e=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,h=t.payload,p=t.formatter,g=t.itemSorter,x=t.wrapperClassName,b=t.labelClassName,v=t.label,w=t.labelFormatter,N=t.accessibilityLayer,S=N===void 0?!1:N,A=function(){if(h&&h.length){var z={padding:0,margin:0},V=(g?xO(h,g):h).map(function(U,te){if(U.type==="none")return null;var Q=KP({display:"block",paddingTop:4,paddingBottom:4,color:U.color||"#000"},l),J=U.formatter||p||I0e,G=U.value,ee=U.name,X=G,q=ee;if(J&&X!=null&&q!=null){var H=J(G,ee,U,te,h);if(Array.isArray(H)){var ne=A0e(H,2);X=ne[0],q=ne[1]}else X=H}return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:Q},vr(q)?Y.createElement("span",{className:"recharts-tooltip-item-name"},q):null,vr(q)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},X),Y.createElement("span",{className:"recharts-tooltip-item-unit"},U.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:z},V)}return null},T=KP({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),C=KP({margin:0},u),E=!ut(v),O=E?v:"",I=wt("recharts-default-tooltip",x),F=wt("recharts-tooltip-label",b);E&&w&&h!==void 0&&h!==null&&(O=w(v,h));var W=S?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",AC({className:I,style:T},W),Y.createElement("p",{className:F,style:C},Y.isValidElement(O)?O:"".concat(O)),A())};function bg(e){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bg(e)}function Sx(e,t,n){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=F0e(e,"string");return bg(t)=="symbol"?t:t+""}function F0e(e,t){if(bg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lm="recharts-tooltip-wrapper",$0e={visibility:"hidden"};function B0e(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return wt(lm,Sx(Sx(Sx(Sx({},"".concat(lm,"-right"),Oe(n)&&t&&Oe(t.x)&&n>=t.x),"".concat(lm,"-left"),Oe(n)&&t&&Oe(t.x)&&n<t.x),"".concat(lm,"-bottom"),Oe(r)&&t&&Oe(t.y)&&r>=t.y),"".concat(lm,"-top"),Oe(r)&&t&&Oe(t.y)&&r<t.y))}function HF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&Oe(s[r]))return s[r];var h=n[r]-l-i,p=n[r]+i;if(t[r])return o[r]?h:p;if(o[r]){var g=h,x=c[r];return g<x?Math.max(p,c[r]):Math.max(h,c[r])}var b=p+l,v=c[r]+u;return b>v?Math.max(h,c[r]):Math.max(p,c[r])}function z0e(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function W0e(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,h,p;return o.height>0&&o.width>0&&n?(h=HF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=HF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=z0e({translateX:h,translateY:p,useTranslate3d:l})):u=$0e,{cssProperties:u,cssClasses:B0e({translateX:h,translateY:p,coordinate:n})}}function th(e){"@babel/helpers - typeof";return th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},th(e)}function KF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function GF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KF(Object(n),!0).forEach(function(r){CC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function q0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MH(r.key),r)}}function V0e(e,t,n){return t&&U0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function H0e(e,t,n){return t=H0(t),K0e(e,OH()?Reflect.construct(t,n||[],H0(e).constructor):t.apply(e,n))}function K0e(e,t){if(t&&(th(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G0e(e)}function G0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!e})()}function H0(e){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H0(e)}function Y0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kC(e,t)}function kC(e,t){return kC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kC(e,t)}function CC(e,t,n){return t=MH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=Z0e(e,"string");return th(t)=="symbol"?t:t+""}function Z0e(e,t){if(th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var YF=1,X0e=(function(e){function t(){var n;q0e(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=H0e(this,t,[].concat(i)),CC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CC(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&u!==void 0?u:0}})}}),n}return Y0e(t,e),V0e(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>YF||Math.abs(r.height-this.state.lastBoundingBox.height)>YF)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,h=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,x=i.offset,b=i.position,v=i.reverseDirection,w=i.useTranslate3d,N=i.viewBox,S=i.wrapperStyle,A=W0e({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:x,position:b,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:N}),T=A.cssClasses,C=A.cssProperties,E=GF(GF({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},S);return Y.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(I){r.wrapperNode=I}},u)}}])})(j.PureComponent),Q0e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pl={isSsr:Q0e()};function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function ZF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZF(Object(n),!0).forEach(function(r){bO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ebe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IH(r.key),r)}}function tbe(e,t,n){return t&&ebe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nbe(e,t,n){return t=K0(t),rbe(e,RH()?Reflect.construct(t,n||[],K0(e).constructor):t.apply(e,n))}function rbe(e,t){if(t&&(nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ibe(e)}function ibe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!e})()}function K0(e){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},K0(e)}function abe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TC(e,t)}function TC(e,t){return TC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TC(e,t)}function bO(e,t,n){return t=IH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=sbe(e,"string");return nh(t)=="symbol"?t:t+""}function sbe(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function obe(e){return e.dataKey}function lbe(e,t){return Y.isValidElement(e)?Y.cloneElement(e,t):typeof e=="function"?Y.createElement(e,t):Y.createElement(D0e,t)}var mr=(function(e){function t(){return J0e(this,t),nbe(this,t,arguments)}return abe(t,e),tbe(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,x=i.offset,b=i.payload,v=i.payloadUniqBy,w=i.position,N=i.reverseDirection,S=i.useTranslate3d,A=i.viewBox,T=i.wrapperStyle,C=b??[];p&&C.length&&(C=NH(b.filter(function(O){return O.value!=null&&(O.hide!==!0||r.props.includeHidden)}),v,obe));var E=C.length>0;return Y.createElement(X0e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:h,hasPayload:E,offset:x,position:w,reverseDirection:N,useTranslate3d:S,viewBox:A,wrapperStyle:T},lbe(u,XF(XF({},this.props),{},{payload:C})))}}])})(j.PureComponent);bO(mr,"displayName","Tooltip");bO(mr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var GP,QF;function cbe(){if(QF)return GP;QF=1;var e=vo(),t=function(){return e.Date.now()};return GP=t,GP}var YP,JF;function ube(){if(JF)return YP;JF=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return YP=t,YP}var ZP,e$;function dbe(){if(e$)return ZP;e$=1;var e=ube(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return ZP=n,ZP}var XP,t$;function DH(){if(t$)return XP;t$=1;var e=dbe(),t=Tc(),n=Uh(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var h=typeof u.valueOf=="function"?u.valueOf():u;u=t(h)?h+"":h}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=s.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):i.test(u)?r:+u}return XP=c,XP}var QP,n$;function fbe(){if(n$)return QP;n$=1;var e=Tc(),t=cbe(),n=DH(),r="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var h,p,g,x,b,v,w=0,N=!1,S=!1,A=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,e(u)&&(N=!!u.leading,S="maxWait"in u,g=S?i(n(u.maxWait)||0,c):g,A="trailing"in u?!!u.trailing:A);function T(V){var U=h,te=p;return h=p=void 0,w=V,x=l.apply(te,U),x}function C(V){return w=V,b=setTimeout(I,c),N?T(V):x}function E(V){var U=V-v,te=V-w,Q=c-U;return S?s(Q,g-te):Q}function O(V){var U=V-v,te=V-w;return v===void 0||U>=c||U<0||S&&te>=g}function I(){var V=t();if(O(V))return F(V);b=setTimeout(I,E(V))}function F(V){return b=void 0,A&&h?T(V):(h=p=void 0,x)}function W(){b!==void 0&&clearTimeout(b),w=0,h=v=p=b=void 0}function $(){return b===void 0?x:F(t())}function z(){var V=t(),U=O(V);if(h=arguments,p=this,v=V,U){if(b===void 0)return C(v);if(S)return clearTimeout(b),b=setTimeout(I,c),T(v)}return b===void 0&&(b=setTimeout(I,c)),x}return z.cancel=W,z.flush=$,z}return QP=o,QP}var JP,r$;function hbe(){if(r$)return JP;r$=1;var e=fbe(),t=Tc(),n="Expected a function";function r(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:l,maxWait:s,trailing:c})}return JP=r,JP}var pbe=hbe();const LH=Ut(pbe);function wg(e){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wg(e)}function i$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i$(Object(n),!0).forEach(function(r){mbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mbe(e,t,n){return t=gbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gbe(e){var t=vbe(e,"string");return wg(t)=="symbol"?t:t+""}function vbe(e,t){if(wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ybe(e,t){return _be(e)||wbe(e,t)||bbe(e,t)||xbe()}function xbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bbe(e,t){if(e){if(typeof e=="string")return a$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a$(e,t)}}function a$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _be(e){if(Array.isArray(e))return e}var Ks=j.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,h=u===void 0?0:u,p=e.minHeight,g=e.maxHeight,x=e.children,b=e.debounce,v=b===void 0?0:b,w=e.id,N=e.className,S=e.onResize,A=e.style,T=A===void 0?{}:A,C=j.useRef(null),E=j.useRef();E.current=S,j.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var O=j.useState({containerWidth:i.width,containerHeight:i.height}),I=ybe(O,2),F=I[0],W=I[1],$=j.useCallback(function(V,U){W(function(te){var Q=Math.round(V),J=Math.round(U);return te.containerWidth===Q&&te.containerHeight===J?te:{containerWidth:Q,containerHeight:J}})},[]);j.useEffect(function(){var V=function(ee){var X,q=ee[0].contentRect,H=q.width,ne=q.height;$(H,ne),(X=E.current)===null||X===void 0||X.call(E,H,ne)};v>0&&(V=LH(V,v,{trailing:!0,leading:!1}));var U=new ResizeObserver(V),te=C.current.getBoundingClientRect(),Q=te.width,J=te.height;return $(Q,J),U.observe(C.current),function(){U.disconnect()}},[$,v]);var z=j.useMemo(function(){var V=F.containerWidth,U=F.containerHeight;if(V<0||U<0)return null;ms(Tu(o)||Tu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ms(!n||n>0,"The aspect(%s) must be greater than zero.",n);var te=Tu(o)?V:o,Q=Tu(c)?U:c;n&&n>0&&(te?Q=te/n:Q&&(te=Q*n),g&&Q>g&&(Q=g)),ms(te>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,Q,o,c,h,p,n);var J=!Array.isArray(x)&&el(x.type).endsWith("Chart");return Y.Children.map(x,function(G){return Y.isValidElement(G)?j.cloneElement(G,Nx({width:te,height:Q},J?{style:Nx({height:"100%",width:"100%",maxHeight:Q,maxWidth:te},G.props.style)}:{})):G})},[n,x,c,g,p,h,F,o]);return Y.createElement("div",{id:w?"".concat(w):void 0,className:wt("recharts-responsive-container",N),style:Nx(Nx({},T),{},{width:o,height:c,minWidth:h,minHeight:p,maxHeight:g}),ref:C},z)}),Fu=function(t){return null};Fu.displayName="Cell";function _g(e){"@babel/helpers - typeof";return _g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(e)}function s$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s$(Object(n),!0).forEach(function(r){jbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jbe(e,t,n){return t=Sbe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=Nbe(e,"string");return _g(t)=="symbol"?t:t+""}function Nbe(e,t){if(_g(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cf={widthCache:{},cacheCount:0},Pbe=2e3,Abe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},o$="recharts_measurement_span";function kbe(e){var t=EC({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var Dm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pl.isSsr)return{width:0,height:0};var r=kbe(n),i=JSON.stringify({text:t,copyStyle:r});if(cf.widthCache[i])return cf.widthCache[i];try{var s=document.getElementById(o$);s||(s=document.createElement("span"),s.setAttribute("id",o$),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=EC(EC({},Abe),r);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return cf.widthCache[i]=c,++cf.cacheCount>Pbe&&(cf.cacheCount=0,cf.widthCache={}),c}catch{return{width:0,height:0}}},Cbe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function jg(e){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jg(e)}function G0(e,t){return Mbe(e)||Obe(e,t)||Ebe(e,t)||Tbe()}function Tbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(e,t){if(e){if(typeof e=="string")return l$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l$(e,t)}}function l$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Obe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Mbe(e){if(Array.isArray(e))return e}function Rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dbe(r.key),r)}}function Ibe(e,t,n){return t&&c$(e.prototype,t),n&&c$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dbe(e){var t=Lbe(e,"string");return jg(t)=="symbol"?t:t+""}function Lbe(e,t){if(jg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var u$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,d$=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Fbe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$be=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bbe=Object.keys(FH),Af="NaN";function zbe(e,t){return e*FH[t]}var Px=(function(){function e(t,n){Rbe(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Fbe.test(n)&&(this.num=NaN,this.unit=""),Bbe.includes(n)&&(this.num=zbe(t,n),this.unit="px")}return Ibe(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$be.exec(n))!==null&&r!==void 0?r:[],s=G0(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])})();function $H(e){if(e.includes(Af))return Af;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=u$.exec(t))!==null&&n!==void 0?n:[],i=G0(r,4),s=i[1],o=i[2],l=i[3],c=Px.parse(s??""),u=Px.parse(l??""),h=o==="*"?c.multiply(u):c.divide(u);if(h.isNaN())return Af;t=t.replace(u$,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=d$.exec(t))!==null&&p!==void 0?p:[],x=G0(g,4),b=x[1],v=x[2],w=x[3],N=Px.parse(b??""),S=Px.parse(w??""),A=v==="+"?N.add(S):N.subtract(S);if(A.isNaN())return Af;t=t.replace(d$,A.toString())}return t}var f$=/\(([^()]*)\)/;function Wbe(e){for(var t=e;t.includes("(");){var n=f$.exec(t),r=G0(n,2),i=r[1];t=t.replace(f$,$H(i))}return t}function qbe(e){var t=e.replace(/\s+/g,"");return t=Wbe(t),t=$H(t),t}function Ube(e){try{return qbe(e)}catch{return Af}}function eA(e){var t=Ube(e.slice(5,-1));return t===Af?"":t}var Vbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Hbe=["dx","dy","angle","className","breakAll"];function OC(){return OC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},OC.apply(this,arguments)}function h$(e,t){if(e==null)return{};var n=Kbe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Kbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function p$(e,t){return Xbe(e)||Zbe(e,t)||Ybe(e,t)||Gbe()}function Gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ybe(e,t){if(e){if(typeof e=="string")return m$(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m$(e,t)}}function m$(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Xbe(e){if(Array.isArray(e))return e}var BH=/[ \f\n\r\t\v\u2028\u2029]+/,zH=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var s=[];ut(n)||(r?s=n.toString().split(""):s=n.toString().split(BH));var o=s.map(function(c){return{word:c,width:Dm(c,i).width}}),l=r?0:Dm("",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Qbe=function(t,n,r,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,h=Oe(o),p=l,g=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(Q,J){var G=J.word,ee=J.width,X=Q[Q.length-1];if(X&&(i==null||s||X.width+ee+r<Number(i)))X.words.push(G),X.width+=ee+r;else{var q={words:[G],width:ee};Q.push(q)}return Q},[])},x=g(n),b=function(te){return te.reduce(function(Q,J){return Q.width>J.width?Q:J})};if(!h)return x;for(var v="",w=function(te){var Q=p.slice(0,te),J=zH({breakAll:u,style:c,children:Q+v}).wordsWithComputedWidth,G=g(J),ee=G.length>o||b(G).width>Number(i);return[ee,G]},N=0,S=p.length-1,A=0,T;N<=S&&A<=p.length-1;){var C=Math.floor((N+S)/2),E=C-1,O=w(E),I=p$(O,2),F=I[0],W=I[1],$=w(C),z=p$($,1),V=z[0];if(!F&&!V&&(N=C+1),F&&V&&(S=C-1),!F&&V){T=W;break}A++}return T||x},g$=function(t){var n=ut(t)?[]:t.toString().split(BH);return[{words:n}]},Jbe=function(t){var n=t.width,r=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((n||r)&&!pl.isSsr){var c,u,h=zH({breakAll:o,children:i,style:s});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;c=p,u=g}else return g$(i);return Qbe({breakAll:o,children:i,maxLines:l,style:s},c,u,n,r)}return g$(i)},v$="#808080",Qu=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,h=t.scaleToFit,p=h===void 0?!1:h,g=t.textAnchor,x=g===void 0?"start":g,b=t.verticalAnchor,v=b===void 0?"end":b,w=t.fill,N=w===void 0?v$:w,S=h$(t,Vbe),A=j.useMemo(function(){return Jbe({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:p,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,p,S.style,S.width]),T=S.dx,C=S.dy,E=S.angle,O=S.className,I=S.breakAll,F=h$(S,Hbe);if(!vr(r)||!vr(s))return null;var W=r+(Oe(T)?T:0),$=s+(Oe(C)?C:0),z;switch(v){case"start":z=eA("calc(".concat(u,")"));break;case"middle":z=eA("calc(".concat((A.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:z=eA("calc(".concat(A.length-1," * -").concat(l,")"));break}var V=[];if(p){var U=A[0].width,te=S.width;V.push("scale(".concat((Oe(te)?te/U:1)/U,")"))}return E&&V.push("rotate(".concat(E,", ").concat(W,", ").concat($,")")),V.length&&(F.transform=V.join(" ")),Y.createElement("text",OC({},Qe(F,!0),{x:W,y:$,className:wt("recharts-text",O),textAnchor:x,fill:N.includes("url")?v$:N}),A.map(function(Q,J){var G=Q.words.join(I?"":" ");return Y.createElement("tspan",{x:W,dy:J===0?z:l,key:"".concat(G,"-").concat(J)},G)}))};function pc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ewe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wO(e){let t,n,r;e.length!==2?(t=pc,n=(l,c)=>pc(e(l),c),r=(l,c)=>e(l)-c):(t=e===pc||e===ewe?e:twe,n=e,r=e);function i(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const p=u+h>>>1;n(l[p],c)<0?u=p+1:h=p}while(u<h)}return u}function s(l,c,u=0,h=l.length){if(u<h){if(t(c,c)!==0)return h;do{const p=u+h>>>1;n(l[p],c)<=0?u=p+1:h=p}while(u<h)}return u}function o(l,c,u=0,h=l.length){const p=i(l,c,u,h-1);return p>u&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:o,right:s}}function twe(){return 0}function WH(e){return e===null?NaN:+e}function*nwe(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const rwe=wO(pc),kv=rwe.right;wO(WH).center;class y$ extends Map{constructor(t,n=swe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(x$(this,t))}has(t){return super.has(x$(this,t))}set(t,n){return super.set(iwe(this,t),n)}delete(t){return super.delete(awe(this,t))}}function x$({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function iwe({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function awe({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function swe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function owe(e=pc){if(e===pc)return qH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function qH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lwe=Math.sqrt(50),cwe=Math.sqrt(10),uwe=Math.sqrt(2);function Y0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=lwe?10:s>=cwe?5:s>=uwe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=n&&n<2?Y0(e,t,n*2):[l,c,u]}function MC(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?Y0(t,e,n):Y0(e,t,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function RC(e,t,n){return t=+t,e=+e,n=+n,Y0(e,t,n)[2]}function IC(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?RC(t,e,n):RC(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function b$(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function w$(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function UH(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?qH:owe(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(u-c/2<0?-1:1),x=Math.max(n,Math.floor(t-u*p/c+g)),b=Math.min(r,Math.floor(t+(c-u)*p/c+g));UH(e,t,x,b,i)}const s=e[t];let o=n,l=r;for(cm(e,n,t),i(e[r],s)>0&&cm(e,n,r);o<l;){for(cm(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[n],s)===0?cm(e,n,l):(++l,cm(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function cm(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function dwe(e,t,n){if(e=Float64Array.from(nwe(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return w$(e);if(t>=1)return b$(e);var r,i=(r-1)*t,s=Math.floor(i),o=b$(UH(e,s).subarray(0,s+1)),l=w$(e.subarray(s+1));return o+(l-o)*(i-s)}}function fwe(e,t,n=WH){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),o=+n(e[s],s,e),l=+n(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function hwe(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function za(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ml(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const DC=Symbol("implicit");function _O(){var e=new y$,t=[],n=[],r=DC;function i(s){let o=e.get(s);if(o===void 0){if(r!==DC)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new y$;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return _O(t,n).unknown(r)},za.apply(i,arguments),i}function Sg(){var e=_O().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,l=!1,c=0,u=0,h=.5;delete e.unknown;function p(){var g=t().length,x=i<r,b=x?i:r,v=x?r:i;s=(v-b)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),b+=(v-b-s*(g-c))*h,o=s*(1-c),l&&(b=Math.round(b),o=Math.round(o));var w=hwe(g).map(function(N){return b+s*N});return n(x?w.reverse():w)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},e.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},e.copy=function(){return Sg(t(),[r,i]).round(l).paddingInner(c).paddingOuter(u).align(h)},za.apply(p(),arguments)}function VH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return VH(t())},e}function Lm(){return VH(Sg.apply(null,arguments).paddingInner(1))}function jO(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function HH(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Cv(){}var Ng=.7,Z0=1/Ng,Df="\\s*([+-]?\\d+)\\s*",Pg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",so="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pwe=/^#([0-9a-f]{3,8})$/,mwe=new RegExp(`^rgb\\(${Df},${Df},${Df}\\)$`),gwe=new RegExp(`^rgb\\(${so},${so},${so}\\)$`),vwe=new RegExp(`^rgba\\(${Df},${Df},${Df},${Pg}\\)$`),ywe=new RegExp(`^rgba\\(${so},${so},${so},${Pg}\\)$`),xwe=new RegExp(`^hsl\\(${Pg},${so},${so}\\)$`),bwe=new RegExp(`^hsla\\(${Pg},${so},${so},${Pg}\\)$`),_$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jO(Cv,Ag,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:j$,formatHex:j$,formatHex8:wwe,formatHsl:_we,formatRgb:S$,toString:S$});function j$(){return this.rgb().formatHex()}function wwe(){return this.rgb().formatHex8()}function _we(){return KH(this).formatHsl()}function S$(){return this.rgb().formatRgb()}function Ag(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pwe.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?N$(t):n===3?new Oi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ax(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ax(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mwe.exec(e))?new Oi(t[1],t[2],t[3],1):(t=gwe.exec(e))?new Oi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vwe.exec(e))?Ax(t[1],t[2],t[3],t[4]):(t=ywe.exec(e))?Ax(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=xwe.exec(e))?k$(t[1],t[2]/100,t[3]/100,1):(t=bwe.exec(e))?k$(t[1],t[2]/100,t[3]/100,t[4]):_$.hasOwnProperty(e)?N$(_$[e]):e==="transparent"?new Oi(NaN,NaN,NaN,0):null}function N$(e){return new Oi(e>>16&255,e>>8&255,e&255,1)}function Ax(e,t,n,r){return r<=0&&(e=t=n=NaN),new Oi(e,t,n,r)}function jwe(e){return e instanceof Cv||(e=Ag(e)),e?(e=e.rgb(),new Oi(e.r,e.g,e.b,e.opacity)):new Oi}function LC(e,t,n,r){return arguments.length===1?jwe(e):new Oi(e,t,n,r??1)}function Oi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}jO(Oi,LC,HH(Cv,{brighter(e){return e=e==null?Z0:Math.pow(Z0,e),new Oi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ng:Math.pow(Ng,e),new Oi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Oi($u(this.r),$u(this.g),$u(this.b),X0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:P$,formatHex:P$,formatHex8:Swe,formatRgb:A$,toString:A$}));function P$(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}`}function Swe(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}${Eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function A$(){const e=X0(this.opacity);return`${e===1?"rgb(":"rgba("}${$u(this.r)}, ${$u(this.g)}, ${$u(this.b)}${e===1?")":`, ${e})`}`}function X0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $u(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eu(e){return e=$u(e),(e<16?"0":"")+e.toString(16)}function k$(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ds(e,t,n,r)}function KH(e){if(e instanceof ds)return new ds(e.h,e.s,e.l,e.opacity);if(e instanceof Cv||(e=Ag(e)),!e)return new ds;if(e instanceof ds)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(n-r)/l+(n<r)*6:n===s?o=(r-t)/l+2:o=(t-n)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new ds(o,l,c,e.opacity)}function Nwe(e,t,n,r){return arguments.length===1?KH(e):new ds(e,t,n,r??1)}function ds(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}jO(ds,Nwe,HH(Cv,{brighter(e){return e=e==null?Z0:Math.pow(Z0,e),new ds(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ng:Math.pow(Ng,e),new ds(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Oi(tA(e>=240?e-240:e+120,i,r),tA(e,i,r),tA(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ds(C$(this.h),kx(this.s),kx(this.l),X0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=X0(this.opacity);return`${e===1?"hsl(":"hsla("}${C$(this.h)}, ${kx(this.s)*100}%, ${kx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function C$(e){return e=(e||0)%360,e<0?e+360:e}function kx(e){return Math.max(0,Math.min(1,e||0))}function tA(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const SO=e=>()=>e;function Pwe(e,t){return function(n){return e+n*t}}function Awe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function kwe(e){return(e=+e)==1?GH:function(t,n){return n-t?Awe(t,n,e):SO(isNaN(t)?n:t)}}function GH(e,t){var n=t-e;return n?Pwe(e,n):SO(isNaN(e)?t:e)}const T$=(function e(t){var n=kwe(t);function r(i,s){var o=n((i=LC(i)).r,(s=LC(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),u=GH(i.opacity,s.opacity);return function(h){return i.r=o(h),i.g=l(h),i.b=c(h),i.opacity=u(h),i+""}}return r.gamma=e,r})(1);function Cwe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Twe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ewe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Gh(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function Owe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Q0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mwe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Gh(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var FC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nA=new RegExp(FC.source,"g");function Rwe(e){return function(){return e}}function Iwe(e){return function(t){return e(t)+""}}function Dwe(e,t){var n=FC.lastIndex=nA.lastIndex=0,r,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(r=FC.exec(e))&&(i=nA.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Q0(r,i)})),n=nA.lastIndex;return n<t.length&&(s=t.slice(n),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?Iwe(c[0].x):Rwe(t):(t=c.length,function(u){for(var h=0,p;h<t;++h)l[(p=c[h]).i]=p.x(u);return l.join("")})}function Gh(e,t){var n=typeof t,r;return t==null||n==="boolean"?SO(t):(n==="number"?Q0:n==="string"?(r=Ag(t))?(t=r,T$):Dwe:t instanceof Ag?T$:t instanceof Date?Owe:Twe(t)?Cwe:Array.isArray(t)?Ewe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mwe:Q0)(e,t)}function NO(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Lwe(e,t){t===void 0&&(t=e,e=Gh);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(o){var l=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[l](o-l)}}function Fwe(e){return function(){return e}}function J0(e){return+e}var E$=[0,1];function fi(e){return e}function $C(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Fwe(isNaN(t)?NaN:.5)}function $we(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Bwe(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=$C(i,r),s=n(o,s)):(r=$C(r,i),s=n(s,o)),function(l){return s(r(l))}}function zwe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=$C(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(l){var c=kv(e,l,1,r)-1;return s[c](i[c](l))}}function Tv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gw(){var e=E$,t=E$,n=Gh,r,i,s,o=fi,l,c,u;function h(){var g=Math.min(e.length,t.length);return o!==fi&&(o=$we(e[0],e[g-1])),l=g>2?zwe:Bwe,c=u=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=l(e.map(r),t,n)))(r(o(g)))}return p.invert=function(g){return o(i((u||(u=l(t,e.map(r),Q0)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,J0),h()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),h()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),n=NO,h()},p.clamp=function(g){return arguments.length?(o=g?!0:fi,h()):o!==fi},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,x){return r=g,i=x,h()}}function PO(){return Gw()(fi,fi)}function Wwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eb(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rh(e){return e=eb(Math.abs(e)),e?e[1]:NaN}function qwe(e,t){return function(n,r){for(var i=n.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function Uwe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Vwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function kg(e){if(!(t=Vwe.exec(e)))throw new Error("invalid format: "+e);var t;return new AO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}kg.prototype=AO.prototype;function AO(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}AO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hwe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var YH;function Kwe(e,t){var n=eb(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(YH=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+eb(e,Math.max(0,t+s-1))[0]}function O$(e,t){var n=eb(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const M$={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>O$(e*100,t),r:O$,s:Kwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function R$(e){return e}var I$=Array.prototype.map,D$=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Gwe(e){var t=e.grouping===void 0||e.thousands===void 0?R$:qwe(I$.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?R$:Uwe(I$.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=kg(p);var g=p.fill,x=p.align,b=p.sign,v=p.symbol,w=p.zero,N=p.width,S=p.comma,A=p.precision,T=p.trim,C=p.type;C==="n"?(S=!0,C="g"):M$[C]||(A===void 0&&(A=12),T=!0,C="g"),(w||g==="0"&&x==="=")&&(w=!0,g="0",x="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",O=v==="$"?r:/[%p]/.test(C)?o:"",I=M$[C],F=/[defgprs%]/.test(C);A=A===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function W($){var z=E,V=O,U,te,Q;if(C==="c")V=I($)+V,$="";else{$=+$;var J=$<0||1/$<0;if($=isNaN($)?c:I(Math.abs($),A),T&&($=Hwe($)),J&&+$==0&&b!=="+"&&(J=!1),z=(J?b==="("?b:l:b==="-"||b==="("?"":b)+z,V=(C==="s"?D$[8+YH/3]:"")+V+(J&&b==="("?")":""),F){for(U=-1,te=$.length;++U<te;)if(Q=$.charCodeAt(U),48>Q||Q>57){V=(Q===46?i+$.slice(U+1):$.slice(U))+V,$=$.slice(0,U);break}}}S&&!w&&($=t($,1/0));var G=z.length+$.length+V.length,ee=G<N?new Array(N-G+1).join(g):"";switch(S&&w&&($=t(ee+$,ee.length?N-V.length:1/0),ee=""),x){case"<":$=z+$+V+ee;break;case"=":$=z+ee+$+V;break;case"^":$=ee.slice(0,G=ee.length>>1)+z+$+V+ee.slice(G);break;default:$=ee+z+$+V;break}return s($)}return W.toString=function(){return p+""},W}function h(p,g){var x=u((p=kg(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(rh(g)/3)))*3,v=Math.pow(10,-b),w=D$[8+b/3];return function(N){return x(v*N)+w}}return{format:u,formatPrefix:h}}var Cx,kO,ZH;Ywe({thousands:",",grouping:[3],currency:["$",""]});function Ywe(e){return Cx=Gwe(e),kO=Cx.format,ZH=Cx.formatPrefix,Cx}function Zwe(e){return Math.max(0,-rh(Math.abs(e)))}function Xwe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rh(t)/3)))*3-rh(Math.abs(e)))}function Qwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rh(t)-rh(e))+1}function XH(e,t,n,r){var i=IC(e,t,n),s;switch(r=kg(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Xwe(i,o))&&(r.precision=s),ZH(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Qwe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Zwe(i))&&(r.precision=s-(r.type==="%")*2);break}}return kO(r)}function Oc(e){var t=e.domain;return e.ticks=function(n){var r=t();return MC(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return XH(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],l=r[s],c,u,h=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);h-- >0;){if(u=RC(o,l,n),u===c)return r[i]=o,r[s]=l,t(r);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function tb(){var e=PO();return e.copy=function(){return Tv(e,tb())},za.apply(e,arguments),Oc(e)}function QH(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,J0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return QH(e).unknown(t)},e=arguments.length?Array.from(e,J0):[0,1],Oc(n)}function JH(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),e[n]=t.floor(i),e[r]=t.ceil(s),e}function L$(e){return Math.log(e)}function F$(e){return Math.exp(e)}function Jwe(e){return-Math.log(-e)}function e1e(e){return-Math.exp(-e)}function t1e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function n1e(e){return e===10?t1e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function r1e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function $$(e){return(t,n)=>-e(-t,n)}function CO(e){const t=e(L$,F$),n=t.domain;let r=10,i,s;function o(){return i=r1e(r),s=n1e(r),n()[0]<0?(i=$$(i),s=$$(s),e(Jwe,e1e)):e(L$,F$),t}return t.base=function(l){return arguments.length?(r=+l,o()):r},t.domain=function(l){return arguments.length?(n(l),o()):n()},t.ticks=l=>{const c=n();let u=c[0],h=c[c.length-1];const p=h<u;p&&([u,h]=[h,u]);let g=i(u),x=i(h),b,v;const w=l==null?10:+l;let N=[];if(!(r%1)&&x-g<w){if(g=Math.floor(g),x=Math.ceil(x),u>0){for(;g<=x;++g)for(b=1;b<r;++b)if(v=g<0?b/s(-g):b*s(g),!(v<u)){if(v>h)break;N.push(v)}}else for(;g<=x;++g)for(b=r-1;b>=1;--b)if(v=g>0?b/s(-g):b*s(g),!(v<u)){if(v>h)break;N.push(v)}N.length*2<w&&(N=MC(u,h,w))}else N=MC(g,x,Math.min(x-g,w)).map(s);return p?N.reverse():N},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=kg(c)).precision==null&&(c.trim=!0),c=kO(c)),l===1/0)return c;const u=Math.max(1,r*l/t.ticks().length);return h=>{let p=h/s(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=u?c(h):""}},t.nice=()=>n(JH(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function e7(){const e=CO(Gw()).domain([1,10]);return e.copy=()=>Tv(e,e7()).base(e.base()),za.apply(e,arguments),e}function B$(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function z$(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function TO(e){var t=1,n=e(B$(t),z$(t));return n.constant=function(r){return arguments.length?e(B$(t=+r),z$(t)):t},Oc(n)}function t7(){var e=TO(Gw());return e.copy=function(){return Tv(e,t7()).constant(e.constant())},za.apply(e,arguments)}function W$(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function i1e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function a1e(e){return e<0?-e*e:e*e}function EO(e){var t=e(fi,fi),n=1;function r(){return n===1?e(fi,fi):n===.5?e(i1e,a1e):e(W$(n),W$(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Oc(t)}function OO(){var e=EO(Gw());return e.copy=function(){return Tv(e,OO()).exponent(e.exponent())},za.apply(e,arguments),e}function s1e(){return OO.apply(null,arguments).exponent(.5)}function q$(e){return Math.sign(e)*e*e}function o1e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function n7(){var e=PO(),t=[0,1],n=!1,r;function i(s){var o=o1e(e(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return e.invert(q$(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,J0)).map(q$)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return n7(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},za.apply(i,arguments),Oc(i)}function r7(){var e=[],t=[],n=[],r;function i(){var o=0,l=Math.max(1,t.length);for(n=new Array(l-1);++o<l;)n[o-1]=fwe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?r:t[kv(n,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:e[0],l<n.length?n[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(pc),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return r7().domain(e).range(t).unknown(r)},za.apply(s,arguments)}function i7(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[kv(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return r.slice()},o.copy=function(){return i7().domain([e,t]).range(i).unknown(s)},za.apply(Oc(o),arguments)}function a7(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[kv(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return a7().domain(e).range(t).unknown(n)},za.apply(i,arguments)}const rA=new Date,iA=new Date;function xr(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>xr(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),n&&(i.count=(s,o)=>(rA.setTime(+s),iA.setTime(+o),e(rA),e(iA),Math.floor(n(rA,iA))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const nb=xr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?xr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):nb);nb.range;const Vo=1e3,Ra=Vo*60,Ho=Ra*60,sl=Ho*24,MO=sl*7,U$=sl*30,aA=sl*365,Ou=xr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vo)},(e,t)=>(t-e)/Vo,e=>e.getUTCSeconds());Ou.range;const RO=xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getMinutes());RO.range;const IO=xr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ra)},(e,t)=>(t-e)/Ra,e=>e.getUTCMinutes());IO.range;const DO=xr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vo-e.getMinutes()*Ra)},(e,t)=>{e.setTime(+e+t*Ho)},(e,t)=>(t-e)/Ho,e=>e.getHours());DO.range;const LO=xr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ho)},(e,t)=>(t-e)/Ho,e=>e.getUTCHours());LO.range;const Ev=xr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ra)/sl,e=>e.getDate()-1);Ev.range;const Yw=xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sl,e=>e.getUTCDate()-1);Yw.range;const s7=xr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/sl,e=>Math.floor(e/sl));s7.range;function fd(e){return xr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ra)/MO)}const Zw=fd(0),rb=fd(1),l1e=fd(2),c1e=fd(3),ih=fd(4),u1e=fd(5),d1e=fd(6);Zw.range;rb.range;l1e.range;c1e.range;ih.range;u1e.range;d1e.range;function hd(e){return xr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/MO)}const Xw=hd(0),ib=hd(1),f1e=hd(2),h1e=hd(3),ah=hd(4),p1e=hd(5),m1e=hd(6);Xw.range;ib.range;f1e.range;h1e.range;ah.range;p1e.range;m1e.range;const FO=xr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());FO.range;const $O=xr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());$O.range;const ol=xr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ol.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ol.range;const ll=xr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ll.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:xr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ll.range;function o7(e,t,n,r,i,s){const o=[[Ou,1,Vo],[Ou,5,5*Vo],[Ou,15,15*Vo],[Ou,30,30*Vo],[s,1,Ra],[s,5,5*Ra],[s,15,15*Ra],[s,30,30*Ra],[i,1,Ho],[i,3,3*Ho],[i,6,6*Ho],[i,12,12*Ho],[r,1,sl],[r,2,2*sl],[n,1,MO],[t,1,U$],[t,3,3*U$],[e,1,aA]];function l(u,h,p){const g=h<u;g&&([u,h]=[h,u]);const x=p&&typeof p.range=="function"?p:c(u,h,p),b=x?x.range(u,+h+1):[];return g?b.reverse():b}function c(u,h,p){const g=Math.abs(h-u)/p,x=wO(([,,w])=>w).right(o,g);if(x===o.length)return e.every(IC(u/aA,h/aA,p));if(x===0)return nb.every(Math.max(IC(u,h,p),1));const[b,v]=o[g/o[x-1][2]<o[x][2]/g?x-1:x];return b.every(v)}return[l,c]}const[g1e,v1e]=o7(ll,$O,Xw,s7,LO,IO),[y1e,x1e]=o7(ol,FO,Zw,Ev,DO,RO);function sA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function oA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function um(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function b1e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=dm(i),h=fm(i),p=dm(s),g=fm(s),x=dm(o),b=fm(o),v=dm(l),w=fm(l),N=dm(c),S=fm(c),A={a:J,A:G,b:ee,B:X,c:null,d:Z$,e:Z$,f:q1e,g:J1e,G:t_e,H:B1e,I:z1e,j:W1e,L:l7,m:U1e,M:V1e,p:q,q:H,Q:J$,s:eB,S:H1e,u:K1e,U:G1e,V:Y1e,w:Z1e,W:X1e,x:null,X:null,y:Q1e,Y:e_e,Z:n_e,"%":Q$},T={a:ne,A:se,b:de,B:me,c:null,d:X$,e:X$,f:s_e,g:g_e,G:y_e,H:r_e,I:i_e,j:a_e,L:u7,m:o_e,M:l_e,p:fe,q:_e,Q:J$,s:eB,S:c_e,u:u_e,U:d_e,V:f_e,w:h_e,W:p_e,x:null,X:null,y:m_e,Y:v_e,Z:x_e,"%":Q$},C={a:W,A:$,b:z,B:V,c:U,d:G$,e:G$,f:D1e,g:K$,G:H$,H:Y$,I:Y$,j:O1e,L:I1e,m:E1e,M:M1e,p:F,q:T1e,Q:F1e,s:$1e,S:R1e,u:N1e,U:P1e,V:A1e,w:S1e,W:k1e,x:te,X:Q,y:K$,Y:H$,Z:C1e,"%":L1e};A.x=E(n,A),A.X=E(r,A),A.c=E(t,A),T.x=E(n,T),T.X=E(r,T),T.c=E(t,T);function E(he,be){return function(Me){var ve=[],Ze=-1,He=0,je=he.length,Ce,Re,Ke;for(Me instanceof Date||(Me=new Date(+Me));++Ze<je;)he.charCodeAt(Ze)===37&&(ve.push(he.slice(He,Ze)),(Re=V$[Ce=he.charAt(++Ze)])!=null?Ce=he.charAt(++Ze):Re=Ce==="e"?" ":"0",(Ke=be[Ce])&&(Ce=Ke(Me,Re)),ve.push(Ce),He=Ze+1);return ve.push(he.slice(He,Ze)),ve.join("")}}function O(he,be){return function(Me){var ve=um(1900,void 0,1),Ze=I(ve,he,Me+="",0),He,je;if(Ze!=Me.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(be&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(He=oA(um(ve.y,0,1)),je=He.getUTCDay(),He=je>4||je===0?ib.ceil(He):ib(He),He=Yw.offset(He,(ve.V-1)*7),ve.y=He.getUTCFullYear(),ve.m=He.getUTCMonth(),ve.d=He.getUTCDate()+(ve.w+6)%7):(He=sA(um(ve.y,0,1)),je=He.getDay(),He=je>4||je===0?rb.ceil(He):rb(He),He=Ev.offset(He,(ve.V-1)*7),ve.y=He.getFullYear(),ve.m=He.getMonth(),ve.d=He.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),je="Z"in ve?oA(um(ve.y,0,1)).getUTCDay():sA(um(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(je+5)%7:ve.w+ve.U*7-(je+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,oA(ve)):sA(ve)}}function I(he,be,Me,ve){for(var Ze=0,He=be.length,je=Me.length,Ce,Re;Ze<He;){if(ve>=je)return-1;if(Ce=be.charCodeAt(Ze++),Ce===37){if(Ce=be.charAt(Ze++),Re=C[Ce in V$?be.charAt(Ze++):Ce],!Re||(ve=Re(he,Me,ve))<0)return-1}else if(Ce!=Me.charCodeAt(ve++))return-1}return ve}function F(he,be,Me){var ve=u.exec(be.slice(Me));return ve?(he.p=h.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function W(he,be,Me){var ve=x.exec(be.slice(Me));return ve?(he.w=b.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function $(he,be,Me){var ve=p.exec(be.slice(Me));return ve?(he.w=g.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function z(he,be,Me){var ve=N.exec(be.slice(Me));return ve?(he.m=S.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function V(he,be,Me){var ve=v.exec(be.slice(Me));return ve?(he.m=w.get(ve[0].toLowerCase()),Me+ve[0].length):-1}function U(he,be,Me){return I(he,t,be,Me)}function te(he,be,Me){return I(he,n,be,Me)}function Q(he,be,Me){return I(he,r,be,Me)}function J(he){return o[he.getDay()]}function G(he){return s[he.getDay()]}function ee(he){return c[he.getMonth()]}function X(he){return l[he.getMonth()]}function q(he){return i[+(he.getHours()>=12)]}function H(he){return 1+~~(he.getMonth()/3)}function ne(he){return o[he.getUTCDay()]}function se(he){return s[he.getUTCDay()]}function de(he){return c[he.getUTCMonth()]}function me(he){return l[he.getUTCMonth()]}function fe(he){return i[+(he.getUTCHours()>=12)]}function _e(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var be=E(he+="",A);return be.toString=function(){return he},be},parse:function(he){var be=O(he+="",!1);return be.toString=function(){return he},be},utcFormat:function(he){var be=E(he+="",T);return be.toString=function(){return he},be},utcParse:function(he){var be=O(he+="",!0);return be.toString=function(){return he},be}}}var V$={"-":"",_:" ",0:"0"},Cr=/^\s*\d+/,w1e=/^%/,_1e=/[\\^$*+?|[\]().{}]/g;function qt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function j1e(e){return e.replace(_1e,"\\$&")}function dm(e){return new RegExp("^(?:"+e.map(j1e).join("|")+")","i")}function fm(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function S1e(e,t,n){var r=Cr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function N1e(e,t,n){var r=Cr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function P1e(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function A1e(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function k1e(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function H$(e,t,n){var r=Cr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function K$(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function C1e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T1e(e,t,n){var r=Cr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function E1e(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function G$(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function O1e(e,t,n){var r=Cr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Y$(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function M1e(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function R1e(e,t,n){var r=Cr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function I1e(e,t,n){var r=Cr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function D1e(e,t,n){var r=Cr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function L1e(e,t,n){var r=w1e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function F1e(e,t,n){var r=Cr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function $1e(e,t,n){var r=Cr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Z$(e,t){return qt(e.getDate(),t,2)}function B1e(e,t){return qt(e.getHours(),t,2)}function z1e(e,t){return qt(e.getHours()%12||12,t,2)}function W1e(e,t){return qt(1+Ev.count(ol(e),e),t,3)}function l7(e,t){return qt(e.getMilliseconds(),t,3)}function q1e(e,t){return l7(e,t)+"000"}function U1e(e,t){return qt(e.getMonth()+1,t,2)}function V1e(e,t){return qt(e.getMinutes(),t,2)}function H1e(e,t){return qt(e.getSeconds(),t,2)}function K1e(e){var t=e.getDay();return t===0?7:t}function G1e(e,t){return qt(Zw.count(ol(e)-1,e),t,2)}function c7(e){var t=e.getDay();return t>=4||t===0?ih(e):ih.ceil(e)}function Y1e(e,t){return e=c7(e),qt(ih.count(ol(e),e)+(ol(e).getDay()===4),t,2)}function Z1e(e){return e.getDay()}function X1e(e,t){return qt(rb.count(ol(e)-1,e),t,2)}function Q1e(e,t){return qt(e.getFullYear()%100,t,2)}function J1e(e,t){return e=c7(e),qt(e.getFullYear()%100,t,2)}function e_e(e,t){return qt(e.getFullYear()%1e4,t,4)}function t_e(e,t){var n=e.getDay();return e=n>=4||n===0?ih(e):ih.ceil(e),qt(e.getFullYear()%1e4,t,4)}function n_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+qt(t/60|0,"0",2)+qt(t%60,"0",2)}function X$(e,t){return qt(e.getUTCDate(),t,2)}function r_e(e,t){return qt(e.getUTCHours(),t,2)}function i_e(e,t){return qt(e.getUTCHours()%12||12,t,2)}function a_e(e,t){return qt(1+Yw.count(ll(e),e),t,3)}function u7(e,t){return qt(e.getUTCMilliseconds(),t,3)}function s_e(e,t){return u7(e,t)+"000"}function o_e(e,t){return qt(e.getUTCMonth()+1,t,2)}function l_e(e,t){return qt(e.getUTCMinutes(),t,2)}function c_e(e,t){return qt(e.getUTCSeconds(),t,2)}function u_e(e){var t=e.getUTCDay();return t===0?7:t}function d_e(e,t){return qt(Xw.count(ll(e)-1,e),t,2)}function d7(e){var t=e.getUTCDay();return t>=4||t===0?ah(e):ah.ceil(e)}function f_e(e,t){return e=d7(e),qt(ah.count(ll(e),e)+(ll(e).getUTCDay()===4),t,2)}function h_e(e){return e.getUTCDay()}function p_e(e,t){return qt(ib.count(ll(e)-1,e),t,2)}function m_e(e,t){return qt(e.getUTCFullYear()%100,t,2)}function g_e(e,t){return e=d7(e),qt(e.getUTCFullYear()%100,t,2)}function v_e(e,t){return qt(e.getUTCFullYear()%1e4,t,4)}function y_e(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ah(e):ah.ceil(e),qt(e.getUTCFullYear()%1e4,t,4)}function x_e(){return"+0000"}function Q$(){return"%"}function J$(e){return+e}function eB(e){return Math.floor(+e/1e3)}var uf,f7,h7;b_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function b_e(e){return uf=b1e(e),f7=uf.format,uf.parse,h7=uf.utcFormat,uf.utcParse,uf}function w_e(e){return new Date(e)}function __e(e){return e instanceof Date?+e:+new Date(+e)}function BO(e,t,n,r,i,s,o,l,c,u){var h=PO(),p=h.invert,g=h.domain,x=u(".%L"),b=u(":%S"),v=u("%I:%M"),w=u("%I %p"),N=u("%a %d"),S=u("%b %d"),A=u("%B"),T=u("%Y");function C(E){return(c(E)<E?x:l(E)<E?b:o(E)<E?v:s(E)<E?w:r(E)<E?i(E)<E?N:S:n(E)<E?A:T)(E)}return h.invert=function(E){return new Date(p(E))},h.domain=function(E){return arguments.length?g(Array.from(E,__e)):g().map(w_e)},h.ticks=function(E){var O=g();return e(O[0],O[O.length-1],E??10)},h.tickFormat=function(E,O){return O==null?C:u(O)},h.nice=function(E){var O=g();return(!E||typeof E.range!="function")&&(E=t(O[0],O[O.length-1],E??10)),E?g(JH(O,E)):h},h.copy=function(){return Tv(h,BO(e,t,n,r,i,s,o,l,c,u))},h}function j_e(){return za.apply(BO(y1e,x1e,ol,FO,Zw,Ev,DO,RO,Ou,f7).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function S_e(){return za.apply(BO(g1e,v1e,ll,$O,Xw,Yw,LO,IO,Ou,h7).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Qw(){var e=0,t=1,n,r,i,s,o=fi,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function h(p){return function(g){var x,b;return arguments.length?([x,b]=g,o=p(x,b),u):[o(0),o(1)]}}return u.range=h(Gh),u.rangeRound=h(NO),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,n=p(e),r=p(t),i=n===r?0:1/(r-n),u}}function Mc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function p7(){var e=Oc(Qw()(fi));return e.copy=function(){return Mc(e,p7())},ml.apply(e,arguments)}function m7(){var e=CO(Qw()).domain([1,10]);return e.copy=function(){return Mc(e,m7()).base(e.base())},ml.apply(e,arguments)}function g7(){var e=TO(Qw());return e.copy=function(){return Mc(e,g7()).constant(e.constant())},ml.apply(e,arguments)}function zO(){var e=EO(Qw());return e.copy=function(){return Mc(e,zO()).exponent(e.exponent())},ml.apply(e,arguments)}function N_e(){return zO.apply(null,arguments).exponent(.5)}function v7(){var e=[],t=fi;function n(r){if(r!=null&&!isNaN(r=+r))return t((kv(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(pc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>dwe(e,s/r))},n.copy=function(){return v7(t).domain(e)},ml.apply(n,arguments)}function Jw(){var e=0,t=.5,n=1,r=1,i,s,o,l,c,u=fi,h,p=!1,g;function x(v){return isNaN(v=+v)?g:(v=.5+((v=+h(v))-s)*(r*v<r*s?l:c),u(p?Math.max(0,Math.min(1,v)):v))}x.domain=function(v){return arguments.length?([e,t,n]=v,i=h(e=+e),s=h(t=+t),o=h(n=+n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,x):[e,t,n]},x.clamp=function(v){return arguments.length?(p=!!v,x):p},x.interpolator=function(v){return arguments.length?(u=v,x):u};function b(v){return function(w){var N,S,A;return arguments.length?([N,S,A]=w,u=Lwe(v,[N,S,A]),x):[u(0),u(.5),u(1)]}}return x.range=b(Gh),x.rangeRound=b(NO),x.unknown=function(v){return arguments.length?(g=v,x):g},function(v){return h=v,i=v(e),s=v(t),o=v(n),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),r=s<i?-1:1,x}}function y7(){var e=Oc(Jw()(fi));return e.copy=function(){return Mc(e,y7())},ml.apply(e,arguments)}function x7(){var e=CO(Jw()).domain([.1,1,10]);return e.copy=function(){return Mc(e,x7()).base(e.base())},ml.apply(e,arguments)}function b7(){var e=TO(Jw());return e.copy=function(){return Mc(e,b7()).constant(e.constant())},ml.apply(e,arguments)}function WO(){var e=EO(Jw());return e.copy=function(){return Mc(e,WO()).exponent(e.exponent())},ml.apply(e,arguments)}function P_e(){return WO.apply(null,arguments).exponent(.5)}const tB=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Sg,scaleDiverging:y7,scaleDivergingLog:x7,scaleDivergingPow:WO,scaleDivergingSqrt:P_e,scaleDivergingSymlog:b7,scaleIdentity:QH,scaleImplicit:DC,scaleLinear:tb,scaleLog:e7,scaleOrdinal:_O,scalePoint:Lm,scalePow:OO,scaleQuantile:r7,scaleQuantize:i7,scaleRadial:n7,scaleSequential:p7,scaleSequentialLog:m7,scaleSequentialPow:zO,scaleSequentialQuantile:v7,scaleSequentialSqrt:N_e,scaleSequentialSymlog:g7,scaleSqrt:s1e,scaleSymlog:t7,scaleThreshold:a7,scaleTime:j_e,scaleUtc:S_e,tickFormat:XH},Symbol.toStringTag,{value:"Module"}));var lA,nB;function e1(){if(nB)return lA;nB=1;var e=Uh();function t(n,r,i){for(var s=-1,o=n.length;++s<o;){var l=n[s],c=r(l);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,h=l}return h}return lA=t,lA}var cA,rB;function w7(){if(rB)return cA;rB=1;function e(t,n){return t>n}return cA=e,cA}var uA,iB;function A_e(){if(iB)return uA;iB=1;var e=e1(),t=w7(),n=Kh();function r(i){return i&&i.length?e(i,n,t):void 0}return uA=r,uA}var k_e=A_e();const oc=Ut(k_e);var dA,aB;function _7(){if(aB)return dA;aB=1;function e(t,n){return t<n}return dA=e,dA}var fA,sB;function C_e(){if(sB)return fA;sB=1;var e=e1(),t=_7(),n=Kh();function r(i){return i&&i.length?e(i,n,t):void 0}return fA=r,fA}var T_e=C_e();const t1=Ut(T_e);var hA,oB;function E_e(){if(oB)return hA;oB=1;var e=aO(),t=yo(),n=TH(),r=Li();function i(s,o){var l=r(s)?e:n;return l(s,t(o,3))}return hA=i,hA}var pA,lB;function O_e(){if(lB)return pA;lB=1;var e=kH(),t=E_e();function n(r,i){return e(t(r,i),1)}return pA=n,pA}var M_e=O_e();const R_e=Ut(M_e);var mA,cB;function I_e(){if(cB)return mA;cB=1;var e=vO();function t(n,r){return e(n,r)}return mA=t,mA}var D_e=I_e();const Sc=Ut(D_e);var Yh=1e9,L_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UO,Cn=!0,$a="[DecimalError] ",Bu=$a+"Invalid argument: ",qO=$a+"Exponent out of range: ",Zh=Math.floor,ju=Math.pow,F_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ia,jr=1e7,Sn=7,j7=9007199254740991,ab=Zh(j7/Sn),Ve={};Ve.absoluteValue=Ve.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ve.comparedTo=Ve.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Sn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(e){return nl(this,new this.constructor(e))};Ve.dividedToIntegerBy=Ve.idiv=function(e){var t=this,n=t.constructor;return on(nl(t,new n(e),0,1),n.precision)};Ve.equals=Ve.eq=function(e){return!this.cmp(e)};Ve.exponent=function(){return lr(this)};Ve.greaterThan=Ve.gt=function(e){return this.cmp(e)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(e){return this.cmp(e)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(e){return this.cmp(e)<0};Ve.lessThanOrEqualTo=Ve.lte=function(e){return this.cmp(e)<1};Ve.logarithm=Ve.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ia))throw Error($a+"NaN");if(n.s<1)throw Error($a+(n.s?"NaN":"-Infinity"));return n.eq(ia)?new r(0):(Cn=!1,t=nl(Cg(n,s),Cg(e,s),s),Cn=!0,on(t,i))};Ve.minus=Ve.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P7(t,e):S7(t,(e.s=-e.s,e))};Ve.modulo=Ve.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error($a+"NaN");return n.s?(Cn=!1,t=nl(n,e,0,1).times(e),Cn=!0,n.minus(t)):on(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return N7(this)};Ve.naturalLogarithm=Ve.ln=function(){return Cg(this)};Ve.negated=Ve.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ve.plus=Ve.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?S7(t,e):P7(t,(e.s=-e.s,e))};Ve.precision=Ve.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bu+e);if(t=lr(i)+1,r=i.d.length-1,n=r*Sn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Ve.squareRoot=Ve.sqrt=function(){var e,t,n,r,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error($a+"NaN")}for(e=lr(l),Cn=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=eo(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Zh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=o=n+3;;)if(s=r,r=s.plus(nl(l,s,o+2)).times(.5),eo(s.d).slice(0,o)===(t=eo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(on(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(t!="9999")break;o+=4}return Cn=!0,on(r,n)};Ve.times=Ve.mul=function(e){var t,n,r,i,s,o,l,c,u,h=this,p=h.constructor,g=h.d,x=(e=new p(e)).d;if(!h.s||!e.s)return new p(0);for(e.s*=h.s,n=h.e+e.e,c=g.length,u=x.length,c<u&&(s=g,g=x,x=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=s[i]+x[r]*g[i-r-1]+t,s[i--]=l%jr|0,t=l/jr|0;s[i]=(s[i]+t)%jr|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,Cn?on(e,p.precision):e};Ve.toDecimalPlaces=Ve.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ho(e,0,Yh),t===void 0?t=r.rounding:ho(t,0,8),on(n,e+lr(n)+1,t))};Ve.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Ju(r,!0):(ho(e,0,Yh),t===void 0?t=i.rounding:ho(t,0,8),r=on(new i(r),e+1,t),n=Ju(r,!0,e+1)),n};Ve.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?Ju(i):(ho(e,0,Yh),t===void 0?t=s.rounding:ho(t,0,8),r=on(new s(i),e+lr(i)+1,t),n=Ju(r.abs(),!1,e+lr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var e=this,t=e.constructor;return on(new t(e),lr(e)+1,t.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(e){var t,n,r,i,s,o,l=this,c=l.constructor,u=12,h=+(e=new c(e));if(!e.s)return new c(ia);if(l=new c(l),!l.s){if(e.s<1)throw Error($a+"Infinity");return l}if(l.eq(ia))return l;if(r=c.precision,e.eq(ia))return on(l,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=l.s,o){if((n=h<0?-h:h)<=j7){for(i=new c(ia),t=Math.ceil(r/Sn+4),Cn=!1;n%2&&(i=i.times(l),dB(i.d,t)),n=Zh(n/2),n!==0;)l=l.times(l),dB(l.d,t);return Cn=!0,e.s<0?new c(ia).div(i):on(i,r)}}else if(s<0)throw Error($a+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,l.s=1,Cn=!1,i=e.times(Cg(l,r+u)),Cn=!0,i=N7(i),i.s=s,i};Ve.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=lr(i),r=Ju(i,n<=s.toExpNeg||n>=s.toExpPos)):(ho(e,1,Yh),t===void 0?t=s.rounding:ho(t,0,8),i=on(new s(i),e,t),n=lr(i),r=Ju(i,e<=n||n<=s.toExpNeg,e)),r};Ve.toSignificantDigits=Ve.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ho(e,1,Yh),t===void 0?t=r.rounding:ho(t,0,8)),on(new r(n),e,t)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lr(e),n=e.constructor;return Ju(e,t<=n.toExpNeg||t>=n.toExpPos)};function S7(e,t){var n,r,i,s,o,l,c,u,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),Cn?on(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(r=c,s=-s,l=u.length):(r=u,i=o,l=c.length),o=Math.ceil(p/Sn),l=o>l?o+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,r=u,u=c,c=r),n=0;s;)n=(c[--s]=c[s]+u[s]+n)/jr|0,c[s]%=jr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Cn?on(t,p):t}function ho(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Bu+e)}function eo(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=Sn-r.length,n&&(s+=rc(n)),s+=r;o=e[t],r=o+"",n=Sn-r.length,n&&(s+=rc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var nl=(function(){function e(r,i){var s,o=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+o,r[l]=s%jr|0,o=s/jr|0;return o&&r.unshift(o),r}function t(r,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*jr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var l,c,u,h,p,g,x,b,v,w,N,S,A,T,C,E,O,I,F=r.constructor,W=r.s==i.s?1:-1,$=r.d,z=i.d;if(!r.s)return new F(r);if(!i.s)throw Error($a+"Division by zero");for(c=r.e-i.e,O=z.length,C=$.length,x=new F(W),b=x.d=[],u=0;z[u]==($[u]||0);)++u;if(z[u]>($[u]||0)&&--c,s==null?S=s=F.precision:o?S=s+(lr(r)-lr(i))+1:S=s,S<0)return new F(0);if(S=S/Sn+2|0,u=0,O==1)for(h=0,z=z[0],S++;(u<C||h)&&S--;u++)A=h*jr+($[u]||0),b[u]=A/z|0,h=A%z|0;else{for(h=jr/(z[0]+1)|0,h>1&&(z=e(z,h),$=e($,h),O=z.length,C=$.length),T=O,v=$.slice(0,O),w=v.length;w<O;)v[w++]=0;I=z.slice(),I.unshift(0),E=z[0],z[1]>=jr/2&&++E;do h=0,l=t(z,v,O,w),l<0?(N=v[0],O!=w&&(N=N*jr+(v[1]||0)),h=N/E|0,h>1?(h>=jr&&(h=jr-1),p=e(z,h),g=p.length,w=v.length,l=t(p,v,g,w),l==1&&(h--,n(p,O<g?I:z,g))):(h==0&&(l=h=1),p=z.slice()),g=p.length,g<w&&p.unshift(0),n(v,p,w),l==-1&&(w=v.length,l=t(z,v,O,w),l<1&&(h++,n(v,O<w?I:z,w))),w=v.length):l===0&&(h++,v=[0]),b[u++]=h,l&&v[0]?v[w++]=$[T]||0:(v=[$[T]],w=1);while((T++<C||v[0]!==void 0)&&S--)}return b[0]||b.shift(),x.e=c,on(x,o?s+lr(x)+1:s)}})();function N7(e,t){var n,r,i,s,o,l,c=0,u=0,h=e.constructor,p=h.precision;if(lr(e)>16)throw Error(qO+lr(e));if(!e.s)return new h(ia);for(Cn=!1,l=p,o=new h(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(ju(2,u))/Math.LN10*2+5|0,l+=r,n=i=s=new h(ia),h.precision=l;;){if(i=on(i.times(e),l),n=n.times(++c),o=s.plus(nl(i,n,l)),eo(o.d).slice(0,l)===eo(s.d).slice(0,l)){for(;u--;)s=on(s.times(s),l);return h.precision=p,t==null?(Cn=!0,on(s,p)):s}s=o}}function lr(e){for(var t=e.e*Sn,n=e.d[0];n>=10;n/=10)t++;return t}function gA(e,t,n){if(t>e.LN10.sd())throw Cn=!0,n&&(e.precision=n),Error($a+"LN10 precision limit exceeded");return on(new e(e.LN10),t)}function rc(e){for(var t="";e--;)t+="0";return t}function Cg(e,t){var n,r,i,s,o,l,c,u,h,p=1,g=10,x=e,b=x.d,v=x.constructor,w=v.precision;if(x.s<1)throw Error($a+(x.s?"NaN":"-Infinity"));if(x.eq(ia))return new v(0);if(t==null?(Cn=!1,u=w):u=t,x.eq(10))return t==null&&(Cn=!0),gA(v,u);if(u+=g,v.precision=u,n=eo(b),r=n.charAt(0),s=lr(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=eo(x.d),r=n.charAt(0),p++;s=lr(x),r>1?(x=new v("0."+n),s++):x=new v(r+"."+n.slice(1))}else return c=gA(v,u+2,w).times(s+""),x=Cg(new v(r+"."+n.slice(1)),u-g).plus(c),v.precision=w,t==null?(Cn=!0,on(x,w)):x;for(l=o=x=nl(x.minus(ia),x.plus(ia),u),h=on(x.times(x),u),i=3;;){if(o=on(o.times(h),u),c=l.plus(nl(o,new v(i),u)),eo(c.d).slice(0,u)===eo(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(gA(v,u+2,w).times(s+""))),l=nl(l,new v(p),u),v.precision=w,t==null?(Cn=!0,on(l,w)):l;l=c,i+=2}}function uB(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Zh(n/Sn),e.d=[],r=(n+1)%Sn,n<0&&(r+=Sn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Sn;r<i;)e.d.push(+t.slice(r,r+=Sn));t=t.slice(r),r=Sn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),Cn&&(e.e>ab||e.e<-ab))throw Error(qO+n)}else e.s=0,e.e=0,e.d=[0];return e}function on(e,t,n){var r,i,s,o,l,c,u,h,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=Sn,i=t,u=p[h=0];else{if(h=Math.ceil((r+1)/Sn),s=p.length,h>=s)return e;for(u=s=p[h],o=1;s>=10;s/=10)o++;r%=Sn,i=r-Sn+o}if(n!==void 0&&(s=ju(10,o-i-1),l=u/s%10|0,c=t<0||p[h+1]!==void 0||u%s,c=n<4?(l||c)&&(n==0||n==(e.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?u/ju(10,o-i):0:p[h-1])%10&1||n==(e.s<0?8:7))),t<1||!p[0])return c?(s=lr(e),p.length=1,t=t-s-1,p[0]=ju(10,(Sn-t%Sn)%Sn),e.e=Zh(-t/Sn)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(r==0?(p.length=h,s=1,h--):(p.length=h+1,s=ju(10,Sn-r),p[h]=i>0?(u/ju(10,o-i)%ju(10,i)|0)*s:0),c)for(;;)if(h==0){(p[0]+=s)==jr&&(p[0]=1,++e.e);break}else{if(p[h]+=s,p[h]!=jr)break;p[h--]=0,s=1}for(r=p.length;p[--r]===0;)p.pop();if(Cn&&(e.e>ab||e.e<-ab))throw Error(qO+lr(e));return e}function P7(e,t){var n,r,i,s,o,l,c,u,h,p,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Cn?on(t,x):t;if(c=e.d,p=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r,o){for(h=o<0,h?(n=c,o=-o,l=p.length):(n=p,r=u,l=c.length),i=Math.max(Math.ceil(x/Sn),l)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}o=0}for(h&&(n=c,c=p,p=n,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=jr-1;--c[s],c[i]+=jr}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,Cn?on(t,x):t):new g(0)}function Ju(e,t,n){var r,i=lr(e),s=eo(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+rc(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+rc(-i-1)+s,n&&(r=n-o)>0&&(s+=rc(r))):i>=o?(s+=rc(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+rc(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=rc(r))),e.s<0?"-"+s:s}function dB(e,t){if(e.length>t)return e.length=t,!0}function A7(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bu+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return uB(o,s.toString())}else if(typeof s!="string")throw Error(Bu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,F_e.test(s))uB(o,s);else throw Error(Bu+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=A7,i.config=i.set=$_e,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function $_e(e){if(!e||typeof e!="object")throw Error($a+"Object expected");var t,n,r,i=["precision",1,Yh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Zh(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Bu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bu+n+": "+r);return this}var UO=A7(L_e);ia=new UO(1);const nn=UO;function B_e(e){return U_e(e)||q_e(e)||W_e(e)||z_e()}function z_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W_e(e,t){if(e){if(typeof e=="string")return BC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(e,t)}}function q_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function U_e(e){if(Array.isArray(e))return BC(e)}function BC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V_e=function(t){return t},k7={},C7=function(t){return t===k7},fB=function(t){return function n(){return arguments.length===0||arguments.length===1&&C7(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},H_e=function e(t,n){return t===1?n:fB(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==k7}).length;return o>=t?n.apply(void 0,i):e(t-o,fB(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var h=i.map(function(p){return C7(p)?c.shift():p});return n.apply(void 0,B_e(h).concat(c))}))})},n1=function(t){return H_e(t.length,t)},zC=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},K_e=n1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),G_e=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return V_e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},WC=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},T7=function(t){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(l,c){return l===n[c]})||(n=s,r=t.apply(void 0,s)),r}};function Y_e(e){var t;return e===0?t=1:t=Math.floor(new nn(e).abs().log(10).toNumber())+1,t}function Z_e(e,t,n){for(var r=new nn(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var X_e=n1(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),Q_e=n1(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),J_e=n1(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const r1={rangeStep:Z_e,getDigitCount:Y_e,interpolateNumber:X_e,uninterpolateNumber:Q_e,uninterpolateTruncation:J_e};function qC(e){return nje(e)||tje(e)||E7(e)||eje()}function eje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tje(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nje(e){if(Array.isArray(e))return UC(e)}function Tg(e,t){return aje(e)||ije(e,t)||E7(e,t)||rje()}function rje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E7(e,t){if(e){if(typeof e=="string")return UC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(e,t)}}function UC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ije(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(r=(l=o.next()).done)&&(n.push(l.value),!(t&&n.length===t));r=!0);}catch(c){i=!0,s=c}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function aje(e){if(Array.isArray(e))return e}function O7(e){var t=Tg(e,2),n=t[0],r=t[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function M7(e,t,n){if(e.lte(0))return new nn(0);var r=r1.getDigitCount(e.toNumber()),i=new nn(10).pow(r),s=e.div(i),o=r!==1?.05:.1,l=new nn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),c=l.mul(i);return t?c:new nn(Math.ceil(c))}function sje(e,t,n){var r=1,i=new nn(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new nn(10).pow(r1.getDigitCount(e)-1),i=new nn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new nn(Math.floor(e)))}else e===0?i=new nn(Math.floor((t-1)/2)):n||(i=new nn(Math.floor(e)));var o=Math.floor((t-1)/2),l=G_e(K_e(function(c){return i.add(new nn(c-o).mul(r)).toNumber()}),zC);return l(0,t)}function R7(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new nn(0),tickMin:new nn(0),tickMax:new nn(0)};var s=M7(new nn(t).sub(e).div(n-1),r,i),o;e<=0&&t>=0?o=new nn(0):(o=new nn(e).add(t).div(2),o=o.sub(new nn(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new nn(t).sub(o).div(s).toNumber()),u=l+c+1;return u>n?R7(e,t,n,r,i+1):(u<n&&(c=t>0?c+(n-u):c,l=t>0?l:l+(n-u)),{step:s,tickMin:o.sub(new nn(l).mul(s)),tickMax:o.add(new nn(c).mul(s))})}function oje(e){var t=Tg(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=O7([n,r]),c=Tg(l,2),u=c[0],h=c[1];if(u===-1/0||h===1/0){var p=h===1/0?[u].concat(qC(zC(0,i-1).map(function(){return 1/0}))):[].concat(qC(zC(0,i-1).map(function(){return-1/0})),[h]);return n>r?WC(p):p}if(u===h)return sje(u,i,s);var g=R7(u,h,o,s),x=g.step,b=g.tickMin,v=g.tickMax,w=r1.rangeStep(b,v.add(new nn(.1).mul(x)),x);return n>r?WC(w):w}function lje(e,t){var n=Tg(e,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=O7([r,i]),l=Tg(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[r,i];if(c===u)return[c];var h=Math.max(t,2),p=M7(new nn(u).sub(c).div(h-1),s,0),g=[].concat(qC(r1.rangeStep(new nn(c),new nn(u).sub(new nn(.99).mul(p)),p)),[u]);return r>i?WC(g):g}var cje=T7(oje),uje=T7(lje),dje="Invariant failed";function ed(e,t){throw new Error(dje)}var fje=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function sh(e){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sh(e)}function sb(){return sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sb.apply(this,arguments)}function hje(e,t){return vje(e)||gje(e,t)||mje(e,t)||pje()}function pje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mje(e,t){if(e){if(typeof e=="string")return hB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hB(e,t)}}function hB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gje(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vje(e){if(Array.isArray(e))return e}function yje(e,t){if(e==null)return{};var n=xje(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L7(r.key),r)}}function _je(e,t,n){return t&&wje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jje(e,t,n){return t=ob(t),Sje(e,I7()?Reflect.construct(t,n||[],ob(e).constructor):t.apply(e,n))}function Sje(e,t){if(t&&(sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nje(e)}function Nje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I7(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I7=function(){return!!e})()}function ob(e){return ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ob(e)}function Pje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VC(e,t)}function VC(e,t){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VC(e,t)}function D7(e,t,n){return t=L7(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L7(e){var t=Aje(e,"string");return sh(t)=="symbol"?t:t+""}function Aje(e,t){if(sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xh=(function(e){function t(){return bje(this,t),jje(this,t,arguments)}return Pje(t,e),_je(t,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,l=r.dataKey,c=r.data,u=r.dataPointFormatter,h=r.xAxis,p=r.yAxis,g=yje(r,fje),x=Qe(g,!1);this.props.direction==="x"&&h.type!=="number"&&ed();var b=c.map(function(v){var w=u(v,l),N=w.x,S=w.y,A=w.value,T=w.errorVal;if(!T)return null;var C=[],E,O;if(Array.isArray(T)){var I=hje(T,2);E=I[0],O=I[1]}else E=O=T;if(s==="vertical"){var F=h.scale,W=S+i,$=W+o,z=W-o,V=F(A-E),U=F(A+O);C.push({x1:U,y1:$,x2:U,y2:z}),C.push({x1:V,y1:W,x2:U,y2:W}),C.push({x1:V,y1:$,x2:V,y2:z})}else if(s==="horizontal"){var te=p.scale,Q=N+i,J=Q-o,G=Q+o,ee=te(A-E),X=te(A+O);C.push({x1:J,y1:X,x2:G,y2:X}),C.push({x1:Q,y1:ee,x2:Q,y2:X}),C.push({x1:J,y1:ee,x2:G,y2:ee})}return Y.createElement(At,sb({className:"recharts-errorBar",key:"bar-".concat(C.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},x),C.map(function(q){return Y.createElement("line",sb({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Y.createElement(At,{className:"recharts-errorBars"},b)}}])})(Y.Component);D7(Xh,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});D7(Xh,"displayName","ErrorBar");function Eg(e){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eg(e)}function pB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pB(Object(n),!0).forEach(function(r){kje(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kje(e,t,n){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cje(e){var t=Tje(e,"string");return Eg(t)=="symbol"?t:t+""}function Tje(e,t){if(Eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var F7=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=ta(n,tl);if(!o)return null;var l=tl.defaultProps,c=l!==void 0?hu(hu({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(r||[]).reduce(function(h,p){var g=p.item,x=p.props,b=x.sectors||x.data||[];return h.concat(b.map(function(v){return{type:o.props.iconType||g.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):u=(r||[]).map(function(h){var p=h.item,g=p.type.defaultProps,x=g!==void 0?hu(hu({},g),p.props):{},b=x.dataKey,v=x.name,w=x.legendType,N=x.hide;return{inactive:N,dataKey:b,type:c.iconType||w||"square",color:VO(p),value:v||b,payload:x}}),hu(hu(hu({},c),tl.getWithHeight(o,i)),{},{payload:u,item:o})};function Og(e){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Og(e)}function mB(e){return Rje(e)||Mje(e)||Oje(e)||Eje()}function Eje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oje(e,t){if(e){if(typeof e=="string")return HC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HC(e,t)}}function Mje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rje(e){if(Array.isArray(e))return HC(e)}function HC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gB(Object(n),!0).forEach(function(r){Lf(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lf(e,t,n){return t=Ije(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ije(e){var t=Dje(e,"string");return Og(t)=="symbol"?t:t+""}function Dje(e,t){if(Og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pn(e,t,n){return ut(e)||ut(t)?n:vr(t)?oa(e,t,n):dt(t)?t(e):n}function Fm(e,t,n,r){var i=R_e(e,function(l){return Pn(l,t)});if(n==="number"){var s=i.filter(function(l){return Oe(l)||parseFloat(l)});return s.length?[t1(s),oc(s)]:[1/0,-1/0]}var o=r?i.filter(function(l){return!ut(l)}):i;return o.map(function(l){return vr(l)||l instanceof Date?l:""})}var Lje=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=r?.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var h=u>0?i[u-1].coordinate:i[l-1].coordinate,p=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,x=void 0;if(ui(p-h)!==ui(g-p)){var b=[];if(ui(g-p)===ui(c[1]-c[0])){x=g;var v=p+c[1]-c[0];b[0]=Math.min(v,(v+h)/2),b[1]=Math.max(v,(v+h)/2)}else{x=h;var w=g+c[1]-c[0];b[0]=Math.min(p,(w+p)/2),b[1]=Math.max(p,(w+p)/2)}var N=[Math.min(p,(x+p)/2),Math.max(p,(x+p)/2)];if(t>N[0]&&t<=N[1]||t>=b[0]&&t<=b[1]){o=i[u].index;break}}else{var S=Math.min(h,g),A=Math.max(h,g);if(t>(S+p)/2&&t<=(A+p)/2){o=i[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<l-1&&t>(r[T].coordinate+r[T-1].coordinate)/2&&t<=(r[T].coordinate+r[T+1].coordinate)/2||T===l-1&&t>(r[T].coordinate+r[T-1].coordinate)/2){o=r[T].index;break}return o},VO=function(t){var n,r=t,i=r.type.displayName,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Hn(Hn({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},Fje=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var h=s[l[c]].stackGroups,p=Object.keys(h),g=0,x=p.length;g<x;g++){var b=h[p[g]],v=b.items,w=b.cateAxisId,N=v.filter(function(O){return el(O.type).indexOf("Bar")>=0});if(N&&N.length){var S=N[0].type.defaultProps,A=S!==void 0?Hn(Hn({},S),N[0].props):N[0].props,T=A.barSize,C=A[w];o[C]||(o[C]=[]);var E=ut(T)?n:T;o[C].push({item:N[0],stackList:N.slice(1),barSize:ut(E)?void 0:di(E,r,0)})}}return o},$je=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=di(n,i,0,!0),h,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,x=i/c,b=o.reduce(function(T,C){return T+C.barSize||0},0);b+=(c-1)*u,b>=i&&(b-=(c-1)*u,u=0),b>=i&&x>0&&(g=!0,x*=.9,b=c*x);var v=(i-b)/2>>0,w={offset:v-u,size:0};h=o.reduce(function(T,C){var E={item:C.item,position:{offset:w.offset+w.size+u,size:g?x:C.barSize}},O=[].concat(mB(T),[E]);return w=O[O.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){O.push({item:I,position:w})}),O},p)}else{var N=di(r,i,0,!0);i-2*N-(c-1)*u<=0&&(u=0);var S=(i-2*N-(c-1)*u)/c;S>1&&(S>>=0);var A=l===+l?Math.min(S,l):S;h=o.reduce(function(T,C,E){var O=[].concat(mB(T),[{item:C.item,position:{offset:N+(S+u)*E+(S-A)/2,size:A}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},p)}return h},Bje=function(t,n,r,i){var s=r.children,o=r.width,l=r.margin,c=o-(l.left||0)-(l.right||0),u=F7({children:s,legendWidth:c});if(u){var h=i||{},p=h.width,g=h.height,x=u.align,b=u.verticalAlign,v=u.layout;if((v==="vertical"||v==="horizontal"&&b==="middle")&&x!=="center"&&Oe(t[x]))return Hn(Hn({},t),{},Lf({},x,t[x]+(p||0)));if((v==="horizontal"||v==="vertical"&&x==="center")&&b!=="middle"&&Oe(t[b]))return Hn(Hn({},t),{},Lf({},b,t[b]+(g||0)))}return t},zje=function(t,n,r){return ut(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},$7=function(t,n,r,i,s){var o=n.props.children,l=mi(o,Xh).filter(function(u){return zje(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,h){var p=Pn(h,r);if(ut(p))return u;var g=Array.isArray(p)?[t1(p),oc(p)]:[p,p],x=c.reduce(function(b,v){var w=Pn(h,v,0),N=g[0]-Math.abs(Array.isArray(w)?w[0]:w),S=g[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(N,b[0]),Math.max(S,b[1])]},[1/0,-1/0]);return[Math.min(x[0],u[0]),Math.max(x[1],u[1])]},[1/0,-1/0])}return null},Wje=function(t,n,r,i,s){var o=n.map(function(l){return $7(t,l,r,s,i)}).filter(function(l){return!ut(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},B7=function(t,n,r,i,s){var o=n.map(function(c){var u=c.props.dataKey;return r==="number"&&u&&$7(t,c,u,i)||Fm(t,u,r,s)});if(r==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var h=0,p=u.length;h<p;h++)l[u[h]]||(l[u[h]]=!0,c.push(u[h]));return c},[])},z7=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},W7=function(t,n,r,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===n&&(s=!0),c.coordinate===r&&(o=!0),c.coordinate});return s||l.push(n),o||l.push(r),l},Ko=function(t,n,r){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?ui(l[0]-l[1])*2*u:u,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:i(g)+u,value:p,offset:u}});return h.filter(function(p){return!Hh(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:i(p)+u,value:p,index:g,offset:u}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,g){return{coordinate:i(p)+u,value:s?s[p]:p,index:g,offset:u}})},vA=new WeakMap,Tx=function(t,n){if(typeof n!="function")return t;vA.has(t)||vA.set(t,new WeakMap);var r=vA.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},q7=function(t,n,r){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Sg(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:tb(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Lm(),realScaleType:"point"}:s==="category"?{scale:Sg(),realScaleType:"band"}:{scale:tb(),realScaleType:"linear"};if(Xu(i)){var c="scale".concat(Bw(i));return{scale:(tB[c]||Lm)(),realScaleType:tB[c]?c:"point"}}return dt(i)?{scale:i}:{scale:Lm(),realScaleType:"point"}},vB=1e-4,U7=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),s=Math.min(i[0],i[1])-vB,o=Math.max(i[0],i[1])+vB,l=t(n[0]),c=t(n[r-1]);(l<s||l>o||c<s||c>o)&&t.domain([n[0],n[r-1]])}},qje=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},Uje=function(t,n){if(!n||n.length!==2||!Oe(n[0])||!Oe(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[t[0],t[1]];return(!Oe(t[0])||t[0]<r)&&(s[0]=r),(!Oe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Vje=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,o=0,l=0;l<n;++l){var c=Hh(t[l][r][1])?t[l][r][0]:t[l][r][1];c>=0?(t[l][r][0]=s,t[l][r][1]=s+c,s=t[l][r][1]):(t[l][r][0]=o,t[l][r][1]=o+c,o=t[l][r][1])}},Hje=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var l=Hh(t[o][r][1])?t[o][r][0]:t[o][r][1];l>=0?(t[o][r][0]=s,t[o][r][1]=s+l,s=t[o][r][1]):(t[o][r][0]=0,t[o][r][1]=0)}},Kje={sign:Vje,expand:Rye,none:Qf,silhouette:Iye,wiggle:Dye,positive:Hje},Gje=function(t,n,r){var i=n.map(function(l){return l.props.dataKey}),s=Kje[r],o=Mye().keys(i).value(function(l,c){return+Pn(l,c,0)}).order(_C).offset(s);return o(t)},Yje=function(t,n,r,i,s,o){if(!t)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(p,g){var x,b=(x=g.type)!==null&&x!==void 0&&x.defaultProps?Hn(Hn({},g.type.defaultProps),g.props):g.props,v=b.stackId,w=b.hide;if(w)return p;var N=b[r],S=p[N]||{hasStack:!1,stackGroups:{}};if(vr(v)){var A=S.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(g),S.hasStack=!0,S.stackGroups[v]=A}else S.stackGroups[Ec("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Hn(Hn({},p),{},Lf({},N,S))},c),h={};return Object.keys(u).reduce(function(p,g){var x=u[g];if(x.hasStack){var b={};x.stackGroups=Object.keys(x.stackGroups).reduce(function(v,w){var N=x.stackGroups[w];return Hn(Hn({},v),{},Lf({},w,{numericAxisId:r,cateAxisId:i,items:N.items,stackedData:Gje(t,N.items,s)}))},b)}return Hn(Hn({},p),{},Lf({},g,x))},h)},V7=function(t,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var h=cje(u,s,l);return t.domain([t1(h),oc(h)]),{niceTicks:h}}if(s&&i==="number"){var p=t.domain(),g=uje(p,s,l);return{niceTicks:g}}return null};function oh(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ut(i[t.dataKey])){var l=L0(n,"value",i[t.dataKey]);if(l)return l.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var c=Pn(i,ut(o)?t.dataKey:o);return ut(c)?null:t.scale(c)}var yB=function(t){var n=t.axis,r=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=Pn(o,n.dataKey,n.domain[l]);return ut(c)?null:n.scale(c)-s/2+i},Zje=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Xje=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Hn(Hn({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(vr(s)){var o=n[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},Qje=function(t){return t.reduce(function(n,r){return[t1(r.concat([n[0]]).filter(Oe)),oc(r.concat([n[1]]).filter(Oe))]},[1/0,-1/0])},H7=function(t,n,r){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,h){var p=Qje(h.slice(n,r+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},xB=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bB=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,KC=function(t,n,r){if(dt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Oe(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(xB.test(t[0])){var s=+xB.exec(t[0])[1];i[0]=n[0]-s}else dt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Oe(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(bB.test(t[1])){var o=+bB.exec(t[1])[1];i[1]=n[1]+o}else dt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},lb=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var s=xO(n,function(p){return p.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],h=s[l-1];o=Math.min((u.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},wB=function(t,n,r){return!t||!t.length||Sc(t,oa(r,"type.defaultProps.domain"))?n:t},K7=function(t,n){var r=t.type.defaultProps?Hn(Hn({},t.type.defaultProps),t.props):t.props,i=r.dataKey,s=r.name,o=r.unit,l=r.formatter,c=r.tooltipType,u=r.chartType,h=r.hide;return Hn(Hn({},Qe(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:VO(t),value:Pn(n,i),type:c,payload:n,chartType:u,hide:h})};function Mg(e){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mg(e)}function _B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_B(Object(n),!0).forEach(function(r){G7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G7(e,t,n){return t=Jje(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jje(e){var t=eSe(e,"string");return Mg(t)=="symbol"?t:t+""}function eSe(e,t){if(Mg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tSe(e,t){return aSe(e)||iSe(e,t)||rSe(e,t)||nSe()}function nSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rSe(e,t){if(e){if(typeof e=="string")return jB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jB(e,t)}}function jB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iSe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function aSe(e){if(Array.isArray(e))return e}var cb=Math.PI/180,sSe=function(t){return t*180/Math.PI},pn=function(t,n,r,i){return{x:t+Math.cos(-cb*i)*r,y:n+Math.sin(-cb*i)*r}},Y7=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},oSe=function(t,n,r,i,s){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,h=di(t.cx,o,o/2),p=di(t.cy,l,l/2),g=Y7(o,l,r),x=di(t.innerRadius,g,0),b=di(t.outerRadius,g,g*.8),v=Object.keys(n);return v.reduce(function(w,N){var S=n[N],A=S.domain,T=S.reversed,C;if(ut(S.range))i==="angleAxis"?C=[c,u]:i==="radiusAxis"&&(C=[x,b]),T&&(C=[C[1],C[0]]);else{C=S.range;var E=C,O=tSe(E,2);c=O[0],u=O[1]}var I=q7(S,s),F=I.realScaleType,W=I.scale;W.domain(A).range(C),U7(W);var $=V7(W,zo(zo({},S),{},{realScaleType:F})),z=zo(zo(zo({},S),$),{},{range:C,radius:b,realScaleType:F,scale:W,cx:h,cy:p,innerRadius:x,outerRadius:b,startAngle:c,endAngle:u});return zo(zo({},w),{},G7({},N,z))},{})},lSe=function(t,n){var r=t.x,i=t.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},cSe=function(t,n){var r=t.x,i=t.y,s=n.cx,o=n.cy,l=lSe({x:r,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(r-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:sSe(u),angleInRadian:u}},uSe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},dSe=function(t,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},SB=function(t,n){var r=t.x,i=t.y,s=cSe({x:r,y:i},n),o=s.radius,l=s.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var h=uSe(n),p=h.startAngle,g=h.endAngle,x=l,b;if(p<=g){for(;x>g;)x-=360;for(;x<p;)x+=360;b=x>=p&&x<=g}else{for(;x>p;)x-=360;for(;x<g;)x+=360;b=x>=g&&x<=p}return b?zo(zo({},n),{},{radius:o,angle:dSe(x,n)}):null},Z7=function(t){return!j.isValidElement(t)&&!dt(t)&&typeof t!="boolean"?t.className:""};function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}var fSe=["offset"];function hSe(e){return vSe(e)||gSe(e)||mSe(e)||pSe()}function pSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mSe(e,t){if(e){if(typeof e=="string")return GC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(e,t)}}function gSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function vSe(e){if(Array.isArray(e))return GC(e)}function GC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ySe(e,t){if(e==null)return{};var n=xSe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xSe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function NB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NB(Object(n),!0).forEach(function(r){bSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bSe(e,t,n){return t=wSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wSe(e){var t=_Se(e,"string");return Rg(t)=="symbol"?t:t+""}function _Se(e,t){if(Rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ig.apply(this,arguments)}var jSe=function(t){var n=t.value,r=t.formatter,i=ut(t.children)?n:t.children;return dt(r)?r(i):i},SSe=function(t,n){var r=ui(n-t),i=Math.min(Math.abs(n-t),360);return r*i},NSe=function(t,n,r){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,h=c.cy,p=c.innerRadius,g=c.outerRadius,x=c.startAngle,b=c.endAngle,v=c.clockWise,w=(p+g)/2,N=SSe(x,b),S=N>=0?1:-1,A,T;i==="insideStart"?(A=x+S*o,T=v):i==="insideEnd"?(A=b-S*o,T=!v):i==="end"&&(A=b+S*o,T=v),T=N<=0?T:!T;var C=pn(u,h,w,A),E=pn(u,h,w,A+(T?1:-1)*359),O="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),I=ut(t.id)?Ec("recharts-radial-line-"):t.id;return Y.createElement("text",Ig({},r,{dominantBaseline:"central",className:wt("recharts-radial-bar-label",l)}),Y.createElement("defs",null,Y.createElement("path",{id:I,d:O})),Y.createElement("textPath",{xlinkHref:"#".concat(I)},n))},PSe=function(t){var n=t.viewBox,r=t.offset,i=t.position,s=n,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,h=s.startAngle,p=s.endAngle,g=(h+p)/2;if(i==="outside"){var x=pn(o,l,u+r,g),b=x.x,v=x.y;return{x:b,y:v,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,N=pn(o,l,w,g),S=N.x,A=N.y;return{x:S,y:A,textAnchor:"middle",verticalAnchor:"middle"}},ASe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,s=t.position,o=n,l=o.x,c=o.y,u=o.width,h=o.height,p=h>=0?1:-1,g=p*i,x=p>0?"end":"start",b=p>0?"start":"end",v=u>=0?1:-1,w=v*i,N=v>0?"end":"start",S=v>0?"start":"end";if(s==="top"){var A={x:l+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:x};return pr(pr({},A),r?{height:Math.max(c-r.y,0),width:u}:{})}if(s==="bottom"){var T={x:l+u/2,y:c+h+g,textAnchor:"middle",verticalAnchor:b};return pr(pr({},T),r?{height:Math.max(r.y+r.height-(c+h),0),width:u}:{})}if(s==="left"){var C={x:l-w,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return pr(pr({},C),r?{width:Math.max(C.x-r.x,0),height:h}:{})}if(s==="right"){var E={x:l+u+w,y:c+h/2,textAnchor:S,verticalAnchor:"middle"};return pr(pr({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var O=r?{width:u,height:h}:{};return s==="insideLeft"?pr({x:l+w,y:c+h/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideRight"?pr({x:l+u-w,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideTop"?pr({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:b},O):s==="insideBottom"?pr({x:l+u/2,y:c+h-g,textAnchor:"middle",verticalAnchor:x},O):s==="insideTopLeft"?pr({x:l+w,y:c+g,textAnchor:S,verticalAnchor:b},O):s==="insideTopRight"?pr({x:l+u-w,y:c+g,textAnchor:N,verticalAnchor:b},O):s==="insideBottomLeft"?pr({x:l+w,y:c+h-g,textAnchor:S,verticalAnchor:x},O):s==="insideBottomRight"?pr({x:l+u-w,y:c+h-g,textAnchor:N,verticalAnchor:x},O):Vh(s)&&(Oe(s.x)||Tu(s.x))&&(Oe(s.y)||Tu(s.y))?pr({x:l+di(s.x,u),y:c+di(s.y,h),textAnchor:"end",verticalAnchor:"end"},O):pr({x:l+u/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},O)},kSe=function(t){return"cx"in t&&Oe(t.cx)};function Nr(e){var t=e.offset,n=t===void 0?5:t,r=ySe(e,fSe),i=pr({offset:n},r),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!s||ut(l)&&ut(c)&&!j.isValidElement(u)&&!dt(u))return null;if(j.isValidElement(u))return j.cloneElement(u,i);var x;if(dt(u)){if(x=j.createElement(u,i),j.isValidElement(x))return x}else x=jSe(i);var b=kSe(s),v=Qe(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return NSe(i,x,v);var w=b?PSe(i):ASe(i);return Y.createElement(Qu,Ig({className:wt("recharts-label",p)},v,w,{breakAll:g}),x)}Nr.displayName="Label";var X7=function(t){var n=t.cx,r=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,h=t.outerRadius,p=t.x,g=t.y,x=t.top,b=t.left,v=t.width,w=t.height,N=t.clockWise,S=t.labelViewBox;if(S)return S;if(Oe(v)&&Oe(w)){if(Oe(p)&&Oe(g))return{x:p,y:g,width:v,height:w};if(Oe(x)&&Oe(b))return{x,y:b,width:v,height:w}}return Oe(p)&&Oe(g)?{x:p,y:g,width:0,height:0}:Oe(n)&&Oe(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:h||c||l||0,clockWise:N}:t.viewBox?t.viewBox:{}},CSe=function(t,n){return t?t===!0?Y.createElement(Nr,{key:"label-implicit",viewBox:n}):vr(t)?Y.createElement(Nr,{key:"label-implicit",viewBox:n,value:t}):j.isValidElement(t)?t.type===Nr?j.cloneElement(t,{key:"label-implicit",viewBox:n}):Y.createElement(Nr,{key:"label-implicit",content:t,viewBox:n}):dt(t)?Y.createElement(Nr,{key:"label-implicit",content:t,viewBox:n}):Vh(t)?Y.createElement(Nr,Ig({viewBox:n},t,{key:"label-implicit"})):null:null},TSe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,s=X7(t),o=mi(i,Nr).map(function(c,u){return j.cloneElement(c,{viewBox:n||s,key:"label-".concat(u)})});if(!r)return o;var l=CSe(t.label,n||s);return[l].concat(hSe(o))};Nr.parseViewBox=X7;Nr.renderCallByParent=TSe;var yA,PB;function ESe(){if(PB)return yA;PB=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return yA=e,yA}var OSe=ESe();const MSe=Ut(OSe);function Dg(e){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(e)}var RSe=["valueAccessor"],ISe=["data","dataKey","clockWise","id","textBreakAll"];function DSe(e){return BSe(e)||$Se(e)||FSe(e)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(e,t){if(e){if(typeof e=="string")return YC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YC(e,t)}}function $Se(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BSe(e){if(Array.isArray(e))return YC(e)}function YC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ub(){return ub=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ub.apply(this,arguments)}function AB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(n),!0).forEach(function(r){zSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zSe(e,t,n){return t=WSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WSe(e){var t=qSe(e,"string");return Dg(t)=="symbol"?t:t+""}function qSe(e,t){if(Dg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CB(e,t){if(e==null)return{};var n=USe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function USe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var VSe=function(t){return Array.isArray(t.value)?MSe(t.value):t.value};function gs(e){var t=e.valueAccessor,n=t===void 0?VSe:t,r=CB(e,RSe),i=r.data,s=r.dataKey,o=r.clockWise,l=r.id,c=r.textBreakAll,u=CB(r,ISe);return!i||!i.length?null:Y.createElement(At,{className:"recharts-label-list"},i.map(function(h,p){var g=ut(s)?n(h,p):Pn(h&&h.payload,s),x=ut(l)?{}:{id:"".concat(l,"-").concat(p)};return Y.createElement(Nr,ub({},Qe(h,!0),u,x,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:Nr.parseViewBox(ut(o)?h:kB(kB({},h),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}gs.displayName="LabelList";function HSe(e,t){return e?e===!0?Y.createElement(gs,{key:"labelList-implicit",data:t}):Y.isValidElement(e)||dt(e)?Y.createElement(gs,{key:"labelList-implicit",data:t,content:e}):Vh(e)?Y.createElement(gs,ub({data:t},e,{key:"labelList-implicit"})):null:null}function KSe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=mi(r,gs).map(function(o,l){return j.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!n)return i;var s=HSe(e.label,t);return[s].concat(DSe(i))}gs.renderCallByParent=KSe;function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ZC.apply(this,arguments)}function TB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TB(Object(n),!0).forEach(function(r){GSe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GSe(e,t,n){return t=YSe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YSe(e){var t=ZSe(e,"string");return Lg(t)=="symbol"?t:t+""}function ZSe(e,t){if(Lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XSe=function(t,n){var r=ui(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Ex=function(t){var n=t.cx,r=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/cb,g=u?s:s+o*p,x=pn(n,r,h,g),b=pn(n,r,i,g),v=u?s-o*p:s,w=pn(n,r,h*Math.cos(p*cb),v);return{center:x,circleTangency:b,lineTangency:w,theta:p}},Q7=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=XSe(o,l),u=o+c,h=pn(n,r,s,o),p=pn(n,r,s,u),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var x=pn(n,r,i,o),b=pn(n,r,i,u);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(x.x,",").concat(x.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},QSe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,h=t.endAngle,p=ui(h-u),g=Ex({cx:n,cy:r,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),x=g.circleTangency,b=g.lineTangency,v=g.theta,w=Ex({cx:n,cy:r,radius:s,angle:h,sign:-p,cornerRadius:o,cornerIsExternal:c}),N=w.circleTangency,S=w.lineTangency,A=w.theta,T=c?Math.abs(u-h):Math.abs(u-h)-v-A;if(T<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Q7({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:u,endAngle:h});var C="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var E=Ex({cx:n,cy:r,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=E.circleTangency,I=E.lineTangency,F=E.theta,W=Ex({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),$=W.circleTangency,z=W.lineTangency,V=W.theta,U=c?Math.abs(u-h):Math.abs(u-h)-F-V;if(U<0&&o===0)return"".concat(C,"L").concat(n,",").concat(r,"Z");C+="L".concat(z.x,",").concat(z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat($.x,",").concat($.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(U>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else C+="L".concat(n,",").concat(r,"Z");return C},JSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},J7=function(t){var n=EB(EB({},JSe),t),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(o<s||h===p)return null;var x=wt("recharts-sector",g),b=o-s,v=di(l,b,0,!0),w;return v>0&&Math.abs(h-p)<360?w=QSe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(v,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:p}):w=Q7({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:h,endAngle:p}),Y.createElement("path",ZC({},Qe(n,!0),{className:x,d:w,role:"img"}))};function Fg(e){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(e)}function XC(){return XC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XC.apply(this,arguments)}function OB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function MB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OB(Object(n),!0).forEach(function(r){eNe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eNe(e,t,n){return t=tNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tNe(e){var t=nNe(e,"string");return Fg(t)=="symbol"?t:t+""}function nNe(e,t){if(Fg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RB={curveBasisClosed:_ye,curveBasisOpen:jye,curveBasis:wye,curveBumpX:oye,curveBumpY:lye,curveLinearClosed:Sye,curveLinear:Ww,curveMonotoneX:Nye,curveMonotoneY:Pye,curveNatural:Aye,curveStep:kye,curveStepAfter:Tye,curveStepBefore:Cye},Ox=function(t){return t.x===+t.x&&t.y===+t.y},hm=function(t){return t.x},pm=function(t){return t.y},rNe=function(t,n){if(dt(t))return t;var r="curve".concat(Bw(t));return(r==="curveMonotone"||r==="curveBump")&&n?RB["".concat(r).concat(n==="vertical"?"Y":"X")]:RB[r]||Ww},iNe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,h=rNe(r,l),p=u?s.filter(function(v){return Ox(v)}):s,g;if(Array.isArray(o)){var x=u?o.filter(function(v){return Ox(v)}):o,b=p.map(function(v,w){return MB(MB({},v),{},{base:x[w]})});return l==="vertical"?g=jx().y(pm).x1(hm).x0(function(v){return v.base.x}):g=jx().x(hm).y1(pm).y0(function(v){return v.base.y}),g.defined(Ox).curve(h),g(b)}return l==="vertical"&&Oe(o)?g=jx().y(pm).x1(hm).x0(o):Oe(o)?g=jx().x(hm).y1(pm).y0(o):g=X9().x(hm).y(pm),g.defined(Ox).curve(h),g(p)},mc=function(t){var n=t.className,r=t.points,i=t.path,s=t.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?iNe(t):i;return j.createElement("path",XC({},Qe(t,!1),F0(t),{className:wt("recharts-curve",n),d:o,ref:s}))},xA={exports:{}},bA,IB;function aNe(){if(IB)return bA;IB=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return bA=e,bA}var wA,DB;function sNe(){if(DB)return wA;DB=1;var e=aNe();function t(){}function n(){}return n.resetWarningCache=t,wA=function(){function r(o,l,c,u,h,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:t};return s.PropTypes=s,s},wA}var LB;function oNe(){return LB||(LB=1,xA.exports=sNe()()),xA.exports}var lNe=oNe();const Yt=Ut(lNe);var cNe=Object.getOwnPropertyNames,uNe=Object.getOwnPropertySymbols,dNe=Object.prototype.hasOwnProperty;function FB(e,t){return function(r,i,s){return e(r,i,s)&&t(r,i,s)}}function Mx(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var s=i.cache,o=s.get(n),l=s.get(r);if(o&&l)return o===r&&l===n;s.set(n,r),s.set(r,n);var c=e(n,r,i);return s.delete(n),s.delete(r),c}}function $B(e){return cNe(e).concat(uNe(e))}var fNe=Object.hasOwn||(function(e,t){return dNe.call(e,t)});function pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var hNe="__v",pNe="__o",mNe="_owner",BB=Object.getOwnPropertyDescriptor,zB=Object.keys;function gNe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function vNe(e,t){return pd(e.getTime(),t.getTime())}function yNe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xNe(e,t){return e===t}function WB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),h=!1,p=0;(l=u.next())&&!l.done;){if(i[p]){p++;continue}var g=o.value,x=l.value;if(n.equals(g[0],x[0],c,p,e,t,n)&&n.equals(g[1],x[1],g[0],x[0],e,t,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}var bNe=pd;function wNe(e,t,n){var r=zB(e),i=r.length;if(zB(t).length!==i)return!1;for(;i-- >0;)if(!eK(e,t,n,r[i]))return!1;return!0}function mm(e,t,n){var r=$B(e),i=r.length;if($B(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=r[i],!eK(e,t,n,s)||(o=BB(e,s),l=BB(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _Ne(e,t){return pd(e.valueOf(),t.valueOf())}function jNe(e,t){return e.source===t.source&&e.flags===t.flags}function qB(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,h=0;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){u=i[h]=!0;break}h++}if(!u)return!1}return!0}function SNe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function NNe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function eK(e,t,n,r){return(r===mNe||r===pNe||r===hNe)&&(e.$$typeof||t.$$typeof)?!0:fNe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var PNe="[object Arguments]",ANe="[object Boolean]",kNe="[object Date]",CNe="[object Error]",TNe="[object Map]",ENe="[object Number]",ONe="[object Object]",MNe="[object RegExp]",RNe="[object Set]",INe="[object String]",DNe="[object URL]",LNe=Array.isArray,UB=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VB=Object.assign,FNe=Object.prototype.toString.call.bind(Object.prototype.toString);function $Ne(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,h=e.areSetsEqual,p=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(b,v,w){if(b===v)return!0;if(b==null||v==null)return!1;var N=typeof b;if(N!==typeof v)return!1;if(N!=="object")return N==="number"?o(b,v,w):N==="function"?i(b,v,w):!1;var S=b.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(b,v,w);if(LNe(b))return t(b,v,w);if(UB!=null&&UB(b))return p(b,v,w);if(S===Date)return n(b,v,w);if(S===RegExp)return u(b,v,w);if(S===Map)return s(b,v,w);if(S===Set)return h(b,v,w);var A=FNe(b);return A===kNe?n(b,v,w):A===MNe?u(b,v,w):A===TNe?s(b,v,w):A===RNe?h(b,v,w):A===ONe?typeof b.then!="function"&&typeof v.then!="function"&&l(b,v,w):A===DNe?g(b,v,w):A===CNe?r(b,v,w):A===PNe?l(b,v,w):A===ANe||A===ENe||A===INe?c(b,v,w):!1}}function BNe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?mm:gNe,areDatesEqual:vNe,areErrorsEqual:yNe,areFunctionsEqual:xNe,areMapsEqual:r?FB(WB,mm):WB,areNumbersEqual:bNe,areObjectsEqual:r?mm:wNe,arePrimitiveWrappersEqual:_Ne,areRegExpsEqual:jNe,areSetsEqual:r?FB(qB,mm):qB,areTypedArraysEqual:r?mm:SNe,areUrlsEqual:NNe};if(n&&(i=VB({},i,n(i))),t){var s=Mx(i.areArraysEqual),o=Mx(i.areMapsEqual),l=Mx(i.areObjectsEqual),c=Mx(i.areSetsEqual);i=VB({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function zNe(e){return function(t,n,r,i,s,o,l){return e(t,n,l)}}function WNe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(c,u){var h=r(),p=h.cache,g=p===void 0?t?new WeakMap:void 0:p,x=h.meta;return n(c,u,{cache:g,equals:i,meta:x,strict:s})};if(t)return function(c,u){return n(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return n(c,u,o)}}var qNe=Rc();Rc({strict:!0});Rc({circular:!0});Rc({circular:!0,strict:!0});Rc({createInternalComparator:function(){return pd}});Rc({strict:!0,createInternalComparator:function(){return pd}});Rc({circular:!0,createInternalComparator:function(){return pd}});Rc({circular:!0,createInternalComparator:function(){return pd},strict:!0});function Rc(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=BNe(e),c=$Ne(l),u=r?r(c):zNe(c);return WNe({circular:n,comparator:c,createState:i,equals:u,strict:o})}function UNe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function HB(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>t?(e(s),n=-1):UNe(i)};requestAnimationFrame(r)}function QC(e){"@babel/helpers - typeof";return QC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},QC(e)}function VNe(e){return YNe(e)||GNe(e)||KNe(e)||HNe()}function HNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KNe(e,t){if(e){if(typeof e=="string")return KB(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KB(e,t)}}function KB(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YNe(e){if(Array.isArray(e))return e}function ZNe(){var e={},t=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,l=VNe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){HB(i.bind(null,u),c);return}i(c),HB(i.bind(null,u));return}QC(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function $g(e){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(e)}function GB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function YB(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GB(Object(n),!0).forEach(function(r){tK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tK(e,t,n){return t=XNe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XNe(e){var t=QNe(e,"string");return $g(t)==="symbol"?t:String(t)}function QNe(e,t){if($g(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if($g(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JNe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},ePe=function(t){return t},tPe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},$m=function(t,n){return Object.keys(n).reduce(function(r,i){return YB(YB({},r),{},tK({},i,t(i,n[i])))},{})},ZB=function(t,n,r){return t.map(function(i){return"".concat(tPe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function nPe(e,t){return aPe(e)||iPe(e,t)||nK(e,t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function aPe(e){if(Array.isArray(e))return e}function sPe(e){return cPe(e)||lPe(e)||nK(e)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nK(e,t){if(e){if(typeof e=="string")return JC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(e,t)}}function lPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cPe(e){if(Array.isArray(e))return JC(e)}function JC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var db=1e-4,rK=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},iK=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},XB=function(t,n){return function(r){var i=rK(t,n);return iK(i,r)}},uPe=function(t,n){return function(r){var i=rK(t,n),s=[].concat(sPe(i.map(function(o,l){return o*l}).slice(1)),[0]);return iK(s,r)}},QB=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),h=nPe(u,4);i=h[0],s=h[1],o=h[2],l=h[3]}}}var p=XB(i,o),g=XB(s,l),x=uPe(i,o),b=function(N){return N>1?1:N<0?0:N},v=function(N){for(var S=N>1?1:N,A=S,T=0;T<8;++T){var C=p(A)-S,E=x(A);if(Math.abs(C-S)<db||E<db)return g(A);A=b(A-C/E)}return g(A)};return v.isStepper=!1,v},dPe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(h,p,g){var x=-(h-p)*r,b=g*s,v=g+(x-b)*l/1e3,w=g*l/1e3+h;return Math.abs(w-p)<db&&Math.abs(v)<db?[p,0]:[w,v]};return c.isStepper=!0,c.dt=l,c},fPe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QB(i);case"spring":return dPe();default:if(i.split("(")[0]==="cubic-bezier")return QB(i)}return typeof i=="function"?i:null};function Bg(e){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bg(e)}function JB(e){return mPe(e)||pPe(e)||aK(e)||hPe()}function hPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mPe(e){if(Array.isArray(e))return tT(e)}function e6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(n),!0).forEach(function(r){eT(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eT(e,t,n){return t=gPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gPe(e){var t=vPe(e,"string");return Bg(t)==="symbol"?t:String(t)}function vPe(e,t){if(Bg(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yPe(e,t){return wPe(e)||bPe(e,t)||aK(e,t)||xPe()}function xPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aK(e,t){if(e){if(typeof e=="string")return tT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tT(e,t)}}function tT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wPe(e){if(Array.isArray(e))return e}var fb=function(t,n,r){return t+(n-t)*r},nT=function(t){var n=t.from,r=t.to;return n!==r},_Pe=function e(t,n,r){var i=$m(function(s,o){if(nT(o)){var l=t(o.from,o.to,o.velocity),c=yPe(l,2),u=c[0],h=c[1];return Or(Or({},o),{},{from:u,velocity:h})}return o},n);return r<1?$m(function(s,o){return nT(o)?Or(Or({},o),{},{velocity:fb(o.velocity,i[s].velocity,r),from:fb(o.from,i[s].from,r)}):o},n):e(t,i,r-1)};const jPe=(function(e,t,n,r,i){var s=JNe(e,t),o=s.reduce(function(w,N){return Or(Or({},w),{},eT({},N,[e[N],t[N]]))},{}),l=s.reduce(function(w,N){return Or(Or({},w),{},eT({},N,{from:e[N],velocity:0,to:t[N]}))},{}),c=-1,u,h,p=function(){return null},g=function(){return $m(function(N,S){return S.from},l)},x=function(){return!Object.values(l).filter(nT).length},b=function(N){u||(u=N);var S=N-u,A=S/n.dt;l=_Pe(n,l,A),i(Or(Or(Or({},e),t),g())),u=N,x()||(c=requestAnimationFrame(p))},v=function(N){h||(h=N);var S=(N-h)/r,A=$m(function(C,E){return fb.apply(void 0,JB(E).concat([n(S)]))},o);if(i(Or(Or(Or({},e),t),A)),S<1)c=requestAnimationFrame(p);else{var T=$m(function(C,E){return fb.apply(void 0,JB(E).concat([n(1)]))},o);i(Or(Or(Or({},e),t),T))}};return p=n.isStepper?b:v,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function lh(e){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lh(e)}var SPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function NPe(e,t){if(e==null)return{};var n=PPe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function PPe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function _A(e){return TPe(e)||CPe(e)||kPe(e)||APe()}function APe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kPe(e,t){if(e){if(typeof e=="string")return rT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rT(e,t)}}function CPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function TPe(e){if(Array.isArray(e))return rT(e)}function rT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(n),!0).forEach(function(r){Pm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pm(e,t,n){return t=sK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OPe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sK(r.key),r)}}function MPe(e,t,n){return t&&OPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sK(e){var t=RPe(e,"string");return lh(t)==="symbol"?t:String(t)}function RPe(e,t){if(lh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(lh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iT(e,t)}function iT(e,t){return iT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iT(e,t)}function DPe(e){var t=LPe();return function(){var r=hb(e),i;if(t){var s=hb(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return aT(this,i)}}function aT(e,t){if(t&&(lh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sT(e)}function sT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hb(e){return hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hb(e)}var Ba=(function(e){IPe(n,e);var t=DPe(n);function n(r,i){var s;EPe(this,n),s=t.call(this,r,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,h=o.to,p=o.steps,g=o.children,x=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(sT(s)),s.changeStyle=s.changeStyle.bind(sT(s)),!l||x<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:h}),aT(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof g=="function")return s.state={style:u},aT(s);s.state={style:c?Pm({},c,u):u}}else s.state={style:{}};return s}return MPe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,h=s.to,p=s.from,g=this.state.style;if(l){if(!o){var x={style:c?Pm({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(x);return}if(!(qNe(i.to,h)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=b||u?p:i.to;if(this.state&&g){var w={style:c?Pm({},c,v):v};(c&&g[c]!==v||!c&&g!==v)&&this.setState(w)}this.runAnimation(rs(rs({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,x=jPe(o,l,fPe(u),c,this.changeStyle),b=function(){s.stopJSAnimation=x()};this.manager.start([g,h,b,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],h=u.style,p=u.duration,g=p===void 0?0:p,x=function(v,w,N){if(N===0)return v;var S=w.duration,A=w.easing,T=A===void 0?"ease":A,C=w.style,E=w.properties,O=w.onAnimationEnd,I=N>0?o[N-1]:w,F=E||Object.keys(C);if(typeof T=="function"||T==="spring")return[].concat(_A(v),[s.runJSAnimation.bind(s,{from:I.style,to:C,duration:S,easing:T}),S]);var W=ZB(F,S,T),$=rs(rs(rs({},I.style),C),{},{transition:W});return[].concat(_A(v),[$,S,O]).filter(ePe)};return this.manager.start([c].concat(_A(o.reduce(x,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=ZNe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,x=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof x=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var v=l?Pm({},l,c):c,w=ZB(Object.keys(v),o,u);b.start([h,s,rs(rs({},v),{},{transition:w}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=NPe(i,SPe),u=j.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!l||u===0||o<=0)return s;var p=function(x){var b=x.props,v=b.style,w=v===void 0?{}:v,N=b.className,S=j.cloneElement(x,rs(rs({},c),{},{style:rs(rs({},w),h),className:N}));return S};return u===1?p(j.Children.only(s)):Y.createElement("div",null,j.Children.map(s,function(g){return p(g)}))}}]),n})(j.PureComponent);Ba.displayName="Animate";Ba.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ba.propTypes={from:Yt.oneOfType([Yt.object,Yt.string]),to:Yt.oneOfType([Yt.object,Yt.string]),attributeName:Yt.string,duration:Yt.number,begin:Yt.number,easing:Yt.oneOfType([Yt.string,Yt.func]),steps:Yt.arrayOf(Yt.shape({duration:Yt.number.isRequired,style:Yt.object.isRequired,easing:Yt.oneOfType([Yt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Yt.func]),properties:Yt.arrayOf("string"),onAnimationEnd:Yt.func})),children:Yt.oneOfType([Yt.node,Yt.func]),isActive:Yt.bool,canBegin:Yt.bool,onAnimationEnd:Yt.func,shouldReAnimate:Yt.bool,onAnimationStart:Yt.func,onAnimationReStart:Yt.func};function zg(e){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zg(e)}function pb(){return pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pb.apply(this,arguments)}function FPe(e,t){return WPe(e)||zPe(e,t)||BPe(e,t)||$Pe()}function $Pe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BPe(e,t){if(e){if(typeof e=="string")return n6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n6(e,t)}}function n6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zPe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function WPe(e){if(Array.isArray(e))return e}function r6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function i6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r6(Object(n),!0).forEach(function(r){qPe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qPe(e,t,n){return t=UPe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UPe(e){var t=VPe(e,"string");return zg(t)=="symbol"?t:t+""}function VPe(e,t){if(zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a6=function(t,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,h;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,x=4;g<x;g++)p[g]=s[g]>o?o:s[g];h="M".concat(t,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+c*p[0],",").concat(n)),h+="L ".concat(t+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+r,",").concat(n+l*p[1])),h+="L ".concat(t+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+r-c*p[2],",").concat(n+i)),h+="L ".concat(t+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(n+i-l*p[3])),h+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);h="M ".concat(t,",").concat(n+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(n,`
            L `).concat(t+r-c*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+r,",").concat(n+l*b,`
            L `).concat(t+r,",").concat(n+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+r-c*b,",").concat(n+i,`
            L `).concat(t+c*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(n+i-l*b," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},HPe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,s=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),h=Math.max(s,s+l),p=Math.min(o,o+c),g=Math.max(o,o+c);return r>=u&&r<=h&&i>=p&&i<=g}return!1},KPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HO=function(t){var n=i6(i6({},KPe),t),r=j.useRef(),i=j.useState(-1),s=FPe(i,2),o=s[0],l=s[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,u=n.y,h=n.width,p=n.height,g=n.radius,x=n.className,b=n.animationEasing,v=n.animationDuration,w=n.animationBegin,N=n.isAnimationActive,S=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||p!==+p||h===0||p===0)return null;var A=wt("recharts-rectangle",x);return S?Y.createElement(Ba,{canBegin:o>0,from:{width:h,height:p,x:c,y:u},to:{width:h,height:p,x:c,y:u},duration:v,animationEasing:b,isActive:S},function(T){var C=T.width,E=T.height,O=T.x,I=T.y;return Y.createElement(Ba,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,isActive:N,easing:b},Y.createElement("path",pb({},Qe(n,!0),{className:A,d:a6(O,I,C,E,g),ref:r})))}):Y.createElement("path",pb({},Qe(n,!0),{className:A,d:a6(c,u,h,p,g)}))},GPe=["points","className","baseLinePoints","connectNulls"];function kf(){return kf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kf.apply(this,arguments)}function YPe(e,t){if(e==null)return{};var n=ZPe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZPe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function s6(e){return eAe(e)||JPe(e)||QPe(e)||XPe()}function XPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QPe(e,t){if(e){if(typeof e=="string")return oT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oT(e,t)}}function JPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eAe(e){if(Array.isArray(e))return oT(e)}function oT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o6=function(t){return t&&t.x===+t.x&&t.y===+t.y},tAe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){o6(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),o6(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Bm=function(t,n){var r=tAe(t);n&&(r=[r.reduce(function(s,o){return[].concat(s6(s),s6(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},nAe=function(t,n,r){var i=Bm(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Bm(n.reverse(),r).slice(1))},rAe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,s=t.connectNulls,o=YPe(t,GPe);if(!n||!n.length)return null;var l=wt("recharts-polygon",r);if(i&&i.length){var c=o.stroke&&o.stroke!=="none",u=nAe(n,i,s);return Y.createElement("g",{className:l},Y.createElement("path",kf({},Qe(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?Y.createElement("path",kf({},Qe(o,!0),{fill:"none",d:Bm(n,s)})):null,c?Y.createElement("path",kf({},Qe(o,!0),{fill:"none",d:Bm(i,s)})):null)}var h=Bm(n,s);return Y.createElement("path",kf({},Qe(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function lT(){return lT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lT.apply(this,arguments)}var Ov=function(t){var n=t.cx,r=t.cy,i=t.r,s=t.className,o=wt("recharts-dot",s);return n===+n&&r===+r&&i===+i?j.createElement("circle",lT({},Qe(t,!1),F0(t),{className:o,cx:n,cy:r,r:i})):null};function Wg(e){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wg(e)}var iAe=["x","y","top","left","width","height","className"];function cT(){return cT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cT.apply(this,arguments)}function l6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function aAe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l6(Object(n),!0).forEach(function(r){sAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sAe(e,t,n){return t=oAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oAe(e){var t=lAe(e,"string");return Wg(t)=="symbol"?t:t+""}function lAe(e,t){if(Wg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cAe(e,t){if(e==null)return{};var n=uAe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var dAe=function(t,n,r,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},fAe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,h=t.width,p=h===void 0?0:h,g=t.height,x=g===void 0?0:g,b=t.className,v=cAe(t,iAe),w=aAe({x:r,y:s,top:l,left:u,width:p,height:x},v);return!Oe(r)||!Oe(s)||!Oe(p)||!Oe(x)||!Oe(l)||!Oe(u)?null:Y.createElement("path",cT({},Qe(w,!0),{className:wt("recharts-cross",b),d:dAe(r,s,p,x,l,u)}))},jA,c6;function hAe(){if(c6)return jA;c6=1;var e=e1(),t=w7(),n=yo();function r(i,s){return i&&i.length?e(i,n(s,2),t):void 0}return jA=r,jA}var pAe=hAe();const mAe=Ut(pAe);var SA,u6;function gAe(){if(u6)return SA;u6=1;var e=e1(),t=yo(),n=_7();function r(i,s){return i&&i.length?e(i,t(s,2),n):void 0}return SA=r,SA}var vAe=gAe();const yAe=Ut(vAe);var xAe=["cx","cy","angle","ticks","axisLine"],bAe=["ticks","tick","angle","tickFormatter","stroke"];function ch(e){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(e)}function zm(){return zm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zm.apply(this,arguments)}function d6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(n),!0).forEach(function(r){i1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function f6(e,t){if(e==null)return{};var n=wAe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function wAe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _Ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lK(r.key),r)}}function jAe(e,t,n){return t&&h6(e.prototype,t),n&&h6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SAe(e,t,n){return t=mb(t),NAe(e,oK()?Reflect.construct(t,n||[],mb(e).constructor):t.apply(e,n))}function NAe(e,t){if(t&&(ch(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(e)}function PAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function mb(e){return mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mb(e)}function AAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uT(e,t)}function uT(e,t){return uT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uT(e,t)}function i1(e,t,n){return t=lK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lK(e){var t=kAe(e,"string");return ch(t)=="symbol"?t:t+""}function kAe(e,t){if(ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a1=(function(e){function t(){return _Ae(this,t),SAe(this,t,arguments)}return AAe(t,e),jAe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return pn(l,c,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=mAe(l,function(h){return h.coordinate||0}),u=yAe(l,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,l=r.ticks,c=r.axisLine,u=f6(r,xAe),h=l.reduce(function(b,v){return[Math.min(b[0],v.coordinate),Math.max(b[1],v.coordinate)]},[1/0,-1/0]),p=pn(i,s,h[0],o),g=pn(i,s,h[1],o),x=pu(pu(pu({},Qe(u,!1)),{},{fill:"none"},Qe(c,!1)),{},{x1:p.x,y1:p.y,x2:g.x,y2:g.y});return Y.createElement("line",zm({className:"recharts-polar-radius-axis-line"},x))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.angle,c=i.tickFormatter,u=i.stroke,h=f6(i,bAe),p=this.getTickTextAnchor(),g=Qe(h,!1),x=Qe(o,!1),b=s.map(function(v,w){var N=r.getTickValueCoord(v),S=pu(pu(pu(pu({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:u},x),{},{index:w},N),{},{payload:v});return Y.createElement(At,zm({className:wt("recharts-polar-radius-axis-tick",Z7(o)),key:"tick-".concat(v.coordinate)},jc(r.props,v,w)),t.renderTickItem(o,S,c?c(v.value,w):v.value))});return Y.createElement(At,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:Y.createElement(At,{className:wt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Nr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return Y.isValidElement(r)?o=Y.cloneElement(r,i):dt(r)?o=r(i):o=Y.createElement(Qu,zm({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(j.PureComponent);i1(a1,"displayName","PolarRadiusAxis");i1(a1,"axisType","radiusAxis");i1(a1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function uh(e){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uh(e)}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(this,arguments)}function p6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p6(Object(n),!0).forEach(function(r){s1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uK(r.key),r)}}function TAe(e,t,n){return t&&m6(e.prototype,t),n&&m6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EAe(e,t,n){return t=gb(t),OAe(e,cK()?Reflect.construct(t,n||[],gb(e).constructor):t.apply(e,n))}function OAe(e,t){if(t&&(uh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAe(e)}function MAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!e})()}function gb(e){return gb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gb(e)}function RAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dT(e,t)}function dT(e,t){return dT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dT(e,t)}function s1(e,t,n){return t=uK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uK(e){var t=IAe(e,"string");return uh(t)=="symbol"?t:t+""}function IAe(e,t){if(uh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var DAe=Math.PI/180,g6=1e-5,o1=(function(e){function t(){return CAe(this,t),EAe(this,t,arguments)}return RAe(t,e),TAe(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,l=i.radius,c=i.orientation,u=i.tickSize,h=u||8,p=pn(s,o,l,r.coordinate),g=pn(s,o,l+(c==="inner"?-1:1)*h,r.coordinate);return{x1:p.x,y1:p.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*DAe),o;return s>g6?o=i==="outer"?"start":"end":s<-g6?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,l=r.axisLine,c=r.axisLineType,u=mu(mu({},Qe(this.props,!1)),{},{fill:"none"},Qe(l,!1));if(c==="circle")return Y.createElement(Ov,Su({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:s,r:o}));var h=this.props.ticks,p=h.map(function(g){return pn(i,s,o,g.coordinate)});return Y.createElement(rAe,Su({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,l=i.tickLine,c=i.tickFormatter,u=i.stroke,h=Qe(this.props,!1),p=Qe(o,!1),g=mu(mu({},h),{},{fill:"none"},Qe(l,!1)),x=s.map(function(b,v){var w=r.getTickLineCoord(b),N=r.getTickTextAnchor(b),S=mu(mu(mu({textAnchor:N},h),{},{stroke:"none",fill:u},p),{},{index:v,payload:b,x:w.x2,y:w.y2});return Y.createElement(At,Su({className:wt("recharts-polar-angle-axis-tick",Z7(o)),key:"tick-".concat(b.coordinate)},jc(r.props,b,v)),l&&Y.createElement("line",Su({className:"recharts-polar-angle-axis-tick-line"},g,w)),o&&t.renderTickItem(o,S,c?c(b.value,v):b.value))});return Y.createElement(At,{className:"recharts-polar-angle-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:Y.createElement(At,{className:wt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return Y.isValidElement(r)?o=Y.cloneElement(r,i):dt(r)?o=r(i):o=Y.createElement(Qu,Su({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(j.PureComponent);s1(o1,"displayName","PolarAngleAxis");s1(o1,"axisType","angleAxis");s1(o1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var NA,v6;function LAe(){if(v6)return NA;v6=1;var e=bH(),t=e(Object.getPrototypeOf,Object);return NA=t,NA}var PA,y6;function FAe(){if(y6)return PA;y6=1;var e=fl(),t=LAe(),n=hl(),r="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(h){if(!n(h)||e(h)!=r)return!1;var p=t(h);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return PA=u,PA}var $Ae=FAe();const BAe=Ut($Ae);var AA,x6;function zAe(){if(x6)return AA;x6=1;var e=fl(),t=hl(),n="[object Boolean]";function r(i){return i===!0||i===!1||t(i)&&e(i)==n}return AA=r,AA}var WAe=zAe();const qAe=Ut(WAe);function qg(e){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qg(e)}function vb(){return vb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vb.apply(this,arguments)}function UAe(e,t){return GAe(e)||KAe(e,t)||HAe(e,t)||VAe()}function VAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HAe(e,t){if(e){if(typeof e=="string")return b6(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b6(e,t)}}function b6(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function KAe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function GAe(e){if(Array.isArray(e))return e}function w6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w6(Object(n),!0).forEach(function(r){YAe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YAe(e,t,n){return t=ZAe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZAe(e){var t=XAe(e,"string");return qg(t)=="symbol"?t:t+""}function XAe(e,t){if(qg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j6=function(t,n,r,i,s){var o=r-i,l;return l="M ".concat(t,",").concat(n),l+="L ".concat(t+r,",").concat(n),l+="L ".concat(t+r-o/2,",").concat(n+s),l+="L ".concat(t+r-o/2-i,",").concat(n+s),l+="L ".concat(t,",").concat(n," Z"),l},QAe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},JAe=function(t){var n=_6(_6({},QAe),t),r=j.useRef(),i=j.useState(-1),s=UAe(i,2),o=s[0],l=s[1];j.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&l(A)}catch{}},[]);var c=n.x,u=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,x=n.className,b=n.animationEasing,v=n.animationDuration,w=n.animationBegin,N=n.isUpdateAnimationActive;if(c!==+c||u!==+u||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var S=wt("recharts-trapezoid",x);return N?Y.createElement(Ba,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:h,lowerWidth:p,height:g,x:c,y:u},duration:v,animationEasing:b,isActive:N},function(A){var T=A.upperWidth,C=A.lowerWidth,E=A.height,O=A.x,I=A.y;return Y.createElement(Ba,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:v,easing:b},Y.createElement("path",vb({},Qe(n,!0),{className:S,d:j6(O,I,T,C,E),ref:r})))}):Y.createElement("g",null,Y.createElement("path",vb({},Qe(n,!0),{className:S,d:j6(c,u,h,p,g)})))},eke=["option","shapeType","propTransformer","activeClassName","isActive"];function Ug(e){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ug(e)}function tke(e,t){if(e==null)return{};var n=nke(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nke(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function S6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S6(Object(n),!0).forEach(function(r){rke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rke(e,t,n){return t=ike(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ike(e){var t=ake(e,"string");return Ug(t)=="symbol"?t:t+""}function ake(e,t){if(Ug(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ske(e,t){return yb(yb({},t),e)}function oke(e,t){return e==="symbols"}function N6(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return Y.createElement(HO,n);case"trapezoid":return Y.createElement(JAe,n);case"sector":return Y.createElement(J7,n);case"symbols":if(oke(t))return Y.createElement(Uw,n);break;default:return null}}function lke(e){return j.isValidElement(e)?e.props:e}function xb(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?ske:r,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=tke(e,eke),u;if(j.isValidElement(t))u=j.cloneElement(t,yb(yb({},c),lke(t)));else if(dt(t))u=t(c);else if(BAe(t)&&!qAe(t)){var h=i(t,c);u=Y.createElement(N6,{shapeType:n,elementProps:h})}else{var p=c;u=Y.createElement(N6,{shapeType:n,elementProps:p})}return l?Y.createElement(At,{className:o},u):u}function l1(e,t){return t!=null&&"trapezoids"in e.props}function c1(e,t){return t!=null&&"sectors"in e.props}function Vg(e,t){return t!=null&&"points"in e.props}function cke(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,s=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&s}function uke(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function dke(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function fke(e,t){var n;return l1(e,t)?n=cke:c1(e,t)?n=uke:Vg(e,t)&&(n=dke),n}function hke(e,t){var n;return l1(e,t)?n="trapezoids":c1(e,t)?n="sectors":Vg(e,t)&&(n="points"),n}function pke(e,t){if(l1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(c1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Vg(e,t)?t.payload:{}}function mke(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=hke(n,t),s=pke(n,t),o=r.filter(function(c,u){var h=Sc(s,c),p=n.props[i].filter(function(b){var v=fke(n,t);return v(b,t)}),g=n.props[i].indexOf(p[p.length-1]),x=u===g;return h&&x}),l=r.indexOf(o[o.length-1]);return l}var s0;function dh(e){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dh(e)}function Cf(){return Cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cf.apply(this,arguments)}function P6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P6(Object(n),!0).forEach(function(r){Ma(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function gke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fK(r.key),r)}}function vke(e,t,n){return t&&A6(e.prototype,t),n&&A6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yke(e,t,n){return t=bb(t),xke(e,dK()?Reflect.construct(t,n||[],bb(e).constructor):t.apply(e,n))}function xke(e,t){if(t&&(dh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bke(e)}function bke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function bb(e){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bb(e)}function wke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fT(e,t)}function fT(e,t){return fT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fT(e,t)}function Ma(e,t,n){return t=fK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fK(e){var t=_ke(e,"string");return dh(t)=="symbol"?t:t+""}function _ke(e,t){if(dh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var po=(function(e){function t(n){var r;return gke(this,t),r=yke(this,t,[n]),Ma(r,"pieRef",null),Ma(r,"sectorRefs",[]),Ma(r,"id",Ec("recharts-pie-")),Ma(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),dt(i)&&i()}),Ma(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),dt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return wke(t,e),vke(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,h=Qe(this.props,!1),p=Qe(o,!1),g=Qe(l,!1),x=o&&o.offsetRadius||20,b=r.map(function(v,w){var N=(v.startAngle+v.endAngle)/2,S=pn(v.cx,v.cy,v.outerRadius+x,N),A=fn(fn(fn(fn({},h),v),{},{stroke:"none"},p),{},{index:w,textAnchor:t.getTextAnchor(S.x,v.cx)},S),T=fn(fn(fn(fn({},h),v),{},{fill:"none",stroke:v.fill},g),{},{index:w,points:[pn(v.cx,v.cy,v.outerRadius,N),S]}),C=c;return ut(c)&&ut(u)?C="value":ut(c)&&(C=u),Y.createElement(At,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,T,"line"),t.renderLabelItem(o,A,Pn(v,C)))});return Y.createElement(At,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return r.map(function(u,h){if(u?.startAngle===0&&u?.endAngle===0&&r.length!==1)return null;var p=i.isActiveIndex(h),g=c&&i.hasActiveIndex()?c:null,x=p?o:g,b=fn(fn({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Y.createElement(At,Cf({ref:function(w){w&&!i.sectorRefs.includes(w)&&i.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},jc(i.props,u,h),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(h)}),Y.createElement(xb,Cf({option:x,isActive:p,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,p=this.state,g=p.prevSectors,x=p.prevIsAnimationActive;return Y.createElement(Ba,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(x),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var v=b.t,w=[],N=s&&s[0],S=N.startAngle;return s.forEach(function(A,T){var C=g&&g[T],E=T>0?oa(A,"paddingAngle",0):0;if(C){var O=Dn(C.endAngle-C.startAngle,A.endAngle-A.startAngle),I=fn(fn({},A),{},{startAngle:S+E,endAngle:S+O(v)+E});w.push(I),S=I.endAngle}else{var F=A.endAngle,W=A.startAngle,$=Dn(0,F-W),z=$(v),V=fn(fn({},A),{},{startAngle:S+E,endAngle:S+z+E});w.push(V),S=V.endAngle}}),Y.createElement(At,null,r.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Sc(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,h=i.cy,p=i.innerRadius,g=i.outerRadius,x=i.isAnimationActive,b=this.state.isAnimationFinished;if(s||!o||!o.length||!Oe(u)||!Oe(h)||!Oe(p)||!Oe(g))return null;var v=wt("recharts-pie",l);return Y.createElement(At,{tabIndex:this.props.rootTabIndex,className:v,ref:function(N){r.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Nr.renderCallByParent(this.props,null,!1),(!x||b)&&gs.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(Y.isValidElement(r))return Y.cloneElement(r,i);if(dt(r))return r(i);var o=wt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return Y.createElement(mc,Cf({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(Y.isValidElement(r))return Y.cloneElement(r,i);var o=s;if(dt(r)&&(o=r(i),Y.isValidElement(o)))return o;var l=wt("recharts-pie-label-text",typeof r!="boolean"&&!dt(r)?r.className:"");return Y.createElement(Qu,Cf({},i,{alignmentBaseline:"middle",className:l}),o)}}])})(j.PureComponent);s0=po;Ma(po,"displayName","Pie");Ma(po,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!pl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ma(po,"parseDeltaAngle",function(e,t){var n=ui(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Ma(po,"getRealPieData",function(e){var t=e.data,n=e.children,r=Qe(e,!1),i=mi(n,Fu);return t&&t.length?t.map(function(s,o){return fn(fn(fn({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return fn(fn({},r),s.props)}):[]});Ma(po,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,s=t.height,o=Y7(i,s),l=r+di(e.cx,i,i/2),c=n+di(e.cy,s,s/2),u=di(e.innerRadius,o,0),h=di(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:h,maxRadius:p}});Ma(po,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?fn(fn({},t.type.defaultProps),t.props):t.props,i=s0.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,l=r.endAngle,c=r.paddingAngle,u=r.dataKey,h=r.nameKey,p=r.valueKey,g=r.tooltipType,x=Math.abs(r.minAngle),b=s0.parseCoordinateOfPie(r,n),v=s0.parseDeltaAngle(o,l),w=Math.abs(v),N=u;ut(u)&&ut(p)?(ms(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):ut(u)&&(ms(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=p);var S=i.filter(function(I){return Pn(I,N,0)!==0}).length,A=(w>=360?S:S-1)*c,T=w-S*x-A,C=i.reduce(function(I,F){var W=Pn(F,N,0);return I+(Oe(W)?W:0)},0),E;if(C>0){var O;E=i.map(function(I,F){var W=Pn(I,N,0),$=Pn(I,h,F),z=(Oe(W)?W:0)/C,V;F?V=O.endAngle+ui(v)*c*(W!==0?1:0):V=o;var U=V+ui(v)*((W!==0?x:0)+z*T),te=(V+U)/2,Q=(b.innerRadius+b.outerRadius)/2,J=[{name:$,value:W,payload:I,dataKey:N,type:g}],G=pn(b.cx,b.cy,Q,te);return O=fn(fn(fn({percent:z,cornerRadius:s,name:$,tooltipPayload:J,midAngle:te,middleRadius:Q,tooltipPosition:G},I),b),{},{value:Pn(I,N),startAngle:V,endAngle:U,payload:I,paddingAngle:ui(v)*c}),O})}return fn(fn({},b),{},{sectors:E,data:i})});var kA,k6;function jke(){if(k6)return kA;k6=1;var e=Math.ceil,t=Math.max;function n(r,i,s,o){for(var l=-1,c=t(e((i-r)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=r,r+=s;return u}return kA=n,kA}var CA,C6;function hK(){if(C6)return CA;C6=1;var e=DH(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*n}return i===i?i:0}return CA=r,CA}var TA,T6;function Ske(){if(T6)return TA;T6=1;var e=jke(),t=Kw(),n=hK();function r(i){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=n(s),o===void 0?(o=s,s=0):o=n(o),l=l===void 0?s<o?1:-1:n(l),e(s,o,l,i)}}return TA=r,TA}var EA,E6;function Nke(){if(E6)return EA;E6=1;var e=Ske(),t=e();return EA=t,EA}var Pke=Nke();const wb=Ut(Pke);function Hg(e){"@babel/helpers - typeof";return Hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hg(e)}function O6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O6(Object(n),!0).forEach(function(r){pK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pK(e,t,n){return t=Ake(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ake(e){var t=kke(e,"string");return Hg(t)=="symbol"?t:t+""}function kke(e,t){if(Hg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cke=["Webkit","Moz","O","ms"],Tke=function(t,n){var r=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Cke.reduce(function(s,o){return M6(M6({},s),{},pK({},o+r,n))},{});return i[t]=n,i};function fh(e){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fh(e)}function _b(){return _b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_b.apply(this,arguments)}function R6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function OA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R6(Object(n),!0).forEach(function(r){ea(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gK(r.key),r)}}function Oke(e,t,n){return t&&I6(e.prototype,t),n&&I6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mke(e,t,n){return t=jb(t),Rke(e,mK()?Reflect.construct(t,n||[],jb(e).constructor):t.apply(e,n))}function Rke(e,t){if(t&&(fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ike(e)}function Ike(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function jb(e){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(e)}function Dke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hT(e,t)}function hT(e,t){return hT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hT(e,t)}function ea(e,t,n){return t=gK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gK(e){var t=Lke(e,"string");return fh(t)=="symbol"?t:t+""}function Lke(e,t){if(fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Fke=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=Lm().domain(wb(0,c)).range([s,s+o-l]),h=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:h}},D6=function(t){return t.changedTouches&&!!t.changedTouches.length},td=(function(e){function t(n){var r;return Eke(this,t),r=Mke(this,t,[n]),ea(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ea(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ea(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),r.detachDragEndListener()}),ea(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ea(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ea(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ea(r,"handleSlideDragStart",function(i){var s=D6(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dke(t,e),Oke(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,h=u.length-1,p=Math.min(i,s),g=Math.max(i,s),x=t.getIndexInRange(o,p),b=t.getIndexInRange(o,g);return{startIndex:x-x%c,endIndex:b===h?h:b-b%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Pn(s[r],l,r);return dt(o)?o(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,h=c.width,p=c.travellerWidth,g=c.startIndex,x=c.endIndex,b=c.onChange,v=r.pageX-s;v>0?v=Math.min(v,u+h-p-l,u+h-p-o):v<0&&(v=Math.max(v,u-o,u-l));var w=this.getIndex({startX:o+v,endX:l+v});(w.startIndex!==g||w.endIndex!==x)&&b&&b(w),this.setState({startX:o+v,endX:l+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=D6(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],h=this.props,p=h.x,g=h.width,x=h.travellerWidth,b=h.onChange,v=h.gap,w=h.data,N={startX:this.state.startX,endX:this.state.endX},S=r.pageX-s;S>0?S=Math.min(S,p+g-x-u):S<0&&(S=Math.max(S,p-u)),N[o]=u+S;var A=this.getIndex(N),T=A.startIndex,C=A.endIndex,E=function(){var I=w.length-1;return o==="startX"&&(l>c?T%v===0:C%v===0)||l<c&&C===I||o==="endX"&&(l>c?C%v===0:T%v===0)||l>c&&C===I};this.setState(ea(ea({},o,u+S),"brushMoveStartX",r.pageX),function(){b&&E()&&b(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var g=p+r;if(!(g===-1||g>=l.length)){var x=l[g];i==="startX"&&x>=u||i==="endX"&&x<=c||this.setState(ea({},i,x),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.fill,u=r.stroke;return Y.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.data,u=r.children,h=r.padding,p=j.Children.only(u);return p?Y.cloneElement(p,{x:i,y:s,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,l=this,c=this.props,u=c.y,h=c.travellerWidth,p=c.height,g=c.traveller,x=c.ariaLabel,b=c.data,v=c.startIndex,w=c.endIndex,N=Math.max(r,this.props.x),S=OA(OA({},Qe(this.props,!1)),{},{x:N,y:u,width:h,height:p}),A=x||"Min value: ".concat((s=b[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=b[w])===null||o===void 0?void 0:o.name);return Y.createElement(At,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),l.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,S))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,h=Math.min(r,i)+u,p=Math.max(Math.abs(i-r)-u,0);return Y.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,l=r.height,c=r.travellerWidth,u=r.stroke,h=this.state,p=h.startX,g=h.endX,x=5,b={pointerEvents:"none",fill:u};return Y.createElement(At,{className:"recharts-brush-texts"},Y.createElement(Qu,_b({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-x,y:o+l/2},b),this.getTextOfTick(i)),Y.createElement(Qu,_b({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+x,y:o+l/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,l=r.x,c=r.y,u=r.width,h=r.height,p=r.alwaysShowText,g=this.state,x=g.startX,b=g.endX,v=g.isTextActive,w=g.isSlideMoving,N=g.isTravellerMoving,S=g.isTravellerFocused;if(!i||!i.length||!Oe(l)||!Oe(c)||!Oe(u)||!Oe(h)||u<=0||h<=0)return null;var A=wt("recharts-brush",s),T=Y.Children.count(o)===1,C=Tke("userSelect","none");return Y.createElement(At,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(x,b),this.renderTravellerLayer(x,"startX"),this.renderTravellerLayer(b,"endX"),(v||w||N||S||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,l=r.height,c=r.stroke,u=Math.floor(s+l/2)-1;return Y.createElement(Y.Fragment,null,Y.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),Y.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Y.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return Y.isValidElement(r)?s=Y.cloneElement(r,i):dt(r)?s=r(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,l=r.x,c=r.travellerWidth,u=r.updateId,h=r.startIndex,p=r.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return OA({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Fke({data:s,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(x){return i.scale(x)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);r[c]>i?l=c:o=c}return i>=r[l]?l:o}}])})(j.PureComponent);ea(td,"displayName","Brush");ea(td,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var MA,L6;function $ke(){if(L6)return MA;L6=1;var e=yO();function t(n,r){var i;return e(n,function(s,o,l){return i=r(s,o,l),!i}),!!i}return MA=t,MA}var RA,F6;function Bke(){if(F6)return RA;F6=1;var e=hH(),t=yo(),n=$ke(),r=Li(),i=Kw();function s(o,l,c){var u=r(o)?e:n;return c&&i(o,l,c)&&(l=void 0),u(o,t(l,3))}return RA=s,RA}var zke=Bke();const Wke=Ut(zke);var oo=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},IA,$6;function qke(){if($6)return IA;$6=1;var e=EH();function t(n,r,i){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return IA=t,IA}var DA,B6;function Uke(){if(B6)return DA;B6=1;var e=qke(),t=CH(),n=yo();function r(i,s){var o={};return s=n(s,3),t(i,function(l,c,u){e(o,c,s(l,c,u))}),o}return DA=r,DA}var Vke=Uke();const Hke=Ut(Vke);var LA,z6;function Kke(){if(z6)return LA;z6=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(!n(t[r],r,t))return!1;return!0}return LA=e,LA}var FA,W6;function Gke(){if(W6)return FA;W6=1;var e=yO();function t(n,r){var i=!0;return e(n,function(s,o,l){return i=!!r(s,o,l),i}),i}return FA=t,FA}var $A,q6;function Yke(){if(q6)return $A;q6=1;var e=Kke(),t=Gke(),n=yo(),r=Li(),i=Kw();function s(o,l,c){var u=r(o)?e:t;return c&&i(o,l,c)&&(l=void 0),u(o,n(l,3))}return $A=s,$A}var Zke=Yke();const vK=Ut(Zke);var Xke=["x","y"];function Kg(e){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kg(e)}function pT(){return pT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pT.apply(this,arguments)}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){Qke(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qke(e,t,n){return t=Jke(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jke(e){var t=eCe(e,"string");return Kg(t)=="symbol"?t:t+""}function eCe(e,t){if(Kg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tCe(e,t){if(e==null)return{};var n=nCe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function nCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function rCe(e,t){var n=e.x,r=e.y,i=tCe(e,Xke),s="".concat(n),o=parseInt(s,10),l="".concat(r),c=parseInt(l,10),u="".concat(t.height||i.height),h=parseInt(u,10),p="".concat(t.width||i.width),g=parseInt(p,10);return gm(gm(gm(gm(gm({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:g,name:t.name,radius:t.radius})}function V6(e){return Y.createElement(xb,pT({shapeType:"rectangle",propTransformer:rCe,activeClassName:"recharts-active-bar"},e))}var iCe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var s=Oe(r)||kve(r);return s?t(r,i):(s||ed(),n)}},aCe=["value","background"],yK;function hh(e){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(e)}function sCe(e,t){if(e==null)return{};var n=oCe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function oCe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sb(){return Sb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sb.apply(this,arguments)}function H6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H6(Object(n),!0).forEach(function(r){lc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bK(r.key),r)}}function cCe(e,t,n){return t&&K6(e.prototype,t),n&&K6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function uCe(e,t,n){return t=Nb(t),dCe(e,xK()?Reflect.construct(t,n||[],Nb(e).constructor):t.apply(e,n))}function dCe(e,t){if(t&&(hh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fCe(e)}function fCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!e})()}function Nb(e){return Nb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nb(e)}function hCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mT(e,t)}function mT(e,t){return mT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mT(e,t)}function lc(e,t,n){return t=bK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bK(e){var t=pCe(e,"string");return hh(t)=="symbol"?t:t+""}function pCe(e,t){if(hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ic=(function(e){function t(){var n;lCe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=uCe(this,t,[].concat(i)),lc(n,"state",{isAnimationFinished:!1}),lc(n,"id",Ec("recharts-bar-")),lc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),lc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return hCe(t,e),cCe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,h=Qe(this.props,!1);return r&&r.map(function(p,g){var x=g===c,b=x?u:o,v=sr(sr(sr({},h),p),{},{isActive:x,option:b,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Y.createElement(At,Sb({className:"recharts-bar-rectangle"},jc(i.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),Y.createElement(V6,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevData;return Y.createElement(Ba,{begin:c,duration:u,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(x){var b=x.t,v=s.map(function(w,N){var S=g&&g[N];if(S){var A=Dn(S.x,w.x),T=Dn(S.y,w.y),C=Dn(S.width,w.width),E=Dn(S.height,w.height);return sr(sr({},w),{},{x:A(b),y:T(b),width:C(b),height:E(b)})}if(o==="horizontal"){var O=Dn(0,w.height),I=O(b);return sr(sr({},w),{},{y:w.y+w.height-I,height:I})}var F=Dn(0,w.width),W=F(b);return sr(sr({},w),{},{width:W})});return Y.createElement(At,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Sc(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Qe(this.props.background,!1);return s.map(function(u,h){u.value;var p=u.background,g=sCe(u,aCe);if(!p)return null;var x=sr(sr(sr(sr(sr({},g),{},{fill:"#eee"},p),c),jc(r.props,u,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return Y.createElement(V6,Sb({key:"background-bar-".concat(h),option:r.props.background,isActive:h===l},x))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,h=s.children,p=mi(h,Xh);if(!p)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,x=function(w,N){var S=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:S,errorVal:Pn(w,N)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Y.createElement(At,b,p.map(function(v){return Y.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:x})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,l=r.xAxis,c=r.yAxis,u=r.left,h=r.top,p=r.width,g=r.height,x=r.isAnimationActive,b=r.background,v=r.id;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,N=wt("recharts-bar",o),S=l&&l.allowDataOverflow,A=c&&c.allowDataOverflow,T=S||A,C=ut(v)?this.id:v;return Y.createElement(At,{className:N},S||A?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:S?u:u-p/2,y:A?h:h-g/2,width:S?p:p*2,height:A?g:g*2}))):null,Y.createElement(At,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(C,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,C),(!x||w)&&gs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(j.PureComponent);yK=Ic;lc(Ic,"displayName","Bar");lc(Ic,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});lc(Ic,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,h=e.dataStartIndex,p=e.displayedData,g=e.offset,x=qje(r,n);if(!x)return null;var b=t.layout,v=n.type.defaultProps,w=v!==void 0?sr(sr({},v),n.props):n.props,N=w.dataKey,S=w.children,A=w.minPointSize,T=b==="horizontal"?o:s,C=u?T.scale.domain():null,E=Zje({numericAxis:T}),O=mi(S,Fu),I=p.map(function(F,W){var $,z,V,U,te,Q;u?$=Uje(u[h+W],C):($=Pn(F,N),Array.isArray($)||($=[E,$]));var J=iCe(A,yK.defaultProps.minPointSize)($[1],W);if(b==="horizontal"){var G,ee=[o.scale($[0]),o.scale($[1])],X=ee[0],q=ee[1];z=yB({axis:s,ticks:l,bandSize:i,offset:x.offset,entry:F,index:W}),V=(G=q??X)!==null&&G!==void 0?G:void 0,U=x.size;var H=X-q;if(te=Number.isNaN(H)?0:H,Q={x:z,y:o.y,width:U,height:o.height},Math.abs(J)>0&&Math.abs(te)<Math.abs(J)){var ne=ui(te||J)*(Math.abs(J)-Math.abs(te));V-=ne,te+=ne}}else{var se=[s.scale($[0]),s.scale($[1])],de=se[0],me=se[1];if(z=de,V=yB({axis:o,ticks:c,bandSize:i,offset:x.offset,entry:F,index:W}),U=me-de,te=x.size,Q={x:s.x,y:V,width:s.width,height:te},Math.abs(J)>0&&Math.abs(U)<Math.abs(J)){var fe=ui(U||J)*(Math.abs(J)-Math.abs(U));U+=fe}}return sr(sr(sr({},F),{},{x:z,y:V,width:U,height:te,value:u?$:$[1],payload:F,background:Q},O&&O[W]&&O[W].props),{},{tooltipPayload:[K7(n,F)],tooltipPosition:{x:z+U/2,y:V+te/2}})});return sr({data:I,layout:b},g)});function Gg(e){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gg(e)}function mCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G6(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wK(r.key),r)}}function gCe(e,t,n){return t&&G6(e.prototype,t),n&&G6(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ls(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y6(Object(n),!0).forEach(function(r){u1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u1(e,t,n){return t=wK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wK(e){var t=vCe(e,"string");return Gg(t)=="symbol"?t:t+""}function vCe(e,t){if(Gg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d1=function(t,n,r,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!ta(u,Ic);return h.reduce(function(x,b){var v=n[b],w=v.orientation,N=v.domain,S=v.padding,A=S===void 0?{}:S,T=v.mirror,C=v.reversed,E="".concat(w).concat(T?"Mirror":""),O,I,F,W,$;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var z=N[1]-N[0],V=1/0,U=v.categoricalDomain.sort(Ove);if(U.forEach(function(se,de){de>0&&(V=Math.min((se||0)-(U[de-1]||0),V))}),Number.isFinite(V)){var te=V/z,Q=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(O=te*Q/2),v.padding==="no-gap"){var J=di(t.barCategoryGap,te*Q),G=te*Q/2;O=G-J-(G-J)/Q*J}}}i==="xAxis"?I=[r.left+(A.left||0)+(O||0),r.left+r.width-(A.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(O||0),r.top+r.height-(A.bottom||0)-(O||0)]:I=v.range,C&&(I=[I[1],I[0]]);var ee=q7(v,s,g),X=ee.scale,q=ee.realScaleType;X.domain(N).range(I),U7(X);var H=V7(X,ls(ls({},v),{},{realScaleType:q}));i==="xAxis"?($=w==="top"&&!T||w==="bottom"&&T,F=r.left,W=p[E]-$*v.height):i==="yAxis"&&($=w==="left"&&!T||w==="right"&&T,F=p[E]-$*v.width,W=r.top);var ne=ls(ls(ls({},v),H),{},{realScaleType:q,x:F,y:W,scale:X,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return ne.bandSize=lb(ne,H),!v.hide&&i==="xAxis"?p[E]+=($?-1:1)*ne.height:v.hide||(p[E]+=($?-1:1)*ne.width),ls(ls({},x),{},u1({},b,ne))},{})},_K=function(t,n){var r=t.x,i=t.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},yCe=function(t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2;return _K({x:n,y:r},{x:i,y:s})},jK=(function(){function e(t){mCe(this,e),this.scale=t}return gCe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])})();u1(jK,"EPS",1e-4);var KO=function(t){var n=Object.keys(t).reduce(function(r,i){return ls(ls({},r),{},u1({},i,jK.create(t[i])))},{});return ls(ls({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Hke(i,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return vK(i,function(s,o){return n[o].isInRange(s)})}})};function xCe(e){return(e%180+180)%180}var bCe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=xCe(i),o=s*Math.PI/180,l=Math.atan(r/n),c=o>l&&o<Math.PI-l?r/Math.sin(o):n/Math.cos(o);return Math.abs(c)},BA,Z6;function wCe(){if(Z6)return BA;Z6=1;var e=yo(),t=Av(),n=Vw();function r(i){return function(s,o,l){var c=Object(s);if(!t(s)){var u=e(o,3);s=n(s),o=function(p){return u(c[p],p,c)}}var h=i(s,o,l);return h>-1?c[u?s[h]:h]:void 0}}return BA=r,BA}var zA,X6;function _Ce(){if(X6)return zA;X6=1;var e=hK();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return zA=t,zA}var WA,Q6;function jCe(){if(Q6)return WA;Q6=1;var e=SH(),t=yo(),n=_Ce(),r=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=r(c+u,0)),e(s,t(o,3),u)}return WA=i,WA}var qA,J6;function SCe(){if(J6)return qA;J6=1;var e=wCe(),t=jCe(),n=e(t);return qA=n,qA}var NCe=SCe();const PCe=Ut(NCe);var ACe=$9();const kCe=Ut(ACe);var CCe=kCe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),GO=j.createContext(void 0),YO=j.createContext(void 0),SK=j.createContext(void 0),NK=j.createContext({}),PK=j.createContext(void 0),AK=j.createContext(0),kK=j.createContext(0),ez=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,h=CCe(s);return Y.createElement(GO.Provider,{value:r},Y.createElement(YO.Provider,{value:i},Y.createElement(NK.Provider,{value:s},Y.createElement(SK.Provider,{value:h},Y.createElement(PK.Provider,{value:o},Y.createElement(AK.Provider,{value:u},Y.createElement(kK.Provider,{value:c},l)))))))},TCe=function(){return j.useContext(PK)},CK=function(t){var n=j.useContext(GO);n==null&&ed();var r=n[t];return r==null&&ed(),r},ECe=function(){var t=j.useContext(GO);return ac(t)},OCe=function(){var t=j.useContext(YO),n=PCe(t,function(r){return vK(r.domain,Number.isFinite)});return n||ac(t)},TK=function(t){var n=j.useContext(YO);n==null&&ed();var r=n[t];return r==null&&ed(),r},MCe=function(){var t=j.useContext(SK);return t},RCe=function(){return j.useContext(NK)},ZO=function(){return j.useContext(kK)},XO=function(){return j.useContext(AK)};function ph(e){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ph(e)}function ICe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OK(r.key),r)}}function LCe(e,t,n){return t&&DCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FCe(e,t,n){return t=Pb(t),$Ce(e,EK()?Reflect.construct(t,n||[],Pb(e).constructor):t.apply(e,n))}function $Ce(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BCe(e)}function BCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pb(e)}function zCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gT(e,t)}function gT(e,t){return gT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gT(e,t)}function tz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tz(Object(n),!0).forEach(function(r){QO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function QO(e,t,n){return t=OK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OK(e){var t=WCe(e,"string");return ph(t)=="symbol"?t:t+""}function WCe(e,t){if(ph(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qCe(e,t){return KCe(e)||HCe(e,t)||VCe(e,t)||UCe()}function UCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VCe(e,t){if(e){if(typeof e=="string")return rz(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rz(e,t)}}function rz(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function HCe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function KCe(e){if(Array.isArray(e))return e}function vT(){return vT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vT.apply(this,arguments)}var GCe=function(t,n){var r;return Y.isValidElement(t)?r=Y.cloneElement(t,n):dt(t)?r=t(n):r=Y.createElement("line",vT({},n,{className:"recharts-reference-line-line"})),r},YCe=function(t,n,r,i,s,o,l,c,u){var h=s.x,p=s.y,g=s.width,x=s.height;if(r){var b=u.y,v=t.y.apply(b,{position:o});if(oo(u,"discard")&&!t.y.isInRange(v))return null;var w=[{x:h+g,y:v},{x:h,y:v}];return c==="left"?w.reverse():w}if(n){var N=u.x,S=t.x.apply(N,{position:o});if(oo(u,"discard")&&!t.x.isInRange(S))return null;var A=[{x:S,y:p+x},{x:S,y:p}];return l==="top"?A.reverse():A}if(i){var T=u.segment,C=T.map(function(E){return t.apply(E,{position:o})});return oo(u,"discard")&&Wke(C,function(E){return!t.isInRange(E)})?null:C}return null};function ZCe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=TCe(),h=CK(i),p=TK(s),g=MCe();if(!u||!g)return null;ms(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var x=KO({x:h.scale,y:p.scale}),b=vr(t),v=vr(n),w=r&&r.length===2,N=YCe(x,b,v,w,g,e.position,h.orientation,p.orientation,e);if(!N)return null;var S=qCe(N,2),A=S[0],T=A.x,C=A.y,E=S[1],O=E.x,I=E.y,F=oo(e,"hidden")?"url(#".concat(u,")"):void 0,W=nz(nz({clipPath:F},Qe(e,!0)),{},{x1:T,y1:C,x2:O,y2:I});return Y.createElement(At,{className:wt("recharts-reference-line",l)},GCe(o,W),Nr.renderCallByParent(e,yCe({x1:T,y1:C,x2:O,y2:I})))}var Mv=(function(e){function t(){return ICe(this,t),FCe(this,t,arguments)}return zCe(t,e),LCe(t,[{key:"render",value:function(){return Y.createElement(ZCe,this.props)}}])})(Y.Component);QO(Mv,"displayName","ReferenceLine");QO(Mv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function yT(){return yT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yT.apply(this,arguments)}function mh(e){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mh(e)}function iz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function az(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iz(Object(n),!0).forEach(function(r){f1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QCe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,RK(r.key),r)}}function JCe(e,t,n){return t&&QCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eTe(e,t,n){return t=Ab(t),tTe(e,MK()?Reflect.construct(t,n||[],Ab(e).constructor):t.apply(e,n))}function tTe(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nTe(e)}function nTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function MK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!e})()}function Ab(e){return Ab=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ab(e)}function rTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xT(e,t)}function xT(e,t){return xT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xT(e,t)}function f1(e,t,n){return t=RK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RK(e){var t=iTe(e,"string");return mh(t)=="symbol"?t:t+""}function iTe(e,t){if(mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var aTe=function(t){var n=t.x,r=t.y,i=t.xAxis,s=t.yAxis,o=KO({x:i.scale,y:s.scale}),l=o.apply({x:n,y:r},{bandAware:!0});return oo(t,"discard")&&!o.isInRange(l)?null:l},h1=(function(e){function t(){return XCe(this,t),eTe(this,t,arguments)}return rTe(t,e),JCe(t,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,l=r.alwaysShow,c=r.clipPathId,u=vr(i),h=vr(s);if(ms(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!h)return null;var p=aTe(this.props);if(!p)return null;var g=p.x,x=p.y,b=this.props,v=b.shape,w=b.className,N=oo(this.props,"hidden")?"url(#".concat(c,")"):void 0,S=az(az({clipPath:N},Qe(this.props,!0)),{},{cx:g,cy:x});return Y.createElement(At,{className:wt("recharts-reference-dot",w)},t.renderDot(v,S),Nr.renderCallByParent(this.props,{x:g-o,y:x-o,width:2*o,height:2*o}))}}])})(Y.Component);f1(h1,"displayName","ReferenceDot");f1(h1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});f1(h1,"renderDot",function(e,t){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,t):dt(e)?n=e(t):n=Y.createElement(Ov,yT({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function bT(){return bT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bT.apply(this,arguments)}function gh(e){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gh(e)}function sz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oz(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sz(Object(n),!0).forEach(function(r){p1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oTe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,DK(r.key),r)}}function lTe(e,t,n){return t&&oTe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cTe(e,t,n){return t=kb(t),uTe(e,IK()?Reflect.construct(t,n||[],kb(e).constructor):t.apply(e,n))}function uTe(e,t){if(t&&(gh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dTe(e)}function dTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function kb(e){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kb(e)}function fTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wT(e,t)}function wT(e,t){return wT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wT(e,t)}function p1(e,t,n){return t=DK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function DK(e){var t=hTe(e,"string");return gh(t)=="symbol"?t:t+""}function hTe(e,t){if(gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pTe=function(t,n,r,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,h=s.xAxis,p=s.yAxis;if(!h||!p)return null;var g=KO({x:h.scale,y:p.scale}),x={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},b={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return oo(s,"discard")&&(!g.isInRange(x)||!g.isInRange(b))?null:_K(x,b)},m1=(function(e){function t(){return sTe(this,t),cTe(this,t,arguments)}return fTe(t,e),lTe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,l=r.y2,c=r.className,u=r.alwaysShow,h=r.clipPathId;ms(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=vr(i),g=vr(s),x=vr(o),b=vr(l),v=this.props.shape;if(!p&&!g&&!x&&!b&&!v)return null;var w=pTe(p,g,x,b,this.props);if(!w&&!v)return null;var N=oo(this.props,"hidden")?"url(#".concat(h,")"):void 0;return Y.createElement(At,{className:wt("recharts-reference-area",c)},t.renderRect(v,oz(oz({clipPath:N},Qe(this.props,!0)),w)),Nr.renderCallByParent(this.props,w))}}])})(Y.Component);p1(m1,"displayName","ReferenceArea");p1(m1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});p1(m1,"renderRect",function(e,t){var n;return Y.isValidElement(e)?n=Y.cloneElement(e,t):dt(e)?n=e(t):n=Y.createElement(HO,bT({},t,{className:"recharts-reference-area-rect"})),n});function LK(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function mTe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return bCe(r,n)}function gTe(e,t,n){var r=n==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:r?i:s,end:r?i+o:s+l}:{start:r?i+o:s+l,end:r?i:s}}function Cb(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function vTe(e,t){return LK(e,t+1)}function yTe(e,t,n,r,i){for(var s=(r||[]).slice(),o=t.start,l=t.end,c=0,u=1,h=o,p=function(){var b=r?.[c];if(b===void 0)return{v:LK(r,u)};var v=c,w,N=function(){return w===void 0&&(w=n(b,v)),w},S=b.coordinate,A=c===0||Cb(e,S,N,h,l);A||(c=0,h=o,u+=1),A&&(h=S+e*(N()/2+i),c+=u)},g;u<=s.length;)if(g=p(),g)return g.v;return[]}function Yg(e){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(e)}function lz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lz(Object(n),!0).forEach(function(r){xTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xTe(e,t,n){return t=bTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bTe(e){var t=wTe(e,"string");return Yg(t)=="symbol"?t:t+""}function wTe(e,t){if(Yg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Te(e,t,n,r,i){for(var s=(r||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(g){var x=s[g],b,v=function(){return b===void 0&&(b=n(x,g)),b};if(g===o-1){var w=e*(x.coordinate+e*v()/2-c);s[g]=x=Hr(Hr({},x),{},{tickCoord:w>0?x.coordinate-w*e:x.coordinate})}else s[g]=x=Hr(Hr({},x),{},{tickCoord:x.coordinate});var N=Cb(e,x.tickCoord,v,l,c);N&&(c=x.tickCoord-e*(v()/2+i),s[g]=Hr(Hr({},x),{},{isShow:!0}))},h=o-1;h>=0;h--)u(h);return s}function jTe(e,t,n,r,i,s){var o=(r||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var h=r[l-1],p=n(h,l-1),g=e*(h.coordinate+e*p/2-u);o[l-1]=h=Hr(Hr({},h),{},{tickCoord:g>0?h.coordinate-g*e:h.coordinate});var x=Cb(e,h.tickCoord,function(){return p},c,u);x&&(u=h.tickCoord-e*(p/2+i),o[l-1]=Hr(Hr({},h),{},{isShow:!0}))}for(var b=s?l-1:l,v=function(S){var A=o[S],T,C=function(){return T===void 0&&(T=n(A,S)),T};if(S===0){var E=e*(A.coordinate-e*C()/2-c);o[S]=A=Hr(Hr({},A),{},{tickCoord:E<0?A.coordinate-E*e:A.coordinate})}else o[S]=A=Hr(Hr({},A),{},{tickCoord:A.coordinate});var O=Cb(e,A.tickCoord,C,c,u);O&&(c=A.tickCoord+e*(C()/2+i),o[S]=Hr(Hr({},A),{},{isShow:!0}))},w=0;w<b;w++)v(w);return o}function JO(e,t,n){var r=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,h=e.unit,p=e.angle;if(!i||!i.length||!r)return[];if(Oe(c)||pl.isSsr)return vTe(i,typeof c=="number"&&Oe(c)?c:0);var g=[],x=l==="top"||l==="bottom"?"width":"height",b=h&&x==="width"?Dm(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=function(A,T){var C=dt(u)?u(A.value,T):A.value;return x==="width"?mTe(Dm(C,{fontSize:t,letterSpacing:n}),b,p):Dm(C,{fontSize:t,letterSpacing:n})[x]},w=i.length>=2?ui(i[1].coordinate-i[0].coordinate):1,N=gTe(s,w,x);return c==="equidistantPreserveStart"?yTe(w,N,v,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=jTe(w,N,v,i,o,c==="preserveStartEnd"):g=_Te(w,N,v,i,o),g.filter(function(S){return S.isShow}))}var STe=["viewBox"],NTe=["viewBox"],PTe=["ticks"];function vh(e){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vh(e)}function Tf(){return Tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Tf.apply(this,arguments)}function cz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cz(Object(n),!0).forEach(function(r){eM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UA(e,t){if(e==null)return{};var n=ATe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ATe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kTe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$K(r.key),r)}}function CTe(e,t,n){return t&&uz(e.prototype,t),n&&uz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function TTe(e,t,n){return t=Tb(t),ETe(e,FK()?Reflect.construct(t,n||[],Tb(e).constructor):t.apply(e,n))}function ETe(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OTe(e)}function OTe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FK=function(){return!!e})()}function Tb(e){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(e)}function MTe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_T(e,t)}function _T(e,t){return _T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_T(e,t)}function eM(e,t,n){return t=$K(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $K(e){var t=RTe(e,"string");return vh(t)=="symbol"?t:t+""}function RTe(e,t){if(vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qh=(function(e){function t(n){var r;return kTe(this,t),r=TTe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return MTe(t,e),CTe(t,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=UA(r,STe),l=this.props,c=l.viewBox,u=UA(l,NTe);return!If(s,c)||!If(o,u)||!If(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,h=i.tickSize,p=i.mirror,g=i.tickMargin,x,b,v,w,N,S,A=p?-1:1,T=r.tickSize||h,C=Oe(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":x=b=r.coordinate,w=o+ +!p*c,v=w-A*T,S=v-A*g,N=C;break;case"left":v=w=r.coordinate,b=s+ +!p*l,x=b-A*T,N=x-A*g,S=C;break;case"right":v=w=r.coordinate,b=s+ +p*l,x=b+A*T,N=x+A*g,S=C;break;default:x=b=r.coordinate,w=o+ +p*c,v=w+A*T,S=v+A*g,N=C;break}return{line:{x1:x,y1:v,x2:b,y2:w},tick:{x:N,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,l=r.height,c=r.orientation,u=r.mirror,h=r.axisLine,p=hr(hr(hr({},Qe(this.props,!1)),Qe(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);p=hr(hr({},p),{},{x1:i,y1:s+g*l,x2:i+o,y2:s+g*l})}else{var x=+(c==="left"&&!u||c==="right"&&u);p=hr(hr({},p),{},{x1:i+x*o,y1:s,x2:i+x*o,y2:s+l})}return Y.createElement("line",Tf({},p,{className:wt("recharts-cartesian-axis-line",oa(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,h=l.tick,p=l.tickFormatter,g=l.unit,x=JO(hr(hr({},this.props),{},{ticks:r}),i,s),b=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),w=Qe(this.props,!1),N=Qe(h,!1),S=hr(hr({},w),{},{fill:"none"},Qe(c,!1)),A=x.map(function(T,C){var E=o.getTickLineCoord(T),O=E.line,I=E.tick,F=hr(hr(hr(hr({textAnchor:b,verticalAnchor:v},w),{},{stroke:"none",fill:u},N),I),{},{index:C,payload:T,visibleTicksCount:x.length,tickFormatter:p});return Y.createElement(At,Tf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},jc(o.props,T,C)),c&&Y.createElement("line",Tf({},S,O,{className:wt("recharts-cartesian-axis-tick-line",oa(c,"className"))})),h&&t.renderTickItem(h,F,"".concat(dt(p)?p(T.value,C):T.value).concat(g||"")))});return Y.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,h=i.hide;if(h)return null;var p=this.props,g=p.ticks,x=UA(p,PTe),b=g;return dt(c)&&(b=g&&g.length>0?c(this.props):c(x)),o<=0||l<=0||!b||!b.length?null:Y.createElement(At,{className:wt("recharts-cartesian-axis",u),ref:function(w){r.layerReference=w}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Nr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o,l=wt(i.className,"recharts-cartesian-axis-tick-value");return Y.isValidElement(r)?o=Y.cloneElement(r,hr(hr({},i),{},{className:l})):dt(r)?o=r(hr(hr({},i),{},{className:l})):o=Y.createElement(Qu,Tf({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(j.Component);eM(Qh,"displayName","CartesianAxis");eM(Qh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ITe=["x1","y1","x2","y2","key"],DTe=["offset"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function dz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dz(Object(n),!0).forEach(function(r){LTe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LTe(e,t,n){return t=FTe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FTe(e){var t=$Te(e,"string");return nd(t)=="symbol"?t:t+""}function $Te(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mu(){return Mu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mu.apply(this,arguments)}function fz(e,t){if(e==null)return{};var n=BTe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function BTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var zTe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return Y.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function BK(e,t){var n;if(Y.isValidElement(e))n=Y.cloneElement(e,t);else if(dt(e))n=e(t);else{var r=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=fz(t,ITe),u=Qe(c,!1);u.offset;var h=fz(u,DTe);n=Y.createElement("line",Mu({},h,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:l}))}return n}function WTe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Gr(Gr({},e),{},{x1:t,y1:l,x2:t+n,y2:l,key:"line-".concat(c),index:c});return BK(i,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function qTe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Gr(Gr({},e),{},{x1:l,y1:t,x2:l,y2:t+n,key:"line-".concat(c),index:c});return BK(i,u)});return Y.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function UTe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var h=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,x){return g-x});i!==h[0]&&h.unshift(0);var p=h.map(function(g,x){var b=!h[x+1],v=b?i+o-g:h[x+1]-g;if(v<=0)return null;var w=x%t.length;return Y.createElement("rect",{key:"react-".concat(x),y:g,x:r,height:v,width:s,stroke:"none",fill:t[w],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function VTe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!r||!r.length)return null;var h=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,x){return g-x});s!==h[0]&&h.unshift(0);var p=h.map(function(g,x){var b=!h[x+1],v=b?s+l-g:h[x+1]-g;if(v<=0)return null;var w=x%r.length;return Y.createElement("rect",{key:"react-".concat(x),x:g,y:o,width:v,height:c,stroke:"none",fill:r[w],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var HTe=function(t,n){var r=t.xAxis,i=t.width,s=t.height,o=t.offset;return W7(JO(Gr(Gr(Gr({},Qh.defaultProps),r),{},{ticks:Ko(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},KTe=function(t,n){var r=t.yAxis,i=t.width,s=t.height,o=t.offset;return W7(JO(Gr(Gr(Gr({},Qh.defaultProps),r),{},{ticks:Ko(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},df={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function qo(e){var t,n,r,i,s,o,l=ZO(),c=XO(),u=RCe(),h=Gr(Gr({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:df.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:df.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:df.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:df.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:df.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:df.verticalFill,x:Oe(e.x)?e.x:u.left,y:Oe(e.y)?e.y:u.top,width:Oe(e.width)?e.width:u.width,height:Oe(e.height)?e.height:u.height}),p=h.x,g=h.y,x=h.width,b=h.height,v=h.syncWithTicks,w=h.horizontalValues,N=h.verticalValues,S=ECe(),A=OCe();if(!Oe(x)||x<=0||!Oe(b)||b<=0||!Oe(p)||p!==+p||!Oe(g)||g!==+g)return null;var T=h.verticalCoordinatesGenerator||HTe,C=h.horizontalCoordinatesGenerator||KTe,E=h.horizontalPoints,O=h.verticalPoints;if((!E||!E.length)&&dt(C)){var I=w&&w.length,F=C({yAxis:A?Gr(Gr({},A),{},{ticks:I?w:A.ticks}):void 0,width:l,height:c,offset:u},I?!0:v);ms(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nd(F),"]")),Array.isArray(F)&&(E=F)}if((!O||!O.length)&&dt(T)){var W=N&&N.length,$=T({xAxis:S?Gr(Gr({},S),{},{ticks:W?N:S.ticks}):void 0,width:l,height:c,offset:u},W?!0:v);ms(Array.isArray($),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nd($),"]")),Array.isArray($)&&(O=$)}return Y.createElement("g",{className:"recharts-cartesian-grid"},Y.createElement(zTe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),Y.createElement(WTe,Mu({},h,{offset:u,horizontalPoints:E,xAxis:S,yAxis:A})),Y.createElement(qTe,Mu({},h,{offset:u,verticalPoints:O,xAxis:S,yAxis:A})),Y.createElement(UTe,Mu({},h,{horizontalPoints:E})),Y.createElement(VTe,Mu({},h,{verticalPoints:O})))}qo.displayName="CartesianGrid";var GTe=["type","layout","connectNulls","ref"],YTe=["key"];function yh(e){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yh(e)}function hz(e,t){if(e==null)return{};var n=ZTe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZTe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Wm(){return Wm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wm.apply(this,arguments)}function pz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ji(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pz(Object(n),!0).forEach(function(r){cs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ff(e){return eEe(e)||JTe(e)||QTe(e)||XTe()}function XTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QTe(e,t){if(e){if(typeof e=="string")return jT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jT(e,t)}}function JTe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eEe(e){if(Array.isArray(e))return jT(e)}function jT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WK(r.key),r)}}function nEe(e,t,n){return t&&mz(e.prototype,t),n&&mz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rEe(e,t,n){return t=Eb(t),iEe(e,zK()?Reflect.construct(t,n||[],Eb(e).constructor):t.apply(e,n))}function iEe(e,t){if(t&&(yh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zK=function(){return!!e})()}function Eb(e){return Eb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Eb(e)}function sEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ST(e,t)}function ST(e,t){return ST=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ST(e,t)}function cs(e,t,n){return t=WK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WK(e){var t=oEe(e,"string");return yh(t)=="symbol"?t:t+""}function oEe(e,t){if(yh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Da=(function(e){function t(){var n;tEe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=rEe(this,t,[].concat(i)),cs(n,"state",{isAnimationFinished:!0,totalLength:0}),cs(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),cs(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,S){return N+S});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/u),p=o%u,g=l-o,x=[],b=0,v=0;b<c.length;v+=c[b],++b)if(v+c[b]>p){x=[].concat(ff(c.slice(0,b)),[p-v]);break}var w=x.length%2===0?[0,g]:[g];return[].concat(ff(t.repeat(c,h)),ff(x),w).map(function(N){return"".concat(N,"px")}).join(", ")}),cs(n,"id",Ec("recharts-line-")),cs(n,"pathRef",function(o){n.mainCurve=o}),cs(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),cs(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sEe(t,e),nEe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,h=s.children,p=mi(h,Xh);if(!p)return null;var g=function(v,w){return{x:v.x,y:v.y,value:v.value,errorVal:Pn(v.payload,w)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Y.createElement(At,x,p.map(function(b){return Y.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,h=l.dataKey,p=Qe(this.props,!1),g=Qe(c,!0),x=u.map(function(v,w){var N=Ji(Ji(Ji({key:"dot-".concat(w),r:3},p),g),{},{index:w,cx:v.x,cy:v.y,value:v.value,dataKey:h,payload:v.payload,points:u});return t.renderDotItem(c,N)}),b={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Y.createElement(At,Wm({className:"recharts-line-dots",key:"dots"},b),x)}},{key:"renderCurveStatically",value:function(r,i,s,o){var l=this.props,c=l.type,u=l.layout,h=l.connectNulls;l.ref;var p=hz(l,GTe),g=Ji(Ji(Ji({},Qe(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:c,layout:u,connectNulls:h});return Y.createElement(mc,Wm({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,h=o.animationBegin,p=o.animationDuration,g=o.animationEasing,x=o.animationId,b=o.animateNewValues,v=o.width,w=o.height,N=this.state,S=N.prevPoints,A=N.totalLength;return Y.createElement(Ba,{begin:h,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var C=T.t;if(S){var E=S.length/l.length,O=l.map(function(z,V){var U=Math.floor(V*E);if(S[U]){var te=S[U],Q=Dn(te.x,z.x),J=Dn(te.y,z.y);return Ji(Ji({},z),{},{x:Q(C),y:J(C)})}if(b){var G=Dn(v*2,z.x),ee=Dn(w/2,z.y);return Ji(Ji({},z),{},{x:G(C),y:ee(C)})}return Ji(Ji({},z),{},{x:z.x,y:z.y})});return s.renderCurveStatically(O,r,i)}var I=Dn(0,A),F=I(C),W;if(c){var $="".concat(c).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});W=s.getStrokeDasharray(F,A,$)}else W=s.generateSimpleStrokeDasharray(A,F);return s.renderCurveStatically(l,r,i,{strokeDasharray:W})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!u&&h>0||!Sc(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,h=i.yAxis,p=i.top,g=i.left,x=i.width,b=i.height,v=i.isAnimationActive,w=i.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,S=l.length===1,A=wt("recharts-line",c),T=u&&u.allowDataOverflow,C=h&&h.allowDataOverflow,E=T||C,O=ut(w)?this.id:w,I=(r=Qe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=I.r,W=F===void 0?3:F,$=I.strokeWidth,z=$===void 0?2:$,V=U9(o)?o:{},U=V.clipDot,te=U===void 0?!0:U,Q=W*2+z;return Y.createElement(At,{className:A},T||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(O)},Y.createElement("rect",{x:T?g:g-x/2,y:C?p:p-b/2,width:T?x:x*2,height:C?b:b*2})),!te&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Y.createElement("rect",{x:g-Q/2,y:p-Q/2,width:x+Q,height:b+Q}))):null,!S&&this.renderCurve(E,O),this.renderErrorBar(E,O),(S||o)&&this.renderDots(E,te,O),(!v||N)&&gs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(ff(r),[0]):r,o=[],l=0;l<i;++l)o=[].concat(ff(o),ff(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(Y.isValidElement(r))s=Y.cloneElement(r,i);else if(dt(r))s=r(i);else{var o=i.key,l=hz(i,YTe),c=wt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=Y.createElement(Ov,Wm({key:o},l,{className:c}))}return s}}])})(j.PureComponent);cs(Da,"displayName","Line");cs(Da,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!pl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});cs(Da,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,h=t.layout,p=c.map(function(g,x){var b=Pn(g,o);return h==="horizontal"?{x:oh({axis:n,ticks:i,bandSize:l,entry:g,index:x}),y:ut(b)?null:r.scale(b),value:b,payload:g}:{x:ut(b)?null:n.scale(b),y:oh({axis:r,ticks:s,bandSize:l,entry:g,index:x}),value:b,payload:g}});return Ji({points:p,layout:h},u)});var lEe=["layout","type","stroke","connectNulls","isRange","ref"],cEe=["key"],qK;function xh(e){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xh(e)}function UK(e,t){if(e==null)return{};var n=uEe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(this,arguments)}function gz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gz(Object(n),!0).forEach(function(r){to(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HK(r.key),r)}}function fEe(e,t,n){return t&&vz(e.prototype,t),n&&vz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hEe(e,t,n){return t=Ob(t),pEe(e,VK()?Reflect.construct(t,n||[],Ob(e).constructor):t.apply(e,n))}function pEe(e,t){if(t&&(xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mEe(e)}function mEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!e})()}function Ob(e){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(e)}function gEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NT(e,t)}function NT(e,t){return NT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NT(e,t)}function to(e,t,n){return t=HK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HK(e){var t=vEe(e,"string");return xh(t)=="symbol"?t:t+""}function vEe(e,t){if(xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Xr=(function(e){function t(){var n;dEe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=hEe(this,t,[].concat(i)),to(n,"state",{isAnimationFinished:!0}),to(n,"id",Ec("recharts-area-")),to(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),dt(o)&&o()}),to(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),dt(o)&&o()}),n}return gEe(t,e),fEe(t,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,h=c.points,p=c.dataKey,g=Qe(this.props,!1),x=Qe(u,!0),b=h.map(function(w,N){var S=tc(tc(tc({key:"dot-".concat(N),r:3},g),x),{},{index:N,cx:w.x,cy:w.y,dataKey:p,value:w.value,payload:w.payload,points:h});return t.renderDotItem(u,S)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Y.createElement(At,Ru({className:"recharts-area-dots"},v),b)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].x,u=o[o.length-1].x,h=r*Math.abs(c-u),p=oc(o.map(function(g){return g.y||0}));return Oe(s)&&typeof s=="number"?p=Math.max(s,p):s&&Array.isArray(s)&&s.length&&(p=Math.max(oc(s.map(function(g){return g.y||0})),p)),Oe(p)?Y.createElement("rect",{x:c<u?c:c-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,l=i.strokeWidth,c=o[0].y,u=o[o.length-1].y,h=r*Math.abs(c-u),p=oc(o.map(function(g){return g.x||0}));return Oe(s)&&typeof s=="number"?p=Math.max(s,p):s&&Array.isArray(s)&&s.length&&(p=Math.max(oc(s.map(function(g){return g.x||0})),p)),Oe(p)?Y.createElement("rect",{x:0,y:c<u?c:c-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var l=this.props,c=l.layout,u=l.type,h=l.stroke,p=l.connectNulls,g=l.isRange;l.ref;var x=UK(l,lEe);return Y.createElement(At,{clipPath:s?"url(#clipPath-".concat(o,")"):null},Y.createElement(mc,Ru({},Qe(x,!0),{points:r,connectNulls:p,type:u,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&Y.createElement(mc,Ru({},Qe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:r})),h!=="none"&&g&&Y.createElement(mc,Ru({},Qe(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,h=o.animationBegin,p=o.animationDuration,g=o.animationEasing,x=o.animationId,b=this.state,v=b.prevPoints,w=b.prevBaseLine;return Y.createElement(Ba,{begin:h,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(x),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var S=N.t;if(v){var A=v.length/l.length,T=l.map(function(I,F){var W=Math.floor(F*A);if(v[W]){var $=v[W],z=Dn($.x,I.x),V=Dn($.y,I.y);return tc(tc({},I),{},{x:z(S),y:V(S)})}return I}),C;if(Oe(c)&&typeof c=="number"){var E=Dn(w,c);C=E(S)}else if(ut(c)||Hh(c)){var O=Dn(w,0);C=O(S)}else C=c.map(function(I,F){var W=Math.floor(F*A);if(w[W]){var $=w[W],z=Dn($.x,I.x),V=Dn($.y,I.y);return tc(tc({},I),{},{x:z(S),y:V(S)})}return I});return s.renderAreaStatically(T,C,r,i)}return Y.createElement(At,null,Y.createElement("defs",null,Y.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(S))),Y.createElement(At,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,h=u.prevPoints,p=u.prevBaseLine,g=u.totalLength;return c&&o&&o.length&&(!h&&g>0||!Sc(h,o)||!Sc(p,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,l,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.top,h=i.left,p=i.xAxis,g=i.yAxis,x=i.width,b=i.height,v=i.isAnimationActive,w=i.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,S=l.length===1,A=wt("recharts-area",c),T=p&&p.allowDataOverflow,C=g&&g.allowDataOverflow,E=T||C,O=ut(w)?this.id:w,I=(r=Qe(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},F=I.r,W=F===void 0?3:F,$=I.strokeWidth,z=$===void 0?2:$,V=U9(o)?o:{},U=V.clipDot,te=U===void 0?!0:U,Q=W*2+z;return Y.createElement(At,{className:A},T||C?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(O)},Y.createElement("rect",{x:T?h:h-x/2,y:C?u:u-b/2,width:T?x:x*2,height:C?b:b*2})),!te&&Y.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Y.createElement("rect",{x:h-Q/2,y:u-Q/2,width:x+Q,height:b+Q}))):null,S?null:this.renderArea(E,O),(o||S)&&this.renderDots(E,te,O),(!v||N)&&gs.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(j.PureComponent);qK=Xr;to(Xr,"displayName","Area");to(Xr,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});to(Xr,"getBaseValue",function(e,t,n,r){var i=e.layout,s=e.baseValue,o=t.props.baseValue,l=o??s;if(Oe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,u=c.scale.domain();if(c.type==="number"){var h=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return l==="dataMin"?p:l==="dataMax"||h<0?h:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});to(Xr,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,i=e.yAxis,s=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,h=e.dataStartIndex,p=e.displayedData,g=e.offset,x=t.layout,b=u&&u.length,v=qK.getBaseValue(t,n,r,i),w=x==="horizontal",N=!1,S=p.map(function(T,C){var E;b?E=u[h+C]:(E=Pn(T,c),Array.isArray(E)?N=!0:E=[v,E]);var O=E[1]==null||b&&Pn(T,c)==null;return w?{x:oh({axis:r,ticks:s,bandSize:l,entry:T,index:C}),y:O?null:i.scale(E[1]),value:E,payload:T}:{x:O?null:r.scale(E[1]),y:oh({axis:i,ticks:o,bandSize:l,entry:T,index:C}),value:E,payload:T}}),A;return b||N?A=S.map(function(T){var C=Array.isArray(T.value)?T.value[0]:null;return w?{x:T.x,y:C!=null&&T.y!=null?i.scale(C):null}:{x:C!=null?r.scale(C):null,y:T.y}}):A=w?i.scale(v):r.scale(v),tc({points:S,baseLine:A,layout:x,isRange:N},g)});to(Xr,"renderDotItem",function(e,t){var n;if(Y.isValidElement(e))n=Y.cloneElement(e,t);else if(dt(e))n=e(t);else{var r=wt("recharts-area-dot",typeof e!="boolean"?e.className:""),i=t.key,s=UK(t,cEe);n=Y.createElement(Ov,Ru({},s,{key:i,className:r}))}return n});function bh(e){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bh(e)}function yEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YK(r.key),r)}}function bEe(e,t,n){return t&&xEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wEe(e,t,n){return t=Mb(t),_Ee(e,KK()?Reflect.construct(t,n||[],Mb(e).constructor):t.apply(e,n))}function _Ee(e,t){if(t&&(bh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jEe(e)}function jEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mb(e)}function SEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PT(e,t)}function PT(e,t){return PT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PT(e,t)}function GK(e,t,n){return t=YK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YK(e){var t=NEe(e,"string");return bh(t)=="symbol"?t:t+""}function NEe(e,t){if(bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var g1=(function(e){function t(){return yEe(this,t),wEe(this,t,arguments)}return SEe(t,e),bEe(t,[{key:"render",value:function(){return null}}])})(j.Component);GK(g1,"displayName","ZAxis");GK(g1,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var PEe=["option","isActive"];function qm(){return qm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qm.apply(this,arguments)}function AEe(e,t){if(e==null)return{};var n=kEe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kEe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CEe(e){var t=e.option,n=e.isActive,r=AEe(e,PEe);return typeof t=="string"?j.createElement(xb,qm({option:j.createElement(Uw,qm({type:t},r)),isActive:n,shapeType:"symbols"},r)):j.createElement(xb,qm({option:t,isActive:n,shapeType:"symbols"},r))}function wh(e){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(e)}function Um(){return Um=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}function yz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ca(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yz(Object(n),!0).forEach(function(r){cc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XK(r.key),r)}}function EEe(e,t,n){return t&&xz(e.prototype,t),n&&xz(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OEe(e,t,n){return t=Rb(t),MEe(e,ZK()?Reflect.construct(t,n||[],Rb(e).constructor):t.apply(e,n))}function MEe(e,t){if(t&&(wh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return REe(e)}function REe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZK=function(){return!!e})()}function Rb(e){return Rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rb(e)}function IEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AT(e,t)}function AT(e,t){return AT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},AT(e,t)}function cc(e,t,n){return t=XK(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XK(e){var t=DEe(e,"string");return wh(t)=="symbol"?t:t+""}function DEe(e,t){if(wh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var v1=(function(e){function t(){var n;TEe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=OEe(this,t,[].concat(i)),cc(n,"state",{isAnimationFinished:!1}),cc(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),cc(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),cc(n,"id",Ec("recharts-scatter-")),n}return IEe(t,e),EEe(t,[{key:"renderSymbolsStatically",value:function(r){var i=this,s=this.props,o=s.shape,l=s.activeShape,c=s.activeIndex,u=Qe(this.props,!1);return r.map(function(h,p){var g=c===p,x=g?l:o,b=Ca(Ca({},u),h);return Y.createElement(At,Um({className:"recharts-scatter-symbol",key:"symbol-".concat(h?.cx,"-").concat(h?.cy,"-").concat(h?.size,"-").concat(p)},jc(i.props,h,p),{role:"img"}),Y.createElement(CEe,Um({option:x,isActive:g,key:"symbol-".concat(p)},b)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,s=i.points,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,h=i.animationId,p=this.state.prevPoints;return Y.createElement(Ba,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,b=s.map(function(v,w){var N=p&&p[w];if(N){var S=Dn(N.cx,v.cx),A=Dn(N.cy,v.cy),T=Dn(N.size,v.size);return Ca(Ca({},v),{},{cx:S(x),cy:A(x),size:T(x)})}var C=Dn(0,v.size);return Ca(Ca({},v),{},{size:C(x)})});return Y.createElement(At,null,r.renderSymbolsStatically(b))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,s=r.isAnimationActive,o=this.state.prevPoints;return s&&i&&i.length&&(!o||!Sc(o,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.children,u=mi(c,Xh);return u?u.map(function(h,p){var g=h.props,x=g.direction,b=g.dataKey;return Y.cloneElement(h,{key:"".concat(x,"-").concat(b,"-").concat(s[p]),data:s,xAxis:o,yAxis:l,layout:x==="x"?"vertical":"horizontal",dataPointFormatter:function(w,N){return{x:w.cx,y:w.cy,value:x==="x"?+w.node.x:+w.node.y,errorVal:Pn(w,N)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,s=r.line,o=r.lineType,l=r.lineJointType,c=Qe(this.props,!1),u=Qe(s,!1),h,p;if(o==="joint")h=i.map(function(A){return{x:A.cx,y:A.cy}});else if(o==="fitting"){var g=Eve(i),x=g.xmin,b=g.xmax,v=g.a,w=g.b,N=function(T){return v*T+w};h=[{x,y:N(x)},{x:b,y:N(b)}]}var S=Ca(Ca(Ca({},c),{},{fill:"none",stroke:c&&c.fill},u),{},{points:h});return Y.isValidElement(s)?p=Y.cloneElement(s,S):dt(s)?p=s(S):p=Y.createElement(mc,Um({},S,{type:l})),Y.createElement(At,{className:"recharts-scatter-line",key:"recharts-scatter-line"},p)}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.points,o=r.line,l=r.className,c=r.xAxis,u=r.yAxis,h=r.left,p=r.top,g=r.width,x=r.height,b=r.id,v=r.isAnimationActive;if(i||!s||!s.length)return null;var w=this.state.isAnimationFinished,N=wt("recharts-scatter",l),S=c&&c.allowDataOverflow,A=u&&u.allowDataOverflow,T=S||A,C=ut(b)?this.id:b;return Y.createElement(At,{className:N,clipPath:T?"url(#clipPath-".concat(C,")"):null},S||A?Y.createElement("defs",null,Y.createElement("clipPath",{id:"clipPath-".concat(C)},Y.createElement("rect",{x:S?h:h-g/2,y:A?p:p-x/2,width:S?g:g*2,height:A?x:x*2}))):null,o&&this.renderLine(),this.renderErrorBar(),Y.createElement(At,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!v||w)&&gs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])})(j.PureComponent);cc(v1,"displayName","Scatter");cc(v1,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!pl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});cc(v1,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,s=e.displayedData,o=e.xAxisTicks,l=e.yAxisTicks,c=e.offset,u=i.props.tooltipType,h=mi(i.props.children,Fu),p=ut(t.dataKey)?i.props.dataKey:t.dataKey,g=ut(n.dataKey)?i.props.dataKey:n.dataKey,x=r&&r.dataKey,b=r?r.range:g1.defaultProps.range,v=b&&b[0],w=t.scale.bandwidth?t.scale.bandwidth():0,N=n.scale.bandwidth?n.scale.bandwidth():0,S=s.map(function(A,T){var C=Pn(A,p),E=Pn(A,g),O=!ut(x)&&Pn(A,x)||"-",I=[{name:ut(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:C,payload:A,dataKey:p,type:u},{name:ut(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:E,payload:A,dataKey:g,type:u}];O!=="-"&&I.push({name:r.name||r.dataKey,unit:r.unit||"",value:O,payload:A,dataKey:x,type:u});var F=oh({axis:t,ticks:o,bandSize:w,entry:A,index:T,dataKey:p}),W=oh({axis:n,ticks:l,bandSize:N,entry:A,index:T,dataKey:g}),$=O!=="-"?r.scale(O):v,z=Math.sqrt(Math.max($,0)/Math.PI);return Ca(Ca({},A),{},{cx:F,cy:W,x:F-z,y:W-z,xAxis:t,yAxis:n,zAxis:r,width:2*z,height:2*z,size:$,node:{x:C,y:E,z:O},tooltipPayload:I,tooltipPosition:{x:F,y:W},payload:A},h&&h[T]&&h[T].props)});return Ca({points:S},c)});function _h(e){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(e)}function LEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eG(r.key),r)}}function $Ee(e,t,n){return t&&FEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BEe(e,t,n){return t=Ib(t),zEe(e,QK()?Reflect.construct(t,n||[],Ib(e).constructor):t.apply(e,n))}function zEe(e,t){if(t&&(_h(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WEe(e)}function WEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QK=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(e)}function qEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kT(e,t)}function kT(e,t){return kT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kT(e,t)}function JK(e,t,n){return t=eG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eG(e){var t=UEe(e,"string");return _h(t)=="symbol"?t:t+""}function UEe(e,t){if(_h(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CT(){return CT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CT.apply(this,arguments)}function VEe(e){var t=e.xAxisId,n=ZO(),r=XO(),i=CK(t);return i==null?null:j.createElement(Qh,CT({},i,{className:wt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Ko(o,!0)}}))}var Rr=(function(e){function t(){return LEe(this,t),BEe(this,t,arguments)}return qEe(t,e),$Ee(t,[{key:"render",value:function(){return j.createElement(VEe,this.props)}}])})(j.Component);JK(Rr,"displayName","XAxis");JK(Rr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jh(e){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jh(e)}function HEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KEe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rG(r.key),r)}}function GEe(e,t,n){return t&&KEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YEe(e,t,n){return t=Db(t),ZEe(e,tG()?Reflect.construct(t,n||[],Db(e).constructor):t.apply(e,n))}function ZEe(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XEe(e)}function XEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(e)}function QEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TT(e,t)}function TT(e,t){return TT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TT(e,t)}function nG(e,t,n){return t=rG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rG(e){var t=JEe(e,"string");return jh(t)=="symbol"?t:t+""}function JEe(e,t){if(jh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function ET(){return ET=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ET.apply(this,arguments)}var e2e=function(t){var n=t.yAxisId,r=ZO(),i=XO(),s=TK(n);return s==null?null:j.createElement(Qh,ET({},s,{className:wt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return Ko(l,!0)}}))},Pr=(function(e){function t(){return HEe(this,t),YEe(this,t,arguments)}return QEe(t,e),GEe(t,[{key:"render",value:function(){return j.createElement(e2e,this.props)}}])})(j.Component);nG(Pr,"displayName","YAxis");nG(Pr,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function bz(e){return i2e(e)||r2e(e)||n2e(e)||t2e()}function t2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n2e(e,t){if(e){if(typeof e=="string")return OT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OT(e,t)}}function r2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i2e(e){if(Array.isArray(e))return OT(e)}function OT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var MT=function(t,n,r,i,s){var o=mi(t,Mv),l=mi(t,h1),c=[].concat(bz(o),bz(l)),u=mi(t,m1),h="".concat(i,"Id"),p=i[0],g=n;if(c.length&&(g=c.reduce(function(v,w){if(w.props[h]===r&&oo(w.props,"extendDomain")&&Oe(w.props[p])){var N=w.props[p];return[Math.min(v[0],N),Math.max(v[1],N)]}return v},g)),u.length){var x="".concat(p,"1"),b="".concat(p,"2");g=u.reduce(function(v,w){if(w.props[h]===r&&oo(w.props,"extendDomain")&&Oe(w.props[x])&&Oe(w.props[b])){var N=w.props[x],S=w.props[b];return[Math.min(v[0],N,S),Math.max(v[1],N,S)]}return v},g)}return s&&s.length&&(g=s.reduce(function(v,w){return Oe(w)?[Math.min(v[0],w),Math.max(v[1],w)]:v},g)),g},VA={exports:{}},wz;function a2e(){return wz||(wz=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,h){this.fn=c,this.context=u,this.once=h||!1}function s(c,u,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||c,g),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],x]:c._events[b].push(x):(c._events[b]=x,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],h,p;if(this._eventsCount===0)return u;for(p in h=this._events)t.call(h,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},l.prototype.listeners=function(u){var h=n?n+u:u,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,x=p.length,b=new Array(x);g<x;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(u){var h=n?n+u:u,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,h,p,g,x,b){var v=n?n+u:u;if(!this._events[v])return!1;var w=this._events[v],N=arguments.length,S,A;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),N){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,p),!0;case 4:return w.fn.call(w.context,h,p,g),!0;case 5:return w.fn.call(w.context,h,p,g,x),!0;case 6:return w.fn.call(w.context,h,p,g,x,b),!0}for(A=1,S=new Array(N-1);A<N;A++)S[A-1]=arguments[A];w.fn.apply(w.context,S)}else{var T=w.length,C;for(A=0;A<T;A++)switch(w[A].once&&this.removeListener(u,w[A].fn,void 0,!0),N){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,h);break;case 3:w[A].fn.call(w[A].context,h,p);break;case 4:w[A].fn.call(w[A].context,h,p,g);break;default:if(!S)for(C=1,S=new Array(N-1);C<N;C++)S[C-1]=arguments[C];w[A].fn.apply(w[A].context,S)}}return!0},l.prototype.on=function(u,h,p){return s(this,u,h,p,!1)},l.prototype.once=function(u,h,p){return s(this,u,h,p,!0)},l.prototype.removeListener=function(u,h,p,g){var x=n?n+u:u;if(!this._events[x])return this;if(!h)return o(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!g||b.once)&&(!p||b.context===p)&&o(this,x);else{for(var v=0,w=[],N=b.length;v<N;v++)(b[v].fn!==h||g&&!b[v].once||p&&b[v].context!==p)&&w.push(b[v]);w.length?this._events[x]=w.length===1?w[0]:w:o(this,x)}return this},l.prototype.removeAllListeners=function(u){var h;return u?(h=n?n+u:u,this._events[h]&&o(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l})(VA)),VA.exports}var s2e=a2e();const o2e=Ut(s2e);var HA=new o2e,KA="recharts.syncMouseEvents";function Zg(e){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zg(e)}function l2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iG(r.key),r)}}function u2e(e,t,n){return t&&c2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GA(e,t,n){return t=iG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iG(e){var t=d2e(e,"string");return Zg(t)=="symbol"?t:t+""}function d2e(e,t){if(Zg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f2e=(function(){function e(){l2e(this,e),GA(this,"activeIndex",0),GA(this,"coordinateList",[]),GA(this,"layout","horizontal")}return u2e(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,g=n.mouseHandlerCallback,x=g===void 0?null:g;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=x??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=s+c+u,g=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])})();function h2e(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],i=e?.[1];if(r&&i&&Oe(r)&&Oe(i))return!0}return!1}function p2e(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function aG(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,s=e.endAngle,o=pn(t,n,r,i),l=pn(t,n,r,s);return{points:[o,l],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function m2e(e,t,n){var r,i,s,o;if(e==="horizontal")r=t.x,s=r,i=n.top,o=n.top+n.height;else if(e==="vertical")i=t.y,o=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,h=t.outerRadius,p=t.angle,g=pn(l,c,u,p),x=pn(l,c,h,p);r=g.x,i=g.y,s=x.x,o=x.y}else return aG(t);return[{x:r,y:i},{x:s,y:o}]}function Xg(e){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xg(e)}function _z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_z(Object(n),!0).forEach(function(r){g2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_z(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g2e(e,t,n){return t=v2e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v2e(e){var t=y2e(e,"string");return Xg(t)=="symbol"?t:t+""}function y2e(e,t){if(Xg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x2e(e){var t,n,r=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,h=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,x=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!x||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,v=mc;if(g==="ScatterChart")b=o,v=fAe;else if(g==="BarChart")b=p2e(p,o,c,h),v=HO;else if(p==="radial"){var w=aG(o),N=w.cx,S=w.cy,A=w.radius,T=w.startAngle,C=w.endAngle;b={cx:N,cy:S,startAngle:T,endAngle:C,innerRadius:A,outerRadius:A},v=J7}else b={points:m2e(p,o,c)},v=mc;var E=Rx(Rx(Rx(Rx({stroke:"#ccc",pointerEvents:"none"},c),b),Qe(x,!1)),{},{payload:l,payloadIndex:u,className:wt("recharts-tooltip-cursor",x.className)});return j.isValidElement(x)?j.cloneElement(x,E):j.createElement(v,E)}var b2e=["item"],w2e=["children","className","width","height","style","compact","title","desc"];function Sh(e){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sh(e)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ef.apply(this,arguments)}function jz(e,t){return S2e(e)||j2e(e,t)||oG(e,t)||_2e()}function _2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j2e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,o,l=[],c=!0,u=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(c=(r=s.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(h){u=!0,i=h}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function S2e(e){if(Array.isArray(e))return e}function Sz(e,t){if(e==null)return{};var n=N2e(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function N2e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function P2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A2e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lG(r.key),r)}}function k2e(e,t,n){return t&&A2e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C2e(e,t,n){return t=Lb(t),T2e(e,sG()?Reflect.construct(t,n||[],Lb(e).constructor):t.apply(e,n))}function T2e(e,t){if(t&&(Sh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E2e(e)}function E2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sG=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lb(e)}function O2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RT(e,t)}function RT(e,t){return RT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RT(e,t)}function Nh(e){return I2e(e)||R2e(e)||oG(e)||M2e()}function M2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oG(e,t){if(e){if(typeof e=="string")return IT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IT(e,t)}}function R2e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function I2e(e){if(Array.isArray(e))return IT(e)}function IT(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nz(Object(n),!0).forEach(function(r){ht(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nz(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ht(e,t,n){return t=lG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lG(e){var t=D2e(e,"string");return Sh(t)=="symbol"?t:t+""}function D2e(e,t){if(Sh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var L2e={xAxis:["bottom","top"],yAxis:["left","right"]},F2e={width:"100%",height:"100%"},cG={x:0,y:0};function Ix(e){return e}var $2e=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},B2e=function(t,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return we(we(we({},i),pn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return we(we(we({},i),pn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return cG},y1=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Nh(l),Nh(u)):l},[]);return o.length>0?o:t&&t.length&&Oe(i)&&Oe(s)?t.slice(i,s+1):[]};function uG(e){return e==="number"?[0,"auto"]:void 0}var DT=function(t,n,r,i){var s=t.graphicalItems,o=t.tooltipAxis,l=y1(n,t);return r<0||!s||!s.length||r>=l.length?null:s.reduce(function(c,u){var h,p=(h=u.props.data)!==null&&h!==void 0?h:n;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var x=p===void 0?l:p;g=L0(x,o.dataKey,i)}else g=p&&p[r]||l[r];return g?[].concat(Nh(c),[K7(u,g)]):c},[])},Pz=function(t,n,r,i){var s=i||{x:t.chartX,y:t.chartY},o=$2e(s,r),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,h=Lje(o,l,u,c);if(h>=0&&u){var p=u[h]&&u[h].value,g=DT(t,n,h,p),x=B2e(r,l,h,s);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:x}}return null},z2e=function(t,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,p=t.children,g=t.stackOffset,x=z7(h,s);return r.reduce(function(b,v){var w,N=v.type.defaultProps!==void 0?we(we({},v.type.defaultProps),v.props):v.props,S=N.type,A=N.dataKey,T=N.allowDataOverflow,C=N.allowDuplicatedCategory,E=N.scale,O=N.ticks,I=N.includeHidden,F=N[o];if(b[F])return b;var W=y1(t.data,{graphicalItems:i.filter(function(H){var ne,se=o in H.props?H.props[o]:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne[o];return se===F}),dataStartIndex:c,dataEndIndex:u}),$=W.length,z,V,U;h2e(N.domain,T,S)&&(z=KC(N.domain,null,T),x&&(S==="number"||E!=="auto")&&(U=Fm(W,A,"category")));var te=uG(S);if(!z||z.length===0){var Q,J=(Q=N.domain)!==null&&Q!==void 0?Q:te;if(A){if(z=Fm(W,A,S),S==="category"&&x){var G=Tve(z);C&&G?(V=z,z=wb(0,$)):C||(z=wB(J,z,v).reduce(function(H,ne){return H.indexOf(ne)>=0?H:[].concat(Nh(H),[ne])},[]))}else if(S==="category")C?z=z.filter(function(H){return H!==""&&!ut(H)}):z=wB(J,z,v).reduce(function(H,ne){return H.indexOf(ne)>=0||ne===""||ut(ne)?H:[].concat(Nh(H),[ne])},[]);else if(S==="number"){var ee=Wje(W,i.filter(function(H){var ne,se,de=o in H.props?H.props[o]:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne[o],me="hide"in H.props?H.props.hide:(se=H.type.defaultProps)===null||se===void 0?void 0:se.hide;return de===F&&(I||!me)}),A,s,h);ee&&(z=ee)}x&&(S==="number"||E!=="auto")&&(U=Fm(W,A,"category"))}else x?z=wb(0,$):l&&l[F]&&l[F].hasStack&&S==="number"?z=g==="expand"?[0,1]:H7(l[F].stackGroups,c,u):z=B7(W,i.filter(function(H){var ne=o in H.props?H.props[o]:H.type.defaultProps[o],se="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ne===F&&(I||!se)}),S,h,!0);if(S==="number")z=MT(p,z,F,s,O),J&&(z=KC(J,z,T));else if(S==="category"&&J){var X=J,q=z.every(function(H){return X.indexOf(H)>=0});q&&(z=X)}}return we(we({},b),{},ht({},F,we(we({},N),{},{axisType:s,domain:z,categoricalDomain:U,duplicateDomain:V,originalDomain:(w=N.domain)!==null&&w!==void 0?w:te,isCategorical:x,layout:h})))},{})},W2e=function(t,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.layout,p=t.children,g=y1(t.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:u}),x=g.length,b=z7(h,s),v=-1;return r.reduce(function(w,N){var S=N.type.defaultProps!==void 0?we(we({},N.type.defaultProps),N.props):N.props,A=S[o],T=uG("number");if(!w[A]){v++;var C;return b?C=wb(0,x):l&&l[A]&&l[A].hasStack?(C=H7(l[A].stackGroups,c,u),C=MT(p,C,A,s)):(C=KC(T,B7(g,r.filter(function(E){var O,I,F=o in E.props?E.props[o]:(O=E.type.defaultProps)===null||O===void 0?void 0:O[o],W="hide"in E.props?E.props.hide:(I=E.type.defaultProps)===null||I===void 0?void 0:I.hide;return F===A&&!W}),"number",h),i.defaultProps.allowDataOverflow),C=MT(p,C,A,s)),we(we({},w),{},ht({},A,we(we({axisType:s},i.defaultProps),{},{hide:!0,orientation:oa(L2e,"".concat(s,".").concat(v%2),null),domain:C,originalDomain:T,isCategorical:b,layout:h})))}return w},{})},q2e=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,h=t.children,p="".concat(i,"Id"),g=mi(h,s),x={};return g&&g.length?x=z2e(t,{axes:g,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(x=W2e(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),x},U2e=function(t){var n=ac(t),r=Ko(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:xO(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:lb(n,r)}},Az=function(t){var n=t.children,r=t.defaultShowTooltip,i=ta(n,td),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},V2e=function(t){return!t||!t.length?!1:t.some(function(n){var r=el(n&&n.type);return r&&r.indexOf("Bar")>=0})},kz=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},H2e=function(t,n){var r=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=r.width,h=r.height,p=r.children,g=r.margin||{},x=ta(p,td),b=ta(p,tl),v=Object.keys(c).reduce(function(C,E){var O=c[E],I=O.orientation;return!O.mirror&&!O.hide?we(we({},C),{},ht({},I,C[I]+O.width)):C},{left:g.left||0,right:g.right||0}),w=Object.keys(o).reduce(function(C,E){var O=o[E],I=O.orientation;return!O.mirror&&!O.hide?we(we({},C),{},ht({},I,oa(C,"".concat(I))+O.height)):C},{top:g.top||0,bottom:g.bottom||0}),N=we(we({},w),v),S=N.bottom;x&&(N.bottom+=x.props.height||td.defaultProps.height),b&&n&&(N=Bje(N,i,r,n));var A=u-N.left-N.right,T=h-N.top-N.bottom;return we(we({brushBottom:S},N),{},{width:Math.max(A,0),height:Math.max(T,0)})},K2e=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Rv=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,h=t.formatAxisMap,p=t.defaultProps,g=function(N,S){var A=S.graphicalItems,T=S.stackGroups,C=S.offset,E=S.updateId,O=S.dataStartIndex,I=S.dataEndIndex,F=N.barSize,W=N.layout,$=N.barGap,z=N.barCategoryGap,V=N.maxBarSize,U=kz(W),te=U.numericAxisName,Q=U.cateAxisName,J=V2e(A),G=[];return A.forEach(function(ee,X){var q=y1(N.data,{graphicalItems:[ee],dataStartIndex:O,dataEndIndex:I}),H=ee.type.defaultProps!==void 0?we(we({},ee.type.defaultProps),ee.props):ee.props,ne=H.dataKey,se=H.maxBarSize,de=H["".concat(te,"Id")],me=H["".concat(Q,"Id")],fe={},_e=c.reduce(function(Et,it){var _t=S["".concat(it.axisType,"Map")],cn=H["".concat(it.axisType,"Id")];_t&&_t[cn]||it.axisType==="zAxis"||ed();var Fn=_t[cn];return we(we({},Et),{},ht(ht({},it.axisType,Fn),"".concat(it.axisType,"Ticks"),Ko(Fn)))},fe),he=_e[Q],be=_e["".concat(Q,"Ticks")],Me=T&&T[de]&&T[de].hasStack&&Xje(ee,T[de].stackGroups),ve=el(ee.type).indexOf("Bar")>=0,Ze=lb(he,be),He=[],je=J&&Fje({barSize:F,stackGroups:T,totalSize:K2e(_e,Q)});if(ve){var Ce,Re,Ke=ut(se)?V:se,yt=(Ce=(Re=lb(he,be,!0))!==null&&Re!==void 0?Re:Ke)!==null&&Ce!==void 0?Ce:0;He=$je({barGap:$,barCategoryGap:z,bandSize:yt!==Ze?yt:Ze,sizeList:je[me],maxBarSize:Ke}),yt!==Ze&&(He=He.map(function(Et){return we(we({},Et),{},{position:we(we({},Et.position),{},{offset:Et.position.offset-yt/2})})}))}var kt=ee&&ee.type&&ee.type.getComposedData;kt&&G.push({props:we(we({},kt(we(we({},_e),{},{displayedData:q,props:N,dataKey:ne,item:ee,bandSize:Ze,barPosition:He,offset:C,stackedData:Me,layout:W,dataStartIndex:O,dataEndIndex:I}))),{},ht(ht(ht({key:ee.key||"item-".concat(X)},te,_e[te]),Q,_e[Q]),"animationId",E)),childIndex:qve(ee,N.children),item:ee})}),G},x=function(N,S){var A=N.props,T=N.dataStartIndex,C=N.dataEndIndex,E=N.updateId;if(!D4({props:A}))return null;var O=A.children,I=A.layout,F=A.stackOffset,W=A.data,$=A.reverseStackOrder,z=kz(I),V=z.numericAxisName,U=z.cateAxisName,te=mi(O,r),Q=Yje(W,te,"".concat(V,"Id"),"".concat(U,"Id"),F,$),J=c.reduce(function(H,ne){var se="".concat(ne.axisType,"Map");return we(we({},H),{},ht({},se,q2e(A,we(we({},ne),{},{graphicalItems:te,stackGroups:ne.axisType===V&&Q,dataStartIndex:T,dataEndIndex:C}))))},{}),G=H2e(we(we({},J),{},{props:A,graphicalItems:te}),S?.legendBBox);Object.keys(J).forEach(function(H){J[H]=h(A,J[H],G,H.replace("Map",""),n)});var ee=J["".concat(U,"Map")],X=U2e(ee),q=g(A,we(we({},J),{},{dataStartIndex:T,dataEndIndex:C,updateId:E,graphicalItems:te,stackGroups:Q,offset:G}));return we(we({formattedGraphicalItems:q,graphicalItems:te,offset:G,stackGroups:Q},X),J)},b=(function(w){function N(S){var A,T,C;return P2e(this,N),C=C2e(this,N,[S]),ht(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ht(C,"accessibilityManager",new f2e),ht(C,"handleLegendBBoxUpdate",function(E){if(E){var O=C.state,I=O.dataStartIndex,F=O.dataEndIndex,W=O.updateId;C.setState(we({legendBBox:E},x({props:C.props,dataStartIndex:I,dataEndIndex:F,updateId:W},we(we({},C.state),{},{legendBBox:E}))))}}),ht(C,"handleReceiveSyncEvent",function(E,O,I){if(C.props.syncId===E){if(I===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(O)}}),ht(C,"handleBrushChange",function(E){var O=E.startIndex,I=E.endIndex;if(O!==C.state.dataStartIndex||I!==C.state.dataEndIndex){var F=C.state.updateId;C.setState(function(){return we({dataStartIndex:O,dataEndIndex:I},x({props:C.props,dataStartIndex:O,dataEndIndex:I,updateId:F},C.state))}),C.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),ht(C,"handleMouseEnter",function(E){var O=C.getMouseInfo(E);if(O){var I=we(we({},O),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var F=C.props.onMouseEnter;dt(F)&&F(I,E)}}),ht(C,"triggeredAfterMouseMove",function(E){var O=C.getMouseInfo(E),I=O?we(we({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(I),C.triggerSyncEvent(I);var F=C.props.onMouseMove;dt(F)&&F(I,E)}),ht(C,"handleItemMouseEnter",function(E){C.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),ht(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),ht(C,"handleMouseMove",function(E){E.persist(),C.throttleTriggeredAfterMouseMove(E)}),ht(C,"handleMouseLeave",function(E){C.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};C.setState(O),C.triggerSyncEvent(O);var I=C.props.onMouseLeave;dt(I)&&I(O,E)}),ht(C,"handleOuterEvent",function(E){var O=Wve(E),I=oa(C.props,"".concat(O));if(O&&dt(I)){var F,W;/.*touch.*/i.test(O)?W=C.getMouseInfo(E.changedTouches[0]):W=C.getMouseInfo(E),I((F=W)!==null&&F!==void 0?F:{},E)}}),ht(C,"handleClick",function(E){var O=C.getMouseInfo(E);if(O){var I=we(we({},O),{},{isTooltipActive:!0});C.setState(I),C.triggerSyncEvent(I);var F=C.props.onClick;dt(F)&&F(I,E)}}),ht(C,"handleMouseDown",function(E){var O=C.props.onMouseDown;if(dt(O)){var I=C.getMouseInfo(E);O(I,E)}}),ht(C,"handleMouseUp",function(E){var O=C.props.onMouseUp;if(dt(O)){var I=C.getMouseInfo(E);O(I,E)}}),ht(C,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),ht(C,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseDown(E.changedTouches[0])}),ht(C,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&C.handleMouseUp(E.changedTouches[0])}),ht(C,"handleDoubleClick",function(E){var O=C.props.onDoubleClick;if(dt(O)){var I=C.getMouseInfo(E);O(I,E)}}),ht(C,"handleContextMenu",function(E){var O=C.props.onContextMenu;if(dt(O)){var I=C.getMouseInfo(E);O(I,E)}}),ht(C,"triggerSyncEvent",function(E){C.props.syncId!==void 0&&HA.emit(KA,C.props.syncId,E,C.eventEmitterSymbol)}),ht(C,"applySyncEvent",function(E){var O=C.props,I=O.layout,F=O.syncMethod,W=C.state.updateId,$=E.dataStartIndex,z=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)C.setState(we({dataStartIndex:$,dataEndIndex:z},x({props:C.props,dataStartIndex:$,dataEndIndex:z,updateId:W},C.state)));else if(E.activeTooltipIndex!==void 0){var V=E.chartX,U=E.chartY,te=E.activeTooltipIndex,Q=C.state,J=Q.offset,G=Q.tooltipTicks;if(!J)return;if(typeof F=="function")te=F(G,E);else if(F==="value"){te=-1;for(var ee=0;ee<G.length;ee++)if(G[ee].value===E.activeLabel){te=ee;break}}var X=we(we({},J),{},{x:J.left,y:J.top}),q=Math.min(V,X.x+X.width),H=Math.min(U,X.y+X.height),ne=G[te]&&G[te].value,se=DT(C.state,C.props.data,te),de=G[te]?{x:I==="horizontal"?G[te].coordinate:q,y:I==="horizontal"?H:G[te].coordinate}:cG;C.setState(we(we({},E),{},{activeLabel:ne,activeCoordinate:de,activePayload:se,activeTooltipIndex:te}))}else C.setState(E)}),ht(C,"renderCursor",function(E){var O,I=C.state,F=I.isTooltipActive,W=I.activeCoordinate,$=I.activePayload,z=I.offset,V=I.activeTooltipIndex,U=I.tooltipAxisBandSize,te=C.getTooltipEventType(),Q=(O=E.props.active)!==null&&O!==void 0?O:F,J=C.props.layout,G=E.key||"_recharts-cursor";return Y.createElement(x2e,{key:G,activeCoordinate:W,activePayload:$,activeTooltipIndex:V,chartName:n,element:E,isActive:Q,layout:J,offset:z,tooltipAxisBandSize:U,tooltipEventType:te})}),ht(C,"renderPolarAxis",function(E,O,I){var F=oa(E,"type.axisType"),W=oa(C.state,"".concat(F,"Map")),$=E.type.defaultProps,z=$!==void 0?we(we({},$),E.props):E.props,V=W&&W[z["".concat(F,"Id")]];return j.cloneElement(E,we(we({},V),{},{className:wt(F,V.className),key:E.key||"".concat(O,"-").concat(I),ticks:Ko(V,!0)}))}),ht(C,"renderPolarGrid",function(E){var O=E.props,I=O.radialLines,F=O.polarAngles,W=O.polarRadius,$=C.state,z=$.radiusAxisMap,V=$.angleAxisMap,U=ac(z),te=ac(V),Q=te.cx,J=te.cy,G=te.innerRadius,ee=te.outerRadius;return j.cloneElement(E,{polarAngles:Array.isArray(F)?F:Ko(te,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(W)?W:Ko(U,!0).map(function(X){return X.coordinate}),cx:Q,cy:J,innerRadius:G,outerRadius:ee,key:E.key||"polar-grid",radialLines:I})}),ht(C,"renderLegend",function(){var E=C.state.formattedGraphicalItems,O=C.props,I=O.children,F=O.width,W=O.height,$=C.props.margin||{},z=F-($.left||0)-($.right||0),V=F7({children:I,formattedGraphicalItems:E,legendWidth:z,legendContent:u});if(!V)return null;var U=V.item,te=Sz(V,b2e);return j.cloneElement(U,we(we({},te),{},{chartWidth:F,chartHeight:W,margin:$,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),ht(C,"renderTooltip",function(){var E,O=C.props,I=O.children,F=O.accessibilityLayer,W=ta(I,mr);if(!W)return null;var $=C.state,z=$.isTooltipActive,V=$.activeCoordinate,U=$.activePayload,te=$.activeLabel,Q=$.offset,J=(E=W.props.active)!==null&&E!==void 0?E:z;return j.cloneElement(W,{viewBox:we(we({},Q),{},{x:Q.left,y:Q.top}),active:J,label:te,payload:J?U:[],coordinate:V,accessibilityLayer:F})}),ht(C,"renderBrush",function(E){var O=C.props,I=O.margin,F=O.data,W=C.state,$=W.offset,z=W.dataStartIndex,V=W.dataEndIndex,U=W.updateId;return j.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Tx(C.handleBrushChange,E.props.onChange),data:F,x:Oe(E.props.x)?E.props.x:$.left,y:Oe(E.props.y)?E.props.y:$.top+$.height+$.brushBottom-(I.bottom||0),width:Oe(E.props.width)?E.props.width:$.width,startIndex:z,endIndex:V,updateId:"brush-".concat(U)})}),ht(C,"renderReferenceElement",function(E,O,I){if(!E)return null;var F=C,W=F.clipPathId,$=C.state,z=$.xAxisMap,V=$.yAxisMap,U=$.offset,te=E.type.defaultProps||{},Q=E.props,J=Q.xAxisId,G=J===void 0?te.xAxisId:J,ee=Q.yAxisId,X=ee===void 0?te.yAxisId:ee;return j.cloneElement(E,{key:E.key||"".concat(O,"-").concat(I),xAxis:z[G],yAxis:V[X],viewBox:{x:U.left,y:U.top,width:U.width,height:U.height},clipPathId:W})}),ht(C,"renderActivePoints",function(E){var O=E.item,I=E.activePoint,F=E.basePoint,W=E.childIndex,$=E.isRange,z=[],V=O.props.key,U=O.item.type.defaultProps!==void 0?we(we({},O.item.type.defaultProps),O.item.props):O.item.props,te=U.activeDot,Q=U.dataKey,J=we(we({index:W,dataKey:Q,cx:I.x,cy:I.y,r:4,fill:VO(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Qe(te,!1)),F0(te));return z.push(N.renderActiveDot(te,J,"".concat(V,"-activePoint-").concat(W))),F?z.push(N.renderActiveDot(te,we(we({},J),{},{cx:F.x,cy:F.y}),"".concat(V,"-basePoint-").concat(W))):$&&z.push(null),z}),ht(C,"renderGraphicChild",function(E,O,I){var F=C.filterFormatItem(E,O,I);if(!F)return null;var W=C.getTooltipEventType(),$=C.state,z=$.isTooltipActive,V=$.tooltipAxis,U=$.activeTooltipIndex,te=$.activeLabel,Q=C.props.children,J=ta(Q,mr),G=F.props,ee=G.points,X=G.isRange,q=G.baseLine,H=F.item.type.defaultProps!==void 0?we(we({},F.item.type.defaultProps),F.item.props):F.item.props,ne=H.activeDot,se=H.hide,de=H.activeBar,me=H.activeShape,fe=!!(!se&&z&&J&&(ne||de||me)),_e={};W!=="axis"&&J&&J.props.trigger==="click"?_e={onClick:Tx(C.handleItemMouseEnter,E.props.onClick)}:W!=="axis"&&(_e={onMouseLeave:Tx(C.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Tx(C.handleItemMouseEnter,E.props.onMouseEnter)});var he=j.cloneElement(E,we(we({},F.props),_e));function be(it){return typeof V.dataKey=="function"?V.dataKey(it.payload):null}if(fe)if(U>=0){var Me,ve;if(V.dataKey&&!V.allowDuplicatedCategory){var Ze=typeof V.dataKey=="function"?be:"payload.".concat(V.dataKey.toString());Me=L0(ee,Ze,te),ve=X&&q&&L0(q,Ze,te)}else Me=ee?.[U],ve=X&&q&&q[U];if(me||de){var He=E.props.activeIndex!==void 0?E.props.activeIndex:U;return[j.cloneElement(E,we(we(we({},F.props),_e),{},{activeIndex:He})),null,null]}if(!ut(Me))return[he].concat(Nh(C.renderActivePoints({item:F,activePoint:Me,basePoint:ve,childIndex:U,isRange:X})))}else{var je,Ce=(je=C.getItemByXY(C.state.activeCoordinate))!==null&&je!==void 0?je:{graphicalItem:he},Re=Ce.graphicalItem,Ke=Re.item,yt=Ke===void 0?E:Ke,kt=Re.childIndex,Et=we(we(we({},F.props),_e),{},{activeIndex:kt});return[j.cloneElement(yt,Et),null,null]}return X?[he,null,null]:[he,null]}),ht(C,"renderCustomized",function(E,O,I){return j.cloneElement(E,we(we({key:"recharts-customized-".concat(I)},C.props),C.state))}),ht(C,"renderMap",{CartesianGrid:{handler:Ix,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Ix},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Ix},YAxis:{handler:Ix},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((A=S.id)!==null&&A!==void 0?A:Ec("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=LH(C.triggeredAfterMouseMove,(T=S.throttleDelay)!==null&&T!==void 0?T:1e3/60),C.state={},C}return O2e(N,w),k2e(N,[{key:"componentDidMount",value:function(){var A,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,T=A.children,C=A.data,E=A.height,O=A.layout,I=ta(T,mr);if(I){var F=I.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,$=DT(this.state,C,F,W),z=this.state.tooltipTicks[F].coordinate,V=(this.state.offset.top+E)/2,U=O==="horizontal",te=U?{x:z,y:V}:{y:z,x:V},Q=this.state.formattedGraphicalItems.find(function(G){var ee=G.item;return ee.type.name==="Scatter"});Q&&(te=we(we({},te),Q.props.points[F].tooltipPosition),$=Q.props.points[F].tooltipPayload);var J={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:W,activePayload:$,activeCoordinate:te};this.setState(J),this.renderCursor(I),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var C,E;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(A){mC([ta(A.children,mr)],[ta(this.props.children,mr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=ta(this.props.children,mr);if(A&&typeof A.props.shared=="boolean"){var T=A.props.shared?"axis":"item";return l.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var T=this.container,C=T.getBoundingClientRect(),E=Cbe(C),O={chartX:Math.round(A.pageX-E.left),chartY:Math.round(A.pageY-E.top)},I=C.width/T.offsetWidth||1,F=this.inRange(O.chartX,O.chartY,I);if(!F)return null;var W=this.state,$=W.xAxisMap,z=W.yAxisMap,V=this.getTooltipEventType(),U=Pz(this.state,this.props.data,this.props.layout,F);if(V!=="axis"&&$&&z){var te=ac($).scale,Q=ac(z).scale,J=te&&te.invert?te.invert(O.chartX):null,G=Q&&Q.invert?Q.invert(O.chartY):null;return we(we({},O),{},{xValue:J,yValue:G},U)}return U?we(we({},O),U):null}},{key:"inRange",value:function(A,T){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,O=A/C,I=T/C;if(E==="horizontal"||E==="vertical"){var F=this.state.offset,W=O>=F.left&&O<=F.left+F.width&&I>=F.top&&I<=F.top+F.height;return W?{x:O,y:I}:null}var $=this.state,z=$.angleAxisMap,V=$.radiusAxisMap;if(z&&V){var U=ac(z);return SB({x:O,y:I},U)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,T=this.getTooltipEventType(),C=ta(A,mr),E={};C&&T==="axis"&&(C.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=F0(this.props,this.handleOuterEvent);return we(we({},O),E)}},{key:"addListener",value:function(){HA.on(KA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){HA.removeListener(KA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,T,C){for(var E=this.state.formattedGraphicalItems,O=0,I=E.length;O<I;O++){var F=E[O];if(F.item===A||F.props.key===A.key||T===el(F.item.type)&&C===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,T=this.state.offset,C=T.left,E=T.top,O=T.height,I=T.width;return Y.createElement("defs",null,Y.createElement("clipPath",{id:A},Y.createElement("rect",{x:C,y:E,height:O,width:I})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(T,C){var E=jz(C,2),O=E[0],I=E[1];return we(we({},T),{},ht({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(T,C){var E=jz(C,2),O=E[0],I=E[1];return we(we({},T),{},ht({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[A])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(A){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[A])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(A){var T=this.state,C=T.formattedGraphicalItems,E=T.activeItem;if(C&&C.length)for(var O=0,I=C.length;O<I;O++){var F=C[O],W=F.props,$=F.item,z=$.type.defaultProps!==void 0?we(we({},$.type.defaultProps),$.props):$.props,V=el($.type);if(V==="Bar"){var U=(W.data||[]).find(function(G){return HPe(A,G)});if(U)return{graphicalItem:F,payload:U}}else if(V==="RadialBar"){var te=(W.data||[]).find(function(G){return SB(A,G)});if(te)return{graphicalItem:F,payload:te}}else if(l1(F,E)||c1(F,E)||Vg(F,E)){var Q=mke({graphicalItem:F,activeTooltipItem:E,itemData:z.data}),J=z.activeIndex===void 0?Q:z.activeIndex;return{graphicalItem:we(we({},F),{},{childIndex:J}),payload:Vg(F,E)?z.data[Q]:F.props.data[Q]}}}return null}},{key:"render",value:function(){var A=this;if(!D4(this))return null;var T=this.props,C=T.children,E=T.className,O=T.width,I=T.height,F=T.style,W=T.compact,$=T.title,z=T.desc,V=Sz(T,w2e),U=Qe(V,!1);if(W)return Y.createElement(ez,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement(vC,Ef({},U,{width:O,height:I,title:$,desc:z}),this.renderClipPath(),F4(C,this.renderMap)));if(this.props.accessibilityLayer){var te,Q;U.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,U.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",U.onKeyDown=function(G){A.accessibilityManager.keyboardEvent(G)},U.onFocus=function(){A.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Y.createElement(ez,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Y.createElement("div",Ef({className:wt("recharts-wrapper",E),style:we({position:"relative",cursor:"default",width:O,height:I},F)},J,{ref:function(ee){A.container=ee}}),Y.createElement(vC,Ef({},U,{width:O,height:I,title:$,desc:z,style:F2e}),this.renderClipPath(),F4(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(j.Component);ht(b,"displayName",n),ht(b,"defaultProps",we({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),ht(b,"getDerivedStateFromProps",function(w,N){var S=w.dataKey,A=w.data,T=w.children,C=w.width,E=w.height,O=w.layout,I=w.stackOffset,F=w.margin,W=N.dataStartIndex,$=N.dataEndIndex;if(N.updateId===void 0){var z=Az(w);return we(we(we({},z),{},{updateId:0},x(we(we({props:w},z),{},{updateId:0}),N)),{},{prevDataKey:S,prevData:A,prevWidth:C,prevHeight:E,prevLayout:O,prevStackOffset:I,prevMargin:F,prevChildren:T})}if(S!==N.prevDataKey||A!==N.prevData||C!==N.prevWidth||E!==N.prevHeight||O!==N.prevLayout||I!==N.prevStackOffset||!If(F,N.prevMargin)){var V=Az(w),U={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},te=we(we({},Pz(N,A,O)),{},{updateId:N.updateId+1}),Q=we(we(we({},V),U),te);return we(we(we({},Q),x(we({props:w},Q),N)),{},{prevDataKey:S,prevData:A,prevWidth:C,prevHeight:E,prevLayout:O,prevStackOffset:I,prevMargin:F,prevChildren:T})}if(!mC(T,N.prevChildren)){var J,G,ee,X,q=ta(T,td),H=q&&(J=(G=q.props)===null||G===void 0?void 0:G.startIndex)!==null&&J!==void 0?J:W,ne=q&&(ee=(X=q.props)===null||X===void 0?void 0:X.endIndex)!==null&&ee!==void 0?ee:$,se=H!==W||ne!==$,de=!ut(A),me=de&&!se?N.updateId:N.updateId+1;return we(we({updateId:me},x(we(we({props:w},N),{},{updateId:me,dataStartIndex:H,dataEndIndex:ne}),N)),{},{prevChildren:T,dataStartIndex:H,dataEndIndex:ne})}return null}),ht(b,"renderActiveDot",function(w,N,S){var A;return j.isValidElement(w)?A=j.cloneElement(w,N):dt(w)?A=w(N):A=Y.createElement(Ov,N),Y.createElement(At,{className:"recharts-active-dot",key:S},A)});var v=j.forwardRef(function(N,S){return Y.createElement(b,Ef({},N,{ref:S}))});return v.displayName=b.displayName,v},dG=Rv({chartName:"LineChart",GraphicalChild:Da,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Pr}],formatAxisMap:d1}),G2e=Rv({chartName:"BarChart",GraphicalChild:Ic,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Pr}],formatAxisMap:d1}),Cz=Rv({chartName:"PieChart",GraphicalChild:po,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:o1},{axisType:"radiusAxis",AxisComp:a1}],formatAxisMap:oSe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Nu=Rv({chartName:"AreaChart",GraphicalChild:Xr,axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Pr}],formatAxisMap:d1}),Y2e=Rv({chartName:"ComposedChart",GraphicalChild:[Da,Xr,Ic,v1],axisComponents:[{axisType:"xAxis",AxisComp:Rr},{axisType:"yAxis",AxisComp:Pr},{axisType:"zAxis",AxisComp:g1}],formatAxisMap:d1});function Z2e({data:e}){const t=e.map((n,r)=>({day:`D${r+1}`,adherence:n,belowThreshold:n<60}));return a.jsxs(Ot,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Adherence Trend"}),a.jsx(kr,{children:"Daily completion rate (last 14 days)"})]}),a.jsx($e,{children:a.jsx("div",{className:"h-48 sm:h-56",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:t,margin:{top:10,right:10,left:-20,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"adherenceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),a.jsx(Rr,{dataKey:"day",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:{stroke:"hsl(var(--border))"},interval:"preserveStartEnd"}),a.jsx(Pr,{domain:[0,100],tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},tickLine:!1,axisLine:!1,tickFormatter:n=>`${n}%`,ticks:[0,60,100]}),a.jsx(mr,{content:({active:n,payload:r})=>{if(n&&r&&r.length){const i=r[0].value,s=i<60;return a.jsxs("div",{className:"bg-card border rounded-lg shadow-lg px-3 py-2",children:[a.jsxs("p",{className:`text-lg font-semibold ${s?"text-red-500":"text-green-500"}`,children:[i,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r[0].payload.day})]})}return null}}),a.jsx(Mv,{y:60,stroke:"hsl(var(--destructive))",strokeDasharray:"4 4",strokeOpacity:.5,strokeWidth:1,label:{value:"Baseline",position:"right",fontSize:10,fill:"hsl(var(--muted-foreground))"}}),a.jsx(Xr,{type:"monotone",dataKey:"adherence",stroke:"hsl(var(--chart-1))",strokeWidth:2,fill:"url(#adherenceGradient)",dot:n=>{const{cx:r,cy:i,payload:s}=n;return s.belowThreshold?a.jsx("circle",{cx:r,cy:i,r:4,fill:"hsl(var(--destructive))",stroke:"hsl(var(--background))",strokeWidth:2},`dot-${s.day}`):a.jsx("circle",{cx:r,cy:i,r:0},`dot-${s.day}`)}})]})})})})]})}const X2e={low:"bg-blue-500",medium:"bg-green-500",high:"bg-amber-500"},Q2e={low:"text-blue-600 dark:text-blue-400",medium:"text-green-600 dark:text-green-400",high:"text-amber-600 dark:text-amber-400"};function J2e({data:e}){const t=r=>r.charAt(0).toUpperCase()+r.slice(1),n=Math.max(...e.map(r=>r.value));return a.jsxs(Ot,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Weekly Training Load"}),a.jsx(kr,{children:"Relative load comparison"})]}),a.jsx($e,{className:"space-y-3",children:e.map(r=>a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-16 shrink-0",children:r.week}),a.jsx("div",{className:"flex-1 h-6 bg-secondary rounded-full overflow-hidden relative",children:a.jsx("div",{className:re("h-full rounded-full transition-all duration-300",X2e[r.level]),style:{width:`${r.value/n*100}%`}})}),a.jsx("span",{className:re("text-xs font-medium w-14 text-right",Q2e[r.level]),children:t(r.level)})]},r.week))})]})}const eOe={success:"text-green-600 dark:text-green-400",warning:"text-amber-600 dark:text-amber-400",info:"text-blue-600 dark:text-blue-400"},tOe={success:"bg-green-500/10",warning:"bg-amber-500/10",info:"bg-blue-500/10"},nOe={success:"border-l-green-500",warning:"border-l-amber-500",info:"border-l-blue-500"};function rOe({risks:e}){const t=n=>{const r=re("h-4 w-4 shrink-0",eOe[n]);switch(n){case"success":return a.jsx(Ar,{className:r});case"warning":return a.jsx(ni,{className:r});case"info":return a.jsx(Hte,{className:r})}};return a.jsxs(Ot,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Risk Signals"}),a.jsx(kr,{children:"Awareness items for coach review"})]}),a.jsx($e,{children:a.jsx("ul",{className:"space-y-2",children:e.map((n,r)=>a.jsxs("li",{className:re("flex items-start gap-3 py-3 px-3 rounded-lg border-l-2",tOe[n.type],nOe[n.type]),children:[t(n.type),a.jsx("span",{className:"text-sm",children:n.message})]},r))})})]})}function Fb(e,[t,n]){return Math.min(n,Math.max(t,e))}var iOe=j.createContext(void 0);function Jh(e){const t=j.useContext(iOe);return e||t||"ltr"}var YA=0;function tM(){j.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Tz()),document.body.insertAdjacentElement("beforeend",e[1]??Tz()),YA++,()=>{YA===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),YA--}},[])}function Tz(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ZA="focusScope.autoFocusOnMount",XA="focusScope.autoFocusOnUnmount",Ez={bubbles:!1,cancelable:!0},aOe="FocusScope",x1=j.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=j.useState(null),u=yi(i),h=yi(s),p=j.useRef(null),g=vt(t,v=>c(v)),x=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(r){let v=function(A){if(x.paused||!l)return;const T=A.target;l.contains(T)?p.current=T:nc(p.current,{select:!0})},w=function(A){if(x.paused||!l)return;const T=A.relatedTarget;T!==null&&(l.contains(T)||nc(p.current,{select:!0}))},N=function(A){if(document.activeElement===document.body)for(const C of A)C.removedNodes.length>0&&nc(l)};document.addEventListener("focusin",v),document.addEventListener("focusout",w);const S=new MutationObserver(N);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",w),S.disconnect()}}},[r,l,x.paused]),j.useEffect(()=>{if(l){Mz.add(x);const v=document.activeElement;if(!l.contains(v)){const N=new CustomEvent(ZA,Ez);l.addEventListener(ZA,u),l.dispatchEvent(N),N.defaultPrevented||(sOe(dOe(fG(l)),{select:!0}),document.activeElement===v&&nc(l))}return()=>{l.removeEventListener(ZA,u),setTimeout(()=>{const N=new CustomEvent(XA,Ez);l.addEventListener(XA,h),l.dispatchEvent(N),N.defaultPrevented||nc(v??document.body,{select:!0}),l.removeEventListener(XA,h),Mz.remove(x)},0)}}},[l,u,h,x]);const b=j.useCallback(v=>{if(!n&&!r||x.paused)return;const w=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(w&&N){const S=v.currentTarget,[A,T]=oOe(S);A&&T?!v.shiftKey&&N===T?(v.preventDefault(),n&&nc(A,{select:!0})):v.shiftKey&&N===A&&(v.preventDefault(),n&&nc(T,{select:!0})):N===S&&v.preventDefault()}},[n,r,x.paused]);return a.jsx(We.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});x1.displayName=aOe;function sOe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(nc(r,{select:t}),document.activeElement!==n)return}function oOe(e){const t=fG(e),n=Oz(t,e),r=Oz(t.reverse(),e);return[n,r]}function fG(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Oz(e,t){for(const n of e)if(!lOe(n,{upTo:t}))return n}function lOe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function cOe(e){return e instanceof HTMLInputElement&&"select"in e}function nc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&cOe(e)&&t&&e.select()}}var Mz=uOe();function uOe(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Rz(e,t),e.unshift(t)},remove(t){e=Rz(e,t),e[0]?.resume()}}}function Rz(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function dOe(e){return e.filter(t=>t.tagName!=="A")}function Iv(e){const t=j.useRef({value:e,previous:e});return j.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var fOe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},hf=new WeakMap,Dx=new WeakMap,Lx={},QA=0,hG=function(e){return e&&(e.host||hG(e.parentNode))},hOe=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=hG(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},pOe=function(e,t,n,r){var i=hOe(t,Array.isArray(e)?e:[e]);Lx[n]||(Lx[n]=new WeakMap);var s=Lx[n],o=[],l=new Set,c=new Set(i),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};i.forEach(u);var h=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))h(g);else try{var x=g.getAttribute(r),b=x!==null&&x!=="false",v=(hf.get(g)||0)+1,w=(s.get(g)||0)+1;hf.set(g,v),s.set(g,w),o.push(g),v===1&&b&&Dx.set(g,!0),w===1&&g.setAttribute(n,"true"),b||g.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",g,N)}})};return h(t),l.clear(),QA++,function(){o.forEach(function(p){var g=hf.get(p)-1,x=s.get(p)-1;hf.set(p,g),s.set(p,x),g||(Dx.has(p)||p.removeAttribute(r),Dx.delete(p)),x||p.removeAttribute(n)}),QA--,QA||(hf=new WeakMap,hf=new WeakMap,Dx=new WeakMap,Lx={})}},nM=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=fOe(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),pOe(r,i,n,"aria-hidden")):function(){return null}},Gs=function(){return Gs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Gs.apply(this,arguments)};function pG(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function mOe(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var o0="right-scroll-bar-position",l0="width-before-scroll-bar",gOe="with-scroll-bars-hidden",vOe="--removed-body-scroll-bar-size";function JA(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yOe(e,t){var n=j.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var xOe=typeof window<"u"?j.useLayoutEffect:j.useEffect,Iz=new WeakMap;function bOe(e,t){var n=yOe(null,function(r){return e.forEach(function(i){return JA(i,r)})});return xOe(function(){var r=Iz.get(n);if(r){var i=new Set(r),s=new Set(e),o=n.current;i.forEach(function(l){s.has(l)||JA(l,null)}),s.forEach(function(l){i.has(l)||JA(l,o)})}Iz.set(n,e)},[e]),n}function wOe(e){return e}function _Oe(e,t){t===void 0&&(t=wOe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var o=t(s,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(l){return s(l)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(s),o=n}var c=function(){var h=o;o=[],h.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(h){o.push(h),u()},filter:function(h){return o=o.filter(h),n}}}};return i}function jOe(e){e===void 0&&(e={});var t=_Oe(null);return t.options=Gs({async:!0,ssr:!1},e),t}var mG=function(e){var t=e.sideCar,n=pG(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return j.createElement(r,Gs({},n))};mG.isSideCarExport=!0;function SOe(e,t){return e.useMedium(t),mG}var gG=jOe(),ek=function(){},b1=j.forwardRef(function(e,t){var n=j.useRef(null),r=j.useState({onScrollCapture:ek,onWheelCapture:ek,onTouchMoveCapture:ek}),i=r[0],s=r[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,h=e.enabled,p=e.shards,g=e.sideCar,x=e.noRelative,b=e.noIsolation,v=e.inert,w=e.allowPinchZoom,N=e.as,S=N===void 0?"div":N,A=e.gapMode,T=pG(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,E=bOe([n,t]),O=Gs(Gs({},T),i);return j.createElement(j.Fragment,null,h&&j.createElement(C,{sideCar:gG,removeScrollBar:u,shards:p,noRelative:x,noIsolation:b,inert:v,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:A}),o?j.cloneElement(j.Children.only(l),Gs(Gs({},O),{ref:E})):j.createElement(S,Gs({},O,{className:c,ref:E}),l))});b1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};b1.classNames={fullWidth:l0,zeroRight:o0};var NOe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function POe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=NOe();return t&&e.setAttribute("nonce",t),e}function AOe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kOe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var COe=function(){var e=0,t=null;return{add:function(n){e==0&&(t=POe())&&(AOe(t,n),kOe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TOe=function(){var e=COe();return function(t,n){j.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},vG=function(){var e=TOe(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},EOe={left:0,top:0,right:0,gap:0},tk=function(e){return parseInt(e||"",10)||0},OOe=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[tk(n),tk(r),tk(i)]},MOe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return EOe;var t=OOe(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ROe=vG(),Ff="data-scroll-locked",IOe=function(e,t,n,r){var i=e.left,s=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(gOe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ff,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(o0,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(l0,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(o0," .").concat(o0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(l0," .").concat(l0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ff,`] {
    `).concat(vOe,": ").concat(l,`px;
  }
`)},Dz=function(){var e=parseInt(document.body.getAttribute(Ff)||"0",10);return isFinite(e)?e:0},DOe=function(){j.useEffect(function(){return document.body.setAttribute(Ff,(Dz()+1).toString()),function(){var e=Dz()-1;e<=0?document.body.removeAttribute(Ff):document.body.setAttribute(Ff,e.toString())}},[])},LOe=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;DOe();var s=j.useMemo(function(){return MOe(i)},[i]);return j.createElement(ROe,{styles:IOe(s,!t,i,n?"":"!important")})},LT=!1;if(typeof window<"u")try{var Fx=Object.defineProperty({},"passive",{get:function(){return LT=!0,!0}});window.addEventListener("test",Fx,Fx),window.removeEventListener("test",Fx,Fx)}catch{LT=!1}var pf=LT?{passive:!1}:!1,FOe=function(e){return e.tagName==="TEXTAREA"},yG=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!FOe(e)&&n[t]==="visible")},$Oe=function(e){return yG(e,"overflowY")},BOe=function(e){return yG(e,"overflowX")},Lz=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=xG(e,r);if(i){var s=bG(e,r),o=s[1],l=s[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zOe=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},WOe=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},xG=function(e,t){return e==="v"?$Oe(t):BOe(t)},bG=function(e,t){return e==="v"?zOe(t):WOe(t)},qOe=function(e,t){return e==="h"&&t==="rtl"?-1:1},UOe=function(e,t,n,r,i){var s=qOe(e,window.getComputedStyle(t).direction),o=s*r,l=n.target,c=t.contains(l),u=!1,h=o>0,p=0,g=0;do{if(!l)break;var x=bG(e,l),b=x[0],v=x[1],w=x[2],N=v-w-s*b;(b||N)&&xG(e,l)&&(p+=N,g+=b);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(h&&Math.abs(p)<1||!h&&Math.abs(g)<1)&&(u=!0),u},$x=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Fz=function(e){return[e.deltaX,e.deltaY]},$z=function(e){return e&&"current"in e?e.current:e},VOe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},HOe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KOe=0,mf=[];function GOe(e){var t=j.useRef([]),n=j.useRef([0,0]),r=j.useRef(),i=j.useState(KOe++)[0],s=j.useState(vG)[0],o=j.useRef(e);j.useEffect(function(){o.current=e},[e]),j.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=mOe([e.lockRef.current],(e.shards||[]).map($z),!0).filter(Boolean);return v.forEach(function(w){return w.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=j.useCallback(function(v,w){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var N=$x(v),S=n.current,A="deltaX"in v?v.deltaX:S[0]-N[0],T="deltaY"in v?v.deltaY:S[1]-N[1],C,E=v.target,O=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in v&&O==="h"&&E.type==="range")return!1;var I=Lz(O,E);if(!I)return!0;if(I?C=O:(C=O==="v"?"h":"v",I=Lz(O,E)),!I)return!1;if(!r.current&&"changedTouches"in v&&(A||T)&&(r.current=C),!C)return!0;var F=r.current||C;return UOe(F,w,v,F==="h"?A:T)},[]),c=j.useCallback(function(v){var w=v;if(!(!mf.length||mf[mf.length-1]!==s)){var N="deltaY"in w?Fz(w):$x(w),S=t.current.filter(function(C){return C.name===w.type&&(C.target===w.target||w.target===C.shadowParent)&&VOe(C.delta,N)})[0];if(S&&S.should){w.cancelable&&w.preventDefault();return}if(!S){var A=(o.current.shards||[]).map($z).filter(Boolean).filter(function(C){return C.contains(w.target)}),T=A.length>0?l(w,A[0]):!o.current.noIsolation;T&&w.cancelable&&w.preventDefault()}}},[]),u=j.useCallback(function(v,w,N,S){var A={name:v,delta:w,target:N,should:S,shadowParent:YOe(N)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(T){return T!==A})},1)},[]),h=j.useCallback(function(v){n.current=$x(v),r.current=void 0},[]),p=j.useCallback(function(v){u(v.type,Fz(v),v.target,l(v,e.lockRef.current))},[]),g=j.useCallback(function(v){u(v.type,$x(v),v.target,l(v,e.lockRef.current))},[]);j.useEffect(function(){return mf.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,pf),document.addEventListener("touchmove",c,pf),document.addEventListener("touchstart",h,pf),function(){mf=mf.filter(function(v){return v!==s}),document.removeEventListener("wheel",c,pf),document.removeEventListener("touchmove",c,pf),document.removeEventListener("touchstart",h,pf)}},[]);var x=e.removeScrollBar,b=e.inert;return j.createElement(j.Fragment,null,b?j.createElement(s,{styles:HOe(i)}):null,x?j.createElement(LOe,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function YOe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ZOe=SOe(gG,GOe);var w1=j.forwardRef(function(e,t){return j.createElement(b1,Gs({},e,{ref:t,sideCar:ZOe}))});w1.classNames=b1.classNames;var XOe=[" ","Enter","ArrowUp","ArrowDown"],QOe=[" ","Enter"],rd="Select",[_1,j1,JOe]=iv(rd),[ep]=yr(rd,[JOe,Ih]),S1=Ih(),[eMe,Dc]=ep(rd),[tMe,nMe]=ep(rd),wG=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:h,autoComplete:p,disabled:g,required:x,form:b}=e,v=S1(t),[w,N]=j.useState(null),[S,A]=j.useState(null),[T,C]=j.useState(!1),E=Jh(u),[O,I]=la({prop:r,defaultProp:i??!1,onChange:s,caller:rd}),[F,W]=la({prop:o,defaultProp:l,onChange:c,caller:rd}),$=j.useRef(null),z=w?b||!!w.closest("form"):!0,[V,U]=j.useState(new Set),te=Array.from(V).map(Q=>Q.props.value).join(";");return a.jsx(IE,{...v,children:a.jsxs(eMe,{required:x,scope:t,trigger:w,onTriggerChange:N,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:C,contentId:Ia(),value:F,onValueChange:W,open:O,onOpenChange:I,dir:E,triggerPointerDownPosRef:$,disabled:g,children:[a.jsx(_1.Provider,{scope:t,children:a.jsx(tMe,{scope:e.__scopeSelect,onNativeOptionAdd:j.useCallback(Q=>{U(J=>new Set(J).add(Q))},[]),onNativeOptionRemove:j.useCallback(Q=>{U(J=>{const G=new Set(J);return G.delete(Q),G})},[]),children:n})}),z?a.jsxs(VG,{"aria-hidden":!0,required:x,tabIndex:-1,name:h,autoComplete:p,value:F,onChange:Q=>W(Q.target.value),disabled:g,form:b,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(V)]},te):null]})})};wG.displayName=rd;var _G="SelectTrigger",jG=j.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=S1(n),o=Dc(_G,n),l=o.disabled||r,c=vt(t,o.onTriggerChange),u=j1(n),h=j.useRef("touch"),[p,g,x]=KG(v=>{const w=u().filter(A=>!A.disabled),N=w.find(A=>A.value===o.value),S=GG(w,v,N);S!==void 0&&o.onValueChange(S.value)}),b=v=>{l||(o.onOpenChange(!0),x()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return a.jsx(DE,{asChild:!0,...s,children:a.jsx(We.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":HG(o.value)?"":void 0,...i,ref:c,onClick:De(i.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&b(v)}),onPointerDown:De(i.onPointerDown,v=>{h.current=v.pointerType;const w=v.target;w.hasPointerCapture(v.pointerId)&&w.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(b(v),v.preventDefault())}),onKeyDown:De(i.onKeyDown,v=>{const w=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(w&&v.key===" ")&&XOe.includes(v.key)&&(b(),v.preventDefault())})})})});jG.displayName=_G;var SG="SelectValue",NG=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...l}=e,c=Dc(SG,n),{onValueNodeHasChildrenChange:u}=c,h=s!==void 0,p=vt(t,c.onValueNodeChange);return er(()=>{u(h)},[u,h]),a.jsx(We.span,{...l,ref:p,style:{pointerEvents:"none"},children:HG(c.value)?a.jsx(a.Fragment,{children:o}):s})});NG.displayName=SG;var rMe="SelectIcon",PG=j.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return a.jsx(We.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});PG.displayName=rMe;var iMe="SelectPortal",AG=e=>a.jsx(av,{asChild:!0,...e});AG.displayName=iMe;var id="SelectContent",kG=j.forwardRef((e,t)=>{const n=Dc(id,e.__scopeSelect),[r,i]=j.useState();if(er(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?fs.createPortal(a.jsx(CG,{scope:e.__scopeSelect,children:a.jsx(_1.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(TG,{...e,ref:t})});kG.displayName=id;var ss=10,[CG,Lc]=ep(id),aMe="SelectContentImpl",sMe=zu("SelectContent.RemoveScroll"),TG=j.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:w,...N}=e,S=Dc(id,n),[A,T]=j.useState(null),[C,E]=j.useState(null),O=vt(t,fe=>T(fe)),[I,F]=j.useState(null),[W,$]=j.useState(null),z=j1(n),[V,U]=j.useState(!1),te=j.useRef(!1);j.useEffect(()=>{if(A)return nM(A)},[A]),tM();const Q=j.useCallback(fe=>{const[_e,...he]=z().map(ve=>ve.ref.current),[be]=he.slice(-1),Me=document.activeElement;for(const ve of fe)if(ve===Me||(ve?.scrollIntoView({block:"nearest"}),ve===_e&&C&&(C.scrollTop=0),ve===be&&C&&(C.scrollTop=C.scrollHeight),ve?.focus(),document.activeElement!==Me))return},[z,C]),J=j.useCallback(()=>Q([I,A]),[Q,I,A]);j.useEffect(()=>{V&&J()},[V,J]);const{onOpenChange:G,triggerPointerDownPosRef:ee}=S;j.useEffect(()=>{if(A){let fe={x:0,y:0};const _e=be=>{fe={x:Math.abs(Math.round(be.pageX)-(ee.current?.x??0)),y:Math.abs(Math.round(be.pageY)-(ee.current?.y??0))}},he=be=>{fe.x<=10&&fe.y<=10?be.preventDefault():A.contains(be.target)||G(!1),document.removeEventListener("pointermove",_e),ee.current=null};return ee.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",he,{capture:!0})}}},[A,G,ee]),j.useEffect(()=>{const fe=()=>G(!1);return window.addEventListener("blur",fe),window.addEventListener("resize",fe),()=>{window.removeEventListener("blur",fe),window.removeEventListener("resize",fe)}},[G]);const[X,q]=KG(fe=>{const _e=z().filter(Me=>!Me.disabled),he=_e.find(Me=>Me.ref.current===document.activeElement),be=GG(_e,fe,he);be&&setTimeout(()=>be.ref.current.focus())}),H=j.useCallback((fe,_e,he)=>{const be=!te.current&&!he;(S.value!==void 0&&S.value===_e||be)&&(F(fe),be&&(te.current=!0))},[S.value]),ne=j.useCallback(()=>A?.focus(),[A]),se=j.useCallback((fe,_e,he)=>{const be=!te.current&&!he;(S.value!==void 0&&S.value===_e||be)&&$(fe)},[S.value]),de=r==="popper"?FT:EG,me=de===FT?{side:l,sideOffset:c,align:u,alignOffset:h,arrowPadding:p,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:v,avoidCollisions:w}:{};return a.jsx(CG,{scope:n,content:A,viewport:C,onViewportChange:E,itemRefCallback:H,selectedItem:I,onItemLeave:ne,itemTextRefCallback:se,focusSelectedItem:J,selectedItemText:W,position:r,isPositioned:V,searchRef:X,children:a.jsx(w1,{as:sMe,allowPinchZoom:!0,children:a.jsx(x1,{asChild:!0,trapped:S.open,onMountAutoFocus:fe=>{fe.preventDefault()},onUnmountAutoFocus:De(i,fe=>{S.trigger?.focus({preventScroll:!0}),fe.preventDefault()}),children:a.jsx(Ch,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:fe=>fe.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:a.jsx(de,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:fe=>fe.preventDefault(),...N,...me,onPlaced:()=>U(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:De(N.onKeyDown,fe=>{const _e=fe.ctrlKey||fe.altKey||fe.metaKey;if(fe.key==="Tab"&&fe.preventDefault(),!_e&&fe.key.length===1&&q(fe.key),["ArrowUp","ArrowDown","Home","End"].includes(fe.key)){let be=z().filter(Me=>!Me.disabled).map(Me=>Me.ref.current);if(["ArrowUp","End"].includes(fe.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(fe.key)){const Me=fe.target,ve=be.indexOf(Me);be=be.slice(ve+1)}setTimeout(()=>Q(be)),fe.preventDefault()}})})})})})})});TG.displayName=aMe;var oMe="SelectItemAlignedPosition",EG=j.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=Dc(id,n),o=Lc(id,n),[l,c]=j.useState(null),[u,h]=j.useState(null),p=vt(t,O=>h(O)),g=j1(n),x=j.useRef(!1),b=j.useRef(!0),{viewport:v,selectedItem:w,selectedItemText:N,focusSelectedItem:S}=o,A=j.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&v&&w&&N){const O=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),W=N.getBoundingClientRect();if(s.dir!=="rtl"){const Me=W.left-I.left,ve=F.left-Me,Ze=O.left-ve,He=O.width+Ze,je=Math.max(He,I.width),Ce=window.innerWidth-ss,Re=Fb(ve,[ss,Math.max(ss,Ce-je)]);l.style.minWidth=He+"px",l.style.left=Re+"px"}else{const Me=I.right-W.right,ve=window.innerWidth-F.right-Me,Ze=window.innerWidth-O.right-ve,He=O.width+Ze,je=Math.max(He,I.width),Ce=window.innerWidth-ss,Re=Fb(ve,[ss,Math.max(ss,Ce-je)]);l.style.minWidth=He+"px",l.style.right=Re+"px"}const $=g(),z=window.innerHeight-ss*2,V=v.scrollHeight,U=window.getComputedStyle(u),te=parseInt(U.borderTopWidth,10),Q=parseInt(U.paddingTop,10),J=parseInt(U.borderBottomWidth,10),G=parseInt(U.paddingBottom,10),ee=te+Q+V+G+J,X=Math.min(w.offsetHeight*5,ee),q=window.getComputedStyle(v),H=parseInt(q.paddingTop,10),ne=parseInt(q.paddingBottom,10),se=O.top+O.height/2-ss,de=z-se,me=w.offsetHeight/2,fe=w.offsetTop+me,_e=te+Q+fe,he=ee-_e;if(_e<=se){const Me=$.length>0&&w===$[$.length-1].ref.current;l.style.bottom="0px";const ve=u.clientHeight-v.offsetTop-v.offsetHeight,Ze=Math.max(de,me+(Me?ne:0)+ve+J),He=_e+Ze;l.style.height=He+"px"}else{const Me=$.length>0&&w===$[0].ref.current;l.style.top="0px";const Ze=Math.max(se,te+v.offsetTop+(Me?H:0)+me)+he;l.style.height=Ze+"px",v.scrollTop=_e-se+v.offsetTop}l.style.margin=`${ss}px 0`,l.style.minHeight=X+"px",l.style.maxHeight=z+"px",r?.(),requestAnimationFrame(()=>x.current=!0)}},[g,s.trigger,s.valueNode,l,u,v,w,N,s.dir,r]);er(()=>A(),[A]);const[T,C]=j.useState();er(()=>{u&&C(window.getComputedStyle(u).zIndex)},[u]);const E=j.useCallback(O=>{O&&b.current===!0&&(A(),S?.(),b.current=!1)},[A,S]);return a.jsx(cMe,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:E,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:a.jsx(We.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});EG.displayName=oMe;var lMe="SelectPopperPosition",FT=j.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ss,...s}=e,o=S1(n);return a.jsx(LE,{...o,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});FT.displayName=lMe;var[cMe,rM]=ep(id,{}),$T="SelectViewport",OG=j.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=Lc($T,n),o=rM($T,n),l=vt(t,s.onViewportChange),c=j.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(_1.Slot,{scope:n,children:a.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:De(i.onScroll,u=>{const h=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const x=Math.abs(c.current-h.scrollTop);if(x>0){const b=window.innerHeight-ss*2,v=parseFloat(p.style.minHeight),w=parseFloat(p.style.height),N=Math.max(v,w);if(N<b){const S=N+x,A=Math.min(b,S),T=S-A;p.style.height=A+"px",p.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});OG.displayName=$T;var MG="SelectGroup",[uMe,dMe]=ep(MG),fMe=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ia();return a.jsx(uMe,{scope:n,id:i,children:a.jsx(We.div,{role:"group","aria-labelledby":i,...r,ref:t})})});fMe.displayName=MG;var RG="SelectLabel",IG=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=dMe(RG,n);return a.jsx(We.div,{id:i.id,...r,ref:t})});IG.displayName=RG;var $b="SelectItem",[hMe,DG]=ep($b),LG=j.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=e,l=Dc($b,n),c=Lc($b,n),u=l.value===r,[h,p]=j.useState(s??""),[g,x]=j.useState(!1),b=vt(t,S=>c.itemRefCallback?.(S,r,i)),v=Ia(),w=j.useRef("touch"),N=()=>{i||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(hMe,{scope:n,value:r,disabled:i,textId:v,isSelected:u,onItemTextChange:j.useCallback(S=>{p(A=>A||(S?.textContent??"").trim())},[]),children:a.jsx(_1.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:a.jsx(We.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:De(o.onFocus,()=>x(!0)),onBlur:De(o.onBlur,()=>x(!1)),onClick:De(o.onClick,()=>{w.current!=="mouse"&&N()}),onPointerUp:De(o.onPointerUp,()=>{w.current==="mouse"&&N()}),onPointerDown:De(o.onPointerDown,S=>{w.current=S.pointerType}),onPointerMove:De(o.onPointerMove,S=>{w.current=S.pointerType,i?c.onItemLeave?.():w.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:De(o.onPointerLeave,S=>{S.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:De(o.onKeyDown,S=>{c.searchRef?.current!==""&&S.key===" "||(QOe.includes(S.key)&&N(),S.key===" "&&S.preventDefault())})})})})});LG.displayName=$b;var Am="SelectItemText",FG=j.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,o=Dc(Am,n),l=Lc(Am,n),c=DG(Am,n),u=nMe(Am,n),[h,p]=j.useState(null),g=vt(t,N=>p(N),c.onItemTextChange,N=>l.itemTextRefCallback?.(N,c.value,c.disabled)),x=h?.textContent,b=j.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:x},c.value),[c.disabled,c.value,x]),{onNativeOptionAdd:v,onNativeOptionRemove:w}=u;return er(()=>(v(b),()=>w(b)),[v,w,b]),a.jsxs(a.Fragment,{children:[a.jsx(We.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?fs.createPortal(s.children,o.valueNode):null]})});FG.displayName=Am;var $G="SelectItemIndicator",BG=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return DG($G,n).isSelected?a.jsx(We.span,{"aria-hidden":!0,...r,ref:t}):null});BG.displayName=$G;var BT="SelectScrollUpButton",zG=j.forwardRef((e,t)=>{const n=Lc(BT,e.__scopeSelect),r=rM(BT,e.__scopeSelect),[i,s]=j.useState(!1),o=vt(t,r.onScrollButtonChange);return er(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(qG,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});zG.displayName=BT;var zT="SelectScrollDownButton",WG=j.forwardRef((e,t)=>{const n=Lc(zT,e.__scopeSelect),r=rM(zT,e.__scopeSelect),[i,s]=j.useState(!1),o=vt(t,r.onScrollButtonChange);return er(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<u;s(h)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?a.jsx(qG,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});WG.displayName=zT;var qG=j.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=Lc("SelectScrollButton",n),o=j.useRef(null),l=j1(n),c=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>c(),[c]),er(()=>{l().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(We.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:De(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:De(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:De(i.onPointerLeave,()=>{c()})})}),pMe="SelectSeparator",UG=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(We.div,{"aria-hidden":!0,...r,ref:t})});UG.displayName=pMe;var WT="SelectArrow",mMe=j.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=S1(n),s=Dc(WT,n),o=Lc(WT,n);return s.open&&o.position==="popper"?a.jsx(FE,{...i,...r,ref:t}):null});mMe.displayName=WT;var gMe="SelectBubbleInput",VG=j.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=j.useRef(null),s=vt(r,i),o=Iv(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const p=new Event("change",{bubbles:!0});h.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(We.select,{...n,style:{...G8,...n.style},ref:s,defaultValue:t})});VG.displayName=gMe;function HG(e){return e===""||e===void 0}function KG(e){const t=yi(e),n=j.useRef(""),r=j.useRef(0),i=j.useCallback(o=>{const l=n.current+o;t(l),(function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))})(l)},[t]),s=j.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function GG(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=vMe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function vMe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var yMe=wG,YG=jG,xMe=NG,bMe=PG,wMe=AG,ZG=kG,_Me=OG,XG=IG,QG=LG,jMe=FG,SMe=BG,JG=zG,eY=WG,tY=UG;const gi=yMe,vi=xMe,ei=j.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(YG,{ref:r,className:re("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(bMe,{asChild:!0,children:a.jsx(cv,{className:"h-4 w-4 opacity-50"})})]}));ei.displayName=YG.displayName;const nY=j.forwardRef(({className:e,...t},n)=>a.jsx(JG,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(iw,{className:"h-4 w-4"})}));nY.displayName=JG.displayName;const rY=j.forwardRef(({className:e,...t},n)=>a.jsx(eY,{ref:n,className:re("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(cv,{className:"h-4 w-4"})}));rY.displayName=eY.displayName;const ti=j.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>a.jsx(wMe,{children:a.jsxs(ZG,{ref:i,className:re("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(nY,{}),a.jsx(_Me,{className:re("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(rY,{})]})}));ti.displayName=ZG.displayName;const NMe=j.forwardRef(({className:e,...t},n)=>a.jsx(XG,{ref:n,className:re("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));NMe.displayName=XG.displayName;const Tt=j.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(QG,{ref:r,className:re("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(SMe,{children:a.jsx(lv,{className:"h-4 w-4"})})}),a.jsx(jMe,{children:t})]}));Tt.displayName=QG.displayName;const PMe=j.forwardRef(({className:e,...t},n)=>a.jsx(tY,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));PMe.displayName=tY.displayName;var nk={exports:{}},rk={};var Bz;function AMe(){if(Bz)return rk;Bz=1;var e=rv();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(p,g){var x=g(),b=r({inst:{value:x,getSnapshot:g}}),v=b[0].inst,w=b[1];return s(function(){v.value=x,v.getSnapshot=g,c(v)&&w({inst:v})},[p,x,g]),i(function(){return c(v)&&w({inst:v}),p(function(){c(v)&&w({inst:v})})},[p]),o(x),x}function c(p){var g=p.getSnapshot;p=p.value;try{var x=g();return!n(p,x)}catch{return!0}}function u(p,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return rk.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,rk}var zz;function iY(){return zz||(zz=1,nk.exports=AMe()),nk.exports}var qT=iY();function kMe(){return qT.useSyncExternalStore(CMe,()=>!0,()=>!1)}function CMe(){return()=>{}}var iM="Avatar",[TMe]=yr(iM),[EMe,aY]=TMe(iM),sY=j.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=j.useState("idle");return a.jsx(EMe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(We.span,{...r,ref:t})})});sY.displayName=iM;var oY="AvatarImage",lY=j.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,o=aY(oY,n),l=OMe(r,s),c=yi(u=>{i(u),o.onImageLoadingStatusChange(u)});return er(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(We.img,{...s,ref:t,src:r}):null});lY.displayName=oY;var cY="AvatarFallback",uY=j.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=aY(cY,n),[o,l]=j.useState(r===void 0);return j.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>l(!0),r);return()=>window.clearTimeout(c)}},[r]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(We.span,{...i,ref:t}):null});uY.displayName=cY;function Wz(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function OMe(e,{referrerPolicy:t,crossOrigin:n}){const r=kMe(),i=j.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,l]=j.useState(()=>Wz(s,e));return er(()=>{l(Wz(s,e))},[s,e]),er(()=>{const c=p=>()=>{l(p)};if(!s)return;const u=c("loaded"),h=c("error");return s.addEventListener("load",u),s.addEventListener("error",h),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",u),s.removeEventListener("error",h)}},[s,n,t]),o}var dY=sY,fY=lY,hY=uY;const UT=j.forwardRef(({className:e,...t},n)=>a.jsx(dY,{ref:n,className:re("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));UT.displayName=dY.displayName;const MMe=j.forwardRef(({className:e,...t},n)=>a.jsx(fY,{ref:n,className:re("aspect-square h-full w-full",e),...t}));MMe.displayName=fY.displayName;const VT=j.forwardRef(({className:e,...t},n)=>a.jsx(hY,{ref:n,className:re("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));VT.displayName=hY.displayName;function RMe(){qh();const e=Dge();return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Your training overview"})]}),a.jsx(D9,{overview60d:e.overview60d,isLoading:e.overview60dLoading}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",style:{gridTemplateRows:"minmax(180px, auto) minmax(200px, auto)"},children:[a.jsx(rge,{todayIntelligence:e.todayIntelligence,isLoading:e.todayIntelligenceLoading,error:e.todayIntelligenceError}),a.jsx(wge,{todayData:e.todayData,isLoading:e.todayDataLoading,error:e.todayDataError,trainingLoad7d:e.trainingLoad7d,activities10:e.activities10,todayIntelligence:e.todayIntelligence}),a.jsx(Nge,{activities100:e.activities100,activities100Loading:e.activities100Loading,trainingLoad7d:e.trainingLoad7d,trainingLoad7dLoading:e.trainingLoad7dLoading,weekData:e.weekData,weekDataLoading:e.weekDataLoading,className:"h-full"}),a.jsx(Ege,{activities10:e.activities10,activities10Loading:e.activities10Loading,activities10Error:e.activities10Error,trainingLoad60d:e.trainingLoad60d,className:"h-full"})]}),a.jsx(Ige,{minimized:!0})]})})}function IMe(){const{athletes:e,selectedAthlete:t,selectedAthleteId:n,setSelectedAthleteId:r,isLoading:i}=Bge(),o=$ge(n??void 0),l=b=>b?b.avatar_initials?b.avatar_initials:b.name.split(" ").map(v=>v[0]).join("").toUpperCase().slice(0,2):"",c=b=>b>=80?"success":b>=60?"warning":"danger",u=b=>{switch(b){case"increasing":return{value:" Increasing",icon:Ac};case"decreasing":return{value:" Decreasing",icon:SE};default:return{value:" Stable",icon:p0}}},h=b=>{switch(b){case"low":return"success";case"medium":return"warning";case"high":return"danger"}},p=u(o.load_trend),g=o.isLoading??!1,x=!!o.error;return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[gg&&a.jsx(EU,{}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Coach Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Overview of athlete adherence, trends, and risk"})]}),a.jsxs("div",{className:"bg-card rounded-lg border px-3 py-2 inline-flex items-center gap-3",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"Active Athlete"}),i?a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(st,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm",children:"Loading..."})]}):a.jsxs(gi,{value:n??void 0,onValueChange:r,disabled:e.length===0,children:[a.jsx(ei,{className:"w-[180px]",children:a.jsx(vi,{placeholder:"Select athlete",children:t&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(UT,{className:"h-5 w-5",children:a.jsx(VT,{className:"text-xs bg-accent text-accent-foreground",children:l(t)})}),a.jsx("span",{className:"text-sm",children:t.name})]})})}),a.jsx(ti,{children:e.map(b=>a.jsx(Tt,{value:b.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(UT,{className:"h-5 w-5",children:a.jsx(VT,{className:"text-xs bg-accent text-accent-foreground",children:l(b)})}),a.jsx("span",{className:"text-sm",children:b.name})]})},b.id))})]})]})]}),g&&a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(st,{className:"h-5 w-5 animate-spin"}),a.jsx("span",{children:"Loading dashboard data..."})]})}),x&&!g&&a.jsxs("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-4",children:[a.jsx("p",{className:"font-medium text-destructive",children:"Failed to load dashboard data"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Please try refreshing the page."})]}),!g&&!x&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx(Kj,{label:"Adherence",value:`${o.adherence_pct}%`,subtext:"Last 14 days",variant:c(o.adherence_pct)})}),a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx(Kj,{label:"Training Load",value:p.value,subtext:"CTL trend (14 days)",variant:"default"})}),a.jsx("div",{className:"col-span-12 lg:col-span-4",children:a.jsx(Kj,{label:"Risk",value:o.risk_level.charAt(0).toUpperCase()+o.risk_level.slice(1),subtext:"No active alerts",variant:h(o.risk_level)})})]}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsx("div",{className:"col-span-12 lg:col-span-6",children:a.jsx(Z2e,{data:o.adherence_trend})}),a.jsx("div",{className:"col-span-12 lg:col-span-6",children:a.jsx(J2e,{data:o.weekly_loads})})]}),a.jsx(rOe,{risks:o.risks})]})]})})}function DMe(){const{user:e}=gn();return(Ii()?"athlete":e?.role??"athlete")==="coach"?a.jsx(IMe,{}):a.jsx(RMe,{})}var ik="rovingFocusGroup.onEntryFocus",LMe={bubbles:!1,cancelable:!0},Dv="RovingFocusGroup",[HT,pY,FMe]=iv(Dv),[$Me,tp]=yr(Dv,[FMe]),[BMe,zMe]=$Me(Dv),mY=j.forwardRef((e,t)=>a.jsx(HT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(HT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(WMe,{...e,ref:t})})}));mY.displayName=Dv;var WMe=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:h=!1,...p}=e,g=j.useRef(null),x=vt(t,g),b=Jh(s),[v,w]=la({prop:o,defaultProp:l??null,onChange:c,caller:Dv}),[N,S]=j.useState(!1),A=yi(u),T=pY(n),C=j.useRef(!1),[E,O]=j.useState(0);return j.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(ik,A),()=>I.removeEventListener(ik,A)},[A]),a.jsx(BMe,{scope:n,orientation:r,dir:b,loop:i,currentTabStopId:v,onItemFocus:j.useCallback(I=>w(I),[w]),onItemShiftTab:j.useCallback(()=>S(!0),[]),onFocusableItemAdd:j.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:j.useCallback(()=>O(I=>I-1),[]),children:a.jsx(We.div,{tabIndex:N||E===0?-1:0,"data-orientation":r,...p,ref:x,style:{outline:"none",...e.style},onMouseDown:De(e.onMouseDown,()=>{C.current=!0}),onFocus:De(e.onFocus,I=>{const F=!C.current;if(I.target===I.currentTarget&&F&&!N){const W=new CustomEvent(ik,LMe);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const $=T().filter(Q=>Q.focusable),z=$.find(Q=>Q.active),V=$.find(Q=>Q.id===v),te=[z,V,...$].filter(Boolean).map(Q=>Q.ref.current);yY(te,h)}}C.current=!1}),onBlur:De(e.onBlur,()=>S(!1))})})}),gY="RovingFocusGroupItem",vY=j.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=Ia(),u=s||c,h=zMe(gY,n),p=h.currentTabStopId===u,g=pY(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:v}=h;return j.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),a.jsx(HT.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:a.jsx(We.span,{tabIndex:p?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:De(e.onMouseDown,w=>{r?h.onItemFocus(u):w.preventDefault()}),onFocus:De(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:De(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){h.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const N=VMe(w,h.orientation,h.dir);if(N!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let A=g().filter(T=>T.focusable).map(T=>T.ref.current);if(N==="last")A.reverse();else if(N==="prev"||N==="next"){N==="prev"&&A.reverse();const T=A.indexOf(w.currentTarget);A=h.loop?HMe(A,T+1):A.slice(T+1)}setTimeout(()=>yY(A))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:v!=null}):o})})});vY.displayName=gY;var qMe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function UMe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function VMe(e,t,n){const r=UMe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qMe[r]}function yY(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function HMe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var aM=mY,sM=vY,N1="Tabs",[KMe]=yr(N1,[tp]),xY=tp(),[GMe,oM]=KMe(N1),bY=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,h=Jh(l),[p,g]=la({prop:r,onChange:i,defaultProp:s??"",caller:N1});return a.jsx(GMe,{scope:n,baseId:Ia(),value:p,onValueChange:g,orientation:o,dir:h,activationMode:c,children:a.jsx(We.div,{dir:h,"data-orientation":o,...u,ref:t})})});bY.displayName=N1;var wY="TabsList",_Y=j.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=oM(wY,n),o=xY(n);return a.jsx(aM,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(We.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});_Y.displayName=wY;var jY="TabsTrigger",SY=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,o=oM(jY,n),l=xY(n),c=AY(o.baseId,r),u=kY(o.baseId,r),h=r===o.value;return a.jsx(sM,{asChild:!0,...l,focusable:!i,active:h,children:a.jsx(We.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:De(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(r):p.preventDefault()}),onKeyDown:De(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(r)}),onFocus:De(e.onFocus,()=>{const p=o.activationMode!=="manual";!h&&!i&&p&&o.onValueChange(r)})})})});SY.displayName=jY;var NY="TabsContent",PY=j.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=e,l=oM(NY,n),c=AY(l.baseId,r),u=kY(l.baseId,r),h=r===l.value,p=j.useRef(h);return j.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(Di,{present:i||h,children:({present:g})=>a.jsx(We.div,{"data-state":h?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});PY.displayName=NY;function AY(e,t){return`${e}-trigger-${t}`}function kY(e,t){return`${e}-content-${t}`}var YMe=bY,CY=_Y,TY=SY,EY=PY;const Lv=YMe,np=j.forwardRef(({className:e,...t},n)=>a.jsx(CY,{ref:n,className:re("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));np.displayName=CY.displayName;const hi=j.forwardRef(({className:e,...t},n)=>a.jsx(TY,{ref:n,className:re("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));hi.displayName=TY.displayName;const no=j.forwardRef(({className:e,...t},n)=>a.jsx(EY,{ref:n,className:re("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));no.displayName=EY.displayName;function ZMe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j.useMemo(()=>r=>{t.forEach(i=>i(r))},t)}const P1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rp(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function lM(e){return"nodeType"in e}function wi(e){var t,n;return e?rp(e)?e:lM(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function cM(e){const{Document:t}=wi(e);return e instanceof t}function Fv(e){return rp(e)?!1:e instanceof wi(e).HTMLElement}function OY(e){return e instanceof wi(e).SVGElement}function ip(e){return e?rp(e)?e.document:lM(e)?cM(e)?e:Fv(e)||OY(e)?e.ownerDocument:document:document:document}const _s=P1?j.useLayoutEffect:j.useEffect;function A1(e){const t=j.useRef(e);return _s(()=>{t.current=e}),j.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function XMe(){const e=j.useRef(null),t=j.useCallback((r,i)=>{e.current=setInterval(r,i)},[]),n=j.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function Qg(e,t){t===void 0&&(t=[e]);const n=j.useRef(e);return _s(()=>{n.current!==e&&(n.current=e)},t),n}function $v(e,t){const n=j.useRef();return j.useMemo(()=>{const r=e(n.current);return n.current=r,r},[...t])}function Bb(e){const t=A1(e),n=j.useRef(null),r=j.useCallback(i=>{i!==n.current&&t?.(i,n.current),n.current=i},[]);return[n,r]}function zb(e){const t=j.useRef();return j.useEffect(()=>{t.current=e},[e]),t.current}let ak={};function Bv(e,t){return j.useMemo(()=>{if(t)return t;const n=ak[e]==null?0:ak[e]+1;return ak[e]=n,e+"-"+n},[e,t])}function MY(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.reduce((s,o)=>{const l=Object.entries(o);for(const[c,u]of l){const h=s[c];h!=null&&(s[c]=h+e*u)}return s},{...t})}}const $f=MY(1),Jg=MY(-1);function QMe(e){return"clientX"in e&&"clientY"in e}function k1(e){if(!e)return!1;const{KeyboardEvent:t}=wi(e.target);return t&&e instanceof t}function JMe(e){if(!e)return!1;const{TouchEvent:t}=wi(e.target);return t&&e instanceof t}function Wb(e){if(JMe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return QMe(e)?{x:e.clientX,y:e.clientY}:null}const Nc=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Nc.Translate.toString(e),Nc.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),qz="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function eRe(e){return e.matches(qz)?e:e.querySelector(qz)}const tRe={display:"none"};function nRe(e){let{id:t,value:n}=e;return Y.createElement("div",{id:t,style:tRe},n)}function rRe(e){let{id:t,announcement:n,ariaLiveType:r="assertive"}=e;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Y.createElement("div",{id:t,style:i,role:"status","aria-live":r,"aria-atomic":!0},n)}function iRe(){const[e,t]=j.useState("");return{announce:j.useCallback(r=>{r!=null&&t(r)},[]),announcement:e}}const RY=j.createContext(null);function aRe(e){const t=j.useContext(RY);j.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function sRe(){const[e]=j.useState(()=>new Set),t=j.useCallback(r=>(e.add(r),()=>e.delete(r)),[e]);return[j.useCallback(r=>{let{type:i,event:s}=r;e.forEach(o=>{var l;return(l=o[i])==null?void 0:l.call(o,s)})},[e]),t]}const oRe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},lRe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function cRe(e){let{announcements:t=lRe,container:n,hiddenTextDescribedById:r,screenReaderInstructions:i=oRe}=e;const{announce:s,announcement:o}=iRe(),l=Bv("DndLiveRegion"),[c,u]=j.useState(!1);if(j.useEffect(()=>{u(!0)},[]),aRe(j.useMemo(()=>({onDragStart(p){let{active:g}=p;s(t.onDragStart({active:g}))},onDragMove(p){let{active:g,over:x}=p;t.onDragMove&&s(t.onDragMove({active:g,over:x}))},onDragOver(p){let{active:g,over:x}=p;s(t.onDragOver({active:g,over:x}))},onDragEnd(p){let{active:g,over:x}=p;s(t.onDragEnd({active:g,over:x}))},onDragCancel(p){let{active:g,over:x}=p;s(t.onDragCancel({active:g,over:x}))}}),[s,t])),!c)return null;const h=Y.createElement(Y.Fragment,null,Y.createElement(nRe,{id:r,value:i.draggable}),Y.createElement(rRe,{id:l,announcement:o}));return n?fs.createPortal(h,n):h}var gr;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(gr||(gr={}));function qb(){}function Uz(e,t){return j.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function uRe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return j.useMemo(()=>[...t].filter(r=>r!=null),[...t])}const js=Object.freeze({x:0,y:0});function IY(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function dRe(e,t){const n=Wb(e);if(!n)return"0 0";const r={x:(n.x-t.left)/t.width*100,y:(n.y-t.top)/t.height*100};return r.x+"% "+r.y+"%"}function DY(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function fRe(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function Vz(e){let{left:t,top:n,height:r,width:i}=e;return[{x:t,y:n},{x:t+i,y:n},{x:t,y:n+r},{x:t+i,y:n+r}]}function LY(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function Hz(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const FY=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Hz(t,t.left,t.top),s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=IY(Hz(c),i);s.push({id:l,data:{droppableContainer:o,value:u}})}}return s.sort(DY)},hRe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=Vz(t),s=[];for(const o of r){const{id:l}=o,c=n.get(l);if(c){const u=Vz(c),h=i.reduce((g,x,b)=>g+IY(u[b],x),0),p=Number((h/4).toFixed(4));s.push({id:l,data:{droppableContainer:o,value:p}})}}return s.sort(DY)};function pRe(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),i=Math.min(t.left+t.width,e.left+e.width),s=Math.min(t.top+t.height,e.top+e.height),o=i-r,l=s-n;if(r<i&&n<s){const c=t.width*t.height,u=e.width*e.height,h=o*l,p=h/(c+u-h);return Number(p.toFixed(4))}return 0}const mRe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const i=[];for(const s of r){const{id:o}=s,l=n.get(o);if(l){const c=pRe(l,t);c>0&&i.push({id:o,data:{droppableContainer:s,value:c}})}}return i.sort(fRe)};function gRe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function $Y(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:js}function vRe(e){return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const yRe=vRe(1);function BY(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function xRe(e,t,n){const r=BY(t);if(!r)return e;const{scaleX:i,scaleY:s,x:o,y:l}=r,c=e.left-o-(1-i)*parseFloat(n),u=e.top-l-(1-s)*parseFloat(n.slice(n.indexOf(" ")+1)),h=i?e.width/i:e.width,p=s?e.height/s:e.height;return{width:h,height:p,top:u,right:c+h,bottom:u+p,left:c}}const bRe={ignoreTransform:!1};function ap(e,t){t===void 0&&(t=bRe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:h}=wi(e).getComputedStyle(e);u&&(n=xRe(n,u,h))}const{top:r,left:i,width:s,height:o,bottom:l,right:c}=n;return{top:r,left:i,width:s,height:o,bottom:l,right:c}}function Kz(e){return ap(e,{ignoreTransform:!0})}function wRe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function _Re(e,t){return t===void 0&&(t=wi(e).getComputedStyle(e)),t.position==="fixed"}function jRe(e,t){t===void 0&&(t=wi(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=t[i];return typeof s=="string"?n.test(s):!1})}function C1(e,t){const n=[];function r(i){if(t!=null&&n.length>=t||!i)return n;if(cM(i)&&i.scrollingElement!=null&&!n.includes(i.scrollingElement))return n.push(i.scrollingElement),n;if(!Fv(i)||OY(i)||n.includes(i))return n;const s=wi(e).getComputedStyle(i);return i!==e&&jRe(i,s)&&n.push(i),_Re(i,s)?n:r(i.parentNode)}return e?r(e):n}function zY(e){const[t]=C1(e,1);return t??null}function sk(e){return!P1||!e?null:rp(e)?e:lM(e)?cM(e)||e===ip(e).scrollingElement?window:Fv(e)?e:null:null}function WY(e){return rp(e)?e.scrollX:e.scrollLeft}function qY(e){return rp(e)?e.scrollY:e.scrollTop}function KT(e){return{x:WY(e),y:qY(e)}}var Sr;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Sr||(Sr={}));function UY(e){return!P1||!e?!1:e===document.scrollingElement}function VY(e){const t={x:0,y:0},n=UY(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},i=e.scrollTop<=t.y,s=e.scrollLeft<=t.x,o=e.scrollTop>=r.y,l=e.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:o,isRight:l,maxScroll:r,minScroll:t}}const SRe={x:.2,y:.2};function NRe(e,t,n,r,i){let{top:s,left:o,right:l,bottom:c}=n;r===void 0&&(r=10),i===void 0&&(i=SRe);const{isTop:u,isBottom:h,isLeft:p,isRight:g}=VY(e),x={x:0,y:0},b={x:0,y:0},v={height:t.height*i.y,width:t.width*i.x};return!u&&s<=t.top+v.height?(x.y=Sr.Backward,b.y=r*Math.abs((t.top+v.height-s)/v.height)):!h&&c>=t.bottom-v.height&&(x.y=Sr.Forward,b.y=r*Math.abs((t.bottom-v.height-c)/v.height)),!g&&l>=t.right-v.width?(x.x=Sr.Forward,b.x=r*Math.abs((t.right-v.width-l)/v.width)):!p&&o<=t.left+v.width&&(x.x=Sr.Backward,b.x=r*Math.abs((t.left+v.width-o)/v.width)),{direction:x,speed:b}}function PRe(e){if(e===document.scrollingElement){const{innerWidth:s,innerHeight:o}=window;return{top:0,left:0,right:s,bottom:o,width:s,height:o}}const{top:t,left:n,right:r,bottom:i}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:i,width:e.clientWidth,height:e.clientHeight}}function HY(e){return e.reduce((t,n)=>$f(t,KT(n)),js)}function ARe(e){return e.reduce((t,n)=>t+WY(n),0)}function kRe(e){return e.reduce((t,n)=>t+qY(n),0)}function KY(e,t){if(t===void 0&&(t=ap),!e)return;const{top:n,left:r,bottom:i,right:s}=t(e);zY(e)&&(i<=0||s<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const CRe=[["x",["left","right"],ARe],["y",["top","bottom"],kRe]];class uM{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=C1(n),i=HY(r);this.rect={...t},this.width=t.width,this.height=t.height;for(const[s,o,l]of CRe)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=l(r),h=i[s]-u;return this.rect[c]+h},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Vm{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=t}add(t,n,r){var i;(i=this.target)==null||i.addEventListener(t,n,r),this.listeners.push([t,n,r])}}function TRe(e){const{EventTarget:t}=wi(e);return e instanceof t?e:ip(e)}function ok(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t?r>t.y:!1}var Oa;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Oa||(Oa={}));function Gz(e){e.preventDefault()}function ERe(e){e.stopPropagation()}var Lt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Lt||(Lt={}));const GY={start:[Lt.Space,Lt.Enter],cancel:[Lt.Esc],end:[Lt.Space,Lt.Enter,Lt.Tab]},ORe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Lt.Right:return{...n,x:n.x+25};case Lt.Left:return{...n,x:n.x-25};case Lt.Down:return{...n,y:n.y+25};case Lt.Up:return{...n,y:n.y-25}}};class dM{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new Vm(ip(n)),this.windowListeners=new Vm(wi(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Oa.Resize,this.handleCancel),this.windowListeners.add(Oa.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Oa.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,r=t.node.current;r&&KY(r),n(js)}handleKeyDown(t){if(k1(t)){const{active:n,context:r,options:i}=this.props,{keyboardCodes:s=GY,coordinateGetter:o=ORe,scrollBehavior:l="smooth"}=i,{code:c}=t;if(s.end.includes(c)){this.handleEnd(t);return}if(s.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=r.current,h=u?{x:u.left,y:u.top}:js;this.referenceCoordinates||(this.referenceCoordinates=h);const p=o(t,{active:n,context:r.current,currentCoordinates:h});if(p){const g=Jg(p,h),x={x:0,y:0},{scrollableAncestors:b}=r.current;for(const v of b){const w=t.code,{isTop:N,isRight:S,isLeft:A,isBottom:T,maxScroll:C,minScroll:E}=VY(v),O=PRe(v),I={x:Math.min(w===Lt.Right?O.right-O.width/2:O.right,Math.max(w===Lt.Right?O.left:O.left+O.width/2,p.x)),y:Math.min(w===Lt.Down?O.bottom-O.height/2:O.bottom,Math.max(w===Lt.Down?O.top:O.top+O.height/2,p.y))},F=w===Lt.Right&&!S||w===Lt.Left&&!A,W=w===Lt.Down&&!T||w===Lt.Up&&!N;if(F&&I.x!==p.x){const $=v.scrollLeft+g.x,z=w===Lt.Right&&$<=C.x||w===Lt.Left&&$>=E.x;if(z&&!g.y){v.scrollTo({left:$,behavior:l});return}z?x.x=v.scrollLeft-$:x.x=w===Lt.Right?v.scrollLeft-C.x:v.scrollLeft-E.x,x.x&&v.scrollBy({left:-x.x,behavior:l});break}else if(W&&I.y!==p.y){const $=v.scrollTop+g.y,z=w===Lt.Down&&$<=C.y||w===Lt.Up&&$>=E.y;if(z&&!g.x){v.scrollTo({top:$,behavior:l});return}z?x.y=v.scrollTop-$:x.y=w===Lt.Down?v.scrollTop-C.y:v.scrollTop-E.y,x.y&&v.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(t,$f(Jg(p,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:r}=this.props;t.preventDefault(),r(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}dM.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=GY,onActivation:i}=t,{active:s}=n;const{code:o}=e.nativeEvent;if(r.start.includes(o)){const l=s.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),i?.({event:e.nativeEvent}),!0)}return!1}}];function Yz(e){return!!(e&&"distance"in e)}function Zz(e){return!!(e&&"delay"in e)}class fM{constructor(t,n,r){var i;r===void 0&&(r=TRe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:s}=t,{target:o}=s;this.props=t,this.events=n,this.document=ip(o),this.documentListeners=new Vm(this.document),this.listeners=new Vm(r),this.windowListeners=new Vm(wi(o)),this.initialCoordinates=(i=Wb(s))!=null?i:js,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Oa.Resize,this.handleCancel),this.windowListeners.add(Oa.DragStart,Gz),this.windowListeners.add(Oa.VisibilityChange,this.handleCancel),this.windowListeners.add(Oa.ContextMenu,Gz),this.documentListeners.add(Oa.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Zz(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(Yz(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:r,onPending:i}=this.props;i(r,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Oa.Click,ERe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Oa.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:o,options:{activationConstraint:l}}=s;if(!i)return;const c=(n=Wb(t))!=null?n:js,u=Jg(i,c);if(!r&&l){if(Yz(l)){if(l.tolerance!=null&&ok(u,l.tolerance))return this.handleCancel();if(ok(u,l.distance))return this.handleStart()}if(Zz(l)&&ok(u,l.tolerance))return this.handleCancel();this.handlePending(l,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Lt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const MRe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class hM extends fM{constructor(t){const{event:n}=t,r=ip(n.target);super(t,MRe,r)}}hM.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!n.isPrimary||n.button!==0?!1:(r?.({event:n}),!0)}}];const RRe={move:{name:"mousemove"},end:{name:"mouseup"}};var GT;(function(e){e[e.RightClick=2]="RightClick"})(GT||(GT={}));class IRe extends fM{constructor(t){super(t,RRe,ip(t.event.target))}}IRe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button===GT.RightClick?!1:(r?.({event:n}),!0)}}];const lk={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class DRe extends fM{constructor(t){super(t,lk)}static setup(){return window.addEventListener(lk.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(lk.move.name,t)};function t(){}}}DRe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:i}=n;return i.length>1?!1:(r?.({event:n}),!0)}}];var Hm;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Hm||(Hm={}));var Ub;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Ub||(Ub={}));function LRe(e){let{acceleration:t,activator:n=Hm.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:o=5,order:l=Ub.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:h,delta:p,threshold:g}=e;const x=$Re({delta:p,disabled:!s}),[b,v]=XMe(),w=j.useRef({x:0,y:0}),N=j.useRef({x:0,y:0}),S=j.useMemo(()=>{switch(n){case Hm.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Hm.DraggableRect:return i}},[n,i,c]),A=j.useRef(null),T=j.useCallback(()=>{const E=A.current;if(!E)return;const O=w.current.x*N.current.x,I=w.current.y*N.current.y;E.scrollBy(O,I)},[]),C=j.useMemo(()=>l===Ub.TreeOrder?[...u].reverse():u,[l,u]);j.useEffect(()=>{if(!s||!u.length||!S){v();return}for(const E of C){if(r?.(E)===!1)continue;const O=u.indexOf(E),I=h[O];if(!I)continue;const{direction:F,speed:W}=NRe(E,I,S,t,g);for(const $ of["x","y"])x[$][F[$]]||(W[$]=0,F[$]=0);if(W.x>0||W.y>0){v(),A.current=E,b(T,o),w.current=W,N.current=F;return}}w.current={x:0,y:0},N.current={x:0,y:0},v()},[t,T,r,v,s,o,JSON.stringify(S),JSON.stringify(x),b,u,C,h,JSON.stringify(g)])}const FRe={x:{[Sr.Backward]:!1,[Sr.Forward]:!1},y:{[Sr.Backward]:!1,[Sr.Forward]:!1}};function $Re(e){let{delta:t,disabled:n}=e;const r=zb(t);return $v(i=>{if(n||!r||!i)return FRe;const s={x:Math.sign(t.x-r.x),y:Math.sign(t.y-r.y)};return{x:{[Sr.Backward]:i.x[Sr.Backward]||s.x===-1,[Sr.Forward]:i.x[Sr.Forward]||s.x===1},y:{[Sr.Backward]:i.y[Sr.Backward]||s.y===-1,[Sr.Forward]:i.y[Sr.Forward]||s.y===1}}},[n,t,r])}function BRe(e,t){const n=t!=null?e.get(t):void 0,r=n?n.node.current:null;return $v(i=>{var s;return t==null?null:(s=r??i)!=null?s:null},[r,t])}function zRe(e,t){return j.useMemo(()=>e.reduce((n,r)=>{const{sensor:i}=r,s=i.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,r)}));return[...n,...s]},[]),[e,t])}var ev;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(ev||(ev={}));var YT;(function(e){e.Optimized="optimized"})(YT||(YT={}));const Xz=new Map;function WRe(e,t){let{dragging:n,dependencies:r,config:i}=t;const[s,o]=j.useState(null),{frequency:l,measure:c,strategy:u}=i,h=j.useRef(e),p=w(),g=Qg(p),x=j.useCallback(function(N){N===void 0&&(N=[]),!g.current&&o(S=>S===null?N:S.concat(N.filter(A=>!S.includes(A))))},[g]),b=j.useRef(null),v=$v(N=>{if(p&&!n)return Xz;if(!N||N===Xz||h.current!==e||s!=null){const S=new Map;for(let A of e){if(!A)continue;if(s&&s.length>0&&!s.includes(A.id)&&A.rect.current){S.set(A.id,A.rect.current);continue}const T=A.node.current,C=T?new uM(c(T),T):null;A.rect.current=C,C&&S.set(A.id,C)}return S}return N},[e,s,n,p,c]);return j.useEffect(()=>{h.current=e},[e]),j.useEffect(()=>{p||x()},[n,p]),j.useEffect(()=>{s&&s.length>0&&o(null)},[JSON.stringify(s)]),j.useEffect(()=>{p||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{x(),b.current=null},l))},[l,p,x,...r]),{droppableRects:v,measureDroppableContainers:x,measuringScheduled:s!=null};function w(){switch(u){case ev.Always:return!1;case ev.BeforeDragging:return n;default:return!n}}}function pM(e,t){return $v(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function qRe(e,t){return pM(e,t)}function URe(e){let{callback:t,disabled:n}=e;const r=A1(t),i=j.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,n]);return j.useEffect(()=>()=>i?.disconnect(),[i]),i}function T1(e){let{callback:t,disabled:n}=e;const r=A1(t),i=j.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[n]);return j.useEffect(()=>()=>i?.disconnect(),[i]),i}function VRe(e){return new uM(ap(e),e)}function Qz(e,t,n){t===void 0&&(t=VRe);const[r,i]=j.useState(null);function s(){i(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??n)!=null?u:null}const h=t(e);return JSON.stringify(c)===JSON.stringify(h)?c:h})}const o=URe({callback(c){if(e)for(const u of c){const{type:h,target:p}=u;if(h==="childList"&&p instanceof HTMLElement&&p.contains(e)){s();break}}}}),l=T1({callback:s});return _s(()=>{s(),e?(l?.observe(e),o?.observe(document.body,{childList:!0,subtree:!0})):(l?.disconnect(),o?.disconnect())},[e]),r}function HRe(e){const t=pM(e);return $Y(e,t)}const Jz=[];function KRe(e){const t=j.useRef(e),n=$v(r=>e?r&&r!==Jz&&e&&t.current&&e.parentNode===t.current.parentNode?r:C1(e):Jz,[e]);return j.useEffect(()=>{t.current=e},[e]),n}function GRe(e){const[t,n]=j.useState(null),r=j.useRef(e),i=j.useCallback(s=>{const o=sk(s.target);o&&n(l=>l?(l.set(o,KT(o)),new Map(l)):null)},[]);return j.useEffect(()=>{const s=r.current;if(e!==s){o(s);const l=e.map(c=>{const u=sk(c);return u?(u.addEventListener("scroll",i,{passive:!0}),[u,KT(u)]):null}).filter(c=>c!=null);n(l.length?new Map(l):null),r.current=e}return()=>{o(e),o(s)};function o(l){l.forEach(c=>{const u=sk(c);u?.removeEventListener("scroll",i)})}},[i,e]),j.useMemo(()=>e.length?t?Array.from(t.values()).reduce((s,o)=>$f(s,o),js):HY(e):js,[e,t])}function e8(e,t){t===void 0&&(t=[]);const n=j.useRef(null);return j.useEffect(()=>{n.current=null},t),j.useEffect(()=>{const r=e!==js;r&&!n.current&&(n.current=e),!r&&n.current&&(n.current=null)},[e]),n.current?Jg(e,n.current):js}function YRe(e){j.useEffect(()=>{if(!P1)return;const t=e.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of t)n?.()}},e.map(t=>{let{sensor:n}=t;return n}))}function ZRe(e,t){return j.useMemo(()=>e.reduce((n,r)=>{let{eventName:i,handler:s}=r;return n[i]=o=>{s(o,t)},n},{}),[e,t])}function YY(e){return j.useMemo(()=>e?wRe(e):null,[e])}const t8=[];function XRe(e,t){t===void 0&&(t=ap);const[n]=e,r=YY(n?wi(n):null),[i,s]=j.useState(t8);function o(){s(()=>e.length?e.map(c=>UY(c)?r:new uM(t(c),c)):t8)}const l=T1({callback:o});return _s(()=>{l?.disconnect(),o(),e.forEach(c=>l?.observe(c))},[e]),i}function ZY(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Fv(t)?t:e}function QRe(e){let{measure:t}=e;const[n,r]=j.useState(null),i=j.useCallback(u=>{for(const{target:h}of u)if(Fv(h)){r(p=>{const g=t(h);return p?{...p,width:g.width,height:g.height}:g});break}},[t]),s=T1({callback:i}),o=j.useCallback(u=>{const h=ZY(u);s?.disconnect(),h&&s?.observe(h),r(h?t(h):null)},[t,s]),[l,c]=Bb(o);return j.useMemo(()=>({nodeRef:l,rect:n,setRef:c}),[n,l,c])}const JRe=[{sensor:hM,options:{}},{sensor:dM,options:{}}],eIe={current:{}},c0={draggable:{measure:Kz},droppable:{measure:Kz,strategy:ev.WhileDragging,frequency:YT.Optimized},dragOverlay:{measure:ap}};class Km extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,r;return(n=(r=this.get(t))==null?void 0:r.node.current)!=null?n:void 0}}const tIe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Km,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:qb},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:c0,measureDroppableContainers:qb,windowRect:null,measuringScheduled:!1},XY={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:qb,draggableNodes:new Map,over:null,measureDroppableContainers:qb},zv=j.createContext(XY),QY=j.createContext(tIe);function nIe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Km}}}function rIe(e,t){switch(t.type){case gr.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case gr.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case gr.DragEnd:case gr.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gr.RegisterDroppable:{const{element:n}=t,{id:r}=n,i=new Km(e.droppable.containers);return i.set(r,n),{...e,droppable:{...e.droppable,containers:i}}}case gr.SetDroppableDisabled:{const{id:n,key:r,disabled:i}=t,s=e.droppable.containers.get(n);if(!s||r!==s.key)return e;const o=new Km(e.droppable.containers);return o.set(n,{...s,disabled:i}),{...e,droppable:{...e.droppable,containers:o}}}case gr.UnregisterDroppable:{const{id:n,key:r}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new Km(e.droppable.containers);return s.delete(n),{...e,droppable:{...e.droppable,containers:s}}}default:return e}}function iIe(e){let{disabled:t}=e;const{active:n,activatorEvent:r,draggableNodes:i}=j.useContext(zv),s=zb(r),o=zb(n?.id);return j.useEffect(()=>{if(!t&&!r&&s&&o!=null){if(!k1(s)||document.activeElement===s.target)return;const l=i.get(o);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const h of[c.current,u.current]){if(!h)continue;const p=eRe(h);if(p){p.focus();break}}})}},[r,t,i,o,s]),null}function JY(e,t){let{transform:n,...r}=t;return e!=null&&e.length?e.reduce((i,s)=>s({transform:i,...r}),n):n}function aIe(e){return j.useMemo(()=>({draggable:{...c0.draggable,...e?.draggable},droppable:{...c0.droppable,...e?.droppable},dragOverlay:{...c0.dragOverlay,...e?.dragOverlay}}),[e?.draggable,e?.droppable,e?.dragOverlay])}function sIe(e){let{activeNode:t,measure:n,initialRect:r,config:i=!0}=e;const s=j.useRef(!1),{x:o,y:l}=typeof i=="boolean"?{x:i,y:i}:i;_s(()=>{if(!o&&!l||!t){s.current=!1;return}if(s.current||!r)return;const u=t?.node.current;if(!u||u.isConnected===!1)return;const h=n(u),p=$Y(h,r);if(o||(p.x=0),l||(p.y=0),s.current=!0,Math.abs(p.x)>0||Math.abs(p.y)>0){const g=zY(u);g&&g.scrollBy({top:p.y,left:p.x})}},[t,o,l,r,n])}const E1=j.createContext({...js,scaleX:1,scaleY:1});var ic;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(ic||(ic={}));const eZ=j.memo(function(t){var n,r,i,s;let{id:o,accessibility:l,autoScroll:c=!0,children:u,sensors:h=JRe,collisionDetection:p=mRe,measuring:g,modifiers:x,...b}=t;const v=j.useReducer(rIe,void 0,nIe),[w,N]=v,[S,A]=sRe(),[T,C]=j.useState(ic.Uninitialized),E=T===ic.Initialized,{draggable:{active:O,nodes:I,translate:F},droppable:{containers:W}}=w,$=O!=null?I.get(O):null,z=j.useRef({initial:null,translated:null}),V=j.useMemo(()=>{var Vt;return O!=null?{id:O,data:(Vt=$?.data)!=null?Vt:eIe,rect:z}:null},[O,$]),U=j.useRef(null),[te,Q]=j.useState(null),[J,G]=j.useState(null),ee=Qg(b,Object.values(b)),X=Bv("DndDescribedBy",o),q=j.useMemo(()=>W.getEnabled(),[W]),H=aIe(g),{droppableRects:ne,measureDroppableContainers:se,measuringScheduled:de}=WRe(q,{dragging:E,dependencies:[F.x,F.y],config:H.droppable}),me=BRe(I,O),fe=j.useMemo(()=>J?Wb(J):null,[J]),_e=Bi(),he=qRe(me,H.draggable.measure);sIe({activeNode:O!=null?I.get(O):null,config:_e.layoutShiftCompensation,initialRect:he,measure:H.draggable.measure});const be=Qz(me,H.draggable.measure,he),Me=Qz(me?me.parentElement:null),ve=j.useRef({activatorEvent:null,active:null,activeNode:me,collisionRect:null,collisions:null,droppableRects:ne,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:W,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ze=W.getNodeFor((n=ve.current.over)==null?void 0:n.id),He=QRe({measure:H.dragOverlay.measure}),je=(r=He.nodeRef.current)!=null?r:me,Ce=E?(i=He.rect)!=null?i:be:null,Re=!!(He.nodeRef.current&&He.rect),Ke=HRe(Re?null:be),yt=YY(je?wi(je):null),kt=KRe(E?Ze??me:null),Et=XRe(kt),it=JY(x,{transform:{x:F.x-Ke.x,y:F.y-Ke.y,scaleX:1,scaleY:1},activatorEvent:J,active:V,activeNodeRect:be,containerNodeRect:Me,draggingNodeRect:Ce,over:ve.current.over,overlayNodeRect:He.rect,scrollableAncestors:kt,scrollableAncestorRects:Et,windowRect:yt}),_t=fe?$f(fe,F):null,cn=GRe(kt),Fn=e8(cn),$t=e8(cn,[be]),En=$f(it,Fn),Xt=Ce?yRe(Ce,it):null,$n=V&&Xt?p({active:V,collisionRect:Xt,droppableRects:ne,droppableContainers:q,pointerCoordinates:_t}):null,nr=LY($n,"id"),[Zn,Fi]=j.useState(null),Wa=Re?it:$f(it,$t),ri=gRe(Wa,(s=Zn?.rect)!=null?s:null,be),qa=j.useRef(null),ii=j.useCallback((Vt,rn)=>{let{sensor:rr,options:rt}=rn;if(U.current==null)return;const xt=I.get(U.current);if(!xt)return;const St=Vt.nativeEvent,Jt=new rr({active:U.current,activeNode:xt,event:St,options:rt,context:ve,onAbort(Ft){if(!I.get(Ft))return;const{onDragAbort:Ht}=ee.current,zn={id:Ft};Ht?.(zn),S({type:"onDragAbort",event:zn})},onPending(Ft,Bn,Ht,zn){if(!I.get(Ft))return;const{onDragPending:qe}=ee.current,Dr={id:Ft,constraint:Bn,initialCoordinates:Ht,offset:zn};qe?.(Dr),S({type:"onDragPending",event:Dr})},onStart(Ft){const Bn=U.current;if(Bn==null)return;const Ht=I.get(Bn);if(!Ht)return;const{onDragStart:zn}=ee.current,Wn={activatorEvent:St,active:{id:Bn,data:Ht.data,rect:z}};fs.unstable_batchedUpdates(()=>{zn?.(Wn),C(ic.Initializing),N({type:gr.DragStart,initialCoordinates:Ft,active:Bn}),S({type:"onDragStart",event:Wn}),Q(qa.current),G(St)})},onMove(Ft){N({type:gr.DragMove,coordinates:Ft})},onEnd:vn(gr.DragEnd),onCancel:vn(gr.DragCancel)});qa.current=Jt;function vn(Ft){return async function(){const{active:Ht,collisions:zn,over:Wn,scrollAdjustedTranslate:qe}=ve.current;let Dr=null;if(Ht&&qe){const{cancelDrop:ua}=ee.current;Dr={activatorEvent:St,active:Ht,collisions:zn,delta:qe,over:Wn},Ft===gr.DragEnd&&typeof ua=="function"&&await Promise.resolve(ua(Dr))&&(Ft=gr.DragCancel)}U.current=null,fs.unstable_batchedUpdates(()=>{N({type:Ft}),C(ic.Uninitialized),Fi(null),Q(null),G(null),qa.current=null;const ua=Ft===gr.DragEnd?"onDragEnd":"onDragCancel";if(Dr){const vl=ee.current[ua];vl?.(Dr),S({type:ua,event:Dr})}})}}},[I]),$i=j.useCallback((Vt,rn)=>(rr,rt)=>{const xt=rr.nativeEvent,St=I.get(rt);if(U.current!==null||!St||xt.dndKit||xt.defaultPrevented)return;const Jt={active:St};Vt(rr,rn.options,Jt)===!0&&(xt.dndKit={capturedBy:rn.sensor},U.current=rt,ii(rr,rn))},[I,ii]),Cs=zRe(h,$i);YRe(h),_s(()=>{be&&T===ic.Initializing&&C(ic.Initialized)},[be,T]),j.useEffect(()=>{const{onDragMove:Vt}=ee.current,{active:rn,activatorEvent:rr,collisions:rt,over:xt}=ve.current;if(!rn||!rr)return;const St={active:rn,activatorEvent:rr,collisions:rt,delta:{x:En.x,y:En.y},over:xt};fs.unstable_batchedUpdates(()=>{Vt?.(St),S({type:"onDragMove",event:St})})},[En.x,En.y]),j.useEffect(()=>{const{active:Vt,activatorEvent:rn,collisions:rr,droppableContainers:rt,scrollAdjustedTranslate:xt}=ve.current;if(!Vt||U.current==null||!rn||!xt)return;const{onDragOver:St}=ee.current,Jt=rt.get(nr),vn=Jt&&Jt.rect.current?{id:Jt.id,rect:Jt.rect.current,data:Jt.data,disabled:Jt.disabled}:null,Ft={active:Vt,activatorEvent:rn,collisions:rr,delta:{x:xt.x,y:xt.y},over:vn};fs.unstable_batchedUpdates(()=>{Fi(vn),St?.(Ft),S({type:"onDragOver",event:Ft})})},[nr]),_s(()=>{ve.current={activatorEvent:J,active:V,activeNode:me,collisionRect:Xt,collisions:$n,droppableRects:ne,draggableNodes:I,draggingNode:je,draggingNodeRect:Ce,droppableContainers:W,over:Zn,scrollableAncestors:kt,scrollAdjustedTranslate:En},z.current={initial:Ce,translated:Xt}},[V,me,$n,Xt,I,je,Ce,ne,W,Zn,kt,En]),LRe({..._e,delta:F,draggingRect:Xt,pointerCoordinates:_t,scrollableAncestors:kt,scrollableAncestorRects:Et});const Ts=j.useMemo(()=>({active:V,activeNode:me,activeNodeRect:be,activatorEvent:J,collisions:$n,containerNodeRect:Me,dragOverlay:He,draggableNodes:I,droppableContainers:W,droppableRects:ne,over:Zn,measureDroppableContainers:se,scrollableAncestors:kt,scrollableAncestorRects:Et,measuringConfiguration:H,measuringScheduled:de,windowRect:yt}),[V,me,be,J,$n,Me,He,I,W,ne,Zn,se,kt,Et,H,de,yt]),Ua=j.useMemo(()=>({activatorEvent:J,activators:Cs,active:V,activeNodeRect:be,ariaDescribedById:{draggable:X},dispatch:N,draggableNodes:I,over:Zn,measureDroppableContainers:se}),[J,Cs,V,be,N,X,I,Zn,se]);return Y.createElement(RY.Provider,{value:A},Y.createElement(zv.Provider,{value:Ua},Y.createElement(QY.Provider,{value:Ts},Y.createElement(E1.Provider,{value:ri},u)),Y.createElement(iIe,{disabled:l?.restoreFocus===!1})),Y.createElement(cRe,{...l,hiddenTextDescribedById:X}));function Bi(){const Vt=te?.autoScrollEnabled===!1,rn=typeof c=="object"?c.enabled===!1:c===!1,rr=E&&!Vt&&!rn;return typeof c=="object"?{...c,enabled:rr}:{enabled:rr}}}),oIe=j.createContext(null),n8="button",lIe="Draggable";function cIe(e){let{id:t,data:n,disabled:r=!1,attributes:i}=e;const s=Bv(lIe),{activators:o,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:h,draggableNodes:p,over:g}=j.useContext(zv),{role:x=n8,roleDescription:b="draggable",tabIndex:v=0}=i??{},w=c?.id===t,N=j.useContext(w?E1:oIe),[S,A]=Bb(),[T,C]=Bb(),E=ZRe(o,t),O=Qg(n);_s(()=>(p.set(t,{id:t,key:s,node:S,activatorNode:T,data:O}),()=>{const F=p.get(t);F&&F.key===s&&p.delete(t)}),[p,t]);const I=j.useMemo(()=>({role:x,tabIndex:v,"aria-disabled":r,"aria-pressed":w&&x===n8?!0:void 0,"aria-roledescription":b,"aria-describedby":h.draggable}),[r,x,v,w,b,h.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:I,isDragging:w,listeners:r?void 0:E,node:S,over:g,setNodeRef:A,setActivatorNodeRef:C,transform:N}}function tZ(){return j.useContext(QY)}const uIe="Droppable",dIe={timeout:25};function nZ(e){let{data:t,disabled:n=!1,id:r,resizeObserverConfig:i}=e;const s=Bv(uIe),{active:o,dispatch:l,over:c,measureDroppableContainers:u}=j.useContext(zv),h=j.useRef({disabled:n}),p=j.useRef(!1),g=j.useRef(null),x=j.useRef(null),{disabled:b,updateMeasurementsFor:v,timeout:w}={...dIe,...i},N=Qg(v??r),S=j.useCallback(()=>{if(!p.current){p.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{u(Array.isArray(N.current)?N.current:[N.current]),x.current=null},w)},[w]),A=T1({callback:S,disabled:b||!o}),T=j.useCallback((I,F)=>{A&&(F&&(A.unobserve(F),p.current=!1),I&&A.observe(I))},[A]),[C,E]=Bb(T),O=Qg(t);return j.useEffect(()=>{!A||!C.current||(A.disconnect(),p.current=!1,A.observe(C.current))},[C,A]),j.useEffect(()=>(l({type:gr.RegisterDroppable,element:{id:r,key:s,disabled:n,node:C,rect:g,data:O}}),()=>l({type:gr.UnregisterDroppable,key:s,id:r})),[r]),j.useEffect(()=>{n!==h.current.disabled&&(l({type:gr.SetDroppableDisabled,id:r,key:s,disabled:n}),h.current.disabled=n)},[r,s,n,l]),{active:o,rect:g,isOver:c?.id===r,node:C,over:c,setNodeRef:E}}function fIe(e){let{animation:t,children:n}=e;const[r,i]=j.useState(null),[s,o]=j.useState(null),l=zb(n);return!n&&!r&&l&&i(l),_s(()=>{if(!s)return;const c=r?.key,u=r?.props.id;if(c==null||u==null){i(null);return}Promise.resolve(t(u,s)).then(()=>{i(null)})},[t,r,s]),Y.createElement(Y.Fragment,null,n,r?j.cloneElement(r,{ref:o}):null)}const hIe={x:0,y:0,scaleX:1,scaleY:1};function pIe(e){let{children:t}=e;return Y.createElement(zv.Provider,{value:XY},Y.createElement(E1.Provider,{value:hIe},t))}const mIe={position:"fixed",touchAction:"none"},gIe=e=>k1(e)?"transform 250ms ease":void 0,vIe=j.forwardRef((e,t)=>{let{as:n,activatorEvent:r,adjustScale:i,children:s,className:o,rect:l,style:c,transform:u,transition:h=gIe}=e;if(!l)return null;const p=i?u:{...u,scaleX:1,scaleY:1},g={...mIe,width:l.width,height:l.height,top:l.top,left:l.left,transform:Nc.Transform.toString(p),transformOrigin:i&&r?dRe(r,l):void 0,transition:typeof h=="function"?h(r):h,...c};return Y.createElement(n,{className:o,style:g,ref:t},s)}),yIe=e=>t=>{let{active:n,dragOverlay:r}=t;const i={},{styles:s,className:o}=e;if(s!=null&&s.active)for(const[l,c]of Object.entries(s.active))c!==void 0&&(i[l]=n.node.style.getPropertyValue(l),n.node.style.setProperty(l,c));if(s!=null&&s.dragOverlay)for(const[l,c]of Object.entries(s.dragOverlay))c!==void 0&&r.node.style.setProperty(l,c);return o!=null&&o.active&&n.node.classList.add(o.active),o!=null&&o.dragOverlay&&r.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(i))n.node.style.setProperty(c,u);o!=null&&o.active&&n.node.classList.remove(o.active)}},xIe=e=>{let{transform:{initial:t,final:n}}=e;return[{transform:Nc.Transform.toString(t)},{transform:Nc.Transform.toString(n)}]},bIe={duration:250,easing:"ease",keyframes:xIe,sideEffects:yIe({styles:{active:{opacity:"0"}}})};function wIe(e){let{config:t,draggableNodes:n,droppableContainers:r,measuringConfiguration:i}=e;return A1((s,o)=>{if(t===null)return;const l=n.get(s);if(!l)return;const c=l.node.current;if(!c)return;const u=ZY(o);if(!u)return;const{transform:h}=wi(o).getComputedStyle(o),p=BY(h);if(!p)return;const g=typeof t=="function"?t:_Ie(t);return KY(c,i.draggable.measure),g({active:{id:s,data:l.data,node:c,rect:i.draggable.measure(c)},draggableNodes:n,dragOverlay:{node:o,rect:i.dragOverlay.measure(u)},droppableContainers:r,measuringConfiguration:i,transform:p})})}function _Ie(e){const{duration:t,easing:n,sideEffects:r,keyframes:i}={...bIe,...e};return s=>{let{active:o,dragOverlay:l,transform:c,...u}=s;if(!t)return;const h={x:l.rect.left-o.rect.left,y:l.rect.top-o.rect.top},p={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/l.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/l.rect.height:1},g={x:c.x-h.x,y:c.y-h.y,...p},x=i({...u,active:o,dragOverlay:l,transform:{initial:c,final:g}}),[b]=x,v=x[x.length-1];if(JSON.stringify(b)===JSON.stringify(v))return;const w=r?.({active:o,dragOverlay:l,...u}),N=l.node.animate(x,{duration:t,easing:n,fill:"forwards"});return new Promise(S=>{N.onfinish=()=>{w?.(),S()}})}}let r8=0;function jIe(e){return j.useMemo(()=>{if(e!=null)return r8++,r8},[e])}const SIe=Y.memo(e=>{let{adjustScale:t=!1,children:n,dropAnimation:r,style:i,transition:s,modifiers:o,wrapperElement:l="div",className:c,zIndex:u=999}=e;const{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggableNodes:b,droppableContainers:v,dragOverlay:w,over:N,measuringConfiguration:S,scrollableAncestors:A,scrollableAncestorRects:T,windowRect:C}=tZ(),E=j.useContext(E1),O=jIe(p?.id),I=JY(o,{activatorEvent:h,active:p,activeNodeRect:g,containerNodeRect:x,draggingNodeRect:w.rect,over:N,overlayNodeRect:w.rect,scrollableAncestors:A,scrollableAncestorRects:T,transform:E,windowRect:C}),F=pM(g),W=wIe({config:r,draggableNodes:b,droppableContainers:v,measuringConfiguration:S}),$=F?w.setRef:void 0;return Y.createElement(pIe,null,Y.createElement(fIe,{animation:W},p&&O?Y.createElement(vIe,{key:O,id:p.id,ref:$,as:l,activatorEvent:h,adjustScale:t,className:c,transition:s,rect:F,style:{zIndex:u,...i},transform:I},n):null))});function mM(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function NIe(e,t){return e.reduce((n,r,i)=>{const s=t.get(r);return s&&(n[i]=s),n},Array(e.length))}function Bx(e){return e!==null&&e>=0}function PIe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function AIe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const rZ=e=>{let{rects:t,activeIndex:n,overIndex:r,index:i}=e;const s=mM(t,r,n),o=t[i],l=s[i];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},zx={scaleX:1,scaleY:1},iZ=e=>{var t;let{activeIndex:n,activeNodeRect:r,index:i,rects:s,overIndex:o}=e;const l=(t=s[n])!=null?t:r;if(!l)return null;if(i===n){const u=s[o];return u?{x:0,y:n<o?u.top+u.height-(l.top+l.height):u.top-l.top,...zx}:null}const c=kIe(s,i,n);return i>n&&i<=o?{x:0,y:-l.height-c,...zx}:i<n&&i>=o?{x:0,y:l.height+c,...zx}:{x:0,y:0,...zx}};function kIe(e,t,n){const r=e[t],i=e[t-1],s=e[t+1];return r?n<t?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const aZ="Sortable",sZ=Y.createContext({activeIndex:-1,containerId:aZ,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:rZ,disabled:{draggable:!1,droppable:!1}});function oZ(e){let{children:t,id:n,items:r,strategy:i=rZ,disabled:s=!1}=e;const{active:o,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:h}=tZ(),p=Bv(aZ,n),g=l.rect!==null,x=j.useMemo(()=>r.map(E=>typeof E=="object"&&"id"in E?E.id:E),[r]),b=o!=null,v=o?x.indexOf(o.id):-1,w=u?x.indexOf(u.id):-1,N=j.useRef(x),S=!PIe(x,N.current),A=w!==-1&&v===-1||S,T=AIe(s);_s(()=>{S&&b&&h(x)},[S,x,b,h]),j.useEffect(()=>{N.current=x},[x]);const C=j.useMemo(()=>({activeIndex:v,containerId:p,disabled:T,disableTransforms:A,items:x,overIndex:w,useDragOverlay:g,sortedRects:NIe(x,c),strategy:i}),[v,p,T.draggable,T.droppable,A,x,w,c,g,i]);return Y.createElement(sZ.Provider,{value:C},t)}const CIe=e=>{let{id:t,items:n,activeIndex:r,overIndex:i}=e;return mM(n,r,i).indexOf(t)},TIe=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:i,items:s,newIndex:o,previousItems:l,previousContainerId:c,transition:u}=e;return!u||!r||l!==s&&i===o?!1:n?!0:o!==i&&t===c},EIe={duration:200,easing:"ease"},lZ="transform",OIe=Nc.Transition.toString({property:lZ,duration:0,easing:"linear"}),MIe={roleDescription:"sortable"};function RIe(e){let{disabled:t,index:n,node:r,rect:i}=e;const[s,o]=j.useState(null),l=j.useRef(n);return _s(()=>{if(!t&&n!==l.current&&r.current){const c=i.current;if(c){const u=ap(r.current,{ignoreTransform:!0}),h={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(h.x||h.y)&&o(h)}}n!==l.current&&(l.current=n)},[t,n,r,i]),j.useEffect(()=>{s&&o(null)},[s]),s}function IIe(e){let{animateLayoutChanges:t=TIe,attributes:n,disabled:r,data:i,getNewIndex:s=CIe,id:o,strategy:l,resizeObserverConfig:c,transition:u=EIe}=e;const{items:h,containerId:p,activeIndex:g,disabled:x,disableTransforms:b,sortedRects:v,overIndex:w,useDragOverlay:N,strategy:S}=j.useContext(sZ),A=DIe(r,x),T=h.indexOf(o),C=j.useMemo(()=>({sortable:{containerId:p,index:T,items:h},...i}),[p,i,T,h]),E=j.useMemo(()=>h.slice(h.indexOf(o)),[h,o]),{rect:O,node:I,isOver:F,setNodeRef:W}=nZ({id:o,data:C,disabled:A.droppable,resizeObserverConfig:{updateMeasurementsFor:E,...c}}),{active:$,activatorEvent:z,activeNodeRect:V,attributes:U,setNodeRef:te,listeners:Q,isDragging:J,over:G,setActivatorNodeRef:ee,transform:X}=cIe({id:o,data:C,attributes:{...MIe,...n},disabled:A.draggable}),q=ZMe(W,te),H=!!$,ne=H&&!b&&Bx(g)&&Bx(w),se=!N&&J,de=se&&ne?X:null,fe=ne?de??(l??S)({rects:v,activeNodeRect:V,activeIndex:g,overIndex:w,index:T}):null,_e=Bx(g)&&Bx(w)?s({id:o,items:h,activeIndex:g,overIndex:w}):T,he=$?.id,be=j.useRef({activeId:he,items:h,newIndex:_e,containerId:p}),Me=h!==be.current.items,ve=t({active:$,containerId:p,isDragging:J,isSorting:H,id:o,index:T,items:h,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:u,wasDragging:be.current.activeId!=null}),Ze=RIe({disabled:!ve,index:T,node:I,rect:O});return j.useEffect(()=>{H&&be.current.newIndex!==_e&&(be.current.newIndex=_e),p!==be.current.containerId&&(be.current.containerId=p),h!==be.current.items&&(be.current.items=h)},[H,_e,p,h]),j.useEffect(()=>{if(he===be.current.activeId)return;if(he&&!be.current.activeId){be.current.activeId=he;return}const je=setTimeout(()=>{be.current.activeId=he},50);return()=>clearTimeout(je)},[he]),{active:$,activeIndex:g,attributes:U,data:C,rect:O,index:T,newIndex:_e,items:h,isOver:F,isSorting:H,isDragging:J,listeners:Q,node:I,overIndex:w,over:G,setNodeRef:q,setActivatorNodeRef:ee,setDroppableNodeRef:W,setDraggableNodeRef:te,transform:Ze??fe,transition:He()};function He(){if(Ze||Me&&be.current.newIndex===T)return OIe;if(!(se&&!k1(z)||!u)&&(H||ve))return Nc.Transition.toString({...u,property:lZ})}}function DIe(e,t){var n,r;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e?.draggable)!=null?n:t.draggable,droppable:(r=e?.droppable)!=null?r:t.droppable}}function Vb(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const LIe=[Lt.Down,Lt.Right,Lt.Up,Lt.Left],FIe=(e,t)=>{let{context:{active:n,collisionRect:r,droppableRects:i,droppableContainers:s,over:o,scrollableAncestors:l}}=t;if(LIe.includes(e.code)){if(e.preventDefault(),!n||!r)return;const c=[];s.getEnabled().forEach(p=>{if(!p||p!=null&&p.disabled)return;const g=i.get(p.id);if(g)switch(e.code){case Lt.Down:r.top<g.top&&c.push(p);break;case Lt.Up:r.top>g.top&&c.push(p);break;case Lt.Left:r.left>g.left&&c.push(p);break;case Lt.Right:r.left<g.left&&c.push(p);break}});const u=hRe({collisionRect:r,droppableRects:i,droppableContainers:c});let h=LY(u,"id");if(h===o?.id&&u.length>1&&(h=u[1].id),h!=null){const p=s.get(n.id),g=s.get(h),x=g?i.get(g.id):null,b=g?.node.current;if(b&&x&&p&&g){const w=C1(b).some((E,O)=>l[O]!==E),N=cZ(p,g),S=$Ie(p,g),A=w||!N?{x:0,y:0}:{x:S?r.width-x.width:0,y:S?r.height-x.height:0},T={x:x.left,y:x.top};return A.x&&A.y?T:Jg(T,A)}}}};function cZ(e,t){return!Vb(e)||!Vb(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function $Ie(e,t){return!Vb(e)||!Vb(t)||!cZ(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}async function uZ(e){const t=n2(e),n=xU(e),r=Ne(t,"yyyy-MM-dd"),i=Ne(n,"yyyy-MM-dd"),o=((await Nw())?.sessions||[]).filter(h=>{if(!h.date)return!1;const p=or(h.date);return jU(p,{start:t,end:n})}),l=o.filter(h=>h.status!=="completed"&&h.status!=="cancelled"&&h.status!=="skipped"),c=o.filter(h=>h.status==="completed"),u=await xi({start:r,end:i,limit:1e3});return{month_start:r,month_end:i,planned_sessions:l,completed_activities:u,workouts:c}}function dZ(e){const{month_start:t,month_end:n,planned_sessions:r,completed_activities:i,workouts:s}=e,o=or(t),l=or(n),c=[],u=new Date(o);for(;u<=l;){const h=Ne(u,"yyyy-MM-dd"),p=r.filter(b=>b.date?Ne(or(b.date),"yyyy-MM-dd")===h:!1),g=i.filter(b=>b.date?b.date===h:!1),x=s.filter(b=>b.date?Ne(or(b.date),"yyyy-MM-dd")===h:!1);c.push({date:h,plannedSessions:p,completedActivities:g,workouts:x}),u.setDate(u.getDate()+1)}return c}function Ph(e){e.invalidateQueries({queryKey:["calendar"],exact:!1}),e.invalidateQueries({queryKey:["calendar-week"],exact:!1}),e.invalidateQueries({queryKey:["calendar-season"],exact:!1}),e.invalidateQueries({queryKey:["calendarWeek"],exact:!1}),e.invalidateQueries({queryKey:["calendarSeason"],exact:!1}),e.invalidateQueries({queryKey:["calendarToday"],exact:!1})}function fZ(){const e=tr();return fc({mutationFn:rue,onSuccess:()=>{Ph(e)}})}function BIe(){const e=tr();return fc({mutationFn:({weekStart:t,sessions:n})=>iue(t,n),onSuccess:()=>{Ph(e)}})}function zIe(){const e=tr();return fc({mutationFn:({sessionId:t,scheduledDate:n,startTime:r,orderInDay:i})=>oue(t,n,r,i),onSuccess:()=>{Ph(e)}})}function WIe(){const e=tr();return fc({mutationFn:({sessionId:t,status:n,completedActivityId:r,confirmed:i})=>kU(t,n,r,i),onSuccess:t=>{t&&typeof t=="object"&&"status"in t?t.status==="ok"&&Ph(e):Ph(e)}})}function qIe(){const e=tr();return fc({mutationFn:({workoutId:t,scheduledDate:n})=>pue(t,n),onSuccess:()=>{Ph(e)}})}function Ah(e){if(!e||typeof e!="string")return"running";const t=e.toLowerCase().trim();return t==="running"||t==="run"?"running":t==="cycling"||t==="cycle"||t==="bike"||t==="biking"?"cycling":t==="swimming"||t==="swim"?"swimming":t==="triathlon"||t==="tri"?"triathlon":t.includes("run")?"running":t.includes("bike")||t.includes("cycle")?"cycling":t.includes("swim")?"swimming":t.includes("tri")?"triathlon":"running"}function hZ(e){if(!e||typeof e!="string")return"aerobic";const t=e.toLowerCase().trim();return t==="recovery"||t==="easy"||t==="rest"?"recovery":t==="aerobic"||t==="base"||t==="zone2"||t==="zone 2"?"aerobic":t==="threshold"||t==="tempo"||t==="zone4"||t==="zone 4"?"threshold":t==="vo2"||t==="vo2max"||t==="interval"||t==="zone5"||t==="zone 5"?"vo2":t==="endurance"||t==="long"||t==="long run"||t==="long ride"?"endurance":t.includes("recovery")||t.includes("easy")||t.includes("rest")?"recovery":t.includes("threshold")||t.includes("tempo")?"threshold":t.includes("vo2")||t.includes("interval")||t.includes("sprint")?"vo2":t.includes("endurance")||t.includes("long")?"endurance":(t.includes("aerobic")||t.includes("base")||t.includes("zone 2"),"aerobic")}function pZ(e){return e.status==="completed"?null:!e.id||!e.date?(console.warn("[mapSessionToWorkout] Invalid session data:",e),null):{id:e.id,date:e.date,sport:Ah(e.type??"Run"),intent:hZ(e.intensity),title:ud(e.title??"Run"),description:e.notes??"",duration:e.duration_minutes??0,distance:e.distance_km??void 0,completed:!1}}function UIe(e,t,n=0){if(!Array.isArray(t))return null;const r=new Date(e.date),i=e.sport.toLowerCase(),s=t.filter(l=>{if(l.status!=="planned")return!1;const c=new Date(l.date);if(Math.abs((r.getTime()-c.getTime())/(1e3*60*60*24))>n)return!1;const h=l.type.toLowerCase();return!!(h===i||h.includes(i)||i.includes(h))});if(s.length===0)return null;const o=s.find(l=>new Date(l.date).toDateString()===r.toDateString());return o?o.id:s[0].id}function i8(e){return!e||typeof e!="object"?!1:e.status==="PROPOSAL_ONLY"}function a8(e){if(i8(e))return e;if(e&&typeof e=="object"){const t=e;if(t.proposal&&i8(t.proposal))return t.proposal;if(t.status==="PROPOSAL_ONLY")return t}return null}function ZT(e){return e&&typeof e=="object"&&"data"in e?a8(e.data):a8(e)}let mZ=0;const ck=5e3;function s8(){mZ=Date.now()}function gZ(e=!0){const t=tr(),{data:n}=Ir({queryKey:["activities","limit",100],queryFn:()=>xi({limit:100}),enabled:e,staleTime:300*1e3});j.useEffect(()=>{if(!e||!n||n.length===0)return;const r=Date.now()-mZ;if(r<ck){const o=Math.ceil((ck-r)/1e3);console.log(`[AutoMatch] Skipping: drag operation completed ${o}s ago (cooldown: ${ck/1e3}s)`);return}const s=setTimeout(async()=>{try{const o=new Date,l=new Date(o);l.setDate(o.getDate()-o.getDay()+1);const c=l.toISOString().split("T")[0],u=await ld(c),p=(Array.isArray(u?.sessions)?u.sessions:[]).filter(v=>v.status!=="completed"&&v.status!=="cancelled"&&v.status!=="skipped");if(p.length===0)return;const g=[];for(const v of n){const w=UIe(v,p,0);w&&g.push({activity:v,sessionId:w})}const x=[],b=[];for(const{activity:v,sessionId:w}of g)try{const N=await kU(w,"completed",v.id);ZT(N)?(console.warn(`[AutoMatch] Session ${w} requires confirmation (PROPOSAL_ONLY). Skipping auto-match.`),b.push({activity:v,sessionId:w})):(x.push({activity:v,sessionId:w}),console.log(`[AutoMatch] Matched activity ${v.id} to session ${w}`))}catch(N){console.error(`[AutoMatch] Failed to update session ${w}:`,N)}if(x.length>0){await t.invalidateQueries({queryKey:["calendar"],exact:!1}),await t.invalidateQueries({queryKey:["calendarWeek"],exact:!1}),await t.invalidateQueries({queryKey:["calendarSeason"],exact:!1}),await t.invalidateQueries({queryKey:["calendarToday"],exact:!1});let v=`Matched ${x.length} activity${x.length>1?"ies":""} to planned sessions`;b.length>0&&(v+=`. ${b.length} session${b.length>1?"s":""} require${b.length>1?"":"s"} manual confirmation.`),Le({title:"Sessions updated",description:v})}else b.length>0&&Le({title:"Confirmation required",description:`${b.length} session${b.length>1?"s":""} require${b.length>1?"":"s"} your confirmation. Please update them manually.`,variant:"default"})}catch(o){console.error("[AutoMatch] Error during auto-matching:",o)}},2e3);return()=>clearTimeout(s)},[n,e,t])}function VIe({date:e,children:t,className:n}){const r=Ne(e,"yyyy-MM-dd"),{isOver:i,setNodeRef:s}=nZ({id:`day-${r}`,data:{type:"day",date:r,dateObj:e}});return a.jsx("div",{ref:s,className:re(n,i&&"ring-2 ring-primary ring-offset-2 bg-primary/5"),children:t})}function Of(e){if(!e)return[];if(Array.isArray(e))return e.map(t=>{if(Array.isArray(t)&&t.length>=2){const n=typeof t[0]=="number"?t[0]:0,r=typeof t[1]=="number"?t[1]:0;if((n!==0||r!==0)&&!isNaN(n)&&!isNaN(r))return[n,r]}return null}).filter(t=>t!==null);if(typeof e=="object"&&e!==null){const t=e;if(Array.isArray(t.latlng))return Of(t.latlng);if(Array.isArray(t.data))return Of(t.data);if(Array.isArray(t.route_points))return Of(t.route_points);if(Array.isArray(t.points))return Of(t.points)}return[]}function vZ(e){return e?Of(e.route_points):[]}const HIe={feed:{width:600,height:360},mobile:{width:320,height:220},share:{width:1200,height:630}},uk=420,o8=260,KIe=e=>e.split(" ").filter(Boolean).map(t=>t[0]?.toUpperCase()+t.slice(1)).join(" "),yZ=(e,t,n)=>Math.max(t,Math.min(n,e)),_n={card:"hsl(220 25% 11%)",cardDarker:"hsl(220 25% 8%)",border:"hsl(220 20% 18%)",borderSubtle:"hsl(220 20% 14%)",textPrimary:"hsl(0 0% 98%)",textSecondary:"hsl(220 10% 55%)",textMuted:"hsl(220 10% 45%)",accentCool:"hsl(217 91% 60%)",accentWarm:"hsl(38 92% 50%)",accentHot:"hsl(0 84% 60%)",positive:"hsl(142 71% 45%)",negative:"hsl(0 84% 60%)"},dk=e=>{const t=e.replace("#",""),n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:n&255}},l8=(e,t,n)=>`#${[e,t,n].map(r=>yZ(Math.round(r),0,255).toString(16).padStart(2,"0")).join("")}`,gf=(e,t,n)=>e+(t-e)*n,GIe=(e,t,n)=>{const r=n===t?0:yZ((e-t)/(n-t),0,1),i=dk(_n.accentCool),s=dk(_n.accentWarm),o=dk(_n.accentHot);if(r<=.5){const c=r*2;return l8(gf(i.r,s.r,c),gf(i.g,s.g,c),gf(i.b,s.b,c))}const l=(r-.5)*2;return l8(gf(s.r,o.r,l),gf(s.g,o.g,l),gf(s.b,o.b,l))},vm=(e,t="")=>{if(e==null)return t;const n=typeof e=="number"?e.toString():e;return n.trim().length?n:t},YIe=(e,t)=>{const n=e.map(w=>w[0]),r=e.map(w=>w[1]),i=Math.min(...n),s=Math.max(...n),o=Math.min(...r),l=Math.max(...r),c=s-i||1,u=l-o||1,h=Math.min(t.width,t.height)*.1,p=t.width-h*2,g=t.height-h*2,x=Math.min(p/u,g/c),b=t.x+(t.width-u*x)/2,v=t.y+(t.height-c*x)/2;return e.map(([w,N])=>({x:b+(N-o)*x,y:v+(s-w)*x}))},ZIe=e=>e.length?`M ${e[0].x} ${e[0].y} ${e.slice(1).map(t=>`L ${t.x} ${t.y}`).join(" ")}`:"",c8=e=>{if(e.length<2)return"";if(e.length===2)return ZIe(e);let t=`M ${e[0].x} ${e[0].y}`;for(let r=0;r<e.length-1;r++){const i=e[r],s=e[r+1],o=(i.x+s.x)/2,l=(i.y+s.y)/2;r===0?t+=` Q ${i.x} ${i.y} ${o} ${l}`:t+=` Q ${i.x} ${i.y} ${o} ${l}`}const n=e[e.length-1];return t+=` L ${n.x} ${n.y}`,t};function xZ({title:e,distance:t,time:n,pace:r,typeLabel:i,tss:s,routePoints:o,paceStream:l,elevationStream:c,variant:u="feed",className:h,svgRef:p,fontScale:g=1}){const{width:x,height:b}=HIe[u],v=Math.min(x/uk,b/o8),w=v*g,[N,S]=j.useState(!1);j.useEffect(()=>{const ne=setTimeout(()=>S(!0),50);return()=>clearTimeout(ne)},[]);const A=x*(20/uk),T=b*(16/o8),C=T+10*w,E=C+18*w,O=E+28*w,I=x*(100/uk),F=b*.42,W=b*.52,$=x-A*2,z=j.useMemo(()=>({x:A,y:F,width:$,height:W}),[A,F,$,W]),V=j.useMemo(()=>Of(o),[o]),U=j.useMemo(()=>V.length>=2?YIe(V,z):[],[V,z]),te=j.useMemo(()=>c8(U),[U]),Q=j.useMemo(()=>{if(U.length<2)return 0;let ne=0;for(let se=1;se<U.length;se++){const de=U[se].x-U[se-1].x,me=U[se].y-U[se-1].y;ne+=Math.sqrt(de*de+me*me)}return ne},[U]),J=j.useMemo(()=>{if(U.length<2)return[];const ne=l?.filter(me=>typeof me=="number"&&Number.isFinite(me))??[],se=ne.length?Math.min(...ne):0,de=ne.length?Math.max(...ne):1;return U.slice(0,-1).map((me,fe)=>{const _e=U[fe+1],he=l&&l.length>1?Math.round(fe/(U.length-1)*(l.length-1)):null,be=he!==null&&l?l[he]:null,Me=typeof be=="number"&&Number.isFinite(be)?GIe(be,se,de):_n.accentCool;return{path:`M ${me.x} ${me.y} L ${_e.x} ${_e.y}`,color:Me}})},[U,l]),G=j.useMemo(()=>{if(U.length<2)return"";const ne=z.y+z.height,se=c8(U),de=U[U.length-1],me=U[0];return`${se} L ${de.x} ${ne} L ${me.x} ${ne} Z`},[U,z]),ee=c&&c.length>0,q=`workout-${j.useId().replace(/:/g,"")}`,H=16*v;return a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${x} ${b}`,preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",className:h,ref:p,style:{display:"block"},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:`${q}-bg`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:_n.card}),a.jsx("stop",{offset:"100%",stopColor:_n.cardDarker})]}),a.jsxs("linearGradient",{id:`${q}-trace-fill`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:_n.accentCool,stopOpacity:"0.15"}),a.jsx("stop",{offset:"100%",stopColor:_n.cardDarker,stopOpacity:"0"})]}),a.jsxs("filter",{id:`${q}-glow`,x:"-10%",y:"-10%",width:"120%",height:"120%",children:[a.jsx("feGaussianBlur",{stdDeviation:1*v,result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsx("pattern",{id:`${q}-grid`,width:H,height:H,patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:`M ${H} 0 L 0 0 0 ${H}`,fill:"none",stroke:_n.borderSubtle,strokeWidth:.5,opacity:"0.3"})}),a.jsx("clipPath",{id:`${q}-trace-clip`,children:a.jsx("rect",{x:z.x,y:z.y,width:z.width,height:z.height})})]}),a.jsx("rect",{x:"0",y:"0",width:x,height:b,rx:8*v,fill:`url(#${q}-bg)`}),a.jsx("rect",{x:"0.5",y:"0.5",width:x-1,height:b-1,rx:8*v,fill:"none",stroke:_n.border,strokeWidth:1,opacity:"0.5"}),a.jsx("text",{x:A,y:C,fill:_n.textMuted,fontSize:11*w,fontWeight:500,fontFamily:"system-ui, -apple-system, sans-serif",letterSpacing:"0.06em",style:{textTransform:"uppercase"},children:vm(i)?.toUpperCase()}),a.jsx("text",{x:A,y:E,fill:_n.textPrimary,fontSize:18*w,fontWeight:600,fontFamily:"system-ui, -apple-system, sans-serif",letterSpacing:"-0.01em",children:KIe(e)}),a.jsxs("g",{fontFamily:"system-ui, -apple-system, sans-serif",children:[a.jsx("text",{x:A,y:O,fill:_n.textPrimary,fontSize:16*w,fontWeight:600,letterSpacing:"-0.01em",children:vm(t)}),a.jsx("line",{x1:A+I-20*v,y1:O-10*w,x2:A+I-20*v,y2:O+4*w,stroke:_n.borderSubtle,strokeWidth:1,opacity:"0.5"}),a.jsx("text",{x:A+I,y:O,fill:_n.textPrimary,fontSize:16*w,fontWeight:600,letterSpacing:"-0.01em",children:vm(n)}),a.jsx("line",{x1:A+I*2-20*v,y1:O-10*w,x2:A+I*2-20*v,y2:O+4*w,stroke:_n.borderSubtle,strokeWidth:1,opacity:"0.5"}),a.jsx("text",{x:A+I*2,y:O,fill:_n.textSecondary,fontSize:15*w,fontWeight:500,letterSpacing:"-0.01em",children:vm(r)}),s!=null&&a.jsxs("g",{children:[a.jsx("text",{x:x-A,y:O-14*w,fill:_n.textMuted,fontSize:10*w,fontWeight:500,textAnchor:"end",letterSpacing:"0.08em",children:"TSS"}),a.jsx("text",{x:x-A,y:O,fill:_n.positive,fontSize:18*w,fontWeight:600,textAnchor:"end",letterSpacing:"-0.01em",children:vm(s)})]})]}),a.jsxs("g",{clipPath:`url(#${q}-trace-clip)`,opacity:"0.6",children:[a.jsx("rect",{x:z.x,y:z.y,width:z.width,height:z.height,fill:`url(#${q}-grid)`,opacity:"0.25"}),a.jsx("line",{x1:z.x,y1:z.y+z.height*.5,x2:z.x+z.width,y2:z.y+z.height*.5,stroke:_n.borderSubtle,strokeWidth:.5,opacity:"0.2",strokeDasharray:`${4*v} ${12*v}`}),G&&a.jsx("path",{d:G,fill:`url(#${q}-trace-fill)`,opacity:ee?.3:.15}),a.jsx("path",{d:te,fill:"none",stroke:_n.cardDarker,strokeWidth:3*v,strokeLinecap:"round",strokeLinejoin:"round",opacity:.5,transform:`translate(0, ${1*v})`}),J.length>0?a.jsx("g",{children:J.map((ne,se)=>a.jsx("path",{d:ne.path,fill:"none",stroke:ne.color,strokeWidth:1.5*v,strokeLinecap:"round",strokeLinejoin:"round",opacity:N?.8:0,style:{transition:"opacity 0.6s ease-out",transitionDelay:`${se*2}ms`}},`${q}-seg-${se}`))}):a.jsx("path",{d:te,fill:"none",stroke:_n.accentCool,strokeWidth:1.5*v,strokeLinecap:"round",strokeLinejoin:"round",opacity:N?.7:0,strokeDasharray:Q,strokeDashoffset:N?0:Q,style:{transition:"stroke-dashoffset 0.8s ease-out, opacity 0.3s ease-out"}})]}),U.length>0&&a.jsxs("g",{opacity:"0.5",children:[a.jsx("circle",{cx:U[0].x,cy:U[0].y,r:2*v,fill:_n.positive,opacity:N?.7:0,style:{transition:"opacity 0.4s ease-out 0.6s"}}),a.jsx("circle",{cx:U[U.length-1].x,cy:U[U.length-1].y,r:2*v,fill:_n.negative,opacity:N?.7:0,style:{transition:"opacity 0.4s ease-out 0.7s"}})]}),a.jsx("line",{x1:A,y1:b-T,x2:x-A,y2:b-T,stroke:_n.border,strokeWidth:1,opacity:"0.3"})]})}const gu="hsl(220 25% 11%)",vu="hsl(0 0% 98%)",yu="hsl(220 10% 55%)",vf="hsl(142 71% 45%)",yf="hsl(217 91% 60%)",u8="hsl(270 60% 60%)",d8={"completed-running":{base:gu,text:vu,secondary:yu,sparkline:vf,accent:vf,showSparkline:!0,showPace:!0},"completed-cycling":{base:gu,text:vu,secondary:yu,sparkline:vf,accent:vf,showSparkline:!0,showPace:!1},"completed-swimming":{base:gu,text:vu,secondary:yu,sparkline:vf,accent:vf,showSparkline:!0,showPace:!1},"planned-running":{base:gu,text:vu,secondary:yu,sparkline:yf,accent:yf,showSparkline:!1,showPace:!1},"planned-cycling":{base:gu,text:vu,secondary:yu,sparkline:yf,accent:yf,showSparkline:!1,showPace:!1},"planned-swimming":{base:gu,text:vu,secondary:yu,sparkline:yf,accent:yf,showSparkline:!1,showPace:!1},strength:{base:gu,text:vu,secondary:yu,sparkline:u8,accent:u8,showSparkline:!1,showPace:!1}};function XIe(e){return e.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())}const f8={feed:{width:600,height:360},mobile:{width:320,height:220}},h8=420,p8=260,xf={border:"hsl(220 20% 18%)",textPrimary:"hsl(0 0% 98%)",textSecondary:"hsl(220 10% 55%)",textMuted:"hsl(220 10% 45%)"};function QIe({variant:e,topLeft:t,topRight:n,title:r,description:i,titleClampLines:s=2,descClampLines:o=3,viewVariant:l,isPlanned:c=!1}){const u=d8[e]??d8["completed-running"],h=l==="month",{width:p,height:g}=h?f8.mobile:f8.feed,x=Math.min(p/h8,g/p8),v=x*(h?1.2:1.15),w=XIe(r),N=p*(20/h8),S=g*(16/p8),A=S+10*v,T=A+18*v,C=T+24*v,E=g-S-4,O=`calendar-card-${e}-${Math.random().toString(36).slice(2,8)}`;return a.jsxs("svg",{width:"100%",height:"100%",viewBox:`0 0 ${p} ${g}`,preserveAspectRatio:"xMidYMid meet",xmlns:"http://www.w3.org/2000/svg",style:{display:"block",fontFamily:"system-ui, -apple-system, sans-serif"},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:`${O}-bg`,x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:u.base,stopOpacity:"1"}),a.jsx("stop",{offset:"100%",stopColor:u.base,stopOpacity:"0.95"})]})}),a.jsx("rect",{x:"0",y:"0",width:p,height:g,rx:8*x,fill:`url(#${O}-bg)`}),a.jsx("rect",{x:"0.5",y:"0.5",width:p-1,height:g-1,rx:8*x,fill:"none",stroke:xf.border,strokeWidth:1,opacity:"0.5"}),a.jsx("text",{x:N,y:A,fill:xf.textMuted,fontSize:11*v,fontWeight:500,letterSpacing:"0.06em",children:t.toUpperCase()}),a.jsx("text",{x:p-N,y:A,fill:xf.textSecondary,fontSize:11*v,fontWeight:500,textAnchor:"end",letterSpacing:"0.06em",children:n}),a.jsx("text",{x:N,y:T,fill:xf.textPrimary,fontSize:18*v,fontWeight:600,letterSpacing:"-0.01em",children:w.length>28?`${w.slice(0,28)}...`:w}),i&&a.jsx("foreignObject",{x:N,y:C,width:p-N*2,height:g-C-S-16,children:a.jsx("div",{style:{color:xf.textSecondary,fontSize:`${14*v}px`,lineHeight:1.4,opacity:.7,overflow:"hidden",display:"-webkit-box",WebkitLineClamp:o,WebkitBoxOrient:"vertical"},children:i})}),c&&a.jsx("rect",{x:N,y:E,width:p-N*2,height:3,rx:1.5,fill:u.sparkline,opacity:.3}),a.jsx("line",{x1:N,y1:g-S,x2:p-N,y2:g-S,stroke:xf.border,strokeWidth:1,opacity:"0.3"})]})}function JIe(e){if(e<60)return`${e}m`;const t=Math.floor(e/60),n=e%60;return n===0?`${t}h`:`${t}h ${n}m`}function eDe(e,t){return t==="race"?"Race":{easy:"Easy",steady:"Steady",tempo:"Tempo",intervals:"Intervals",long:"Long",rest:"Rest",aerobic:"Easy",threshold:"Tempo",vo2:"Intervals",endurance:"Long",recovery:"Easy"}[e]||e}function bZ(e){const t=e.kind==="completed";return e.sport==="race"?t?"completed-running":"planned-running":e.sport==="strength"?"strength":e.sport==="run"||e.sport==="other"?t?"completed-running":"planned-running":e.sport==="ride"?t?"completed-cycling":"planned-cycling":e.sport==="swim"?t?"completed-swimming":"planned-swimming":t?"completed-running":"planned-running"}function tDe(e){return e==null||e<=0?void 0:`${Math.round(e*10)/10} km`}function nDe(e){const t=bZ(e),n=JIe(e.durationMin),r=eDe(e.intent,e.sport),i=tDe(e.distanceKm),s=e.pace,o=e.kind==="completed"&&e.compliance==="complete"?rDe():void 0,l=e.coachNote?.text||e.description||void 0;return{variant:t,duration:n,workoutType:r,title:e.title||r,distance:i,pace:s,description:l,sparkline:o}}function rDe(){return Array.from({length:20},(e,t)=>Math.max(0,Math.min(1,.5+Math.sin(t/2)*.3)))}const iDe=e=>e==="month"?"mobile":"feed";function aDe({item:e,viewVariant:t,streams:n,className:r}){const i=nDe(e);if(!(e.kind==="completed")){const u=bZ(e);return a.jsx(QIe,{variant:u,topLeft:i.workoutType,topRight:i.duration,title:i.title||i.workoutType,description:i.description??null,isPlanned:!0,isActivity:!1,viewVariant:t})}const o=iDe(t),l=e.load!==void 0?Math.round(e.load):null,c=t==="month"?1.2:t==="week"?1.15:1;return a.jsx(xZ,{title:i.title||i.workoutType,distance:i.distance??null,time:i.duration,pace:i.pace??null,typeLabel:i.workoutType,tss:l,routePoints:n?.route_points??null,paceStream:n?.pace??null,elevationStream:n?.elevation??null,variant:o,fontScale:c,className:r})}function wZ({items:e,variant:t,maxVisible:n=3,onClick:r,className:i,activityIdBySessionId:s,useNewCard:o=!1}){const l=e.slice(0,n),c=l[0],u=c?s?.[c.id]:null,{data:h}=Mt({queryKey:["activityStreams","calendar",u],queryFn:()=>Bh(u),retry:1,enabled:!!u,staleTime:900*1e3,gcTime:1800*1e3});if(l.length===0)return null;if(o&&l.length===1){const x=l[0],b=P5(x,h);return a.jsx("div",{className:`w-full h-full p-1 ${i??""}`,onClick:()=>r?.(x),style:{cursor:r?"pointer":"default"},children:a.jsx(I0,{session:b,compact:!0,className:"h-full"})})}if(o&&l.length>1){const x=v=>v===0?1:v===1?.96:.92,b=v=>({x:v*4,y:v*4});return a.jsx("div",{className:`relative w-full h-full p-1 ${i??""}`,children:l.map((v,w)=>{const N=b(w),S=x(w),A=w===0,T=P5(v,A?h:null);return a.jsx("div",{className:"absolute inset-1 transition-all duration-[140ms] ease-out",style:{transform:`translate(${N.x}px, ${N.y}px) scale(${S})`,transformOrigin:"top left",zIndex:l.length-w,pointerEvents:A?"auto":"none"},onClick:()=>A&&r?.(v),children:a.jsx(I0,{session:T,compact:!0,className:"h-full"})},v.id)})})}const p=x=>x===0?1:x===1?.97:x===2?.94:.91-(x-3)*.03,g=x=>({x:x*6,y:x*6});return a.jsx("div",{className:`relative w-full h-full ${i??""}`,children:l.map((x,b)=>{const v=g(b),w=p(b),N=b===0;return a.jsx("div",{className:"absolute inset-0 transition-all duration-[140ms] ease-out",style:{transform:`translate(${v.x}px, ${v.y}px) scale(${w})`,transformOrigin:"top left",zIndex:l.length-b,pointerEvents:N?"auto":"none"},onMouseEnter:S=>{N&&(S.currentTarget.style.transform=`translate(${v.x}px, ${v.y-2}px) scale(${w*1.01})`)},onMouseLeave:S=>{N&&(S.currentTarget.style.transform=`translate(${v.x}px, ${v.y}px) scale(${w})`)},onClick:()=>{N&&r&&r(x)},children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",style:{aspectRatio:t==="month"?"320 / 220":"600 / 360",maxWidth:"100%",maxHeight:"100%"},children:a.jsx(aDe,{item:x,viewVariant:t,streams:N?h??null:null})})},x.id)})})}function sDe(e){return[...e].sort((t,n)=>{const r=t.kind==="completed"?0:1,i=n.kind==="completed"?0:1;if(r!==i)return r-i;const s=t.load??0,o=n.load??0;if(s!==o)return o-s;if(t.durationMin!==n.durationMin)return n.durationMin-t.durationMin;const l=(t.title||"").toLowerCase(),c=(n.title||"").toLowerCase();return l!==c?l.localeCompare(c):t.id.localeCompare(n.id)})}function oDe({currentDate:e,onActivityClick:t}){const n=tr(),r=zIe(),i=qIe(),[s,o]=j.useState(null),[l,c]=j.useState(null),u=n2(e),h=xU(e),p=Ne(u,"yyyy-MM"),{data:g,isLoading:x}=Mt({queryKey:["calendar","month",p],queryFn:()=>uZ(e),retry:1}),b=j.useMemo(()=>{if(!g)return new Map;const E=dZ(g);return new Map(E.map(O=>[O.date,O]))},[g]),v=j.useMemo(()=>{const E=Gn(u,{weekStartsOn:1}),O=Zu(h,{weekStartsOn:1});return t2({start:E,end:O})},[u,h]),w=j.useMemo(()=>g?g.planned_sessions.map(E=>E.id):[],[g]),N=j.useMemo(()=>{if(!g)return{};const E={};for(const O of[...g.planned_sessions,...g.workouts])O.completed_activity_id&&(E[O.id]=O.completed_activity_id);for(const O of g.completed_activities||[])O.planned_session_id&&(E[O.planned_session_id]=O.id);return E},[g]),S=E=>{if(!g)return[];const O=Ne(E,"yyyy-MM-dd"),I=b.get(O);return I?[...I.plannedSessions,...I.workouts.filter(W=>!I.plannedSessions.some($=>$.id===W.id))].map(W=>fC(W,g.completed_activities)):[]},A=E=>{const O=E.active.data.current?.session;O?.planned_session_id&&(o(E.active.id),c(O))},T=E=>{const{active:O,over:I}=E;if(o(null),c(null),!I)return;const F=O.data.current?.session,W=I.data.current?.date;if(!F||!W||(F.date?Ne(or(F.date),"yyyy-MM-dd"):"")===W)return;const z=F.date?or(F.date):null;if(z&&yce(z)&&!Wo(z)&&Le({title:"Session moved",description:"You moved a past session."}),!F.planned_session_id){Le({title:"Move failed",description:"Missing planned session ID.",variant:"destructive"});return}F.workout_id?i.mutate({workoutId:F.workout_id,scheduledDate:W},{onSuccess:()=>{s8(),n.invalidateQueries({queryKey:["calendar"],exact:!1})}}):r.mutate({sessionId:F.planned_session_id,scheduledDate:W},{onSuccess:()=>{s8(),n.invalidateQueries({queryKey:["calendar"],exact:!1})}})};if(x)return a.jsxs(Ot,{className:"flex items-center justify-center py-12",children:[a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground mr-2"}),a.jsx("span",{className:"text-muted-foreground",children:"Loading calendar..."})]});const C=["MON","TUE","WED","THU","FRI","SAT","SUN"];return a.jsxs(Ot,{className:"overflow-hidden",children:[a.jsx("div",{className:"grid grid-cols-7 border-b border-border bg-muted/30",children:C.map(E=>a.jsx("div",{className:"py-2 text-center text-xs font-medium uppercase tracking-wider text-muted-foreground",children:E},E))}),a.jsxs(eZ,{collisionDetection:FY,onDragStart:A,onDragEnd:T,children:[a.jsx(oZ,{items:w,strategy:iZ,children:a.jsx("div",{className:"grid grid-cols-7 grid-rows-6 min-h-[960px]",children:v.map((E,O)=>{const I=xce(E,e),F=Wo(E),W=S(E);return a.jsxs(VIe,{date:E,className:re("relative min-h-[180px] border-b border-r border-border/50 flex flex-col transition-colors",!I&&"bg-muted/5",F&&"bg-primary/5",O%7===6&&"border-r-0"),children:[a.jsx("div",{className:"px-2 pt-1.5 pb-1",children:a.jsx("span",{className:re("text-sm font-medium tabular-nums",!I&&"text-muted-foreground/40",F&&"bg-primary text-primary-foreground w-6 h-6 rounded-full inline-flex items-center justify-center text-xs font-semibold"),children:Ne(E,"d")})}),a.jsx("div",{className:"relative flex-1",children:W.length>0&&(()=>{const $=sDe(W);return a.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0",children:a.jsx(wZ,{items:$,variant:"month",maxVisible:3,activityIdBySessionId:N,useNewCard:!0,onClick:z=>{if(!g)return;const V=[...g.planned_sessions,...g.workouts].find(te=>te.id===z.id)??null,U=g.completed_activities.find(te=>te.planned_session_id===z.id||V?.workout_id&&te.workout_id===V.workout_id)??null;t?.(null,U,V??void 0)}})})})()})]},O)})})}),a.jsx(SIe,{children:s&&l&&a.jsx("div",{className:"px-3 py-1.5 text-sm rounded-md bg-card border border-border shadow-lg",children:ud(l.title||"Workout")})})]})]})}const lDe={run:vs,ride:ov,swim:fv,strength:Mte,race:lo,other:lo},cDe={run:"Run",ride:"Ride",swim:"Swim",strength:"Strength",race:"Race",other:"Activity"},uDe={easy:"Easy",steady:"Steady",tempo:"Tempo",intervals:"Intervals",long:"Long Run",rest:"Rest Day"},dDe={easy:"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-500/30",steady:"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-500/30",tempo:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/30",intervals:"bg-red-500/10 text-red-600 dark:text-red-400 border-red-500/30",long:"bg-purple-500/10 text-purple-600 dark:text-purple-400 border-purple-500/30",rest:"bg-muted text-muted-foreground border-muted-foreground/30"};function fDe(e){const t=[],n=e.durationMin;return e.intent==="intervals"?(t.push({type:"Warmup",duration:Math.round(n*.2),notes:"Easy pace, build gradually"}),t.push({type:"Main Set",duration:Math.round(n*.6),notes:`${e.secondary||"Hard effort"} intervals`}),t.push({type:"Cooldown",duration:Math.round(n*.2),notes:"Easy pace, recover"})):e.intent==="tempo"?(t.push({type:"Warmup",duration:Math.round(n*.15),notes:"Easy pace"}),t.push({type:"Tempo",duration:Math.round(n*.7),notes:`Sustained ${e.secondary||"threshold"} effort`}),t.push({type:"Cooldown",duration:Math.round(n*.15),notes:"Easy pace"})):e.intent==="long"?(t.push({type:"Warmup",duration:10,notes:"Start easy"}),t.push({type:"Steady",duration:n-20,notes:`${e.secondary||"Aerobic"} effort`}),t.push({type:"Cooldown",duration:10,notes:"Finish easy"})):t.push({type:"Main",duration:n,notes:`${e.secondary||"Easy"} effort throughout`}),t}function hDe({date:e,items:t,onBack:n,onItemClick:r}){const i=j.useMemo(()=>[...t].sort((o,l)=>new Date(o.startLocal).getTime()-new Date(l.startLocal).getTime()),[t]),s=j.useMemo(()=>({totalDuration:t.reduce((o,l)=>o+l.durationMin,0),totalLoad:t.reduce((o,l)=>o+(l.load||0),0),completed:t.filter(o=>o.kind==="completed").length,planned:t.filter(o=>o.kind==="planned").length}),[t]);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[n&&a.jsxs(Se,{variant:"ghost",size:"sm",onClick:n,children:[a.jsx(vW,{className:"h-4 w-4 mr-1"}),"Back"]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-foreground",children:Ne(e,"EEEE")}),a.jsx("p",{className:"text-muted-foreground",children:Ne(e,"MMMM d, yyyy")})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:s.totalDuration}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"minutes"})]}),s.totalLoad>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:Math.round(s.totalLoad)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"TSS"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-foreground",children:t.length}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"sessions"})]})]})]}),t.length===0&&a.jsx(Ot,{className:"border-dashed",children:a.jsx($e,{className:"py-12 text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"No sessions scheduled for this day"})})}),a.jsx("div",{className:"space-y-4",children:i.map(o=>{const l=lDe[o.sport]||lo,c=fDe(o),u=Ne(or(o.startLocal),"h:mm a");return a.jsxs(Ot,{className:re("overflow-hidden cursor-pointer transition-all hover:shadow-md",o.kind==="completed"&&"border-green-500/30",o.kind==="planned"&&"border-dashed"),onClick:()=>r?.(o),children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:re("flex items-center justify-center w-14 h-14 rounded-xl",dDe[o.intent]),children:a.jsx(l,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:uDe[o.intent]}),a.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[cDe[o.sport],"  ",u]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ln,{variant:o.kind==="completed"?"default":"outline",className:re(o.kind==="completed"&&o.compliance==="complete"&&"bg-emerald-500",o.kind==="completed"&&o.compliance==="partial"&&"bg-amber-500",o.kind==="completed"&&o.compliance==="missed"&&"bg-destructive"),children:o.kind==="completed"?o.compliance==="complete"?"Completed":o.compliance==="partial"?"Partial":"Missed":"Planned"})})]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ps,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{className:"font-medium",children:[o.durationMin," min"]})]}),o.secondary&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jm,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:o.secondary})]}),o.load&&o.load>0&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-muted-foreground",children:"Load:"}),a.jsxs("span",{className:"font-medium",children:[Math.round(o.load)," TSS"]})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("h4",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:"Workout Structure"}),a.jsx("div",{className:"space-y-2",children:c.map((h,p)=>a.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-lg bg-muted/30",children:[a.jsx("div",{className:"flex items-center gap-2 min-w-[100px]",children:a.jsx("span",{className:"text-xs font-medium text-foreground",children:h.type})}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[h.duration," min"]}),a.jsx("div",{className:"flex-1 text-xs text-muted-foreground truncate",children:h.notes})]},p))})]})]})]},o.id)})})]})}var XT=["Enter"," "],pDe=["ArrowDown","PageUp","Home"],_Z=["ArrowUp","PageDown","End"],mDe=[...pDe,..._Z],gDe={ltr:[...XT,"ArrowRight"],rtl:[...XT,"ArrowLeft"]},vDe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wv="Menu",[tv,yDe,xDe]=iv(Wv),[md,jZ]=yr(Wv,[xDe,Ih,tp]),O1=Ih(),SZ=tp(),[bDe,gd]=md(Wv),[wDe,qv]=md(Wv),NZ=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=e,l=O1(t),[c,u]=j.useState(null),h=j.useRef(!1),p=yi(s),g=Jh(i);return j.useEffect(()=>{const x=()=>{h.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>h.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(IE,{...l,children:a.jsx(bDe,{scope:t,open:n,onOpenChange:p,content:c,onContentChange:u,children:a.jsx(wDe,{scope:t,onClose:j.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:h,dir:g,modal:o,children:r})})})};NZ.displayName=Wv;var _De="MenuAnchor",gM=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=O1(n);return a.jsx(DE,{...i,...r,ref:t})});gM.displayName=_De;var vM="MenuPortal",[jDe,PZ]=md(vM,{forceMount:void 0}),AZ=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=gd(vM,t);return a.jsx(jDe,{scope:t,forceMount:n,children:a.jsx(Di,{present:n||s.open,children:a.jsx(av,{asChild:!0,container:i,children:r})})})};AZ.displayName=vM;var La="MenuContent",[SDe,yM]=md(La),kZ=j.forwardRef((e,t)=>{const n=PZ(La,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=gd(La,e.__scopeMenu),o=qv(La,e.__scopeMenu);return a.jsx(tv.Provider,{scope:e.__scopeMenu,children:a.jsx(Di,{present:r||s.open,children:a.jsx(tv.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(NDe,{...i,ref:t}):a.jsx(PDe,{...i,ref:t})})})})}),NDe=j.forwardRef((e,t)=>{const n=gd(La,e.__scopeMenu),r=j.useRef(null),i=vt(t,r);return j.useEffect(()=>{const s=r.current;if(s)return nM(s)},[]),a.jsx(xM,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:De(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PDe=j.forwardRef((e,t)=>{const n=gd(La,e.__scopeMenu);return a.jsx(xM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),ADe=zu("MenuContent.ScrollLock"),xM=j.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:x,disableOutsideScroll:b,...v}=e,w=gd(La,n),N=qv(La,n),S=O1(n),A=SZ(n),T=yDe(n),[C,E]=j.useState(null),O=j.useRef(null),I=vt(t,O,w.onContentChange),F=j.useRef(0),W=j.useRef(""),$=j.useRef(0),z=j.useRef(null),V=j.useRef("right"),U=j.useRef(0),te=b?w1:j.Fragment,Q=b?{as:ADe,allowPinchZoom:!0}:void 0,J=ee=>{const X=W.current+ee,q=T().filter(fe=>!fe.disabled),H=document.activeElement,ne=q.find(fe=>fe.ref.current===H)?.textValue,se=q.map(fe=>fe.textValue),de=$De(se,X,ne),me=q.find(fe=>fe.textValue===de)?.ref.current;(function fe(_e){W.current=_e,window.clearTimeout(F.current),_e!==""&&(F.current=window.setTimeout(()=>fe(""),1e3))})(X),me&&setTimeout(()=>me.focus())};j.useEffect(()=>()=>window.clearTimeout(F.current),[]),tM();const G=j.useCallback(ee=>V.current===z.current?.side&&zDe(ee,z.current?.area),[]);return a.jsx(SDe,{scope:n,searchRef:W,onItemEnter:j.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),onItemLeave:j.useCallback(ee=>{G(ee)||(O.current?.focus(),E(null))},[G]),onTriggerLeave:j.useCallback(ee=>{G(ee)&&ee.preventDefault()},[G]),pointerGraceTimerRef:$,onPointerGraceIntentChange:j.useCallback(ee=>{z.current=ee},[]),children:a.jsx(te,{...Q,children:a.jsx(x1,{asChild:!0,trapped:i,onMountAutoFocus:De(s,ee=>{ee.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ch,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,onDismiss:x,children:a.jsx(aM,{asChild:!0,...A,dir:N.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:E,onEntryFocus:De(c,ee=>{N.isUsingKeyboardRef.current||ee.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(LE,{role:"menu","aria-orientation":"vertical","data-state":UZ(w.open),"data-radix-menu-content":"",dir:N.dir,...S,...v,ref:I,style:{outline:"none",...v.style},onKeyDown:De(v.onKeyDown,ee=>{const q=ee.target.closest("[data-radix-menu-content]")===ee.currentTarget,H=ee.ctrlKey||ee.altKey||ee.metaKey,ne=ee.key.length===1;q&&(ee.key==="Tab"&&ee.preventDefault(),!H&&ne&&J(ee.key));const se=O.current;if(ee.target!==se||!mDe.includes(ee.key))return;ee.preventDefault();const me=T().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);_Z.includes(ee.key)&&me.reverse(),LDe(me)}),onBlur:De(e.onBlur,ee=>{ee.currentTarget.contains(ee.target)||(window.clearTimeout(F.current),W.current="")}),onPointerMove:De(e.onPointerMove,nv(ee=>{const X=ee.target,q=U.current!==ee.clientX;if(ee.currentTarget.contains(X)&&q){const H=ee.clientX>U.current?"right":"left";V.current=H,U.current=ee.clientX}}))})})})})})})});kZ.displayName=La;var kDe="MenuGroup",bM=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(We.div,{role:"group",...r,ref:t})});bM.displayName=kDe;var CDe="MenuLabel",CZ=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(We.div,{...r,ref:t})});CZ.displayName=CDe;var Hb="MenuItem",m8="menu.itemSelect",M1=j.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=j.useRef(null),o=qv(Hb,e.__scopeMenu),l=yM(Hb,e.__scopeMenu),c=vt(t,s),u=j.useRef(!1),h=()=>{const p=s.current;if(!n&&p){const g=new CustomEvent(m8,{bubbles:!0,cancelable:!0});p.addEventListener(m8,x=>r?.(x),{once:!0}),gE(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(TZ,{...i,ref:c,disabled:n,onClick:De(e.onClick,h),onPointerDown:p=>{e.onPointerDown?.(p),u.current=!0},onPointerUp:De(e.onPointerUp,p=>{u.current||p.currentTarget?.click()}),onKeyDown:De(e.onKeyDown,p=>{const g=l.searchRef.current!=="";n||g&&p.key===" "||XT.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});M1.displayName=Hb;var TZ=j.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,o=yM(Hb,n),l=SZ(n),c=j.useRef(null),u=vt(t,c),[h,p]=j.useState(!1),[g,x]=j.useState("");return j.useEffect(()=>{const b=c.current;b&&x((b.textContent??"").trim())},[s.children]),a.jsx(tv.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:a.jsx(sM,{asChild:!0,...l,focusable:!r,children:a.jsx(We.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:u,onPointerMove:De(e.onPointerMove,nv(b=>{r?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:De(e.onPointerLeave,nv(b=>o.onItemLeave(b))),onFocus:De(e.onFocus,()=>p(!0)),onBlur:De(e.onBlur,()=>p(!1))})})})}),TDe="MenuCheckboxItem",EZ=j.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return a.jsx(DZ,{scope:e.__scopeMenu,checked:n,children:a.jsx(M1,{role:"menuitemcheckbox","aria-checked":Kb(n)?"mixed":n,...i,ref:t,"data-state":_M(n),onSelect:De(i.onSelect,()=>r?.(Kb(n)?!0:!n),{checkForDefaultPrevented:!1})})})});EZ.displayName=TDe;var OZ="MenuRadioGroup",[EDe,ODe]=md(OZ,{value:void 0,onValueChange:()=>{}}),MZ=j.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=yi(r);return a.jsx(EDe,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(bM,{...i,ref:t})})});MZ.displayName=OZ;var RZ="MenuRadioItem",IZ=j.forwardRef((e,t)=>{const{value:n,...r}=e,i=ODe(RZ,e.__scopeMenu),s=n===i.value;return a.jsx(DZ,{scope:e.__scopeMenu,checked:s,children:a.jsx(M1,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":_M(s),onSelect:De(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});IZ.displayName=RZ;var wM="MenuItemIndicator",[DZ,MDe]=md(wM,{checked:!1}),LZ=j.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=MDe(wM,n);return a.jsx(Di,{present:r||Kb(s.checked)||s.checked===!0,children:a.jsx(We.span,{...i,ref:t,"data-state":_M(s.checked)})})});LZ.displayName=wM;var RDe="MenuSeparator",FZ=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(We.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});FZ.displayName=RDe;var IDe="MenuArrow",$Z=j.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=O1(n);return a.jsx(FE,{...i,...r,ref:t})});$Z.displayName=IDe;var DDe="MenuSub",[XBe,BZ]=md(DDe),km="MenuSubTrigger",zZ=j.forwardRef((e,t)=>{const n=gd(km,e.__scopeMenu),r=qv(km,e.__scopeMenu),i=BZ(km,e.__scopeMenu),s=yM(km,e.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},h=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>h,[h]),j.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),a.jsx(gM,{asChild:!0,...u,children:a.jsx(TZ,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":UZ(n.open),...e,ref:ew(t,i.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:De(e.onPointerMove,nv(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:De(e.onPointerLeave,nv(p=>{h();const g=n.content?.getBoundingClientRect();if(g){const x=n.content?.dataset.side,b=x==="right",v=b?-5:5,w=g[b?"left":"right"],N=g[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+v,y:p.clientY},{x:w,y:g.top},{x:N,y:g.top},{x:N,y:g.bottom},{x:w,y:g.bottom}],side:x}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:De(e.onKeyDown,p=>{const g=s.searchRef.current!=="";e.disabled||g&&p.key===" "||gDe[r.dir].includes(p.key)&&(n.onOpenChange(!0),n.content?.focus(),p.preventDefault())})})})});zZ.displayName=km;var WZ="MenuSubContent",qZ=j.forwardRef((e,t)=>{const n=PZ(La,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=gd(La,e.__scopeMenu),o=qv(La,e.__scopeMenu),l=BZ(WZ,e.__scopeMenu),c=j.useRef(null),u=vt(t,c);return a.jsx(tv.Provider,{scope:e.__scopeMenu,children:a.jsx(Di,{present:r||s.open,children:a.jsx(tv.Slot,{scope:e.__scopeMenu,children:a.jsx(xM,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{o.isUsingKeyboardRef.current&&c.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:De(e.onFocusOutside,h=>{h.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:De(e.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:De(e.onKeyDown,h=>{const p=h.currentTarget.contains(h.target),g=vDe[o.dir].includes(h.key);p&&g&&(s.onOpenChange(!1),l.trigger?.focus(),h.preventDefault())})})})})})});qZ.displayName=WZ;function UZ(e){return e?"open":"closed"}function Kb(e){return e==="indeterminate"}function _M(e){return Kb(e)?"indeterminate":e?"checked":"unchecked"}function LDe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function FDe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function $De(e,t,n){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let o=FDe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==n?c:void 0}function BDe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,h=l.y,p=c.x,g=c.y;h>r!=g>r&&n<(p-u)*(r-h)/(g-h)+u&&(i=!i)}return i}function zDe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return BDe(n,t)}function nv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var WDe=NZ,qDe=gM,UDe=AZ,VDe=kZ,HDe=bM,KDe=CZ,GDe=M1,YDe=EZ,ZDe=MZ,XDe=IZ,QDe=LZ,JDe=FZ,eLe=$Z,tLe=zZ,nLe=qZ,R1="DropdownMenu",[rLe]=yr(R1,[jZ]),_i=jZ(),[iLe,VZ]=rLe(R1),HZ=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=_i(t),u=j.useRef(null),[h,p]=la({prop:i,defaultProp:s??!1,onChange:o,caller:R1});return a.jsx(iLe,{scope:t,triggerId:Ia(),triggerRef:u,contentId:Ia(),open:h,onOpenChange:p,onOpenToggle:j.useCallback(()=>p(g=>!g),[p]),modal:l,children:a.jsx(WDe,{...c,open:h,onOpenChange:p,dir:r,modal:l,children:n})})};HZ.displayName=R1;var KZ="DropdownMenuTrigger",GZ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=VZ(KZ,n),o=_i(n);return a.jsx(qDe,{asChild:!0,...o,children:a.jsx(We.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ew(t,s.triggerRef),onPointerDown:De(e.onPointerDown,l=>{!r&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:De(e.onKeyDown,l=>{r||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});GZ.displayName=KZ;var aLe="DropdownMenuPortal",YZ=e=>{const{__scopeDropdownMenu:t,...n}=e,r=_i(t);return a.jsx(UDe,{...r,...n})};YZ.displayName=aLe;var ZZ="DropdownMenuContent",XZ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=VZ(ZZ,n),s=_i(n),o=j.useRef(!1);return a.jsx(VDe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:De(e.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:De(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,h=c.button===2||u;(!i.modal||h)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XZ.displayName=ZZ;var sLe="DropdownMenuGroup",oLe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(HDe,{...i,...r,ref:t})});oLe.displayName=sLe;var lLe="DropdownMenuLabel",QZ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(KDe,{...i,...r,ref:t})});QZ.displayName=lLe;var cLe="DropdownMenuItem",JZ=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(GDe,{...i,...r,ref:t})});JZ.displayName=cLe;var uLe="DropdownMenuCheckboxItem",eX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(YDe,{...i,...r,ref:t})});eX.displayName=uLe;var dLe="DropdownMenuRadioGroup",fLe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(ZDe,{...i,...r,ref:t})});fLe.displayName=dLe;var hLe="DropdownMenuRadioItem",tX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(XDe,{...i,...r,ref:t})});tX.displayName=hLe;var pLe="DropdownMenuItemIndicator",nX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(QDe,{...i,...r,ref:t})});nX.displayName=pLe;var mLe="DropdownMenuSeparator",rX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(JDe,{...i,...r,ref:t})});rX.displayName=mLe;var gLe="DropdownMenuArrow",vLe=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(eLe,{...i,...r,ref:t})});vLe.displayName=gLe;var yLe="DropdownMenuSubTrigger",iX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(tLe,{...i,...r,ref:t})});iX.displayName=yLe;var xLe="DropdownMenuSubContent",aX=j.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=_i(n);return a.jsx(nLe,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aX.displayName=xLe;var bLe=HZ,wLe=GZ,_Le=YZ,sX=XZ,oX=QZ,lX=JZ,cX=eX,uX=tX,dX=nX,fX=rX,hX=iX,pX=aX;const jLe=bLe,SLe=wLe,NLe=j.forwardRef(({className:e,inset:t,children:n,...r},i)=>a.jsxs(hX,{ref:i,className:re("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,a.jsx(rw,{className:"ml-auto h-4 w-4"})]}));NLe.displayName=hX.displayName;const PLe=j.forwardRef(({className:e,...t},n)=>a.jsx(pX,{ref:n,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));PLe.displayName=pX.displayName;const mX=j.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(_Le,{children:a.jsx(sX,{ref:r,sideOffset:t,className:re("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));mX.displayName=sX.displayName;const u0=j.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(lX,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));u0.displayName=lX.displayName;const ALe=j.forwardRef(({className:e,children:t,checked:n,...r},i)=>a.jsxs(cX,{ref:i,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dX,{children:a.jsx(lv,{className:"h-4 w-4"})})}),t]}));ALe.displayName=cX.displayName;const kLe=j.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(uX,{ref:r,className:re("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(dX,{children:a.jsx(_W,{className:"h-2 w-2 fill-current"})})}),t]}));kLe.displayName=uX.displayName;const CLe=j.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(oX,{ref:r,className:re("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));CLe.displayName=oX.displayName;const TLe=j.forwardRef(({className:e,...t},n)=>a.jsx(fX,{ref:n,className:re("-mx-1 my-1 h-px bg-muted",e),...t}));TLe.displayName=fX.displayName;function g8(e){const t=`${Ne(new Date(e.weekStart),"MMM d")} - ${Ne(new Date(e.weekEnd),"MMM d, yyyy")}`,n=[];if(n.push(` Weekly Training Summary - ${t}`),n.push(""),n.push(` Completed: ${e.completedSessions} / ${e.plannedSessions} sessions`),n.push(` Total Load: ${e.totalLoad} TSS`),n.push(""),e.insight&&(n.push(" Weekly Insight:"),n.push(e.insight),n.push("")),e.trainingLoad&&e.trainingLoad.length>0){const r=e.trainingLoad[e.trainingLoad.length-1];n.push(" Training Metrics:"),n.push(`   Fitness (CTL): ${r.ctl.toFixed(0)}`),n.push(`   Fatigue (ATL): ${r.atl.toFixed(0)}`),n.push(`   Form (TSB): ${r.tsb>0?"+":""}${r.tsb.toFixed(0)}`),n.push("")}return n.push("Generated by AthleteSpace"),n.join(`
`)}function ELe(e){const t=`${Ne(new Date(e.weekStart),"MMM d")} - ${Ne(new Date(e.weekEnd),"MMM d, yyyy")}`,n=[];if(n.push("# Weekly Training Summary"),n.push(`**${t}**`),n.push(""),n.push("## Overview"),n.push(`-  Completed: **${e.completedSessions}** / ${e.plannedSessions} sessions`),n.push(`-  Total Load: **${e.totalLoad} TSS**`),n.push(""),e.insight&&(n.push("##  Weekly Insight"),n.push(e.insight),n.push("")),e.trainingLoad&&e.trainingLoad.length>0){const r=e.trainingLoad[e.trainingLoad.length-1];n.push("##  Training Metrics"),n.push(`- **Fitness (CTL):** ${r.ctl.toFixed(0)}`),n.push(`- **Fatigue (ATL):** ${r.atl.toFixed(0)}`),n.push(`- **Form (TSB):** ${r.tsb>0?"+":""}${r.tsb.toFixed(0)}`),n.push("")}return n.push("---"),n.push("*Generated by AthleteSpace*"),n.join(`
`)}async function v8(e){try{return await navigator.clipboard.writeText(e),!0}catch(t){return console.error("Failed to copy to clipboard:",t),!1}}function OLe(e,t,n="text/plain"){const r=new Blob([e],{type:n}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}async function MLe(e,t,n){if(!navigator.share)return!1;try{return await navigator.share({title:e,text:t,url:n||window.location.href}),!0}catch(r){return r.name!=="AbortError"&&console.error("Failed to share:",r),!1}}function RLe({currentDate:e,onActivityClick:t}){const[n,r]=j.useState(null),[i,s]=j.useState(!1),o=Gn(e,{weekStartsOn:1}),l=Zu(e,{weekStartsOn:1}),c=n2(e),u=Ne(c,"yyyy-MM"),h=Ne(o,"yyyy-MM-dd"),p=Ne(l,"yyyy-MM-dd"),{data:g,isLoading:x}=Mt({queryKey:["calendar","month",u],queryFn:()=>uZ(e),retry:1}),{data:b}=Ir({queryKey:["overview",14],queryFn:()=>bv(14),retry:1,staleTime:0}),v=j.useMemo(()=>{if(!g)return new Map;const F=dZ(g),W=new Map;for(const $ of F){if($.date<h||$.date>p)continue;const z=[];for(const V of $.plannedSessions)z.push(fC(V,g.completed_activities||[]));for(const V of $.workouts)z.some(U=>U.id===V.id)||z.push(fC(V,g.completed_activities||[]));W.set($.date,z)}return W},[g,h,p]),w=j.useMemo(()=>{if(!g)return{};const F={};for(const W of[...g.planned_sessions,...g.workouts])W.completed_activity_id&&(F[W.id]=W.completed_activity_id);for(const W of g.completed_activities||[])W.planned_session_id&&(F[W.planned_session_id]=W.id);return F},[g]),N=j.useMemo(()=>{let F=0,W=0,$=0,z=0;return v.forEach(V=>{for(const U of V)F+=U.durationMin,W+=U.load||0,U.kind==="completed"?$++:z++}),{totalDuration:F,totalLoad:W,completedSessions:$,plannedSessions:z}},[v]),S=j.useMemo(()=>{if(!b?.metrics)return null;const F=Array.isArray(b.metrics.ctl)?b.metrics.ctl:[],W=Array.isArray(b.metrics.tsb)?b.metrics.tsb:[];if(F.length<7)return null;const $=W[W.length-1],z=Array.isArray($)?$[1]:0;let V="",U="text-muted-foreground";return z>15?(V="You're well-rested and ready for hard training.",U="text-emerald-600 dark:text-emerald-400"):z>0?(V="You're in good form with balanced recovery.",U="text-blue-600 dark:text-blue-400"):z>-15?(V="You're productively fatigued from training.",U="text-muted-foreground"):z>-25?(V="Consider recovery - significant fatigue accumulated.",U="text-amber-600 dark:text-amber-400"):(V="Prioritize recovery this week.",U="text-red-600 dark:text-red-400"),{insight:V,color:U}},[b]),A=j.useMemo(()=>t2({start:o,end:l}),[o,l]),T=F=>{const W=Ne(F,"yyyy-MM-dd"),$=v.get(W);return!$||$.length===0?[]:kge($)},C=F=>{if(g&&t){const W=[...g.planned_sessions,...g.workouts].find(z=>z.id===F.id),$=g.completed_activities.find(z=>z.id===F.id||z.planned_session_id===F.id);t(W?{id:W.id,date:W.date||"",sport:Ah(W.type),intent:hZ(W.intensity),title:ud(W.title||""),description:W.notes||"",duration:W.duration_minutes||0,completed:W.status==="completed"}:null,$||null,W)}},E=async()=>{s(!0);const F={weekStart:h,weekEnd:p,plannedSessions:N.plannedSessions,completedSessions:N.completedSessions,totalLoad:N.totalLoad,insight:S?.insight||""},W=g8(F);await MLe("Weekly Training Summary",W)||await v8(W)&&Le({title:"Copied to clipboard"}),s(!1)},O=async()=>{const F={weekStart:h,weekEnd:p,plannedSessions:N.plannedSessions,completedSessions:N.completedSessions,totalLoad:N.totalLoad,insight:S?.insight||""},W=g8(F);await v8(W)&&Le({title:"Copied to clipboard"})},I=()=>{const F={weekStart:h,weekEnd:p,plannedSessions:N.plannedSessions,completedSessions:N.completedSessions,totalLoad:N.totalLoad,insight:S?.insight||""},W=ELe(F),$=`weekly-summary-${h}.md`;OLe(W,$,"text/markdown"),Le({title:"Downloaded"})};if(n){const F=Ne(n,"yyyy-MM-dd"),W=v.get(F)||[];return a.jsx(hDe,{date:n,items:W,onBack:()=>r(null),onItemClick:C})}return x?a.jsxs(Ot,{className:"flex items-center justify-center py-12",children:[a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground mr-2"}),a.jsx("span",{className:"text-muted-foreground",children:"Loading week..."})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx(Ot,{className:"p-4",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[a.jsxs("div",{className:"flex items-center gap-6 sm:gap-8",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-primary/10",children:a.jsx(ps,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:N.totalDuration}),a.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"minutes"})]})]}),N.totalLoad>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-10 bg-border hidden sm:block"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-amber-500/10",children:a.jsx(Jm,{className:"h-5 w-5 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:Math.round(N.totalLoad)}),a.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"TSS"})]})]})]}),a.jsx("div",{className:"w-px h-10 bg-border hidden sm:block"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-lg bg-green-500/10",children:a.jsx(Ac,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-semibold text-foreground",children:[N.completedSessions,"/",N.completedSessions+N.plannedSessions]}),a.jsx("p",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:"completed"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[S&&a.jsxs("div",{className:"flex items-center gap-2 max-w-xs",children:[a.jsx(Jte,{className:re("h-4 w-4 flex-shrink-0",S.color)}),a.jsx("p",{className:re("text-sm",S.color),children:S.insight})]}),a.jsxs(jLe,{children:[a.jsx(SLe,{asChild:!0,children:a.jsxs(Se,{variant:"outline",size:"sm",disabled:i,children:[a.jsx(Pk,{className:"h-4 w-4 mr-1.5"}),"Share"]})}),a.jsxs(mX,{align:"end",children:[a.jsxs(u0,{onClick:E,children:[a.jsx(Pk,{className:"h-4 w-4 mr-2"}),"Share"]}),a.jsxs(u0,{onClick:O,children:[a.jsx(Ote,{className:"h-4 w-4 mr-2"}),"Copy"]}),a.jsxs(u0,{onClick:I,children:[a.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Download"]})]})]})]})]})}),a.jsx("div",{className:"grid grid-cols-7 gap-3",children:A.map((F,W)=>{const $=T(F),z=Wo(F),U=(v.get(Ne(F,"yyyy-MM-dd"))||[]).reduce((te,Q)=>te+Q.durationMin,0);return a.jsxs(Ot,{className:re("overflow-hidden min-h-[340px] flex flex-col",z&&"ring-2 ring-primary/50"),children:[a.jsx("div",{className:re("px-3 py-2 border-b border-border cursor-pointer hover:bg-muted/30 transition-colors",z&&"bg-primary/5"),onClick:()=>r(F),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider",children:Ne(F,"EEE")}),a.jsx("p",{className:re("text-lg font-semibold",z?"text-primary":"text-foreground"),children:Ne(F,"d")})]}),U>0&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:[U,"m"]})]})}),a.jsx("div",{className:"flex-1 relative",children:$.length===0?a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("p",{className:"text-xs text-muted-foreground/50",children:"Rest day"})}):a.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0",children:a.jsx(wZ,{items:$.flatMap(te=>te.items),variant:"week",onClick:C,maxVisible:3,activityIdBySessionId:w,useNewCard:!0})})})]},W)})})]})}const ILe=(e,t,n)=>Math.max(t,Math.min(n,e)),an={bg:"#0b1220",bgAlt:"#020617",grid:"rgba(148, 163, 184, 0.06)",border:"rgba(148, 163, 184, 0.12)",text:"#f8fafc",textMuted:"#64748b",textSecondary:"#94a3b8",accent:"#38bdf8",accentDim:"#0ea5e9",success:"#22c55e",warning:"#f59e0b"};function DLe({weekLabel:e,dateRange:t,totalTss:n,loadRatio:r,completedPct:i,workoutsDone:s,workoutsPlanned:o,ctl:l,isCurrent:c}){const h=`week-summary-${j.useId().replace(/:/g,"")}`,p=Math.round(ILe(r,0,1)*240),[g,x]=j.useState(!1);j.useEffect(()=>{const w=setTimeout(()=>x(!0),50);return()=>clearTimeout(w)},[]);const b=i>=100?an.success:i===0?an.warning:an.accent,v=20;return a.jsxs("svg",{width:"300",height:"160",viewBox:"0 0 300 160",xmlns:"http://www.w3.org/2000/svg",style:{fontFamily:"SF Mono, Monaco, Consolas, monospace"},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:`${h}-bg`,x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:an.bg}),a.jsx("stop",{offset:"100%",stopColor:an.bgAlt})]}),a.jsxs("linearGradient",{id:`${h}-load`,x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:an.accentDim,stopOpacity:"0.8"}),a.jsx("stop",{offset:"100%",stopColor:an.accent,stopOpacity:"0.6"})]}),a.jsx("pattern",{id:`${h}-grid`,width:v,height:v,patternUnits:"userSpaceOnUse",children:a.jsx("path",{d:`M ${v} 0 L 0 0 0 ${v}`,fill:"none",stroke:an.grid,strokeWidth:"0.5"})}),a.jsxs("filter",{id:`${h}-glow`,x:"-20%",y:"-20%",width:"140%",height:"140%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("rect",{x:"0",y:"0",width:"300",height:"160",rx:"8",fill:`url(#${h}-bg)`}),a.jsx("rect",{x:"0",y:"0",width:"300",height:"160",rx:"8",fill:`url(#${h}-grid)`}),a.jsx("rect",{x:"0.5",y:"0.5",width:"299",height:"159",rx:"7.5",fill:"none",stroke:c?an.accent:an.border,strokeWidth:c?1.5:.5,strokeOpacity:c?.6:1}),a.jsx("text",{x:"16",y:"22",fontSize:"9",letterSpacing:"0.12em",fill:an.textSecondary,textAnchor:"start",style:{textTransform:"uppercase"},children:e.toUpperCase()}),a.jsx("text",{x:"16",y:"40",fontSize:"13",fontWeight:"500",letterSpacing:"-0.01em",fill:an.text,children:t}),c&&a.jsxs("g",{transform:"translate(220 12)",filter:`url(#${h}-glow)`,children:[a.jsx("rect",{width:"64",height:"18",rx:"2",fill:an.accent,opacity:"0.12"}),a.jsx("rect",{width:"64",height:"18",rx:"2",fill:"none",stroke:an.accent,strokeWidth:"0.5",strokeOpacity:"0.4"}),a.jsx("text",{x:"32",y:"12",textAnchor:"middle",fontSize:"8",letterSpacing:"0.1em",fill:an.accent,children:"CURRENT"})]}),a.jsx("line",{x1:"16",y1:"52",x2:"284",y2:"52",stroke:an.border,strokeWidth:"0.5"}),a.jsx("text",{x:"16",y:"68",fontSize:"8",letterSpacing:"0.1em",fill:an.textMuted,children:"LOAD"}),a.jsxs("text",{x:"284",y:"68",fontSize:"9",fill:an.textSecondary,textAnchor:"end",fontWeight:"500",children:[n,a.jsx("tspan",{fontSize:"7",fill:an.textMuted,children:" TSS"})]}),a.jsx("rect",{x:"16",y:"74",width:"240",height:"4",rx:"1",fill:an.border}),a.jsx("rect",{x:"16",y:"74",width:g?p:0,height:"4",rx:"1",fill:`url(#${h}-load)`,style:{transition:"width 0.6s ease-out"}}),a.jsxs("g",{transform:"translate(16 94)",children:[a.jsxs("g",{children:[a.jsxs("text",{fontSize:"18",fontWeight:"600",fill:an.text,y:"14",children:[s,a.jsxs("tspan",{fontSize:"11",fontWeight:"400",fill:an.textMuted,children:["/",o]})]}),a.jsx("text",{y:"28",fontSize:"7",letterSpacing:"0.1em",fill:an.textMuted,children:"SESSIONS"})]}),a.jsxs("g",{transform:"translate(100 0)",children:[a.jsxs("text",{fontSize:"18",fontWeight:"600",fill:b,y:"14",children:[i,a.jsx("tspan",{fontSize:"10",fontWeight:"400",children:"%"})]}),a.jsx("text",{y:"28",fontSize:"7",letterSpacing:"0.1em",fill:an.textMuted,children:"COMPLETE"})]}),a.jsxs("g",{transform:"translate(190 0)",children:[a.jsx("text",{fontSize:"18",fontWeight:"600",fill:an.text,y:"14",children:l}),a.jsx("text",{y:"28",fontSize:"7",letterSpacing:"0.1em",fill:an.textMuted,children:"CTL"})]})]}),a.jsx("g",{transform:"translate(16 148)",children:a.jsx("path",{d:`M 0 0 ${Array.from({length:20},(w,N)=>{const S=N*13.5,A=Math.sin(N*.8+s)*3;return`L ${S} ${A}`}).join(" ")}`,fill:"none",stroke:an.accent,strokeWidth:"0.75",strokeOpacity:"0.3",strokeLinecap:"round"})})]})}const LLe=(e,t,n)=>Math.max(t,Math.min(n,e));function FLe({weekLabel:e,dateRange:t,totalTss:n,maxTss:r,completedPct:i,workoutsDone:s,workoutsPlanned:o,ctl:l,isCurrent:c}){const u=n===0,h=u?0:LLe(n/Math.max(r,1),0,1);return a.jsx(DLe,{weekLabel:e,dateRange:t,totalTss:u?0:n,loadRatio:h,completedPct:u?0:i,workoutsDone:s,workoutsPlanned:o,ctl:u?0:l,isCurrent:u?!1:c})}function $Le({currentDate:e}){const{status:t}=gn(),n=j.useMemo(()=>{const T=new Date(e);T.setMonth(Math.floor(e.getMonth()/3)*3),T.setDate(1);const C=new Date(T);return C.setMonth(C.getMonth()+3),C.setDate(0),xle({start:T,end:C},{weekStartsOn:1})},[e]),{data:r,isLoading:i}=Mt({queryKey:["calendarSeason"],queryFn:()=>Nw(),retry:1}),s=j.useMemo(()=>{const T=new Date,C=(e.getFullYear()-T.getFullYear())*12+(e.getMonth()-T.getMonth());return Math.max(0,C+3)},[e]),o=j.useMemo(()=>{const T=[];T.push({queryKey:["activities","limit",100,"offset",0],queryFn:()=>xi({limit:100,offset:0})});const C=Math.ceil(s/3);for(let E=1;E<=C&&E<=10;E++)T.push({queryKey:["activities","limit",100,"offset",E*100],queryFn:()=>xi({limit:100,offset:E*100})});return T},[s]),l=Aae({queries:o.map(T=>({...T,retry:1,staleTime:300*1e3,gcTime:1800*1e3,enabled:t==="authenticated"}))}),c=j.useMemo(()=>{const T=[],C=new Set;for(const E of l)if(E.data&&Array.isArray(E.data))for(const O of E.data)O&&O.id&&!C.has(O.id)&&(C.add(O.id),T.push(O));return T.sort((E,O)=>!E.date||!O.date?0:O.date.localeCompare(E.date))},[l]),u=l.some(T=>T.isLoading),{data:h,isLoading:p}=Ir({queryKey:["overview",90],queryFn:()=>(console.log("[SeasonView] Fetching overview for 90 days"),bv(90)),retry:1,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,gcTime:300*1e3,enabled:t==="authenticated"}),{data:g}=Ir({queryKey:["intelligence","season"],queryFn:()=>age(),retry:1,staleTime:1800*1e3,gcTime:3600*1e3,enabled:t==="authenticated"}),x=i||u||p;r&&(console.log("[SeasonView] Season data received:",r),console.log("[SeasonView] Sessions count:",r.sessions?.length||0)),c&&console.log("[SeasonView] Activities count:",c.length);const b=T=>{const C=Zu(T,{weekStartsOn:1}),E=Ne(T,"yyyy-MM-dd"),O=Ne(C,"yyyy-MM-dd"),I=Array.isArray(r?.sessions)?r.sessions:[],F=I.filter(H=>{if(!H||typeof H!="object")return!1;const ne=H.date?Ne(new Date(H.date),"yyyy-MM-dd"):"";return ne>=E&&ne<=O&&H.status!=="completed"&&H.status!=="cancelled"&&H.status!=="skipped"}),W=I.filter(H=>{if(!H||typeof H!="object")return!1;const ne=H.date?Ne(new Date(H.date),"yyyy-MM-dd"):"";return ne>=E&&ne<=O&&H.status==="completed"}),z=(Array.isArray(c)?c:[]).filter(H=>{if(!H||typeof H!="object"||!H.date)return!1;const ne=H.date;return ne>=E&&ne<=O}),V=new Set(W.map(H=>{if(!H||!H.date||!H.type)return null;const ne=H.date?Ne(new Date(H.date),"yyyy-MM-dd"):"",se=Ah(H.type);return`${ne}-${se}`}).filter(Boolean)),U=z.filter(H=>{if(!H||!H.date||!H.sport)return!1;const ne=H.date,se=Ah(H.sport),de=`${ne}-${se}`;return!V.has(de)}),te=new Set,Q=U.filter(H=>!H||!H.id||te.has(H.id)?!1:(te.add(H.id),!0)),G=(Array.isArray(h?.metrics?.ctl)?h.metrics.ctl:[]).filter(H=>{if(!Array.isArray(H)||H.length<1)return!1;const[ne]=H;return ne&&ne>=E&&ne<=O}),ee=G.length>0?G.reduce((H,[,ne])=>H+ne,0)/G.length:0,X=z.reduce((H,ne)=>!ne||typeof ne!="object"?H:H+(typeof ne.trainingLoad=="number"?ne.trainingLoad:0),0),q=W.length+Q.length;return{planned:F.length,completed:q,totalLoad:Math.round(X),avgCtl:Math.round(ee),completionRate:F.length>0?Math.round(q/F.length*100):0}};if(x)return a.jsxs(Ot,{className:"flex items-center justify-center py-12",children:[a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground mr-2"}),a.jsx("span",{className:"text-muted-foreground",children:"Loading season..."})]});const v=Math.max(...n.map(T=>b(T).totalLoad),1),w=T=>g?.phases?g.phases.find(C=>T>=C.week_start&&T<=C.week_end):null,N=T=>g?.race_markers?g.race_markers.filter(C=>C.week===T):[],S={race:WI,milestone:Xm,recovery:qu},A={race:"bg-red-500/20 text-red-600 dark:text-red-400 border-red-500/30",milestone:"bg-blue-500/20 text-blue-600 dark:text-blue-400 border-blue-500/30",recovery:"bg-green-500/20 text-green-600 dark:text-green-400 border-green-500/30"};return a.jsxs("div",{className:"space-y-4",children:[g&&a.jsx(Ot,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[g.explanation&&a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:g.explanation}),g.phases&&g.phases.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2",children:g.phases.map((T,C)=>a.jsxs(ln,{variant:"outline",className:"text-xs uppercase tracking-wider",children:[T.label," W",T.week_start,"-",T.week_end]},C))})]})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-xs text-muted-foreground uppercase tracking-wider",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-sm bg-accent/60"}),a.jsx("span",{children:"Load"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-sm bg-load-fresh/60"}),a.jsx("span",{children:"Done"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"w-2 h-2 rounded-sm bg-muted/60"}),a.jsx("span",{children:"Plan"})]}),g?.race_markers&&g.race_markers.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-muted-foreground/20",children:"|"}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(WI,{className:"w-2.5 h-2.5 text-destructive/60"}),a.jsx("span",{children:"Race"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(Xm,{className:"w-2.5 h-2.5 text-accent/60"}),a.jsx("span",{children:"Goal"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx(qu,{className:"w-2.5 h-2.5 text-load-fresh/60"}),a.jsx("span",{children:"Recovery"})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:n.map(T=>{const C=b(T),E=Zu(T,{weekStartsOn:1}),O=jU(new Date,{start:T,end:E}),I=wU(T),F=w(I),W=N(I),$=`${Ne(T,"MMM d")}  ${Ne(E,"MMM d")}`;return a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(FLe,{weekLabel:`Week ${I}`,dateRange:$,totalTss:C.totalLoad,maxTss:v,completedPct:C.completionRate,workoutsDone:C.completed,workoutsPlanned:C.planned,ctl:C.avgCtl,isCurrent:O}),(F||W.length>0)&&a.jsxs("div",{className:"flex flex-wrap gap-1 text-[9px]",children:[F&&a.jsx(ln,{variant:"outline",className:"text-[8px] uppercase tracking-wider px-1 py-0",children:F.label}),W.map((z,V)=>{const U=S[z.type];return a.jsxs(ln,{variant:"outline",className:re("text-[8px] uppercase tracking-wider px-1 py-0",A[z.type]),children:[a.jsx(U,{className:"h-2 w-2 mr-0.5"}),z.label]},V)})]})]},T.toString())})})]})}var I1="Dialog",[gX,vX]=yr(I1),[BLe,ks]=gX(I1),yX=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=j.useRef(null),c=j.useRef(null),[u,h]=la({prop:r,defaultProp:i??!1,onChange:s,caller:I1});return a.jsx(BLe,{scope:t,triggerRef:l,contentRef:c,contentId:Ia(),titleId:Ia(),descriptionId:Ia(),open:u,onOpenChange:h,onOpenToggle:j.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};yX.displayName=I1;var xX="DialogTrigger",bX=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(xX,n),s=vt(t,i.triggerRef);return a.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":NM(i.open),...r,ref:s,onClick:De(e.onClick,i.onOpenToggle)})});bX.displayName=xX;var jM="DialogPortal",[zLe,wX]=gX(jM,{forceMount:void 0}),_X=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=ks(jM,t);return a.jsx(zLe,{scope:t,forceMount:n,children:j.Children.map(r,o=>a.jsx(Di,{present:n||s.open,children:a.jsx(av,{asChild:!0,container:i,children:o})}))})};_X.displayName=jM;var Gb="DialogOverlay",jX=j.forwardRef((e,t)=>{const n=wX(Gb,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ks(Gb,e.__scopeDialog);return s.modal?a.jsx(Di,{present:r||s.open,children:a.jsx(qLe,{...i,ref:t})}):null});jX.displayName=Gb;var WLe=zu("DialogOverlay.RemoveScroll"),qLe=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(Gb,n);return a.jsx(w1,{as:WLe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(We.div,{"data-state":NM(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ad="DialogContent",SX=j.forwardRef((e,t)=>{const n=wX(ad,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=ks(ad,e.__scopeDialog);return a.jsx(Di,{present:r||s.open,children:s.modal?a.jsx(ULe,{...i,ref:t}):a.jsx(VLe,{...i,ref:t})})});SX.displayName=ad;var ULe=j.forwardRef((e,t)=>{const n=ks(ad,e.__scopeDialog),r=j.useRef(null),i=vt(t,n.contentRef,r);return j.useEffect(()=>{const s=r.current;if(s)return nM(s)},[]),a.jsx(NX,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:De(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:De(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:De(e.onFocusOutside,s=>s.preventDefault())})}),VLe=j.forwardRef((e,t)=>{const n=ks(ad,e.__scopeDialog),r=j.useRef(!1),i=j.useRef(!1);return a.jsx(NX,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;n.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),NX=j.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=ks(ad,n),c=j.useRef(null),u=vt(t,c);return tM(),a.jsxs(a.Fragment,{children:[a.jsx(x1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Ch,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":NM(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(KLe,{titleId:l.titleId}),a.jsx(YLe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),SM="DialogTitle",PX=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(SM,n);return a.jsx(We.h2,{id:i.titleId,...r,ref:t})});PX.displayName=SM;var AX="DialogDescription",kX=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(AX,n);return a.jsx(We.p,{id:i.descriptionId,...r,ref:t})});kX.displayName=AX;var CX="DialogClose",TX=j.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=ks(CX,n);return a.jsx(We.button,{type:"button",...r,ref:t,onClick:De(e.onClick,()=>i.onOpenChange(!1))})});TX.displayName=CX;function NM(e){return e?"open":"closed"}var EX="DialogTitleWarning",[HLe,OX]=Mee(EX,{contentName:ad,titleName:SM,docsSlug:"dialog"}),KLe=({titleId:e})=>{const t=OX(EX),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return j.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},GLe="DialogDescriptionWarning",YLe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${OX(GLe).contentName}}.`;return j.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PM=yX,ZLe=bX,AM=_X,Uv=jX,Vv=SX,Hv=PX,Kv=kX,D1=TX;const XLe=PM,QLe=AM,MX=j.forwardRef(({className:e,...t},n)=>a.jsx(Uv,{className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));MX.displayName=Uv.displayName;const JLe=Th("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),RX=j.forwardRef(({side:e="right",className:t,children:n,...r},i)=>a.jsxs(QLe,{children:[a.jsx(MX,{}),a.jsxs(Vv,{ref:i,className:re(JLe({side:e}),t),...r,children:[n,a.jsxs(D1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ss,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));RX.displayName=Vv.displayName;const IX=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});IX.displayName="SheetHeader";const DX=j.forwardRef(({className:e,...t},n)=>a.jsx(Hv,{ref:n,className:re("text-lg font-semibold text-foreground",e),...t}));DX.displayName=Hv.displayName;const e5e=j.forwardRef(({className:e,...t},n)=>a.jsx(Kv,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));e5e.displayName=Kv.displayName;const y8={default:["Looking at your calendar, your training distribution looks balanced.","Based on your schedule, you have good recovery between hard sessions.","Your weekly structure supports progressive overload while managing fatigue."],workout:["This session targets your aerobic system. Keep the effort conversational.","The intent here is quality over quantity. Execute with precision.","Recovery between intervals is just as important as the work itself."]};function t5e({open:e,onOpenChange:t,context:n}){const[r,i]=j.useState(""),[s,o]=j.useState([{role:"coach",content:n?"I see you're looking at your schedule. What would you like to know?":"How can I help with your training calendar?"}]),[l,c]=j.useState(!1),u=()=>{r.trim()&&(o(h=>[...h,{role:"athlete",content:r}]),i(""),c(!0),setTimeout(()=>{const h=n?y8.workout:y8.default;o(p=>[...p,{role:"coach",content:h[Math.floor(Math.random()*h.length)]}]),c(!1)},800))};return a.jsx(XLe,{open:e,onOpenChange:t,children:a.jsxs(RX,{className:"w-full sm:max-w-md flex flex-col",children:[a.jsx(IX,{children:a.jsxs(DX,{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"h-5 w-5 text-accent"}),"Ask Coach"]})}),n&&a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 px-3 py-2 rounded-md",children:["Discussing: ",n]}),a.jsxs("div",{className:"flex-1 overflow-y-auto py-4 space-y-3",children:[s.map((h,p)=>a.jsxs("div",{className:re("flex gap-2",h.role==="athlete"&&"flex-row-reverse"),children:[a.jsx("div",{className:re("w-7 h-7 rounded-full flex items-center justify-center shrink-0",h.role==="coach"?"bg-accent text-accent-foreground":"bg-muted text-muted-foreground"),children:h.role==="coach"?a.jsx(uc,{className:"h-3.5 w-3.5"}):a.jsx(Uu,{className:"h-3.5 w-3.5"})}),a.jsx("div",{className:re("max-w-[80%] rounded-lg px-3 py-2 text-sm",h.role==="coach"?"bg-muted text-foreground":"bg-accent text-accent-foreground"),children:h.content})]},p)),l&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"w-7 h-7 rounded-full bg-accent text-accent-foreground flex items-center justify-center",children:a.jsx(uc,{className:"h-3.5 w-3.5"})}),a.jsx("div",{className:"bg-muted rounded-lg px-3 py-2",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-muted-foreground/50 rounded-full animate-pulse-subtle"}),a.jsx("span",{className:"w-1.5 h-1.5 bg-muted-foreground/50 rounded-full animate-pulse-subtle [animation-delay:150ms]"}),a.jsx("span",{className:"w-1.5 h-1.5 bg-muted-foreground/50 rounded-full animate-pulse-subtle [animation-delay:300ms]"})]})})]})]}),a.jsx("div",{className:"border-t border-border pt-4",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{value:r,onChange:h=>i(h.target.value),onKeyDown:h=>h.key==="Enter"&&u(),placeholder:"Ask about your schedule...",className:"text-sm"}),a.jsx(Se,{onClick:u,disabled:!r.trim()||l,size:"icon",className:"shrink-0",children:a.jsx(dv,{className:"h-4 w-4"})})]})})]})})}const vd=PM,n5e=AM,LX=j.forwardRef(({className:e,...t},n)=>a.jsx(Uv,{ref:n,className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));LX.displayName=Uv.displayName;const Fc=j.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(n5e,{children:[a.jsx(LX,{}),a.jsxs(Vv,{ref:r,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(D1,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Ss,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Fc.displayName=Vv.displayName;const yd=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});yd.displayName="DialogHeader";const sp=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});sp.displayName="DialogFooter";const $c=j.forwardRef(({className:e,...t},n)=>a.jsx(Hv,{ref:n,className:re("text-lg font-semibold leading-none tracking-tight",e),...t}));$c.displayName=Hv.displayName;const xd=j.forwardRef(({className:e,...t},n)=>a.jsx(Kv,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));xd.displayName=Kv.displayName;async function FX(e){return console.log("[API] Fetching structured workout:",e),await nt.get(`/workouts/${e}/structured`)}async function r5e(e,t){return console.log("[API] Updating workout steps:",e,t.length),await nt.put(`/workouts/${e}/steps`,{steps:t})}function i5e({open:e,onOpenChange:t,proposal:n,onConfirm:r,onCancel:i,isLoading:s=!1}){const[o,l]=j.useState(!1),c=async()=>{l(!0);try{await r(),t(!1)}catch(x){console.error("Confirmation failed:",x)}finally{l(!1)}},u=()=>{i?.(),t(!1)},h=n.action==="create"?"create":n.action==="modify"?"modify":"delete",p=n.resource_type==="session"?"session":n.resource_type==="week"?"week":"season",g=()=>n.diff?n.diff.changes&&Array.isArray(n.diff.changes)?a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-semibold",children:"Changes:"}),a.jsx("div",{className:"space-y-1 max-h-[200px] overflow-y-auto rounded-md border p-3 bg-muted/50",children:n.diff.changes.map((x,b)=>a.jsxs("div",{className:"text-sm",children:[a.jsxs("span",{className:"font-medium",children:[x.field,":"]})," ",a.jsx("span",{className:"text-muted-foreground line-through",children:String(x.before??"")})," ",""," ",a.jsx("span",{className:"text-foreground font-medium",children:String(x.after??"")})]},b))})]}):n.diff.before&&n.diff.after?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"rounded-md border p-3 bg-muted/50",children:[a.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Before:"}),a.jsx("pre",{className:"text-xs text-muted-foreground overflow-auto",children:JSON.stringify(n.diff.before,null,2)})]}),a.jsxs("div",{className:"rounded-md border p-3 bg-muted/50",children:[a.jsx("h4",{className:"text-sm font-semibold mb-2",children:"After:"}),a.jsx("pre",{className:"text-xs text-foreground overflow-auto",children:JSON.stringify(n.diff.after,null,2)})]})]}):null:null;return a.jsx(vd,{open:e,onOpenChange:t,children:a.jsx(Fc,{className:"p-0 bg-transparent border-none sm:max-w-[600px]",children:a.jsx(et,{variant:"raised",className:"rounded-2xl",children:a.jsxs("div",{className:"p-6",children:[a.jsxs(yd,{children:[a.jsxs($c,{children:["Confirm ",h.charAt(0).toUpperCase()+h.slice(1)," ",p]}),a.jsx(xd,{children:n.message||`I'm about to ${h} this ${p}. Should I proceed?`})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[n.summary&&a.jsx("div",{className:"rounded-md border p-3 bg-muted/30",children:a.jsx("p",{className:"text-sm text-foreground",children:n.summary})}),g(),a.jsx("div",{className:"rounded-md border-l-4 border-yellow-500 bg-yellow-50 dark:bg-yellow-950/20 p-3",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx("strong",{children:"Note:"})," This is a proposal only  not applied. No changes will be made until you explicitly confirm."]})})]}),a.jsxs(sp,{children:[a.jsx(Se,{variant:"outline",onClick:u,disabled:o||s,children:"Cancel"}),a.jsx(Se,{onClick:c,disabled:o||s,children:o||s?"Confirming...":"Confirm & Proceed"})]})]})})})})}function a5e(e){const t=Math.floor(e/60),n=Math.floor(e%60);return`${t}:${String(n).padStart(2,"0")}`}function s5e(e){return e<=300?30:e<=900?60:e<=1800?120:e<=3600?300:e<=7200?600:900}function ym(e){if(e.length===0)return()=>"";const t=e[e.length-1]?.time||0,n=s5e(t),r=new Set;for(let i=0;i<=t;i+=n)r.add(i);return t>0&&r.add(t),i=>{const s=e.find(u=>u.timeLabel===i);if(!s)return"";const o=s.time,l=Math.round(o/n)*n,c=n*.1;return Math.abs(o-l)<=c||r.has(o)?a5e(l):""}}function o5e(e){if(!e||!Array.isArray(e.time)||e.time.length===0)return[];const t=e.time,n=Array.isArray(e.heartrate)?e.heartrate:void 0,r=Array.isArray(e.pace)?e.pace:void 0,i=Array.isArray(e.power)?e.power:void 0,s=Array.isArray(e.elevation)?e.elevation:void 0,o=Array.isArray(e.cadence)?e.cadence:void 0,l=Math.min(t.length,200),c=Math.max(1,Math.floor(t.length/l)),u=!!n?.length,h=!!r?.length,p=!!i?.length,g=!!s?.length,x=!!o?.length;return t.filter((b,v)=>v%c===0).slice(0,l).map((b,v)=>{const w=v*c,N=Math.round(b),S=`${Math.floor(N/60)}:${String(N%60).padStart(2,"0")}`,A=u?n?.[w]:void 0,T=typeof A=="number"&&Number.isFinite(A)?Math.round(A):void 0;let C;if(h){const z=r?.[w];typeof z=="number"&&Number.isFinite(z)&&z>0&&(C=z)}const E=p?i?.[w]:void 0,O=typeof E=="number"&&Number.isFinite(E)?Math.round(E):void 0,I=g?s?.[w]:void 0,F=typeof I=="number"&&Number.isFinite(I)?I:0,W=x?o?.[w]:void 0,$=typeof W=="number"&&Number.isFinite(W)?Math.round(W):void 0;return{time:N,timeLabel:S,heartRate:T,pace:C||void 0,power:O,elevation:F,cadence:$}})}function $X({activity:e}){const{convertPace:t,convertElevation:n,unitSystem:r}=Ps(),{data:i,isLoading:s,error:o}=Ir({queryKey:["activityStreams",e.id],queryFn:()=>Bh(e.id),retry:2,retryDelay:w=>Math.min(1e3*2**w,5e3),enabled:!!e.id}),l=j.useMemo(()=>o5e(i),[i]),c=l.length>0,u=j.useMemo(()=>l.some(w=>w.heartRate!==void 0&&w.heartRate>0),[l]),h=j.useMemo(()=>l.some(w=>w.pace!==void 0&&w.pace>0),[l]),p=j.useMemo(()=>l.some(w=>w.power!==void 0&&w.power>0),[l]),g=j.useMemo(()=>l.some(w=>w.elevation!==void 0&&w.elevation!==0),[l]),x=j.useMemo(()=>l.some(w=>w.cadence!==void 0&&w.cadence>0),[l]),b=j.useMemo(()=>l.filter(w=>w.pace!==void 0&&w.pace>0).map(w=>{const N=t(w.pace);return{...w,paceDisplay:N.value,paceUnit:N.unit}}),[l,t]),v=j.useMemo(()=>l.map(w=>{const N=n(w.elevation);return{...w,elevationDisplay:N.value,elevationUnit:N.unit}}),[l,n]);if(s)return a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading activity data..."})});if(!c){const w=o instanceof Error?o.message:"",N=w.includes("Server error")||w.includes("Failed to fetch"),S=w.includes("not available")||w.includes("404");return a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("p",{className:"text-sm font-medium",children:"No stream data available"}),N?a.jsx("p",{className:"text-xs mt-2",children:"An error occurred while fetching stream data. Please try refreshing the page."}):S?a.jsx("p",{className:"text-xs mt-2",children:"Stream data is not available for this activity. This may be due to activity type or API limitations."}):a.jsx("p",{className:"text-xs mt-2",children:"Stream data may not be available for this activity"})]})}return a.jsxs("div",{className:"space-y-3",children:[u&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("span",{className:"text-[9px] uppercase tracking-widest text-muted-foreground/50",children:"Heart Rate"}),a.jsx("span",{className:"text-[10px] font-mono text-muted-foreground/40",children:"bpm"})]}),a.jsx("div",{className:"h-32 bg-card/30 rounded border border-border/20 p-1.5",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:l,margin:{top:4,right:4,left:0,bottom:4},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"hrGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-4))",stopOpacity:.15}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-4))",stopOpacity:0})]})}),a.jsx(qo,{strokeDasharray:"2 4",stroke:"hsl(var(--border))",strokeOpacity:.3}),a.jsx(Rr,{dataKey:"timeLabel",tick:{fontSize:9,fill:"hsl(var(--muted-foreground))",opacity:.5},axisLine:{stroke:"hsl(var(--border))",strokeOpacity:.3},tickLine:!1,tickFormatter:ym(l),interval:"preserveStartEnd"}),a.jsx(Pr,{domain:["dataMin - 10","dataMax + 10"],tick:{fontSize:9,fill:"hsl(var(--muted-foreground))",opacity:.5},axisLine:!1,tickLine:!1,width:28}),a.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"4px",fontSize:"10px",padding:"4px 8px"},formatter:w=>[`${w}`,"HR"]}),a.jsx(Xr,{type:"monotone",dataKey:"heartRate",stroke:"hsl(var(--chart-4))",fill:"url(#hrGradient)",strokeWidth:1.5})]})})})]}),h&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsx("span",{className:"text-[9px] uppercase tracking-widest text-muted-foreground/50",children:"Pace"}),a.jsx("span",{className:"text-[10px] font-mono text-muted-foreground/40",children:r==="imperial"?"/mi":"/km"})]}),a.jsx("div",{className:"h-32 bg-card/30 rounded border border-border/20 p-1.5",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:b,margin:{top:4,right:4,left:0,bottom:4},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"paceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.15}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),a.jsx(qo,{strokeDasharray:"2 4",stroke:"hsl(var(--border))",strokeOpacity:.3}),a.jsx(Rr,{dataKey:"timeLabel",tick:{fontSize:9,fill:"hsl(var(--muted-foreground))",opacity:.5},axisLine:{stroke:"hsl(var(--border))",strokeOpacity:.3},tickLine:!1,tickFormatter:ym(b),interval:"preserveStartEnd"}),a.jsx(Pr,{domain:["dataMin - 0.5","dataMax + 0.5"],tick:{fontSize:9,fill:"hsl(var(--muted-foreground))",opacity:.5},axisLine:!1,tickLine:!1,width:28,tickFormatter:w=>w.toFixed(1),reversed:!0}),a.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"4px",fontSize:"10px",padding:"4px 8px"},formatter:(w,N,S)=>{const A=S.payload.paceUnit||(r==="imperial"?"min/mi":"min/km");return[`${w.toFixed(2)} ${A}`,"Pace"]}}),a.jsx(Xr,{type:"monotone",dataKey:"paceDisplay",stroke:"hsl(var(--chart-1))",fill:"url(#paceGradient)",strokeWidth:1.5})]})})})]}),p&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-3",children:"Power"}),a.jsx("div",{className:"h-48 bg-muted/30 rounded-lg p-2",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:l,margin:{top:5,right:5,left:0,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"powerGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-3))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-3))",stopOpacity:0})]})}),a.jsx(qo,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),a.jsx(Rr,{dataKey:"timeLabel",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:!1,tickFormatter:ym(l),interval:"preserveStartEnd"}),a.jsx(Pr,{domain:["dataMin - 20","dataMax + 20"],tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:35}),a.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:w=>[`${w} W`,"Power"]}),a.jsx(Xr,{type:"monotone",dataKey:"power",stroke:"hsl(var(--chart-3))",fill:"url(#powerGradient)",strokeWidth:2})]})})})]}),x&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-3",children:"Cadence"}),a.jsx("div",{className:"h-48 bg-muted/30 rounded-lg p-2",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:l,margin:{top:5,right:5,left:0,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"cadenceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-5))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-5))",stopOpacity:0})]})}),a.jsx(qo,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),a.jsx(Rr,{dataKey:"timeLabel",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:!1,tickFormatter:ym(l),interval:"preserveStartEnd"}),a.jsx(Pr,{domain:["dataMin - 5","dataMax + 5"],tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:35}),a.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:w=>[`${w} rpm`,"Cadence"]}),a.jsx(Xr,{type:"monotone",dataKey:"cadence",stroke:"hsl(var(--chart-5))",fill:"url(#cadenceGradient)",strokeWidth:2})]})})})]}),g&&a.jsxs("div",{children:[a.jsx("h5",{className:"text-sm font-medium text-foreground mb-3",children:"Elevation"}),a.jsx("div",{className:"h-48 bg-muted/30 rounded-lg p-2",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:v,margin:{top:5,right:5,left:0,bottom:5},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"elevationGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-2))",stopOpacity:.4}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-2))",stopOpacity:.1})]})}),a.jsx(qo,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),a.jsx(Rr,{dataKey:"timeLabel",tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:{stroke:"hsl(var(--border))"},tickLine:!1,tickFormatter:ym(v),interval:"preserveStartEnd"}),a.jsx(Pr,{domain:["dataMin - 10","dataMax + 10"],tick:{fontSize:10,fill:"hsl(var(--muted-foreground))"},axisLine:!1,tickLine:!1,width:35,tickFormatter:w=>`${w.toFixed(0)}`}),a.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",fontSize:"12px"},formatter:(w,N,S)=>{const A=S.payload.elevationUnit||(r==="imperial"?"ft":"m");return[`${w.toFixed(1)} ${A}`,"Elevation"]}}),a.jsx(Xr,{type:"monotone",dataKey:"elevationDisplay",stroke:"hsl(var(--chart-2))",fill:"url(#elevationGradient)",strokeWidth:2})]})})})]})]})}function l5e(e,t){const n=j.useRef(t);j.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const c5e=1;function u5e(e){return Object.freeze({__version:c5e,map:e})}function d5e(e,t){return Object.freeze({...e,...t})}const BX=j.createContext(null),zX=BX.Provider;function WX(){const e=j.useContext(BX);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function f5e(e){function t(n,r){const{instance:i,context:s}=e(n).current;return j.useImperativeHandle(r,()=>i),n.children==null?null:Y.createElement(zX,{value:s},n.children)}return j.forwardRef(t)}function h5e(e){function t(n,r){const{instance:i}=e(n).current;return j.useImperativeHandle(r,()=>i),null}return j.forwardRef(t)}function qX(e,t){const n=j.useRef();j.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function kM(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Cm={exports:{}};var p5e=Cm.exports,x8;function m5e(){return x8||(x8=1,(function(e,t){(function(n,r){r(t)})(p5e,(function(n){var r="1.9.4";function i(f){var y,P,M,B;for(P=1,M=arguments.length;P<M;P++){B=arguments[P];for(y in B)f[y]=B[y]}return f}var s=Object.create||(function(){function f(){}return function(y){return f.prototype=y,new f}})();function o(f,y){var P=Array.prototype.slice;if(f.bind)return f.bind.apply(f,P.call(arguments,1));var M=P.call(arguments,2);return function(){return f.apply(y,M.length?M.concat(P.call(arguments)):arguments)}}var l=0;function c(f){return"_leaflet_id"in f||(f._leaflet_id=++l),f._leaflet_id}function u(f,y,P){var M,B,Z,ae;return ae=function(){M=!1,B&&(Z.apply(P,B),B=!1)},Z=function(){M?B=arguments:(f.apply(P,arguments),setTimeout(ae,y),M=!0)},Z}function h(f,y,P){var M=y[1],B=y[0],Z=M-B;return f===M&&P?f:((f-B)%Z+Z)%Z+B}function p(){return!1}function g(f,y){if(y===!1)return f;var P=Math.pow(10,y===void 0?6:y);return Math.round(f*P)/P}function x(f){return f.trim?f.trim():f.replace(/^\s+|\s+$/g,"")}function b(f){return x(f).split(/\s+/)}function v(f,y){Object.prototype.hasOwnProperty.call(f,"options")||(f.options=f.options?s(f.options):{});for(var P in y)f.options[P]=y[P];return f.options}function w(f,y,P){var M=[];for(var B in f)M.push(encodeURIComponent(P?B.toUpperCase():B)+"="+encodeURIComponent(f[B]));return(!y||y.indexOf("?")===-1?"?":"&")+M.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function S(f,y){return f.replace(N,function(P,M){var B=y[M];if(B===void 0)throw new Error("No value provided for variable "+P);return typeof B=="function"&&(B=B(y)),B})}var A=Array.isArray||function(f){return Object.prototype.toString.call(f)==="[object Array]"};function T(f,y){for(var P=0;P<f.length;P++)if(f[P]===y)return P;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function E(f){return window["webkit"+f]||window["moz"+f]||window["ms"+f]}var O=0;function I(f){var y=+new Date,P=Math.max(0,16-(y-O));return O=y+P,window.setTimeout(f,P)}var F=window.requestAnimationFrame||E("RequestAnimationFrame")||I,W=window.cancelAnimationFrame||E("CancelAnimationFrame")||E("CancelRequestAnimationFrame")||function(f){window.clearTimeout(f)};function $(f,y,P){if(P&&F===I)f.call(y);else return F.call(window,o(f,y))}function z(f){f&&W.call(window,f)}var V={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:h,falseFn:p,formatNum:g,trim:x,splitWords:b,setOptions:v,getParamString:w,template:S,isArray:A,indexOf:T,emptyImageUrl:C,requestFn:F,cancelFn:W,requestAnimFrame:$,cancelAnimFrame:z};function U(){}U.extend=function(f){var y=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=y.__super__=this.prototype,M=s(P);M.constructor=y,y.prototype=M;for(var B in this)Object.prototype.hasOwnProperty.call(this,B)&&B!=="prototype"&&B!=="__super__"&&(y[B]=this[B]);return f.statics&&i(y,f.statics),f.includes&&(te(f.includes),i.apply(null,[M].concat(f.includes))),i(M,f),delete M.statics,delete M.includes,M.options&&(M.options=P.options?s(P.options):{},i(M.options,f.options)),M._initHooks=[],M.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var Z=0,ae=M._initHooks.length;Z<ae;Z++)M._initHooks[Z].call(this)}},y},U.include=function(f){var y=this.prototype.options;return i(this.prototype,f),f.options&&(this.prototype.options=y,this.mergeOptions(f.options)),this},U.mergeOptions=function(f){return i(this.prototype.options,f),this},U.addInitHook=function(f){var y=Array.prototype.slice.call(arguments,1),P=typeof f=="function"?f:function(){this[f].apply(this,y)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function te(f){if(!(typeof L>"u"||!L||!L.Mixin)){f=A(f)?f:[f];for(var y=0;y<f.length;y++)f[y]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Q={on:function(f,y,P){if(typeof f=="object")for(var M in f)this._on(M,f[M],y);else{f=b(f);for(var B=0,Z=f.length;B<Z;B++)this._on(f[B],y,P)}return this},off:function(f,y,P){if(!arguments.length)delete this._events;else if(typeof f=="object")for(var M in f)this._off(M,f[M],y);else{f=b(f);for(var B=arguments.length===1,Z=0,ae=f.length;Z<ae;Z++)B?this._off(f[Z]):this._off(f[Z],y,P)}return this},_on:function(f,y,P,M){if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}if(this._listens(f,y,P)===!1){P===this&&(P=void 0);var B={fn:y,ctx:P};M&&(B.once=!0),this._events=this._events||{},this._events[f]=this._events[f]||[],this._events[f].push(B)}},_off:function(f,y,P){var M,B,Z;if(this._events&&(M=this._events[f],!!M)){if(arguments.length===1){if(this._firingCount)for(B=0,Z=M.length;B<Z;B++)M[B].fn=p;delete this._events[f];return}if(typeof y!="function"){console.warn("wrong listener type: "+typeof y);return}var ae=this._listens(f,y,P);if(ae!==!1){var ce=M[ae];this._firingCount&&(ce.fn=p,this._events[f]=M=M.slice()),M.splice(ae,1)}}},fire:function(f,y,P){if(!this.listens(f,P))return this;var M=i({},y,{type:f,target:this,sourceTarget:y&&y.sourceTarget||this});if(this._events){var B=this._events[f];if(B){this._firingCount=this._firingCount+1||1;for(var Z=0,ae=B.length;Z<ae;Z++){var ce=B[Z],ge=ce.fn;ce.once&&this.off(f,ge,ce.ctx),ge.call(ce.ctx||this,M)}this._firingCount--}}return P&&this._propagateEvent(M),this},listens:function(f,y,P,M){typeof f!="string"&&console.warn('"string" type argument expected');var B=y;typeof y!="function"&&(M=!!y,B=void 0,P=void 0);var Z=this._events&&this._events[f];if(Z&&Z.length&&this._listens(f,B,P)!==!1)return!0;if(M){for(var ae in this._eventParents)if(this._eventParents[ae].listens(f,y,P,M))return!0}return!1},_listens:function(f,y,P){if(!this._events)return!1;var M=this._events[f]||[];if(!y)return!!M.length;P===this&&(P=void 0);for(var B=0,Z=M.length;B<Z;B++)if(M[B].fn===y&&M[B].ctx===P)return B;return!1},once:function(f,y,P){if(typeof f=="object")for(var M in f)this._on(M,f[M],y,!0);else{f=b(f);for(var B=0,Z=f.length;B<Z;B++)this._on(f[B],y,P,!0)}return this},addEventParent:function(f){return this._eventParents=this._eventParents||{},this._eventParents[c(f)]=f,this},removeEventParent:function(f){return this._eventParents&&delete this._eventParents[c(f)],this},_propagateEvent:function(f){for(var y in this._eventParents)this._eventParents[y].fire(f.type,i({layer:f.target,propagatedFrom:f.target},f),!0)}};Q.addEventListener=Q.on,Q.removeEventListener=Q.clearAllEventListeners=Q.off,Q.addOneTimeEventListener=Q.once,Q.fireEvent=Q.fire,Q.hasEventListeners=Q.listens;var J=U.extend(Q);function G(f,y,P){this.x=P?Math.round(f):f,this.y=P?Math.round(y):y}var ee=Math.trunc||function(f){return f>0?Math.floor(f):Math.ceil(f)};G.prototype={clone:function(){return new G(this.x,this.y)},add:function(f){return this.clone()._add(X(f))},_add:function(f){return this.x+=f.x,this.y+=f.y,this},subtract:function(f){return this.clone()._subtract(X(f))},_subtract:function(f){return this.x-=f.x,this.y-=f.y,this},divideBy:function(f){return this.clone()._divideBy(f)},_divideBy:function(f){return this.x/=f,this.y/=f,this},multiplyBy:function(f){return this.clone()._multiplyBy(f)},_multiplyBy:function(f){return this.x*=f,this.y*=f,this},scaleBy:function(f){return new G(this.x*f.x,this.y*f.y)},unscaleBy:function(f){return new G(this.x/f.x,this.y/f.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ee(this.x),this.y=ee(this.y),this},distanceTo:function(f){f=X(f);var y=f.x-this.x,P=f.y-this.y;return Math.sqrt(y*y+P*P)},equals:function(f){return f=X(f),f.x===this.x&&f.y===this.y},contains:function(f){return f=X(f),Math.abs(f.x)<=Math.abs(this.x)&&Math.abs(f.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function X(f,y,P){return f instanceof G?f:A(f)?new G(f[0],f[1]):f==null?f:typeof f=="object"&&"x"in f&&"y"in f?new G(f.x,f.y):new G(f,y,P)}function q(f,y){if(f)for(var P=y?[f,y]:f,M=0,B=P.length;M<B;M++)this.extend(P[M])}q.prototype={extend:function(f){var y,P;if(!f)return this;if(f instanceof G||typeof f[0]=="number"||"x"in f)y=P=X(f);else if(f=H(f),y=f.min,P=f.max,!y||!P)return this;return!this.min&&!this.max?(this.min=y.clone(),this.max=P.clone()):(this.min.x=Math.min(y.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(y.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(f){return X((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,f)},getBottomLeft:function(){return X(this.min.x,this.max.y)},getTopRight:function(){return X(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(f){var y,P;return typeof f[0]=="number"||f instanceof G?f=X(f):f=H(f),f instanceof q?(y=f.min,P=f.max):y=P=f,y.x>=this.min.x&&P.x<=this.max.x&&y.y>=this.min.y&&P.y<=this.max.y},intersects:function(f){f=H(f);var y=this.min,P=this.max,M=f.min,B=f.max,Z=B.x>=y.x&&M.x<=P.x,ae=B.y>=y.y&&M.y<=P.y;return Z&&ae},overlaps:function(f){f=H(f);var y=this.min,P=this.max,M=f.min,B=f.max,Z=B.x>y.x&&M.x<P.x,ae=B.y>y.y&&M.y<P.y;return Z&&ae},isValid:function(){return!!(this.min&&this.max)},pad:function(f){var y=this.min,P=this.max,M=Math.abs(y.x-P.x)*f,B=Math.abs(y.y-P.y)*f;return H(X(y.x-M,y.y-B),X(P.x+M,P.y+B))},equals:function(f){return f?(f=H(f),this.min.equals(f.getTopLeft())&&this.max.equals(f.getBottomRight())):!1}};function H(f,y){return!f||f instanceof q?f:new q(f,y)}function ne(f,y){if(f)for(var P=y?[f,y]:f,M=0,B=P.length;M<B;M++)this.extend(P[M])}ne.prototype={extend:function(f){var y=this._southWest,P=this._northEast,M,B;if(f instanceof de)M=f,B=f;else if(f instanceof ne){if(M=f._southWest,B=f._northEast,!M||!B)return this}else return f?this.extend(me(f)||se(f)):this;return!y&&!P?(this._southWest=new de(M.lat,M.lng),this._northEast=new de(B.lat,B.lng)):(y.lat=Math.min(M.lat,y.lat),y.lng=Math.min(M.lng,y.lng),P.lat=Math.max(B.lat,P.lat),P.lng=Math.max(B.lng,P.lng)),this},pad:function(f){var y=this._southWest,P=this._northEast,M=Math.abs(y.lat-P.lat)*f,B=Math.abs(y.lng-P.lng)*f;return new ne(new de(y.lat-M,y.lng-B),new de(P.lat+M,P.lng+B))},getCenter:function(){return new de((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new de(this.getNorth(),this.getWest())},getSouthEast:function(){return new de(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(f){typeof f[0]=="number"||f instanceof de||"lat"in f?f=me(f):f=se(f);var y=this._southWest,P=this._northEast,M,B;return f instanceof ne?(M=f.getSouthWest(),B=f.getNorthEast()):M=B=f,M.lat>=y.lat&&B.lat<=P.lat&&M.lng>=y.lng&&B.lng<=P.lng},intersects:function(f){f=se(f);var y=this._southWest,P=this._northEast,M=f.getSouthWest(),B=f.getNorthEast(),Z=B.lat>=y.lat&&M.lat<=P.lat,ae=B.lng>=y.lng&&M.lng<=P.lng;return Z&&ae},overlaps:function(f){f=se(f);var y=this._southWest,P=this._northEast,M=f.getSouthWest(),B=f.getNorthEast(),Z=B.lat>y.lat&&M.lat<P.lat,ae=B.lng>y.lng&&M.lng<P.lng;return Z&&ae},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(f,y){return f?(f=se(f),this._southWest.equals(f.getSouthWest(),y)&&this._northEast.equals(f.getNorthEast(),y)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(f,y){return f instanceof ne?f:new ne(f,y)}function de(f,y,P){if(isNaN(f)||isNaN(y))throw new Error("Invalid LatLng object: ("+f+", "+y+")");this.lat=+f,this.lng=+y,P!==void 0&&(this.alt=+P)}de.prototype={equals:function(f,y){if(!f)return!1;f=me(f);var P=Math.max(Math.abs(this.lat-f.lat),Math.abs(this.lng-f.lng));return P<=(y===void 0?1e-9:y)},toString:function(f){return"LatLng("+g(this.lat,f)+", "+g(this.lng,f)+")"},distanceTo:function(f){return _e.distance(this,me(f))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(f){var y=180*f/40075017,P=y/Math.cos(Math.PI/180*this.lat);return se([this.lat-y,this.lng-P],[this.lat+y,this.lng+P])},clone:function(){return new de(this.lat,this.lng,this.alt)}};function me(f,y,P){return f instanceof de?f:A(f)&&typeof f[0]!="object"?f.length===3?new de(f[0],f[1],f[2]):f.length===2?new de(f[0],f[1]):null:f==null?f:typeof f=="object"&&"lat"in f?new de(f.lat,"lng"in f?f.lng:f.lon,f.alt):y===void 0?null:new de(f,y,P)}var fe={latLngToPoint:function(f,y){var P=this.projection.project(f),M=this.scale(y);return this.transformation._transform(P,M)},pointToLatLng:function(f,y){var P=this.scale(y),M=this.transformation.untransform(f,P);return this.projection.unproject(M)},project:function(f){return this.projection.project(f)},unproject:function(f){return this.projection.unproject(f)},scale:function(f){return 256*Math.pow(2,f)},zoom:function(f){return Math.log(f/256)/Math.LN2},getProjectedBounds:function(f){if(this.infinite)return null;var y=this.projection.bounds,P=this.scale(f),M=this.transformation.transform(y.min,P),B=this.transformation.transform(y.max,P);return new q(M,B)},infinite:!1,wrapLatLng:function(f){var y=this.wrapLng?h(f.lng,this.wrapLng,!0):f.lng,P=this.wrapLat?h(f.lat,this.wrapLat,!0):f.lat,M=f.alt;return new de(P,y,M)},wrapLatLngBounds:function(f){var y=f.getCenter(),P=this.wrapLatLng(y),M=y.lat-P.lat,B=y.lng-P.lng;if(M===0&&B===0)return f;var Z=f.getSouthWest(),ae=f.getNorthEast(),ce=new de(Z.lat-M,Z.lng-B),ge=new de(ae.lat-M,ae.lng-B);return new ne(ce,ge)}},_e=i({},fe,{wrapLng:[-180,180],R:6371e3,distance:function(f,y){var P=Math.PI/180,M=f.lat*P,B=y.lat*P,Z=Math.sin((y.lat-f.lat)*P/2),ae=Math.sin((y.lng-f.lng)*P/2),ce=Z*Z+Math.cos(M)*Math.cos(B)*ae*ae,ge=2*Math.atan2(Math.sqrt(ce),Math.sqrt(1-ce));return this.R*ge}}),he=6378137,be={R:he,MAX_LATITUDE:85.0511287798,project:function(f){var y=Math.PI/180,P=this.MAX_LATITUDE,M=Math.max(Math.min(P,f.lat),-P),B=Math.sin(M*y);return new G(this.R*f.lng*y,this.R*Math.log((1+B)/(1-B))/2)},unproject:function(f){var y=180/Math.PI;return new de((2*Math.atan(Math.exp(f.y/this.R))-Math.PI/2)*y,f.x*y/this.R)},bounds:(function(){var f=he*Math.PI;return new q([-f,-f],[f,f])})()};function Me(f,y,P,M){if(A(f)){this._a=f[0],this._b=f[1],this._c=f[2],this._d=f[3];return}this._a=f,this._b=y,this._c=P,this._d=M}Me.prototype={transform:function(f,y){return this._transform(f.clone(),y)},_transform:function(f,y){return y=y||1,f.x=y*(this._a*f.x+this._b),f.y=y*(this._c*f.y+this._d),f},untransform:function(f,y){return y=y||1,new G((f.x/y-this._b)/this._a,(f.y/y-this._d)/this._c)}};function ve(f,y,P,M){return new Me(f,y,P,M)}var Ze=i({},_e,{code:"EPSG:3857",projection:be,transformation:(function(){var f=.5/(Math.PI*be.R);return ve(f,.5,-f,.5)})()}),He=i({},Ze,{code:"EPSG:900913"});function je(f){return document.createElementNS("http://www.w3.org/2000/svg",f)}function Ce(f,y){var P="",M,B,Z,ae,ce,ge;for(M=0,Z=f.length;M<Z;M++){for(ce=f[M],B=0,ae=ce.length;B<ae;B++)ge=ce[B],P+=(B?"L":"M")+ge.x+" "+ge.y;P+=y?qe.svg?"z":"x":""}return P||"M0 0"}var Re=document.documentElement.style,Ke="ActiveXObject"in window,yt=Ke&&!document.addEventListener,kt="msLaunchUri"in navigator&&!("documentMode"in document),Et=Wn("webkit"),it=Wn("android"),_t=Wn("android 2")||Wn("android 3"),cn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Fn=it&&Wn("Google")&&cn<537&&!("AudioNode"in window),$t=!!window.opera,En=!kt&&Wn("chrome"),Xt=Wn("gecko")&&!Et&&!$t&&!Ke,$n=!En&&Wn("safari"),nr=Wn("phantom"),Zn="OTransition"in Re,Fi=navigator.platform.indexOf("Win")===0,Wa=Ke&&"transition"in Re,ri="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,qa="MozPerspective"in Re,ii=!window.L_DISABLE_3D&&(Wa||ri||qa)&&!Zn&&!nr,$i=typeof orientation<"u"||Wn("mobile"),Cs=$i&&Et,Ts=$i&&ri,Ua=!window.PointerEvent&&window.MSPointerEvent,Bi=!!(window.PointerEvent||Ua),Vt="ontouchstart"in window||!!window.TouchEvent,rn=!window.L_NO_TOUCH&&(Vt||Bi),rr=$i&&$t,rt=$i&&Xt,xt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,St=(function(){var f=!1;try{var y=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("testPassiveEventSupport",p,y),window.removeEventListener("testPassiveEventSupport",p,y)}catch{}return f})(),Jt=(function(){return!!document.createElement("canvas").getContext})(),vn=!!(document.createElementNS&&je("svg").createSVGRect),Ft=!!vn&&(function(){var f=document.createElement("div");return f.innerHTML="<svg/>",(f.firstChild&&f.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Bn=!vn&&(function(){try{var f=document.createElement("div");f.innerHTML='<v:shape adj="1"/>';var y=f.firstChild;return y.style.behavior="url(#default#VML)",y&&typeof y.adj=="object"}catch{return!1}})(),Ht=navigator.platform.indexOf("Mac")===0,zn=navigator.platform.indexOf("Linux")===0;function Wn(f){return navigator.userAgent.toLowerCase().indexOf(f)>=0}var qe={ie:Ke,ielt9:yt,edge:kt,webkit:Et,android:it,android23:_t,androidStock:Fn,opera:$t,chrome:En,gecko:Xt,safari:$n,phantom:nr,opera12:Zn,win:Fi,ie3d:Wa,webkit3d:ri,gecko3d:qa,any3d:ii,mobile:$i,mobileWebkit:Cs,mobileWebkit3d:Ts,msPointer:Ua,pointer:Bi,touch:rn,touchNative:Vt,mobileOpera:rr,mobileGecko:rt,retina:xt,passiveEvents:St,canvas:Jt,svg:vn,vml:Bn,inlineSvg:Ft,mac:Ht,linux:zn},Dr=qe.msPointer?"MSPointerDown":"pointerdown",ua=qe.msPointer?"MSPointerMove":"pointermove",vl=qe.msPointer?"MSPointerUp":"pointerup",Zv=qe.msPointer?"MSPointerCancel":"pointercancel",cp={touchstart:Dr,touchmove:ua,touchend:vl,touchcancel:Zv},Es={touchstart:On,touchmove:wd,touchend:wd,touchcancel:wd},xo={},up=!1;function U1(f,y,P){return y==="touchstart"&&V1(),Es[y]?(P=Es[y].bind(this,P),f.addEventListener(cp[y],P,!1),P):(console.warn("wrong event specified:",y),p)}function Xv(f,y,P){if(!cp[y]){console.warn("wrong event specified:",y);return}f.removeEventListener(cp[y],P,!1)}function Qv(f){xo[f.pointerId]=f}function Jv(f){xo[f.pointerId]&&(xo[f.pointerId]=f)}function dp(f){delete xo[f.pointerId]}function V1(){up||(document.addEventListener(Dr,Qv,!0),document.addEventListener(ua,Jv,!0),document.addEventListener(vl,dp,!0),document.addEventListener(Zv,dp,!0),up=!0)}function wd(f,y){if(y.pointerType!==(y.MSPOINTER_TYPE_MOUSE||"mouse")){y.touches=[];for(var P in xo)y.touches.push(xo[P]);y.changedTouches=[y],f(y)}}function On(f,y){y.MSPOINTER_TYPE_TOUCH&&y.pointerType===y.MSPOINTER_TYPE_TOUCH&&Mn(y),wd(f,y)}function H1(f){var y={},P,M;for(M in f)P=f[M],y[M]=P&&P.bind?P.bind(f):P;return f=y,y.type="dblclick",y.detail=2,y.isTrusted=!1,y._simulated=!0,y}var fp=200;function ey(f,y){f.addEventListener("dblclick",y);var P=0,M;function B(Z){if(Z.detail!==1){M=Z.detail;return}if(!(Z.pointerType==="mouse"||Z.sourceCapabilities&&!Z.sourceCapabilities.firesTouchEvents)){var ae=_o(Z);if(!(ae.some(function(ge){return ge instanceof HTMLLabelElement&&ge.attributes.for})&&!ae.some(function(ge){return ge instanceof HTMLInputElement||ge instanceof HTMLSelectElement}))){var ce=Date.now();ce-P<=fp?(M++,M===2&&y(H1(Z))):M=1,P=ce}}}return f.addEventListener("click",B),{dblclick:y,simDblclick:B}}function _d(f,y){f.removeEventListener("dblclick",y.dblclick),f.removeEventListener("click",y.simDblclick)}var hp=wl(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),yl=wl(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Bc=yl==="webkitTransition"||yl==="OTransition"?yl+"End":"transitionend";function zi(f){return typeof f=="string"?document.getElementById(f):f}function zc(f,y){var P=f.style[y]||f.currentStyle&&f.currentStyle[y];if((!P||P==="auto")&&document.defaultView){var M=document.defaultView.getComputedStyle(f,null);P=M?M[y]:null}return P==="auto"?null:P}function jt(f,y,P){var M=document.createElement(f);return M.className=y||"",P&&P.appendChild(M),M}function yn(f){var y=f.parentNode;y&&y.removeChild(f)}function jd(f){for(;f.firstChild;)f.removeChild(f.firstChild)}function xl(f){var y=f.parentNode;y&&y.lastChild!==f&&y.appendChild(f)}function Va(f){var y=f.parentNode;y&&y.firstChild!==f&&y.insertBefore(f,y.firstChild)}function bl(f,y){if(f.classList!==void 0)return f.classList.contains(y);var P=Sd(f);return P.length>0&&new RegExp("(^|\\s)"+y+"(\\s|$)").test(P)}function bt(f,y){if(f.classList!==void 0)for(var P=b(y),M=0,B=P.length;M<B;M++)f.classList.add(P[M]);else if(!bl(f,y)){var Z=Sd(f);pp(f,(Z?Z+" ":"")+y)}}function un(f,y){f.classList!==void 0?f.classList.remove(y):pp(f,x((" "+Sd(f)+" ").replace(" "+y+" "," ")))}function pp(f,y){f.className.baseVal===void 0?f.className=y:f.className.baseVal=y}function Sd(f){return f.correspondingElement&&(f=f.correspondingElement),f.className.baseVal===void 0?f.className:f.className.baseVal}function Lr(f,y){"opacity"in f.style?f.style.opacity=y:"filter"in f.style&&ty(f,y)}function ty(f,y){var P=!1,M="DXImageTransform.Microsoft.Alpha";try{P=f.filters.item(M)}catch{if(y===1)return}y=Math.round(y*100),P?(P.Enabled=y!==100,P.Opacity=y):f.style.filter+=" progid:"+M+"(opacity="+y+")"}function wl(f){for(var y=document.documentElement.style,P=0;P<f.length;P++)if(f[P]in y)return f[P];return!1}function Wi(f,y,P){var M=y||new G(0,0);f.style[hp]=(qe.ie3d?"translate("+M.x+"px,"+M.y+"px)":"translate3d("+M.x+"px,"+M.y+"px,0)")+(P?" scale("+P+")":"")}function qn(f,y){f._leaflet_pos=y,qe.any3d?Wi(f,y):(f.style.left=y.x+"px",f.style.top=y.y+"px")}function Ha(f){return f._leaflet_pos||new G(0,0)}var Dt,_l,Nd;if("onselectstart"in document)Dt=function(){mt(window,"selectstart",Mn)},_l=function(){en(window,"selectstart",Mn)};else{var bo=wl(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Dt=function(){if(bo){var f=document.documentElement.style;Nd=f[bo],f[bo]="none"}},_l=function(){bo&&(document.documentElement.style[bo]=Nd,Nd=void 0)}}function Pd(){mt(window,"dragstart",Mn)}function Ad(){en(window,"dragstart",Mn)}var Wc,qc;function jl(f){for(;f.tabIndex===-1;)f=f.parentNode;f.style&&(qi(),Wc=f,qc=f.style.outlineStyle,f.style.outlineStyle="none",mt(window,"keydown",qi))}function qi(){Wc&&(Wc.style.outlineStyle=qc,Wc=void 0,qc=void 0,en(window,"keydown",qi))}function Ka(f){do f=f.parentNode;while((!f.offsetWidth||!f.offsetHeight)&&f!==document.body);return f}function da(f){var y=f.getBoundingClientRect();return{x:y.width/f.offsetWidth||1,y:y.height/f.offsetHeight||1,boundingClientRect:y}}var Uc={__proto__:null,TRANSFORM:hp,TRANSITION:yl,TRANSITION_END:Bc,get:zi,getStyle:zc,create:jt,remove:yn,empty:jd,toFront:xl,toBack:Va,hasClass:bl,addClass:bt,removeClass:un,setClass:pp,getClass:Sd,setOpacity:Lr,testProp:wl,setTransform:Wi,setPosition:qn,getPosition:Ha,get disableTextSelection(){return Dt},get enableTextSelection(){return _l},disableImageDrag:Pd,enableImageDrag:Ad,preventOutline:jl,restoreOutline:qi,getSizedParentNode:Ka,getScale:da};function mt(f,y,P,M){if(y&&typeof y=="object")for(var B in y)gp(f,B,y[B],P);else{y=b(y);for(var Z=0,ae=y.length;Z<ae;Z++)gp(f,y[Z],P,M)}return this}var cr="_leaflet_events";function en(f,y,P,M){if(arguments.length===1)mp(f),delete f[cr];else if(y&&typeof y=="object")for(var B in y)kd(f,B,y[B],P);else if(y=b(y),arguments.length===2)mp(f,function(ce){return T(y,ce)!==-1});else for(var Z=0,ae=y.length;Z<ae;Z++)kd(f,y[Z],P,M);return this}function mp(f,y){for(var P in f[cr]){var M=P.split(/\d/)[0];(!y||y(M))&&kd(f,M,null,null,P)}}var wo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function gp(f,y,P,M){var B=y+c(P)+(M?"_"+c(M):"");if(f[cr]&&f[cr][B])return this;var Z=function(ce){return P.call(M||f,ce||window.event)},ae=Z;!qe.touchNative&&qe.pointer&&y.indexOf("touch")===0?Z=U1(f,y,Z):qe.touch&&y==="dblclick"?Z=ey(f,Z):"addEventListener"in f?y==="touchstart"||y==="touchmove"||y==="wheel"||y==="mousewheel"?f.addEventListener(wo[y]||y,Z,qe.passiveEvents?{passive:!1}:!1):y==="mouseenter"||y==="mouseleave"?(Z=function(ce){ce=ce||window.event,Kc(f,ce)&&ae(ce)},f.addEventListener(wo[y],Z,!1)):f.addEventListener(y,ae,!1):f.attachEvent("on"+y,Z),f[cr]=f[cr]||{},f[cr][B]=Z}function kd(f,y,P,M,B){B=B||y+c(P)+(M?"_"+c(M):"");var Z=f[cr]&&f[cr][B];if(!Z)return this;!qe.touchNative&&qe.pointer&&y.indexOf("touch")===0?Xv(f,y,Z):qe.touch&&y==="dblclick"?_d(f,Z):"removeEventListener"in f?f.removeEventListener(wo[y]||y,Z,!1):f.detachEvent("on"+y,Z),f[cr][B]=null}function fa(f){return f.stopPropagation?f.stopPropagation():f.originalEvent?f.originalEvent._stopped=!0:f.cancelBubble=!0,this}function Cd(f){return gp(f,"wheel",fa),this}function Vc(f){return mt(f,"mousedown touchstart dblclick contextmenu",fa),f._leaflet_disable_click=!0,this}function Mn(f){return f.preventDefault?f.preventDefault():f.returnValue=!1,this}function Ui(f){return Mn(f),fa(f),this}function _o(f){if(f.composedPath)return f.composedPath();for(var y=[],P=f.target;P;)y.push(P),P=P.parentNode;return y}function Hc(f,y){if(!y)return new G(f.clientX,f.clientY);var P=da(y),M=P.boundingClientRect;return new G((f.clientX-M.left)/P.x-y.clientLeft,(f.clientY-M.top)/P.y-y.clientTop)}var K1=qe.linux&&qe.chrome?window.devicePixelRatio:qe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ny(f){return qe.edge?f.wheelDeltaY/2:f.deltaY&&f.deltaMode===0?-f.deltaY/K1:f.deltaY&&f.deltaMode===1?-f.deltaY*20:f.deltaY&&f.deltaMode===2?-f.deltaY*60:f.deltaX||f.deltaZ?0:f.wheelDelta?(f.wheelDeltaY||f.wheelDelta)/2:f.detail&&Math.abs(f.detail)<32765?-f.detail*20:f.detail?f.detail/-32765*60:0}function Kc(f,y){var P=y.relatedTarget;if(!P)return!0;try{for(;P&&P!==f;)P=P.parentNode}catch{return!1}return P!==f}var Td={__proto__:null,on:mt,off:en,stopPropagation:fa,disableScrollPropagation:Cd,disableClickPropagation:Vc,preventDefault:Mn,stop:Ui,getPropagationPath:_o,getMousePosition:Hc,getWheelDelta:ny,isExternalTarget:Kc,addListener:mt,removeListener:en},Ed=J.extend({run:function(f,y,P,M){this.stop(),this._el=f,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(M||.5,.2),this._startPos=Ha(f),this._offset=y.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(f){var y=+new Date-this._startTime,P=this._duration*1e3;y<P?this._runFrame(this._easeOut(y/P),f):(this._runFrame(1),this._complete())},_runFrame:function(f,y){var P=this._startPos.add(this._offset.multiplyBy(f));y&&P._round(),qn(this._el,P),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(f){return 1-Math.pow(1-f,this._easeOutPower)}}),It=J.extend({options:{crs:Ze,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(f,y){y=v(this,y),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(f),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),y.maxBounds&&this.setMaxBounds(y.maxBounds),y.zoom!==void 0&&(this._zoom=this._limitZoom(y.zoom)),y.center&&y.zoom!==void 0&&this.setView(me(y.center),y.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=yl&&qe.any3d&&!qe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,Bc,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(f,y,P){if(y=y===void 0?this._zoom:this._limitZoom(y),f=this._limitCenter(me(f),y,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var M=this._zoom!==y?this._tryAnimatedZoom&&this._tryAnimatedZoom(f,y,P.zoom):this._tryAnimatedPan(f,P.pan);if(M)return clearTimeout(this._sizeTimer),this}return this._resetView(f,y,P.pan&&P.pan.noMoveStart),this},setZoom:function(f,y){return this._loaded?this.setView(this.getCenter(),f,{zoom:y}):(this._zoom=f,this)},zoomIn:function(f,y){return f=f||(qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+f,y)},zoomOut:function(f,y){return f=f||(qe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-f,y)},setZoomAround:function(f,y,P){var M=this.getZoomScale(y),B=this.getSize().divideBy(2),Z=f instanceof G?f:this.latLngToContainerPoint(f),ae=Z.subtract(B).multiplyBy(1-1/M),ce=this.containerPointToLatLng(B.add(ae));return this.setView(ce,y,{zoom:P})},_getBoundsCenterZoom:function(f,y){y=y||{},f=f.getBounds?f.getBounds():se(f);var P=X(y.paddingTopLeft||y.padding||[0,0]),M=X(y.paddingBottomRight||y.padding||[0,0]),B=this.getBoundsZoom(f,!1,P.add(M));if(B=typeof y.maxZoom=="number"?Math.min(y.maxZoom,B):B,B===1/0)return{center:f.getCenter(),zoom:B};var Z=M.subtract(P).divideBy(2),ae=this.project(f.getSouthWest(),B),ce=this.project(f.getNorthEast(),B),ge=this.unproject(ae.add(ce).divideBy(2).add(Z),B);return{center:ge,zoom:B}},fitBounds:function(f,y){if(f=se(f),!f.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(f,y);return this.setView(P.center,P.zoom,y)},fitWorld:function(f){return this.fitBounds([[-90,-180],[90,180]],f)},panTo:function(f,y){return this.setView(f,this._zoom,{pan:y})},panBy:function(f,y){if(f=X(f).round(),y=y||{},!f.x&&!f.y)return this.fire("moveend");if(y.animate!==!0&&!this.getSize().contains(f))return this._resetView(this.unproject(this.project(this.getCenter()).add(f)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ed,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),y.noMoveStart||this.fire("movestart"),y.animate!==!1){bt(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(f).round();this._panAnim.run(this._mapPane,P,y.duration||.25,y.easeLinearity)}else this._rawPanBy(f),this.fire("move").fire("moveend");return this},flyTo:function(f,y,P){if(P=P||{},P.animate===!1||!qe.any3d)return this.setView(f,y,P);this._stop();var M=this.project(this.getCenter()),B=this.project(f),Z=this.getSize(),ae=this._zoom;f=me(f),y=y===void 0?ae:y;var ce=Math.max(Z.x,Z.y),ge=ce*this.getZoomScale(ae,y),Pe=B.distanceTo(M)||1,Be=1.42,ot=Be*Be;function Nt(Kt){var Fl=Kt?-1:1,o_=Kt?ge:ce,l_=ge*ge-ce*ce+Fl*ot*ot*Pe*Pe,Co=2*o_*ot*Pe,To=l_/Co,Eo=Math.sqrt(To*To+1)-To,Vd=Eo<1e-9?-18:Math.log(Eo);return Vd}function ur(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function ir(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function oi(Kt){return ur(Kt)/ir(Kt)}var $r=Nt(0);function Dl(Kt){return ce*(ir($r)/ir($r+Be*Kt))}function Lp(Kt){return ce*(ir($r)*oi($r+Be*Kt)-ur($r))/ot}function $s(Kt){return 1-Math.pow(1-Kt,1.5)}var jy=Date.now(),ko=(Nt(1)-$r)/Be,ga=P.duration?1e3*P.duration:1e3*ko*.8;function Ll(){var Kt=(Date.now()-jy)/ga,Fl=$s(Kt)*ko;Kt<=1?(this._flyToFrame=$(Ll,this),this._move(this.unproject(M.add(B.subtract(M).multiplyBy(Lp(Fl)/Pe)),ae),this.getScaleZoom(ce/Dl(Fl),ae),{flyTo:!0})):this._move(f,y)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),Ll.call(this),this},flyToBounds:function(f,y){var P=this._getBoundsCenterZoom(f,y);return this.flyTo(P.center,P.zoom,y)},setMaxBounds:function(f){return f=se(f),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),f.isValid()?(this.options.maxBounds=f,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(f){var y=this.options.minZoom;return this.options.minZoom=f,this._loaded&&y!==f&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(f):this},setMaxZoom:function(f){var y=this.options.maxZoom;return this.options.maxZoom=f,this._loaded&&y!==f&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(f):this},panInsideBounds:function(f,y){this._enforcingBounds=!0;var P=this.getCenter(),M=this._limitCenter(P,this._zoom,se(f));return P.equals(M)||this.panTo(M,y),this._enforcingBounds=!1,this},panInside:function(f,y){y=y||{};var P=X(y.paddingTopLeft||y.padding||[0,0]),M=X(y.paddingBottomRight||y.padding||[0,0]),B=this.project(this.getCenter()),Z=this.project(f),ae=this.getPixelBounds(),ce=H([ae.min.add(P),ae.max.subtract(M)]),ge=ce.getSize();if(!ce.contains(Z)){this._enforcingBounds=!0;var Pe=Z.subtract(ce.getCenter()),Be=ce.extend(Z).getSize().subtract(ge);B.x+=Pe.x<0?-Be.x:Be.x,B.y+=Pe.y<0?-Be.y:Be.y,this.panTo(this.unproject(B),y),this._enforcingBounds=!1}return this},invalidateSize:function(f){if(!this._loaded)return this;f=i({animate:!1,pan:!0},f===!0?{animate:!0}:f);var y=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),M=y.divideBy(2).round(),B=P.divideBy(2).round(),Z=M.subtract(B);return!Z.x&&!Z.y?this:(f.animate&&f.pan?this.panBy(Z):(f.pan&&this._rawPanBy(Z),this.fire("move"),f.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:y,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(f){if(f=this._locateOptions=i({timeout:1e4,watch:!1},f),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var y=o(this._handleGeolocationResponse,this),P=o(this._handleGeolocationError,this);return f.watch?this._locationWatchId=navigator.geolocation.watchPosition(y,P,f):navigator.geolocation.getCurrentPosition(y,P,f),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(f){if(this._container._leaflet_id){var y=f.code,P=f.message||(y===1?"permission denied":y===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:y,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(f){if(this._container._leaflet_id){var y=f.coords.latitude,P=f.coords.longitude,M=new de(y,P),B=M.toBounds(f.coords.accuracy*2),Z=this._locateOptions;if(Z.setView){var ae=this.getBoundsZoom(B);this.setView(M,Z.maxZoom?Math.min(ae,Z.maxZoom):ae)}var ce={latlng:M,bounds:B,timestamp:f.timestamp};for(var ge in f.coords)typeof f.coords[ge]=="number"&&(ce[ge]=f.coords[ge]);this.fire("locationfound",ce)}},addHandler:function(f,y){if(!y)return this;var P=this[f]=new y(this);return this._handlers.push(P),this.options[f]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),yn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var f;for(f in this._layers)this._layers[f].remove();for(f in this._panes)yn(this._panes[f]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(f,y){var P="leaflet-pane"+(f?" leaflet-"+f.replace("Pane","")+"-pane":""),M=jt("div",P,y||this._mapPane);return f&&(this._panes[f]=M),M},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var f=this.getPixelBounds(),y=this.unproject(f.getBottomLeft()),P=this.unproject(f.getTopRight());return new ne(y,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(f,y,P){f=se(f),P=X(P||[0,0]);var M=this.getZoom()||0,B=this.getMinZoom(),Z=this.getMaxZoom(),ae=f.getNorthWest(),ce=f.getSouthEast(),ge=this.getSize().subtract(P),Pe=H(this.project(ce,M),this.project(ae,M)).getSize(),Be=qe.any3d?this.options.zoomSnap:1,ot=ge.x/Pe.x,Nt=ge.y/Pe.y,ur=y?Math.max(ot,Nt):Math.min(ot,Nt);return M=this.getScaleZoom(ur,M),Be&&(M=Math.round(M/(Be/100))*(Be/100),M=y?Math.ceil(M/Be)*Be:Math.floor(M/Be)*Be),Math.max(B,Math.min(Z,M))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new G(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(f,y){var P=this._getTopLeftPoint(f,y);return new q(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(f){return this.options.crs.getProjectedBounds(f===void 0?this.getZoom():f)},getPane:function(f){return typeof f=="string"?this._panes[f]:f},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(f,y){var P=this.options.crs;return y=y===void 0?this._zoom:y,P.scale(f)/P.scale(y)},getScaleZoom:function(f,y){var P=this.options.crs;y=y===void 0?this._zoom:y;var M=P.zoom(f*P.scale(y));return isNaN(M)?1/0:M},project:function(f,y){return y=y===void 0?this._zoom:y,this.options.crs.latLngToPoint(me(f),y)},unproject:function(f,y){return y=y===void 0?this._zoom:y,this.options.crs.pointToLatLng(X(f),y)},layerPointToLatLng:function(f){var y=X(f).add(this.getPixelOrigin());return this.unproject(y)},latLngToLayerPoint:function(f){var y=this.project(me(f))._round();return y._subtract(this.getPixelOrigin())},wrapLatLng:function(f){return this.options.crs.wrapLatLng(me(f))},wrapLatLngBounds:function(f){return this.options.crs.wrapLatLngBounds(se(f))},distance:function(f,y){return this.options.crs.distance(me(f),me(y))},containerPointToLayerPoint:function(f){return X(f).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(f){return X(f).add(this._getMapPanePos())},containerPointToLatLng:function(f){var y=this.containerPointToLayerPoint(X(f));return this.layerPointToLatLng(y)},latLngToContainerPoint:function(f){return this.layerPointToContainerPoint(this.latLngToLayerPoint(me(f)))},mouseEventToContainerPoint:function(f){return Hc(f,this._container)},mouseEventToLayerPoint:function(f){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(f))},mouseEventToLatLng:function(f){return this.layerPointToLatLng(this.mouseEventToLayerPoint(f))},_initContainer:function(f){var y=this._container=zi(f);if(y){if(y._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");mt(y,"scroll",this._onScroll,this),this._containerId=c(y)},_initLayout:function(){var f=this._container;this._fadeAnimated=this.options.fadeAnimation&&qe.any3d,bt(f,"leaflet-container"+(qe.touch?" leaflet-touch":"")+(qe.retina?" leaflet-retina":"")+(qe.ielt9?" leaflet-oldie":"")+(qe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var y=zc(f,"position");y!=="absolute"&&y!=="relative"&&y!=="fixed"&&y!=="sticky"&&(f.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var f=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),qn(this._mapPane,new G(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(bt(f.markerPane,"leaflet-zoom-hide"),bt(f.shadowPane,"leaflet-zoom-hide"))},_resetView:function(f,y,P){qn(this._mapPane,new G(0,0));var M=!this._loaded;this._loaded=!0,y=this._limitZoom(y),this.fire("viewprereset");var B=this._zoom!==y;this._moveStart(B,P)._move(f,y)._moveEnd(B),this.fire("viewreset"),M&&this.fire("load")},_moveStart:function(f,y){return f&&this.fire("zoomstart"),y||this.fire("movestart"),this},_move:function(f,y,P,M){y===void 0&&(y=this._zoom);var B=this._zoom!==y;return this._zoom=y,this._lastCenter=f,this._pixelOrigin=this._getNewPixelOrigin(f),M?P&&P.pinch&&this.fire("zoom",P):((B||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(f){return f&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(f){qn(this._mapPane,this._getMapPanePos().subtract(f))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(f){this._targets={},this._targets[c(this._container)]=this;var y=f?en:mt;y(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&y(window,"resize",this._onResize,this),qe.any3d&&this.options.transform3DLimit&&(f?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var f=this._getMapPanePos();Math.max(Math.abs(f.x),Math.abs(f.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(f,y){for(var P=[],M,B=y==="mouseout"||y==="mouseover",Z=f.target||f.srcElement,ae=!1;Z;){if(M=this._targets[c(Z)],M&&(y==="click"||y==="preclick")&&this._draggableMoved(M)){ae=!0;break}if(M&&M.listens(y,!0)&&(B&&!Kc(Z,f)||(P.push(M),B))||Z===this._container)break;Z=Z.parentNode}return!P.length&&!ae&&!B&&this.listens(y,!0)&&(P=[this]),P},_isClickDisabled:function(f){for(;f&&f!==this._container;){if(f._leaflet_disable_click)return!0;f=f.parentNode}},_handleDOMEvent:function(f){var y=f.target||f.srcElement;if(!(!this._loaded||y._leaflet_disable_events||f.type==="click"&&this._isClickDisabled(y))){var P=f.type;P==="mousedown"&&jl(y),this._fireDOMEvent(f,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(f,y,P){if(f.type==="click"){var M=i({},f);M.type="preclick",this._fireDOMEvent(M,M.type,P)}var B=this._findEventTargets(f,y);if(P){for(var Z=[],ae=0;ae<P.length;ae++)P[ae].listens(y,!0)&&Z.push(P[ae]);B=Z.concat(B)}if(B.length){y==="contextmenu"&&Mn(f);var ce=B[0],ge={originalEvent:f};if(f.type!=="keypress"&&f.type!=="keydown"&&f.type!=="keyup"){var Pe=ce.getLatLng&&(!ce._radius||ce._radius<=10);ge.containerPoint=Pe?this.latLngToContainerPoint(ce.getLatLng()):this.mouseEventToContainerPoint(f),ge.layerPoint=this.containerPointToLayerPoint(ge.containerPoint),ge.latlng=Pe?ce.getLatLng():this.layerPointToLatLng(ge.layerPoint)}for(ae=0;ae<B.length;ae++)if(B[ae].fire(y,ge,!0),ge.originalEvent._stopped||B[ae].options.bubblingMouseEvents===!1&&T(this._mouseEvents,y)!==-1)return}},_draggableMoved:function(f){return f=f.dragging&&f.dragging.enabled()?f:this,f.dragging&&f.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var f=0,y=this._handlers.length;f<y;f++)this._handlers[f].disable()},whenReady:function(f,y){return this._loaded?f.call(y||this,{target:this}):this.on("load",f,y),this},_getMapPanePos:function(){return Ha(this._mapPane)||new G(0,0)},_moved:function(){var f=this._getMapPanePos();return f&&!f.equals([0,0])},_getTopLeftPoint:function(f,y){var P=f&&y!==void 0?this._getNewPixelOrigin(f,y):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(f,y){var P=this.getSize()._divideBy(2);return this.project(f,y)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(f,y,P){var M=this._getNewPixelOrigin(P,y);return this.project(f,y)._subtract(M)},_latLngBoundsToNewLayerBounds:function(f,y,P){var M=this._getNewPixelOrigin(P,y);return H([this.project(f.getSouthWest(),y)._subtract(M),this.project(f.getNorthWest(),y)._subtract(M),this.project(f.getSouthEast(),y)._subtract(M),this.project(f.getNorthEast(),y)._subtract(M)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(f){return this.latLngToLayerPoint(f).subtract(this._getCenterLayerPoint())},_limitCenter:function(f,y,P){if(!P)return f;var M=this.project(f,y),B=this.getSize().divideBy(2),Z=new q(M.subtract(B),M.add(B)),ae=this._getBoundsOffset(Z,P,y);return Math.abs(ae.x)<=1&&Math.abs(ae.y)<=1?f:this.unproject(M.add(ae),y)},_limitOffset:function(f,y){if(!y)return f;var P=this.getPixelBounds(),M=new q(P.min.add(f),P.max.add(f));return f.add(this._getBoundsOffset(M,y))},_getBoundsOffset:function(f,y,P){var M=H(this.project(y.getNorthEast(),P),this.project(y.getSouthWest(),P)),B=M.min.subtract(f.min),Z=M.max.subtract(f.max),ae=this._rebound(B.x,-Z.x),ce=this._rebound(B.y,-Z.y);return new G(ae,ce)},_rebound:function(f,y){return f+y>0?Math.round(f-y)/2:Math.max(0,Math.ceil(f))-Math.max(0,Math.floor(y))},_limitZoom:function(f){var y=this.getMinZoom(),P=this.getMaxZoom(),M=qe.any3d?this.options.zoomSnap:1;return M&&(f=Math.round(f/M)*M),Math.max(y,Math.min(P,f))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){un(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(f,y){var P=this._getCenterOffset(f)._trunc();return(y&&y.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,y),!0)},_createAnimProxy:function(){var f=this._proxy=jt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(f),this.on("zoomanim",function(y){var P=hp,M=this._proxy.style[P];Wi(this._proxy,this.project(y.center,y.zoom),this.getZoomScale(y.zoom,1)),M===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){yn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var f=this.getCenter(),y=this.getZoom();Wi(this._proxy,this.project(f,y),this.getZoomScale(y,1))},_catchTransitionEnd:function(f){this._animatingZoom&&f.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(f,y,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(y-this._zoom)>this.options.zoomAnimationThreshold)return!1;var M=this.getZoomScale(y),B=this._getCenterOffset(f)._divideBy(1-1/M);return P.animate!==!0&&!this.getSize().contains(B)?!1:($(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(f,y,!0)},this),!0)},_animateZoom:function(f,y,P,M){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=f,this._animateToZoom=y,bt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:f,zoom:y,noUpdate:M}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&un(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Os(f,y){return new It(f,y)}var ai=U.extend({options:{position:"topright"},initialize:function(f){v(this,f)},getPosition:function(){return this.options.position},setPosition:function(f){var y=this._map;return y&&y.removeControl(this),this.options.position=f,y&&y.addControl(this),this},getContainer:function(){return this._container},addTo:function(f){this.remove(),this._map=f;var y=this._container=this.onAdd(f),P=this.getPosition(),M=f._controlCorners[P];return bt(y,"leaflet-control"),P.indexOf("bottom")!==-1?M.insertBefore(y,M.firstChild):M.appendChild(y),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(yn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(f){this._map&&f&&f.screenX>0&&f.screenY>0&&this._map.getContainer().focus()}}),Ms=function(f){return new ai(f)};It.include({addControl:function(f){return f.addTo(this),this},removeControl:function(f){return f.remove(),this},_initControlPos:function(){var f=this._controlCorners={},y="leaflet-",P=this._controlContainer=jt("div",y+"control-container",this._container);function M(B,Z){var ae=y+B+" "+y+Z;f[B+Z]=jt("div",ae,P)}M("top","left"),M("top","right"),M("bottom","left"),M("bottom","right")},_clearControlPos:function(){for(var f in this._controlCorners)yn(this._controlCorners[f]);yn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var vp=ai.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(f,y,P,M){return P<M?-1:M<P?1:0}},initialize:function(f,y,P){v(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var M in f)this._addLayer(f[M],M);for(M in y)this._addLayer(y[M],M,!0)},onAdd:function(f){this._initLayout(),this._update(),this._map=f,f.on("zoomend",this._checkDisabledLayers,this);for(var y=0;y<this._layers.length;y++)this._layers[y].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(f){return ai.prototype.addTo.call(this,f),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var f=0;f<this._layers.length;f++)this._layers[f].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(f,y){return this._addLayer(f,y),this._map?this._update():this},addOverlay:function(f,y){return this._addLayer(f,y,!0),this._map?this._update():this},removeLayer:function(f){f.off("add remove",this._onLayerChange,this);var y=this._getLayer(c(f));return y&&this._layers.splice(this._layers.indexOf(y),1),this._map?this._update():this},expand:function(){bt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var f=this._map.getSize().y-(this._container.offsetTop+50);return f<this._section.clientHeight?(bt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=f+"px"):un(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return un(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var f="leaflet-control-layers",y=this._container=jt("div",f),P=this.options.collapsed;y.setAttribute("aria-haspopup",!0),Vc(y),Cd(y);var M=this._section=jt("section",f+"-list");P&&(this._map.on("click",this.collapse,this),mt(y,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var B=this._layersLink=jt("a",f+"-toggle",y);B.href="#",B.title="Layers",B.setAttribute("role","button"),mt(B,{keydown:function(Z){Z.keyCode===13&&this._expandSafely()},click:function(Z){Mn(Z),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=jt("div",f+"-base",M),this._separator=jt("div",f+"-separator",M),this._overlaysList=jt("div",f+"-overlays",M),y.appendChild(M)},_getLayer:function(f){for(var y=0;y<this._layers.length;y++)if(this._layers[y]&&c(this._layers[y].layer)===f)return this._layers[y]},_addLayer:function(f,y,P){this._map&&f.on("add remove",this._onLayerChange,this),this._layers.push({layer:f,name:y,overlay:P}),this.options.sortLayers&&this._layers.sort(o(function(M,B){return this.options.sortFunction(M.layer,B.layer,M.name,B.name)},this)),this.options.autoZIndex&&f.setZIndex&&(this._lastZIndex++,f.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;jd(this._baseLayersList),jd(this._overlaysList),this._layerControlInputs=[];var f,y,P,M,B=0;for(P=0;P<this._layers.length;P++)M=this._layers[P],this._addItem(M),y=y||M.overlay,f=f||!M.overlay,B+=M.overlay?0:1;return this.options.hideSingleBase&&(f=f&&B>1,this._baseLayersList.style.display=f?"":"none"),this._separator.style.display=y&&f?"":"none",this},_onLayerChange:function(f){this._handlingClick||this._update();var y=this._getLayer(c(f.target)),P=y.overlay?f.type==="add"?"overlayadd":"overlayremove":f.type==="add"?"baselayerchange":null;P&&this._map.fire(P,y)},_createRadioElement:function(f,y){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+f+'"'+(y?' checked="checked"':"")+"/>",M=document.createElement("div");return M.innerHTML=P,M.firstChild},_addItem:function(f){var y=document.createElement("label"),P=this._map.hasLayer(f.layer),M;f.overlay?(M=document.createElement("input"),M.type="checkbox",M.className="leaflet-control-layers-selector",M.defaultChecked=P):M=this._createRadioElement("leaflet-base-layers_"+c(this),P),this._layerControlInputs.push(M),M.layerId=c(f.layer),mt(M,"click",this._onInputClick,this);var B=document.createElement("span");B.innerHTML=" "+f.name;var Z=document.createElement("span");y.appendChild(Z),Z.appendChild(M),Z.appendChild(B);var ae=f.overlay?this._overlaysList:this._baseLayersList;return ae.appendChild(y),this._checkDisabledLayers(),y},_onInputClick:function(){if(!this._preventClick){var f=this._layerControlInputs,y,P,M=[],B=[];this._handlingClick=!0;for(var Z=f.length-1;Z>=0;Z--)y=f[Z],P=this._getLayer(y.layerId).layer,y.checked?M.push(P):y.checked||B.push(P);for(Z=0;Z<B.length;Z++)this._map.hasLayer(B[Z])&&this._map.removeLayer(B[Z]);for(Z=0;Z<M.length;Z++)this._map.hasLayer(M[Z])||this._map.addLayer(M[Z]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var f=this._layerControlInputs,y,P,M=this._map.getZoom(),B=f.length-1;B>=0;B--)y=f[B],P=this._getLayer(y.layerId).layer,y.disabled=P.options.minZoom!==void 0&&M<P.options.minZoom||P.options.maxZoom!==void 0&&M>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var f=this._section;this._preventClick=!0,mt(f,"click",Mn),this.expand();var y=this;setTimeout(function(){en(f,"click",Mn),y._preventClick=!1})}}),Od=function(f,y,P){return new vp(f,y,P)},Sl=ai.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(f){var y="leaflet-control-zoom",P=jt("div",y+" leaflet-bar"),M=this.options;return this._zoomInButton=this._createButton(M.zoomInText,M.zoomInTitle,y+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(M.zoomOutText,M.zoomOutTitle,y+"-out",P,this._zoomOut),this._updateDisabled(),f.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(f){f.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(f){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(f.shiftKey?3:1))},_zoomOut:function(f){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(f.shiftKey?3:1))},_createButton:function(f,y,P,M,B){var Z=jt("a",P,M);return Z.innerHTML=f,Z.href="#",Z.title=y,Z.setAttribute("role","button"),Z.setAttribute("aria-label",y),Vc(Z),mt(Z,"click",Ui),mt(Z,"click",B,this),mt(Z,"click",this._refocusOnMap,this),Z},_updateDisabled:function(){var f=this._map,y="leaflet-disabled";un(this._zoomInButton,y),un(this._zoomOutButton,y),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||f._zoom===f.getMinZoom())&&(bt(this._zoomOutButton,y),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||f._zoom===f.getMaxZoom())&&(bt(this._zoomInButton,y),this._zoomInButton.setAttribute("aria-disabled","true"))}});It.mergeOptions({zoomControl:!0}),It.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Sl,this.addControl(this.zoomControl))});var ry=function(f){return new Sl(f)},Fr=ai.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(f){var y="leaflet-control-scale",P=jt("div",y),M=this.options;return this._addScales(M,y+"-line",P),f.on(M.updateWhenIdle?"moveend":"move",this._update,this),f.whenReady(this._update,this),P},onRemove:function(f){f.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(f,y,P){f.metric&&(this._mScale=jt("div",y,P)),f.imperial&&(this._iScale=jt("div",y,P))},_update:function(){var f=this._map,y=f.getSize().y/2,P=f.distance(f.containerPointToLatLng([0,y]),f.containerPointToLatLng([this.options.maxWidth,y]));this._updateScales(P)},_updateScales:function(f){this.options.metric&&f&&this._updateMetric(f),this.options.imperial&&f&&this._updateImperial(f)},_updateMetric:function(f){var y=this._getRoundNum(f),P=y<1e3?y+" m":y/1e3+" km";this._updateScale(this._mScale,P,y/f)},_updateImperial:function(f){var y=f*3.2808399,P,M,B;y>5280?(P=y/5280,M=this._getRoundNum(P),this._updateScale(this._iScale,M+" mi",M/P)):(B=this._getRoundNum(y),this._updateScale(this._iScale,B+" ft",B/y))},_updateScale:function(f,y,P){f.style.width=Math.round(this.options.maxWidth*P)+"px",f.innerHTML=y},_getRoundNum:function(f){var y=Math.pow(10,(Math.floor(f)+"").length-1),P=f/y;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,y*P}}),Nl=function(f){return new Fr(f)},yp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',jo=ai.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(qe.inlineSvg?yp+" ":"")+"Leaflet</a>"},initialize:function(f){v(this,f),this._attributions={}},onAdd:function(f){f.attributionControl=this,this._container=jt("div","leaflet-control-attribution"),Vc(this._container);for(var y in f._layers)f._layers[y].getAttribution&&this.addAttribution(f._layers[y].getAttribution());return this._update(),f.on("layeradd",this._addAttribution,this),this._container},onRemove:function(f){f.off("layeradd",this._addAttribution,this)},_addAttribution:function(f){f.layer.getAttribution&&(this.addAttribution(f.layer.getAttribution()),f.layer.once("remove",function(){this.removeAttribution(f.layer.getAttribution())},this))},setPrefix:function(f){return this.options.prefix=f,this._update(),this},addAttribution:function(f){return f?(this._attributions[f]||(this._attributions[f]=0),this._attributions[f]++,this._update(),this):this},removeAttribution:function(f){return f?(this._attributions[f]&&(this._attributions[f]--,this._update()),this):this},_update:function(){if(this._map){var f=[];for(var y in this._attributions)this._attributions[y]&&f.push(y);var P=[];this.options.prefix&&P.push(this.options.prefix),f.length&&P.push(f.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});It.mergeOptions({attributionControl:!0}),It.addInitHook(function(){this.options.attributionControl&&new jo().addTo(this)});var G1=function(f){return new jo(f)};ai.Layers=vp,ai.Zoom=Sl,ai.Scale=Fr,ai.Attribution=jo,Ms.layers=Od,Ms.zoom=ry,Ms.scale=Nl,Ms.attribution=G1;var ji=U.extend({initialize:function(f){this._map=f},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ji.addTo=function(f,y){return f.addHandler(y,this),this};var xp={Events:Q},Pl=qe.touch?"touchstart mousedown":"mousedown",Vi=J.extend({options:{clickTolerance:3},initialize:function(f,y,P,M){v(this,M),this._element=f,this._dragStartTarget=y||f,this._preventOutline=P},enable:function(){this._enabled||(mt(this._dragStartTarget,Pl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Vi._dragging===this&&this.finishDrag(!0),en(this._dragStartTarget,Pl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(f){if(this._enabled&&(this._moved=!1,!bl(this._element,"leaflet-zoom-anim"))){if(f.touches&&f.touches.length!==1){Vi._dragging===this&&this.finishDrag();return}if(!(Vi._dragging||f.shiftKey||f.which!==1&&f.button!==1&&!f.touches)&&(Vi._dragging=this,this._preventOutline&&jl(this._element),Pd(),Dt(),!this._moving)){this.fire("down");var y=f.touches?f.touches[0]:f,P=Ka(this._element);this._startPoint=new G(y.clientX,y.clientY),this._startPos=Ha(this._element),this._parentScale=da(P);var M=f.type==="mousedown";mt(document,M?"mousemove":"touchmove",this._onMove,this),mt(document,M?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(f){if(this._enabled){if(f.touches&&f.touches.length>1){this._moved=!0;return}var y=f.touches&&f.touches.length===1?f.touches[0]:f,P=new G(y.clientX,y.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,Mn(f),this._moved||(this.fire("dragstart"),this._moved=!0,bt(document.body,"leaflet-dragging"),this._lastTarget=f.target||f.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),bt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=f,this._updatePosition())}},_updatePosition:function(){var f={originalEvent:this._lastEvent};this.fire("predrag",f),qn(this._element,this._newPos),this.fire("drag",f)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(f){un(document.body,"leaflet-dragging"),this._lastTarget&&(un(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),en(document,"mousemove touchmove",this._onMove,this),en(document,"mouseup touchend touchcancel",this._onUp,this),Ad(),_l();var y=this._moved&&this._moving;this._moving=!1,Vi._dragging=!1,y&&this.fire("dragend",{noInertia:f,distance:this._newPos.distanceTo(this._startPos)})}});function bp(f,y,P){var M,B=[1,4,2,8],Z,ae,ce,ge,Pe,Be,ot,Nt;for(Z=0,Be=f.length;Z<Be;Z++)f[Z]._code=So(f[Z],y);for(ce=0;ce<4;ce++){for(ot=B[ce],M=[],Z=0,Be=f.length,ae=Be-1;Z<Be;ae=Z++)ge=f[Z],Pe=f[ae],ge._code&ot?Pe._code&ot||(Nt=Rd(Pe,ge,ot,y,P),Nt._code=So(Nt,y),M.push(Nt)):(Pe._code&ot&&(Nt=Rd(Pe,ge,ot,y,P),Nt._code=So(Nt,y),M.push(Nt)),M.push(ge));f=M}return f}function iy(f,y){var P,M,B,Z,ae,ce,ge,Pe,Be;if(!f||f.length===0)throw new Error("latlngs not passed");Si(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var ot=me([0,0]),Nt=se(f),ur=Nt.getNorthWest().distanceTo(Nt.getSouthWest())*Nt.getNorthEast().distanceTo(Nt.getNorthWest());ur<1700&&(ot=wp(f));var ir=f.length,oi=[];for(P=0;P<ir;P++){var $r=me(f[P]);oi.push(y.project(me([$r.lat-ot.lat,$r.lng-ot.lng])))}for(ce=ge=Pe=0,P=0,M=ir-1;P<ir;M=P++)B=oi[P],Z=oi[M],ae=B.y*Z.x-Z.y*B.x,ge+=(B.x+Z.x)*ae,Pe+=(B.y+Z.y)*ae,ce+=ae*3;ce===0?Be=oi[0]:Be=[ge/ce,Pe/ce];var Dl=y.unproject(X(Be));return me([Dl.lat+ot.lat,Dl.lng+ot.lng])}function wp(f){for(var y=0,P=0,M=0,B=0;B<f.length;B++){var Z=me(f[B]);y+=Z.lat,P+=Z.lng,M++}return me([y/M,P/M])}var Y1={__proto__:null,clipPolygon:bp,polygonCenter:iy,centroid:wp};function Md(f,y){if(!y||!f.length)return f.slice();var P=y*y;return f=Q1(f,P),f=X1(f,P),f}function ay(f,y,P){return Math.sqrt(No(f,y,P,!0))}function Z1(f,y,P){return No(f,y,P)}function X1(f,y){var P=f.length,M=typeof Uint8Array<"u"?Uint8Array:Array,B=new M(P);B[0]=B[P-1]=1,_p(f,B,y,0,P-1);var Z,ae=[];for(Z=0;Z<P;Z++)B[Z]&&ae.push(f[Z]);return ae}function _p(f,y,P,M,B){var Z=0,ae,ce,ge;for(ce=M+1;ce<=B-1;ce++)ge=No(f[ce],f[M],f[B],!0),ge>Z&&(ae=ce,Z=ge);Z>P&&(y[ae]=1,_p(f,y,P,M,ae),_p(f,y,P,ae,B))}function Q1(f,y){for(var P=[f[0]],M=1,B=0,Z=f.length;M<Z;M++)J1(f[M],f[B])>y&&(P.push(f[M]),B=M);return B<Z-1&&P.push(f[Z-1]),P}var jp;function sy(f,y,P,M,B){var Z=M?jp:So(f,P),ae=So(y,P),ce,ge,Pe;for(jp=ae;;){if(!(Z|ae))return[f,y];if(Z&ae)return!1;ce=Z||ae,ge=Rd(f,y,ce,P,B),Pe=So(ge,P),ce===Z?(f=ge,Z=Pe):(y=ge,ae=Pe)}}function Rd(f,y,P,M,B){var Z=y.x-f.x,ae=y.y-f.y,ce=M.min,ge=M.max,Pe,Be;return P&8?(Pe=f.x+Z*(ge.y-f.y)/ae,Be=ge.y):P&4?(Pe=f.x+Z*(ce.y-f.y)/ae,Be=ce.y):P&2?(Pe=ge.x,Be=f.y+ae*(ge.x-f.x)/Z):P&1&&(Pe=ce.x,Be=f.y+ae*(ce.x-f.x)/Z),new G(Pe,Be,B)}function So(f,y){var P=0;return f.x<y.min.x?P|=1:f.x>y.max.x&&(P|=2),f.y<y.min.y?P|=4:f.y>y.max.y&&(P|=8),P}function J1(f,y){var P=y.x-f.x,M=y.y-f.y;return P*P+M*M}function No(f,y,P,M){var B=y.x,Z=y.y,ae=P.x-B,ce=P.y-Z,ge=ae*ae+ce*ce,Pe;return ge>0&&(Pe=((f.x-B)*ae+(f.y-Z)*ce)/ge,Pe>1?(B=P.x,Z=P.y):Pe>0&&(B+=ae*Pe,Z+=ce*Pe)),ae=f.x-B,ce=f.y-Z,M?ae*ae+ce*ce:new G(B,Z)}function Si(f){return!A(f[0])||typeof f[0][0]!="object"&&typeof f[0][0]<"u"}function oy(f){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Si(f)}function ly(f,y){var P,M,B,Z,ae,ce,ge,Pe;if(!f||f.length===0)throw new Error("latlngs not passed");Si(f)||(console.warn("latlngs are not flat! Only the first ring will be used"),f=f[0]);var Be=me([0,0]),ot=se(f),Nt=ot.getNorthWest().distanceTo(ot.getSouthWest())*ot.getNorthEast().distanceTo(ot.getNorthWest());Nt<1700&&(Be=wp(f));var ur=f.length,ir=[];for(P=0;P<ur;P++){var oi=me(f[P]);ir.push(y.project(me([oi.lat-Be.lat,oi.lng-Be.lng])))}for(P=0,M=0;P<ur-1;P++)M+=ir[P].distanceTo(ir[P+1])/2;if(M===0)Pe=ir[0];else for(P=0,Z=0;P<ur-1;P++)if(ae=ir[P],ce=ir[P+1],B=ae.distanceTo(ce),Z+=B,Z>M){ge=(Z-M)/B,Pe=[ce.x-ge*(ce.x-ae.x),ce.y-ge*(ce.y-ae.y)];break}var $r=y.unproject(X(Pe));return me([$r.lat+Be.lat,$r.lng+Be.lng])}var cy={__proto__:null,simplify:Md,pointToSegmentDistance:ay,closestPointOnSegment:Z1,clipSegment:sy,_getEdgeIntersection:Rd,_getBitCode:So,_sqClosestPointOnSegment:No,isFlat:Si,_flat:oy,polylineCenter:ly},Sp={project:function(f){return new G(f.lng,f.lat)},unproject:function(f){return new de(f.y,f.x)},bounds:new q([-180,-90],[180,90])},Np={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(f){var y=Math.PI/180,P=this.R,M=f.lat*y,B=this.R_MINOR/P,Z=Math.sqrt(1-B*B),ae=Z*Math.sin(M),ce=Math.tan(Math.PI/4-M/2)/Math.pow((1-ae)/(1+ae),Z/2);return M=-P*Math.log(Math.max(ce,1e-10)),new G(f.lng*y*P,M)},unproject:function(f){for(var y=180/Math.PI,P=this.R,M=this.R_MINOR/P,B=Math.sqrt(1-M*M),Z=Math.exp(-f.y/P),ae=Math.PI/2-2*Math.atan(Z),ce=0,ge=.1,Pe;ce<15&&Math.abs(ge)>1e-7;ce++)Pe=B*Math.sin(ae),Pe=Math.pow((1-Pe)/(1+Pe),B/2),ge=Math.PI/2-2*Math.atan(Z*Pe)-ae,ae+=ge;return new de(ae*y,f.x*y/P)}},e_={__proto__:null,LonLat:Sp,Mercator:Np,SphericalMercator:be},t_=i({},_e,{code:"EPSG:3395",projection:Np,transformation:(function(){var f=.5/(Math.PI*Np.R);return ve(f,.5,-f,.5)})()}),uy=i({},_e,{code:"EPSG:4326",projection:Sp,transformation:ve(1/180,1,-1/180,.5)}),n_=i({},fe,{projection:Sp,transformation:ve(1,0,-1,0),scale:function(f){return Math.pow(2,f)},zoom:function(f){return Math.log(f)/Math.LN2},distance:function(f,y){var P=y.lng-f.lng,M=y.lat-f.lat;return Math.sqrt(P*P+M*M)},infinite:!0});fe.Earth=_e,fe.EPSG3395=t_,fe.EPSG3857=Ze,fe.EPSG900913=He,fe.EPSG4326=uy,fe.Simple=n_;var Hi=J.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(f){return f.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(f){return f&&f.removeLayer(this),this},getPane:function(f){return this._map.getPane(f?this.options[f]||f:this.options.pane)},addInteractiveTarget:function(f){return this._map._targets[c(f)]=this,this},removeInteractiveTarget:function(f){return delete this._map._targets[c(f)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(f){var y=f.target;if(y.hasLayer(this)){if(this._map=y,this._zoomAnimated=y._zoomAnimated,this.getEvents){var P=this.getEvents();y.on(P,this),this.once("remove",function(){y.off(P,this)},this)}this.onAdd(y),this.fire("add"),y.fire("layeradd",{layer:this})}}});It.include({addLayer:function(f){if(!f._layerAdd)throw new Error("The provided object is not a Layer.");var y=c(f);return this._layers[y]?this:(this._layers[y]=f,f._mapToAdd=this,f.beforeAdd&&f.beforeAdd(this),this.whenReady(f._layerAdd,f),this)},removeLayer:function(f){var y=c(f);return this._layers[y]?(this._loaded&&f.onRemove(this),delete this._layers[y],this._loaded&&(this.fire("layerremove",{layer:f}),f.fire("remove")),f._map=f._mapToAdd=null,this):this},hasLayer:function(f){return c(f)in this._layers},eachLayer:function(f,y){for(var P in this._layers)f.call(y,this._layers[P]);return this},_addLayers:function(f){f=f?A(f)?f:[f]:[];for(var y=0,P=f.length;y<P;y++)this.addLayer(f[y])},_addZoomLimit:function(f){(!isNaN(f.options.maxZoom)||!isNaN(f.options.minZoom))&&(this._zoomBoundLayers[c(f)]=f,this._updateZoomLevels())},_removeZoomLimit:function(f){var y=c(f);this._zoomBoundLayers[y]&&(delete this._zoomBoundLayers[y],this._updateZoomLevels())},_updateZoomLevels:function(){var f=1/0,y=-1/0,P=this._getZoomSpan();for(var M in this._zoomBoundLayers){var B=this._zoomBoundLayers[M].options;f=B.minZoom===void 0?f:Math.min(f,B.minZoom),y=B.maxZoom===void 0?y:Math.max(y,B.maxZoom)}this._layersMaxZoom=y===-1/0?void 0:y,this._layersMinZoom=f===1/0?void 0:f,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Rs=Hi.extend({initialize:function(f,y){v(this,y),this._layers={};var P,M;if(f)for(P=0,M=f.length;P<M;P++)this.addLayer(f[P])},addLayer:function(f){var y=this.getLayerId(f);return this._layers[y]=f,this._map&&this._map.addLayer(f),this},removeLayer:function(f){var y=f in this._layers?f:this.getLayerId(f);return this._map&&this._layers[y]&&this._map.removeLayer(this._layers[y]),delete this._layers[y],this},hasLayer:function(f){var y=typeof f=="number"?f:this.getLayerId(f);return y in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(f){var y=Array.prototype.slice.call(arguments,1),P,M;for(P in this._layers)M=this._layers[P],M[f]&&M[f].apply(M,y);return this},onAdd:function(f){this.eachLayer(f.addLayer,f)},onRemove:function(f){this.eachLayer(f.removeLayer,f)},eachLayer:function(f,y){for(var P in this._layers)f.call(y,this._layers[P]);return this},getLayer:function(f){return this._layers[f]},getLayers:function(){var f=[];return this.eachLayer(f.push,f),f},setZIndex:function(f){return this.invoke("setZIndex",f)},getLayerId:function(f){return c(f)}}),Gc=function(f,y){return new Rs(f,y)},Ga=Rs.extend({addLayer:function(f){return this.hasLayer(f)?this:(f.addEventParent(this),Rs.prototype.addLayer.call(this,f),this.fire("layeradd",{layer:f}))},removeLayer:function(f){return this.hasLayer(f)?(f in this._layers&&(f=this._layers[f]),f.removeEventParent(this),Rs.prototype.removeLayer.call(this,f),this.fire("layerremove",{layer:f})):this},setStyle:function(f){return this.invoke("setStyle",f)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var f=new ne;for(var y in this._layers){var P=this._layers[y];f.extend(P.getBounds?P.getBounds():P.getLatLng())}return f}}),dy=function(f,y){return new Ga(f,y)},Po=U.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(f){v(this,f)},createIcon:function(f){return this._createIcon("icon",f)},createShadow:function(f){return this._createIcon("shadow",f)},_createIcon:function(f,y){var P=this._getIconUrl(f);if(!P){if(f==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var M=this._createImg(P,y&&y.tagName==="IMG"?y:null);return this._setIconStyles(M,f),(this.options.crossOrigin||this.options.crossOrigin==="")&&(M.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),M},_setIconStyles:function(f,y){var P=this.options,M=P[y+"Size"];typeof M=="number"&&(M=[M,M]);var B=X(M),Z=X(y==="shadow"&&P.shadowAnchor||P.iconAnchor||B&&B.divideBy(2,!0));f.className="leaflet-marker-"+y+" "+(P.className||""),Z&&(f.style.marginLeft=-Z.x+"px",f.style.marginTop=-Z.y+"px"),B&&(f.style.width=B.x+"px",f.style.height=B.y+"px")},_createImg:function(f,y){return y=y||document.createElement("img"),y.src=f,y},_getIconUrl:function(f){return qe.retina&&this.options[f+"RetinaUrl"]||this.options[f+"Url"]}});function fy(f){return new Po(f)}var Al=Po.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(f){return typeof Al.imagePath!="string"&&(Al.imagePath=this._detectIconPath()),(this.options.imagePath||Al.imagePath)+Po.prototype._getIconUrl.call(this,f)},_stripUrl:function(f){var y=function(P,M,B){var Z=M.exec(P);return Z&&Z[B]};return f=y(f,/^url\((['"])?(.+)\1\)$/,2),f&&y(f,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var f=jt("div","leaflet-default-icon-path",document.body),y=zc(f,"background-image")||zc(f,"backgroundImage");if(document.body.removeChild(f),y=this._stripUrl(y),y)return y;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),Pp=ji.extend({initialize:function(f){this._marker=f},addHooks:function(){var f=this._marker._icon;this._draggable||(this._draggable=new Vi(f,f,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),bt(f,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&un(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(f){var y=this._marker,P=y._map,M=this._marker.options.autoPanSpeed,B=this._marker.options.autoPanPadding,Z=Ha(y._icon),ae=P.getPixelBounds(),ce=P.getPixelOrigin(),ge=H(ae.min._subtract(ce).add(B),ae.max._subtract(ce).subtract(B));if(!ge.contains(Z)){var Pe=X((Math.max(ge.max.x,Z.x)-ge.max.x)/(ae.max.x-ge.max.x)-(Math.min(ge.min.x,Z.x)-ge.min.x)/(ae.min.x-ge.min.x),(Math.max(ge.max.y,Z.y)-ge.max.y)/(ae.max.y-ge.max.y)-(Math.min(ge.min.y,Z.y)-ge.min.y)/(ae.min.y-ge.min.y)).multiplyBy(M);P.panBy(Pe,{animate:!1}),this._draggable._newPos._add(Pe),this._draggable._startPos._add(Pe),qn(y._icon,this._draggable._newPos),this._onDrag(f),this._panRequest=$(this._adjustPan.bind(this,f))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(f){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,f)))},_onDrag:function(f){var y=this._marker,P=y._shadow,M=Ha(y._icon),B=y._map.layerPointToLatLng(M);P&&qn(P,M),y._latlng=B,f.latlng=B,f.oldLatLng=this._oldLatLng,y.fire("move",f).fire("drag",f)},_onDragEnd:function(f){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",f)}}),Ya=Hi.extend({options:{icon:new Al,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(f,y){v(this,y),this._latlng=me(f)},onAdd:function(f){this._zoomAnimated=this._zoomAnimated&&f.options.markerZoomAnimation,this._zoomAnimated&&f.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(f){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&f.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(f){var y=this._latlng;return this._latlng=me(f),this.update(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},setZIndexOffset:function(f){return this.options.zIndexOffset=f,this.update()},getIcon:function(){return this.options.icon},setIcon:function(f){return this.options.icon=f,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var f=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(f)}return this},_initIcon:function(){var f=this.options,y="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=f.icon.createIcon(this._icon),M=!1;P!==this._icon&&(this._icon&&this._removeIcon(),M=!0,f.title&&(P.title=f.title),P.tagName==="IMG"&&(P.alt=f.alt||"")),bt(P,y),f.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,f.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&mt(P,"focus",this._panOnFocus,this);var B=f.icon.createShadow(this._shadow),Z=!1;B!==this._shadow&&(this._removeShadow(),Z=!0),B&&(bt(B,y),B.alt=""),this._shadow=B,f.opacity<1&&this._updateOpacity(),M&&this.getPane().appendChild(this._icon),this._initInteraction(),B&&Z&&this.getPane(f.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&en(this._icon,"focus",this._panOnFocus,this),yn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&yn(this._shadow),this._shadow=null},_setPos:function(f){this._icon&&qn(this._icon,f),this._shadow&&qn(this._shadow,f),this._zIndex=f.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(f){this._icon&&(this._icon.style.zIndex=this._zIndex+f)},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center).round();this._setPos(y)},_initInteraction:function(){if(this.options.interactive&&(bt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Pp)){var f=this.options.draggable;this.dragging&&(f=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Pp(this),f&&this.dragging.enable()}},setOpacity:function(f){return this.options.opacity=f,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var f=this.options.opacity;this._icon&&Lr(this._icon,f),this._shadow&&Lr(this._shadow,f)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var f=this._map;if(f){var y=this.options.icon.options,P=y.iconSize?X(y.iconSize):X(0,0),M=y.iconAnchor?X(y.iconAnchor):X(0,0);f.panInside(this._latlng,{paddingTopLeft:M,paddingBottomRight:P.subtract(M)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function r_(f,y){return new Ya(f,y)}var Is=Hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(f){this._renderer=f.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(f){return v(this,f),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&f&&Object.prototype.hasOwnProperty.call(f,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Id=Is.extend({options:{fill:!0,radius:10},initialize:function(f,y){v(this,y),this._latlng=me(f),this._radius=this.options.radius},setLatLng:function(f){var y=this._latlng;return this._latlng=me(f),this.redraw(),this.fire("move",{oldLatLng:y,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(f){return this.options.radius=this._radius=f,this.redraw()},getRadius:function(){return this._radius},setStyle:function(f){var y=f&&f.radius||this._radius;return Is.prototype.setStyle.call(this,f),this.setRadius(y),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var f=this._radius,y=this._radiusY||f,P=this._clickTolerance(),M=[f+P,y+P];this._pxBounds=new q(this._point.subtract(M),this._point.add(M))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(f){return f.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hy(f,y){return new Id(f,y)}var Dd=Id.extend({initialize:function(f,y,P){if(typeof y=="number"&&(y=i({},P,{radius:y})),v(this,y),this._latlng=me(f),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(f){return this._mRadius=f,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var f=[this._radius,this._radiusY||this._radius];return new ne(this._map.layerPointToLatLng(this._point.subtract(f)),this._map.layerPointToLatLng(this._point.add(f)))},setStyle:Is.prototype.setStyle,_project:function(){var f=this._latlng.lng,y=this._latlng.lat,P=this._map,M=P.options.crs;if(M.distance===_e.distance){var B=Math.PI/180,Z=this._mRadius/_e.R/B,ae=P.project([y+Z,f]),ce=P.project([y-Z,f]),ge=ae.add(ce).divideBy(2),Pe=P.unproject(ge).lat,Be=Math.acos((Math.cos(Z*B)-Math.sin(y*B)*Math.sin(Pe*B))/(Math.cos(y*B)*Math.cos(Pe*B)))/B;(isNaN(Be)||Be===0)&&(Be=Z/Math.cos(Math.PI/180*y)),this._point=ge.subtract(P.getPixelOrigin()),this._radius=isNaN(Be)?0:ge.x-P.project([Pe,f-Be]).x,this._radiusY=ge.y-ae.y}else{var ot=M.unproject(M.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(ot).x}this._updateBounds()}});function Yc(f,y,P){return new Dd(f,y,P)}var si=Is.extend({options:{smoothFactor:1,noClip:!1},initialize:function(f,y){v(this,y),this._setLatLngs(f)},getLatLngs:function(){return this._latlngs},setLatLngs:function(f){return this._setLatLngs(f),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(f){for(var y=1/0,P=null,M=No,B,Z,ae=0,ce=this._parts.length;ae<ce;ae++)for(var ge=this._parts[ae],Pe=1,Be=ge.length;Pe<Be;Pe++){B=ge[Pe-1],Z=ge[Pe];var ot=M(f,B,Z,!0);ot<y&&(y=ot,P=M(f,B,Z))}return P&&(P.distance=Math.sqrt(y)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ly(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(f,y){return y=y||this._defaultShape(),f=me(f),y.push(f),this._bounds.extend(f),this.redraw()},_setLatLngs:function(f){this._bounds=new ne,this._latlngs=this._convertLatLngs(f)},_defaultShape:function(){return Si(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(f){for(var y=[],P=Si(f),M=0,B=f.length;M<B;M++)P?(y[M]=me(f[M]),this._bounds.extend(y[M])):y[M]=this._convertLatLngs(f[M]);return y},_project:function(){var f=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,f),this._bounds.isValid()&&f.isValid()&&(this._rawPxBounds=f,this._updateBounds())},_updateBounds:function(){var f=this._clickTolerance(),y=new G(f,f);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(y),this._rawPxBounds.max.add(y)]))},_projectLatlngs:function(f,y,P){var M=f[0]instanceof de,B=f.length,Z,ae;if(M){for(ae=[],Z=0;Z<B;Z++)ae[Z]=this._map.latLngToLayerPoint(f[Z]),P.extend(ae[Z]);y.push(ae)}else for(Z=0;Z<B;Z++)this._projectLatlngs(f[Z],y,P)},_clipPoints:function(){var f=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}var y=this._parts,P,M,B,Z,ae,ce,ge;for(P=0,B=0,Z=this._rings.length;P<Z;P++)for(ge=this._rings[P],M=0,ae=ge.length;M<ae-1;M++)ce=sy(ge[M],ge[M+1],f,M,!0),ce&&(y[B]=y[B]||[],y[B].push(ce[0]),(ce[1]!==ge[M+1]||M===ae-2)&&(y[B].push(ce[1]),B++))}},_simplifyPoints:function(){for(var f=this._parts,y=this.options.smoothFactor,P=0,M=f.length;P<M;P++)f[P]=Md(f[P],y)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(f,y){var P,M,B,Z,ae,ce,ge=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(P=0,Z=this._parts.length;P<Z;P++)for(ce=this._parts[P],M=0,ae=ce.length,B=ae-1;M<ae;B=M++)if(!(!y&&M===0)&&ay(f,ce[B],ce[M])<=ge)return!0;return!1}});function i_(f,y){return new si(f,y)}si._flat=oy;var Za=si.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return iy(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(f){var y=si.prototype._convertLatLngs.call(this,f),P=y.length;return P>=2&&y[0]instanceof de&&y[0].equals(y[P-1])&&y.pop(),y},_setLatLngs:function(f){si.prototype._setLatLngs.call(this,f),Si(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Si(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var f=this._renderer._bounds,y=this.options.weight,P=new G(y,y);if(f=new q(f.min.subtract(P),f.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(f))){if(this.options.noClip){this._parts=this._rings;return}for(var M=0,B=this._rings.length,Z;M<B;M++)Z=bp(this._rings[M],f,!0),Z.length&&this._parts.push(Z)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(f){var y=!1,P,M,B,Z,ae,ce,ge,Pe;if(!this._pxBounds||!this._pxBounds.contains(f))return!1;for(Z=0,ge=this._parts.length;Z<ge;Z++)for(P=this._parts[Z],ae=0,Pe=P.length,ce=Pe-1;ae<Pe;ce=ae++)M=P[ae],B=P[ce],M.y>f.y!=B.y>f.y&&f.x<(B.x-M.x)*(f.y-M.y)/(B.y-M.y)+M.x&&(y=!y);return y||si.prototype._containsPoint.call(this,f,!0)}});function a_(f,y){return new Za(f,y)}var ha=Ga.extend({initialize:function(f,y){v(this,y),this._layers={},f&&this.addData(f)},addData:function(f){var y=A(f)?f:f.features,P,M,B;if(y){for(P=0,M=y.length;P<M;P++)B=y[P],(B.geometries||B.geometry||B.features||B.coordinates)&&this.addData(B);return this}var Z=this.options;if(Z.filter&&!Z.filter(f))return this;var ae=kl(f,Z);return ae?(ae.feature=zd(f),ae.defaultOptions=ae.options,this.resetStyle(ae),Z.onEachFeature&&Z.onEachFeature(f,ae),this.addLayer(ae)):this},resetStyle:function(f){return f===void 0?this.eachLayer(this.resetStyle,this):(f.options=i({},f.defaultOptions),this._setLayerStyle(f,this.options.style),this)},setStyle:function(f){return this.eachLayer(function(y){this._setLayerStyle(y,f)},this)},_setLayerStyle:function(f,y){f.setStyle&&(typeof y=="function"&&(y=y(f.feature)),f.setStyle(y))}});function kl(f,y){var P=f.type==="Feature"?f.geometry:f,M=P?P.coordinates:null,B=[],Z=y&&y.pointToLayer,ae=y&&y.coordsToLatLng||Fd,ce,ge,Pe,Be;if(!M&&!P)return null;switch(P.type){case"Point":return ce=ae(M),Ld(Z,f,ce,y);case"MultiPoint":for(Pe=0,Be=M.length;Pe<Be;Pe++)ce=ae(M[Pe]),B.push(Ld(Z,f,ce,y));return new Ga(B);case"LineString":case"MultiLineString":return ge=Zc(M,P.type==="LineString"?0:1,ae),new si(ge,y);case"Polygon":case"MultiPolygon":return ge=Zc(M,P.type==="Polygon"?1:2,ae),new Za(ge,y);case"GeometryCollection":for(Pe=0,Be=P.geometries.length;Pe<Be;Pe++){var ot=kl({geometry:P.geometries[Pe],type:"Feature",properties:f.properties},y);ot&&B.push(ot)}return new Ga(B);case"FeatureCollection":for(Pe=0,Be=P.features.length;Pe<Be;Pe++){var Nt=kl(P.features[Pe],y);Nt&&B.push(Nt)}return new Ga(B);default:throw new Error("Invalid GeoJSON object.")}}function Ld(f,y,P,M){return f?f(y,P):new Ya(P,M&&M.markersInheritOptions&&M)}function Fd(f){return new de(f[1],f[0],f[2])}function Zc(f,y,P){for(var M=[],B=0,Z=f.length,ae;B<Z;B++)ae=y?Zc(f[B],y-1,P):(P||Fd)(f[B]),M.push(ae);return M}function $d(f,y){return f=me(f),f.alt!==void 0?[g(f.lng,y),g(f.lat,y),g(f.alt,y)]:[g(f.lng,y),g(f.lat,y)]}function Bd(f,y,P,M){for(var B=[],Z=0,ae=f.length;Z<ae;Z++)B.push(y?Bd(f[Z],Si(f[Z])?0:y-1,P,M):$d(f[Z],M));return!y&&P&&B.length>0&&B.push(B[0].slice()),B}function Cl(f,y){return f.feature?i({},f.feature,{geometry:y}):zd(y)}function zd(f){return f.type==="Feature"||f.type==="FeatureCollection"?f:{type:"Feature",properties:{},geometry:f}}var Ap={toGeoJSON:function(f){return Cl(this,{type:"Point",coordinates:$d(this.getLatLng(),f)})}};Ya.include(Ap),Dd.include(Ap),Id.include(Ap),si.include({toGeoJSON:function(f){var y=!Si(this._latlngs),P=Bd(this._latlngs,y?1:0,!1,f);return Cl(this,{type:(y?"Multi":"")+"LineString",coordinates:P})}}),Za.include({toGeoJSON:function(f){var y=!Si(this._latlngs),P=y&&!Si(this._latlngs[0]),M=Bd(this._latlngs,P?2:y?1:0,!0,f);return y||(M=[M]),Cl(this,{type:(P?"Multi":"")+"Polygon",coordinates:M})}}),Rs.include({toMultiPoint:function(f){var y=[];return this.eachLayer(function(P){y.push(P.toGeoJSON(f).geometry.coordinates)}),Cl(this,{type:"MultiPoint",coordinates:y})},toGeoJSON:function(f){var y=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(y==="MultiPoint")return this.toMultiPoint(f);var P=y==="GeometryCollection",M=[];return this.eachLayer(function(B){if(B.toGeoJSON){var Z=B.toGeoJSON(f);if(P)M.push(Z.geometry);else{var ae=zd(Z);ae.type==="FeatureCollection"?M.push.apply(M,ae.features):M.push(ae)}}}),P?Cl(this,{geometries:M,type:"GeometryCollection"}):{type:"FeatureCollection",features:M}}});function py(f,y){return new ha(f,y)}var Ki=py,Ds=Hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(f,y,P){this._url=f,this._bounds=se(y),v(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(bt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){yn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(f){return this.options.opacity=f,this._image&&this._updateOpacity(),this},setStyle:function(f){return f.opacity&&this.setOpacity(f.opacity),this},bringToFront:function(){return this._map&&xl(this._image),this},bringToBack:function(){return this._map&&Va(this._image),this},setUrl:function(f){return this._url=f,this._image&&(this._image.src=f),this},setBounds:function(f){return this._bounds=se(f),this._map&&this._reset(),this},getEvents:function(){var f={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var f=this._url.tagName==="IMG",y=this._image=f?this._url:jt("img");if(bt(y,"leaflet-image-layer"),this._zoomAnimated&&bt(y,"leaflet-zoom-animated"),this.options.className&&bt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onload=o(this.fire,this,"load"),y.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),f){this._url=y.src;return}y.src=this._url,y.alt=this.options.alt},_animateZoom:function(f){var y=this._map.getZoomScale(f.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,f.zoom,f.center).min;Wi(this._image,P,y)},_reset:function(){var f=this._image,y=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=y.getSize();qn(f,y.min),f.style.width=P.x+"px",f.style.height=P.y+"px"},_updateOpacity:function(){Lr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var f=this.options.errorOverlayUrl;f&&this._url!==f&&(this._url=f,this._image.src=f)},getCenter:function(){return this._bounds.getCenter()}}),my=function(f,y,P){return new Ds(f,y,P)},kp=Ds.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var f=this._url.tagName==="VIDEO",y=this._image=f?this._url:jt("video");if(bt(y,"leaflet-image-layer"),this._zoomAnimated&&bt(y,"leaflet-zoom-animated"),this.options.className&&bt(y,this.options.className),y.onselectstart=p,y.onmousemove=p,y.onloadeddata=o(this.fire,this,"load"),f){for(var P=y.getElementsByTagName("source"),M=[],B=0;B<P.length;B++)M.push(P[B].src);this._url=P.length>0?M:[y.src];return}A(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(y.style,"objectFit")&&(y.style.objectFit="fill"),y.autoplay=!!this.options.autoplay,y.loop=!!this.options.loop,y.muted=!!this.options.muted,y.playsInline=!!this.options.playsInline;for(var Z=0;Z<this._url.length;Z++){var ae=jt("source");ae.src=this._url[Z],y.appendChild(ae)}}});function gy(f,y,P){return new kp(f,y,P)}var Cp=Ds.extend({_initImage:function(){var f=this._image=this._url;bt(f,"leaflet-image-layer"),this._zoomAnimated&&bt(f,"leaflet-zoom-animated"),this.options.className&&bt(f,this.options.className),f.onselectstart=p,f.onmousemove=p}});function Tp(f,y,P){return new Cp(f,y,P)}var pa=Hi.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(f,y){f&&(f instanceof de||A(f))?(this._latlng=me(f),v(this,y)):(v(this,f),this._source=y),this.options.content&&(this._content=this.options.content)},openOn:function(f){return f=arguments.length?f:this._source._map,f.hasLayer(this)||f.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(f){return this._map?this.close():(arguments.length?this._source=f:f=this._source,this._prepareOpen(),this.openOn(f._map)),this},onAdd:function(f){this._zoomAnimated=f._zoomAnimated,this._container||this._initLayout(),f._fadeAnimated&&Lr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),f._fadeAnimated&&Lr(this._container,1),this.bringToFront(),this.options.interactive&&(bt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(f){f._fadeAnimated?(Lr(this._container,0),this._removeTimeout=setTimeout(o(yn,void 0,this._container),200)):yn(this._container),this.options.interactive&&(un(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(f){return this._latlng=me(f),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(f){return this._content=f,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var f={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&xl(this._container),this},bringToBack:function(){return this._map&&Va(this._container),this},_prepareOpen:function(f){var y=this._source;if(!y._map)return!1;if(y instanceof Ga){y=null;var P=this._source._layers;for(var M in P)if(P[M]._map){y=P[M];break}if(!y)return!1;this._source=y}if(!f)if(y.getCenter)f=y.getCenter();else if(y.getLatLng)f=y.getLatLng();else if(y.getBounds)f=y.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(f),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var f=this._contentNode,y=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof y=="string")f.innerHTML=y;else{for(;f.hasChildNodes();)f.removeChild(f.firstChild);f.appendChild(y)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var f=this._map.latLngToLayerPoint(this._latlng),y=X(this.options.offset),P=this._getAnchor();this._zoomAnimated?qn(this._container,f.add(P)):y=y.add(f).add(P);var M=this._containerBottom=-y.y,B=this._containerLeft=-Math.round(this._containerWidth/2)+y.x;this._container.style.bottom=M+"px",this._container.style.left=B+"px"}},_getAnchor:function(){return[0,0]}});It.include({_initOverlay:function(f,y,P,M){var B=y;return B instanceof f||(B=new f(M).setContent(y)),P&&B.setLatLng(P),B}}),Hi.include({_initOverlay:function(f,y,P,M){var B=P;return B instanceof f?(v(B,M),B._source=this):(B=y&&!M?y:new f(M,this),B.setContent(P)),B}});var Wd=pa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(f){return f=arguments.length?f:this._source._map,!f.hasLayer(this)&&f._popup&&f._popup.options.autoClose&&f.removeLayer(f._popup),f._popup=this,pa.prototype.openOn.call(this,f)},onAdd:function(f){pa.prototype.onAdd.call(this,f),f.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Is||this._source.on("preclick",fa))},onRemove:function(f){pa.prototype.onRemove.call(this,f),f.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Is||this._source.off("preclick",fa))},getEvents:function(){var f=pa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(f.preclick=this.close),this.options.keepInView&&(f.moveend=this._adjustPan),f},_initLayout:function(){var f="leaflet-popup",y=this._container=jt("div",f+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=jt("div",f+"-content-wrapper",y);if(this._contentNode=jt("div",f+"-content",P),Vc(y),Cd(this._contentNode),mt(y,"contextmenu",fa),this._tipContainer=jt("div",f+"-tip-container",y),this._tip=jt("div",f+"-tip",this._tipContainer),this.options.closeButton){var M=this._closeButton=jt("a",f+"-close-button",y);M.setAttribute("role","button"),M.setAttribute("aria-label","Close popup"),M.href="#close",M.innerHTML='<span aria-hidden="true">&#215;</span>',mt(M,"click",function(B){Mn(B),this.close()},this)}},_updateLayout:function(){var f=this._contentNode,y=f.style;y.width="",y.whiteSpace="nowrap";var P=f.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),y.width=P+1+"px",y.whiteSpace="",y.height="";var M=f.offsetHeight,B=this.options.maxHeight,Z="leaflet-popup-scrolled";B&&M>B?(y.height=B+"px",bt(f,Z)):un(f,Z),this._containerWidth=this._container.offsetWidth},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center),P=this._getAnchor();qn(this._container,y.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var f=this._map,y=parseInt(zc(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+y,M=this._containerWidth,B=new G(this._containerLeft,-P-this._containerBottom);B._add(Ha(this._container));var Z=f.layerPointToContainerPoint(B),ae=X(this.options.autoPanPadding),ce=X(this.options.autoPanPaddingTopLeft||ae),ge=X(this.options.autoPanPaddingBottomRight||ae),Pe=f.getSize(),Be=0,ot=0;Z.x+M+ge.x>Pe.x&&(Be=Z.x+M-Pe.x+ge.x),Z.x-Be-ce.x<0&&(Be=Z.x-ce.x),Z.y+P+ge.y>Pe.y&&(ot=Z.y+P-Pe.y+ge.y),Z.y-ot-ce.y<0&&(ot=Z.y-ce.y),(Be||ot)&&(this.options.keepInView&&(this._autopanning=!0),f.fire("autopanstart").panBy([Be,ot]))}},_getAnchor:function(){return X(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Tl=function(f,y){return new Wd(f,y)};It.mergeOptions({closePopupOnClick:!0}),It.include({openPopup:function(f,y,P){return this._initOverlay(Wd,f,y,P).openOn(this),this},closePopup:function(f){return f=arguments.length?f:this._popup,f&&f.close(),this}}),Hi.include({bindPopup:function(f,y){return this._popup=this._initOverlay(Wd,this._popup,f,y),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(f){return this._popup&&(this instanceof Ga||(this._popup._source=this),this._popup._prepareOpen(f||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(f){return this._popup&&this._popup.setContent(f),this},getPopup:function(){return this._popup},_openPopup:function(f){if(!(!this._popup||!this._map)){Ui(f);var y=f.layer||f.target;if(this._popup._source===y&&!(y instanceof Is)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(f.latlng);return}this._popup._source=y,this.openPopup(f.latlng)}},_movePopup:function(f){this._popup.setLatLng(f.latlng)},_onKeyPress:function(f){f.originalEvent.keyCode===13&&this._openPopup(f)}});var El=pa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(f){pa.prototype.onAdd.call(this,f),this.setOpacity(this.options.opacity),f.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(f){pa.prototype.onRemove.call(this,f),f.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var f=pa.prototype.getEvents.call(this);return this.options.permanent||(f.preclick=this.close),f},_initLayout:function(){var f="leaflet-tooltip",y=f+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=jt("div",y),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(f){var y,P,M=this._map,B=this._container,Z=M.latLngToContainerPoint(M.getCenter()),ae=M.layerPointToContainerPoint(f),ce=this.options.direction,ge=B.offsetWidth,Pe=B.offsetHeight,Be=X(this.options.offset),ot=this._getAnchor();ce==="top"?(y=ge/2,P=Pe):ce==="bottom"?(y=ge/2,P=0):ce==="center"?(y=ge/2,P=Pe/2):ce==="right"?(y=0,P=Pe/2):ce==="left"?(y=ge,P=Pe/2):ae.x<Z.x?(ce="right",y=0,P=Pe/2):(ce="left",y=ge+(Be.x+ot.x)*2,P=Pe/2),f=f.subtract(X(y,P,!0)).add(Be).add(ot),un(B,"leaflet-tooltip-right"),un(B,"leaflet-tooltip-left"),un(B,"leaflet-tooltip-top"),un(B,"leaflet-tooltip-bottom"),bt(B,"leaflet-tooltip-"+ce),qn(B,f)},_updatePosition:function(){var f=this._map.latLngToLayerPoint(this._latlng);this._setPosition(f)},setOpacity:function(f){this.options.opacity=f,this._container&&Lr(this._container,f)},_animateZoom:function(f){var y=this._map._latLngToNewLayerPoint(this._latlng,f.zoom,f.center);this._setPosition(y)},_getAnchor:function(){return X(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Xc=function(f,y){return new El(f,y)};It.include({openTooltip:function(f,y,P){return this._initOverlay(El,f,y,P).openOn(this),this},closeTooltip:function(f){return f.close(),this}}),Hi.include({bindTooltip:function(f,y){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(El,this._tooltip,f,y),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(f){if(!(!f&&this._tooltipHandlersAdded)){var y=f?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[y](P),this._tooltipHandlersAdded=!f}},openTooltip:function(f){return this._tooltip&&(this instanceof Ga||(this._tooltip._source=this),this._tooltip._prepareOpen(f)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(f){return this._tooltip&&this._tooltip.setContent(f),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(f){var y=typeof f.getElement=="function"&&f.getElement();y&&(mt(y,"focus",function(){this._tooltip._source=f,this.openTooltip()},this),mt(y,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(f){var y=typeof f.getElement=="function"&&f.getElement();y&&y.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(f){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var y=this;this._map.once("moveend",function(){y._openOnceFlag=!1,y._openTooltip(f)});return}this._tooltip._source=f.layer||f.target,this.openTooltip(this._tooltip.options.sticky?f.latlng:void 0)}},_moveTooltip:function(f){var y=f.latlng,P,M;this._tooltip.options.sticky&&f.originalEvent&&(P=this._map.mouseEventToContainerPoint(f.originalEvent),M=this._map.containerPointToLayerPoint(P),y=this._map.layerPointToLatLng(M)),this._tooltip.setLatLng(y)}});var qd=Po.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(f){var y=f&&f.tagName==="DIV"?f:document.createElement("div"),P=this.options;if(P.html instanceof Element?(jd(y),y.appendChild(P.html)):y.innerHTML=P.html!==!1?P.html:"",P.bgPos){var M=X(P.bgPos);y.style.backgroundPosition=-M.x+"px "+-M.y+"px"}return this._setIconStyles(y,"icon"),y},createShadow:function(){return null}});function vy(f){return new qd(f)}Po.Default=Al;var Ls=Hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:qe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(f){v(this,f)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(f){f._addZoomLimit(this)},onRemove:function(f){this._removeAllTiles(),yn(this._container),f._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(xl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Va(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(f){return this.options.opacity=f,this._updateOpacity(),this},setZIndex:function(f){return this.options.zIndex=f,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var f=this._clampZoom(this._map.getZoom());f!==this._tileZoom&&(this._tileZoom=f,this._updateLevels()),this._update()}return this},getEvents:function(){var f={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),f.move=this._onMove),this._zoomAnimated&&(f.zoomanim=this._animateZoom),f},createTile:function(){return document.createElement("div")},getTileSize:function(){var f=this.options.tileSize;return f instanceof G?f:new G(f,f)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(f){for(var y=this.getPane().children,P=-f(-1/0,1/0),M=0,B=y.length,Z;M<B;M++)Z=y[M].style.zIndex,y[M]!==this._container&&Z&&(P=f(P,+Z));isFinite(P)&&(this.options.zIndex=P+f(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!qe.ielt9){Lr(this._container,this.options.opacity);var f=+new Date,y=!1,P=!1;for(var M in this._tiles){var B=this._tiles[M];if(!(!B.current||!B.loaded)){var Z=Math.min(1,(f-B.loaded)/200);Lr(B.el,Z),Z<1?y=!0:(B.active?P=!0:this._onOpaqueTile(B),B.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),y&&(z(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=jt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var f=this._tileZoom,y=this.options.maxZoom;if(f!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===f?(this._levels[P].el.style.zIndex=y-Math.abs(f-P),this._onUpdateLevel(P)):(yn(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var M=this._levels[f],B=this._map;return M||(M=this._levels[f]={},M.el=jt("div","leaflet-tile-container leaflet-zoom-animated",this._container),M.el.style.zIndex=y,M.origin=B.project(B.unproject(B.getPixelOrigin()),f).round(),M.zoom=f,this._setZoomTransform(M,B.getCenter(),B.getZoom()),p(M.el.offsetWidth),this._onCreateLevel(M)),this._level=M,M}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var f,y,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(f in this._tiles)y=this._tiles[f],y.retain=y.current;for(f in this._tiles)if(y=this._tiles[f],y.current&&!y.active){var M=y.coords;this._retainParent(M.x,M.y,M.z,M.z-5)||this._retainChildren(M.x,M.y,M.z,M.z+2)}for(f in this._tiles)this._tiles[f].retain||this._removeTile(f)}},_removeTilesAtZoom:function(f){for(var y in this._tiles)this._tiles[y].coords.z===f&&this._removeTile(y)},_removeAllTiles:function(){for(var f in this._tiles)this._removeTile(f)},_invalidateAll:function(){for(var f in this._levels)yn(this._levels[f].el),this._onRemoveLevel(Number(f)),delete this._levels[f];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(f,y,P,M){var B=Math.floor(f/2),Z=Math.floor(y/2),ae=P-1,ce=new G(+B,+Z);ce.z=+ae;var ge=this._tileCoordsToKey(ce),Pe=this._tiles[ge];return Pe&&Pe.active?(Pe.retain=!0,!0):(Pe&&Pe.loaded&&(Pe.retain=!0),ae>M?this._retainParent(B,Z,ae,M):!1)},_retainChildren:function(f,y,P,M){for(var B=2*f;B<2*f+2;B++)for(var Z=2*y;Z<2*y+2;Z++){var ae=new G(B,Z);ae.z=P+1;var ce=this._tileCoordsToKey(ae),ge=this._tiles[ce];if(ge&&ge.active){ge.retain=!0;continue}else ge&&ge.loaded&&(ge.retain=!0);P+1<M&&this._retainChildren(B,Z,P+1,M)}},_resetView:function(f){var y=f&&(f.pinch||f.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),y,y)},_animateZoom:function(f){this._setView(f.center,f.zoom,!0,f.noUpdate)},_clampZoom:function(f){var y=this.options;return y.minNativeZoom!==void 0&&f<y.minNativeZoom?y.minNativeZoom:y.maxNativeZoom!==void 0&&y.maxNativeZoom<f?y.maxNativeZoom:f},_setView:function(f,y,P,M){var B=Math.round(y);this.options.maxZoom!==void 0&&B>this.options.maxZoom||this.options.minZoom!==void 0&&B<this.options.minZoom?B=void 0:B=this._clampZoom(B);var Z=this.options.updateWhenZooming&&B!==this._tileZoom;(!M||Z)&&(this._tileZoom=B,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),B!==void 0&&this._update(f),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(f,y)},_setZoomTransforms:function(f,y){for(var P in this._levels)this._setZoomTransform(this._levels[P],f,y)},_setZoomTransform:function(f,y,P){var M=this._map.getZoomScale(P,f.zoom),B=f.origin.multiplyBy(M).subtract(this._map._getNewPixelOrigin(y,P)).round();qe.any3d?Wi(f.el,B,M):qn(f.el,B)},_resetGrid:function(){var f=this._map,y=f.options.crs,P=this._tileSize=this.getTileSize(),M=this._tileZoom,B=this._map.getPixelWorldBounds(this._tileZoom);B&&(this._globalTileRange=this._pxBoundsToTileRange(B)),this._wrapX=y.wrapLng&&!this.options.noWrap&&[Math.floor(f.project([0,y.wrapLng[0]],M).x/P.x),Math.ceil(f.project([0,y.wrapLng[1]],M).x/P.y)],this._wrapY=y.wrapLat&&!this.options.noWrap&&[Math.floor(f.project([y.wrapLat[0],0],M).y/P.x),Math.ceil(f.project([y.wrapLat[1],0],M).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(f){var y=this._map,P=y._animatingZoom?Math.max(y._animateToZoom,y.getZoom()):y.getZoom(),M=y.getZoomScale(P,this._tileZoom),B=y.project(f,this._tileZoom).floor(),Z=y.getSize().divideBy(M*2);return new q(B.subtract(Z),B.add(Z))},_update:function(f){var y=this._map;if(y){var P=this._clampZoom(y.getZoom());if(f===void 0&&(f=y.getCenter()),this._tileZoom!==void 0){var M=this._getTiledPixelBounds(f),B=this._pxBoundsToTileRange(M),Z=B.getCenter(),ae=[],ce=this.options.keepBuffer,ge=new q(B.getBottomLeft().subtract([ce,-ce]),B.getTopRight().add([ce,-ce]));if(!(isFinite(B.min.x)&&isFinite(B.min.y)&&isFinite(B.max.x)&&isFinite(B.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pe in this._tiles){var Be=this._tiles[Pe].coords;(Be.z!==this._tileZoom||!ge.contains(new G(Be.x,Be.y)))&&(this._tiles[Pe].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(f,P);return}for(var ot=B.min.y;ot<=B.max.y;ot++)for(var Nt=B.min.x;Nt<=B.max.x;Nt++){var ur=new G(Nt,ot);if(ur.z=this._tileZoom,!!this._isValidTile(ur)){var ir=this._tiles[this._tileCoordsToKey(ur)];ir?ir.current=!0:ae.push(ur)}}if(ae.sort(function($r,Dl){return $r.distanceTo(Z)-Dl.distanceTo(Z)}),ae.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var oi=document.createDocumentFragment();for(Nt=0;Nt<ae.length;Nt++)this._addTile(ae[Nt],oi);this._level.el.appendChild(oi)}}}},_isValidTile:function(f){var y=this._map.options.crs;if(!y.infinite){var P=this._globalTileRange;if(!y.wrapLng&&(f.x<P.min.x||f.x>P.max.x)||!y.wrapLat&&(f.y<P.min.y||f.y>P.max.y))return!1}if(!this.options.bounds)return!0;var M=this._tileCoordsToBounds(f);return se(this.options.bounds).overlaps(M)},_keyToBounds:function(f){return this._tileCoordsToBounds(this._keyToTileCoords(f))},_tileCoordsToNwSe:function(f){var y=this._map,P=this.getTileSize(),M=f.scaleBy(P),B=M.add(P),Z=y.unproject(M,f.z),ae=y.unproject(B,f.z);return[Z,ae]},_tileCoordsToBounds:function(f){var y=this._tileCoordsToNwSe(f),P=new ne(y[0],y[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(f){return f.x+":"+f.y+":"+f.z},_keyToTileCoords:function(f){var y=f.split(":"),P=new G(+y[0],+y[1]);return P.z=+y[2],P},_removeTile:function(f){var y=this._tiles[f];y&&(yn(y.el),delete this._tiles[f],this.fire("tileunload",{tile:y.el,coords:this._keyToTileCoords(f)}))},_initTile:function(f){bt(f,"leaflet-tile");var y=this.getTileSize();f.style.width=y.x+"px",f.style.height=y.y+"px",f.onselectstart=p,f.onmousemove=p,qe.ielt9&&this.options.opacity<1&&Lr(f,this.options.opacity)},_addTile:function(f,y){var P=this._getTilePos(f),M=this._tileCoordsToKey(f),B=this.createTile(this._wrapCoords(f),o(this._tileReady,this,f));this._initTile(B),this.createTile.length<2&&$(o(this._tileReady,this,f,null,B)),qn(B,P),this._tiles[M]={el:B,coords:f,current:!0},y.appendChild(B),this.fire("tileloadstart",{tile:B,coords:f})},_tileReady:function(f,y,P){y&&this.fire("tileerror",{error:y,tile:P,coords:f});var M=this._tileCoordsToKey(f);P=this._tiles[M],P&&(P.loaded=+new Date,this._map._fadeAnimated?(Lr(P.el,0),z(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),y||(bt(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:f})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),qe.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(f){return f.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(f){var y=new G(this._wrapX?h(f.x,this._wrapX):f.x,this._wrapY?h(f.y,this._wrapY):f.y);return y.z=f.z,y},_pxBoundsToTileRange:function(f){var y=this.getTileSize();return new q(f.min.unscaleBy(y).floor(),f.max.unscaleBy(y).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var f in this._tiles)if(!this._tiles[f].loaded)return!1;return!0}});function Ol(f){return new Ls(f)}var Fs=Ls.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(f,y){this._url=f,y=v(this,y),y.detectRetina&&qe.retina&&y.maxZoom>0?(y.tileSize=Math.floor(y.tileSize/2),y.zoomReverse?(y.zoomOffset--,y.minZoom=Math.min(y.maxZoom,y.minZoom+1)):(y.zoomOffset++,y.maxZoom=Math.max(y.minZoom,y.maxZoom-1)),y.minZoom=Math.max(0,y.minZoom)):y.zoomReverse?y.minZoom=Math.min(y.maxZoom,y.minZoom):y.maxZoom=Math.max(y.minZoom,y.maxZoom),typeof y.subdomains=="string"&&(y.subdomains=y.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(f,y){return this._url===f&&y===void 0&&(y=!0),this._url=f,y||this.redraw(),this},createTile:function(f,y){var P=document.createElement("img");return mt(P,"load",o(this._tileOnLoad,this,y,P)),mt(P,"error",o(this._tileOnError,this,y,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(f),P},getTileUrl:function(f){var y={r:qe.retina?"@2x":"",s:this._getSubdomain(f),x:f.x,y:f.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-f.y;this.options.tms&&(y.y=P),y["-y"]=P}return S(this._url,i(y,this.options))},_tileOnLoad:function(f,y){qe.ielt9?setTimeout(o(f,this,null,y),0):f(null,y)},_tileOnError:function(f,y,P){var M=this.options.errorTileUrl;M&&y.getAttribute("src")!==M&&(y.src=M),f(P,y)},_onTileRemove:function(f){f.tile.onload=null},_getZoomForUrl:function(){var f=this._tileZoom,y=this.options.maxZoom,P=this.options.zoomReverse,M=this.options.zoomOffset;return P&&(f=y-f),f+M},_getSubdomain:function(f){var y=Math.abs(f.x+f.y)%this.options.subdomains.length;return this.options.subdomains[y]},_abortLoading:function(){var f,y;for(f in this._tiles)if(this._tiles[f].coords.z!==this._tileZoom&&(y=this._tiles[f].el,y.onload=p,y.onerror=p,!y.complete)){y.src=C;var P=this._tiles[f].coords;yn(y),delete this._tiles[f],this.fire("tileabort",{tile:y,coords:P})}},_removeTile:function(f){var y=this._tiles[f];if(y)return y.el.setAttribute("src",C),Ls.prototype._removeTile.call(this,f)},_tileReady:function(f,y,P){if(!(!this._map||P&&P.getAttribute("src")===C))return Ls.prototype._tileReady.call(this,f,y,P)}});function Ep(f,y){return new Fs(f,y)}var Qc=Fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(f,y){this._url=f;var P=i({},this.defaultWmsParams);for(var M in y)M in this.options||(P[M]=y[M]);y=v(this,y);var B=y.detectRetina&&qe.retina?2:1,Z=this.getTileSize();P.width=Z.x*B,P.height=Z.y*B,this.wmsParams=P},onAdd:function(f){this._crs=this.options.crs||f.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var y=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[y]=this._crs.code,Fs.prototype.onAdd.call(this,f)},getTileUrl:function(f){var y=this._tileCoordsToNwSe(f),P=this._crs,M=H(P.project(y[0]),P.project(y[1])),B=M.min,Z=M.max,ae=(this._wmsVersion>=1.3&&this._crs===uy?[B.y,B.x,Z.y,Z.x]:[B.x,B.y,Z.x,Z.y]).join(","),ce=Fs.prototype.getTileUrl.call(this,f);return ce+w(this.wmsParams,ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+ae},setParams:function(f,y){return i(this.wmsParams,f),y||this.redraw(),this}});function yy(f,y){return new Qc(f,y)}Fs.WMS=Qc,Ep.wms=yy;var ma=Hi.extend({options:{padding:.1},initialize:function(f){v(this,f),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),bt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var f={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(f.zoomanim=this._onAnimZoom),f},_onAnimZoom:function(f){this._updateTransform(f.center,f.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(f,y){var P=this._map.getZoomScale(y,this._zoom),M=this._map.getSize().multiplyBy(.5+this.options.padding),B=this._map.project(this._center,y),Z=M.multiplyBy(-P).add(B).subtract(this._map._getNewPixelOrigin(f,y));qe.any3d?Wi(this._container,Z,P):qn(this._container,Z)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var f in this._layers)this._layers[f]._reset()},_onZoomEnd:function(){for(var f in this._layers)this._layers[f]._project()},_updatePaths:function(){for(var f in this._layers)this._layers[f]._update()},_update:function(){var f=this.options.padding,y=this._map.getSize(),P=this._map.containerPointToLayerPoint(y.multiplyBy(-f)).round();this._bounds=new q(P,P.add(y.multiplyBy(1+f*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Op=ma.extend({options:{tolerance:0},getEvents:function(){var f=ma.prototype.getEvents.call(this);return f.viewprereset=this._onViewPreReset,f},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ma.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var f=this._container=document.createElement("canvas");mt(f,"mousemove",this._onMouseMove,this),mt(f,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(f,"mouseout",this._handleMouseOut,this),f._leaflet_disable_events=!0,this._ctx=f.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,yn(this._container),en(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var f;this._redrawBounds=null;for(var y in this._layers)f=this._layers[y],f._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ma.prototype._update.call(this);var f=this._bounds,y=this._container,P=f.getSize(),M=qe.retina?2:1;qn(y,f.min),y.width=M*P.x,y.height=M*P.y,y.style.width=P.x+"px",y.style.height=P.y+"px",qe.retina&&this._ctx.scale(2,2),this._ctx.translate(-f.min.x,-f.min.y),this.fire("update")}},_reset:function(){ma.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(f){this._updateDashArray(f),this._layers[c(f)]=f;var y=f._order={layer:f,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=y),this._drawLast=y,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(f){this._requestRedraw(f)},_removePath:function(f){var y=f._order,P=y.next,M=y.prev;P?P.prev=M:this._drawLast=M,M?M.next=P:this._drawFirst=P,delete f._order,delete this._layers[c(f)],this._requestRedraw(f)},_updatePath:function(f){this._extendRedrawBounds(f),f._project(),f._update(),this._requestRedraw(f)},_updateStyle:function(f){this._updateDashArray(f),this._requestRedraw(f)},_updateDashArray:function(f){if(typeof f.options.dashArray=="string"){var y=f.options.dashArray.split(/[, ]+/),P=[],M,B;for(B=0;B<y.length;B++){if(M=Number(y[B]),isNaN(M))return;P.push(M)}f.options._dashArray=P}else f.options._dashArray=f.options.dashArray},_requestRedraw:function(f){this._map&&(this._extendRedrawBounds(f),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(f){if(f._pxBounds){var y=(f.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(f._pxBounds.min.subtract([y,y])),this._redrawBounds.extend(f._pxBounds.max.add([y,y]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var f=this._redrawBounds;if(f){var y=f.getSize();this._ctx.clearRect(f.min.x,f.min.y,y.x,y.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var f,y=this._redrawBounds;if(this._ctx.save(),y){var P=y.getSize();this._ctx.beginPath(),this._ctx.rect(y.min.x,y.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var M=this._drawFirst;M;M=M.next)f=M.layer,(!y||f._pxBounds&&f._pxBounds.intersects(y))&&f._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(f,y){if(this._drawing){var P,M,B,Z,ae=f._parts,ce=ae.length,ge=this._ctx;if(ce){for(ge.beginPath(),P=0;P<ce;P++){for(M=0,B=ae[P].length;M<B;M++)Z=ae[P][M],ge[M?"lineTo":"moveTo"](Z.x,Z.y);y&&ge.closePath()}this._fillStroke(ge,f)}}},_updateCircle:function(f){if(!(!this._drawing||f._empty())){var y=f._point,P=this._ctx,M=Math.max(Math.round(f._radius),1),B=(Math.max(Math.round(f._radiusY),1)||M)/M;B!==1&&(P.save(),P.scale(1,B)),P.beginPath(),P.arc(y.x,y.y/B,M,0,Math.PI*2,!1),B!==1&&P.restore(),this._fillStroke(P,f)}},_fillStroke:function(f,y){var P=y.options;P.fill&&(f.globalAlpha=P.fillOpacity,f.fillStyle=P.fillColor||P.color,f.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(f.setLineDash&&f.setLineDash(y.options&&y.options._dashArray||[]),f.globalAlpha=P.opacity,f.lineWidth=P.weight,f.strokeStyle=P.color,f.lineCap=P.lineCap,f.lineJoin=P.lineJoin,f.stroke())},_onClick:function(f){for(var y=this._map.mouseEventToLayerPoint(f),P,M,B=this._drawFirst;B;B=B.next)P=B.layer,P.options.interactive&&P._containsPoint(y)&&(!(f.type==="click"||f.type==="preclick")||!this._map._draggableMoved(P))&&(M=P);this._fireEvent(M?[M]:!1,f)},_onMouseMove:function(f){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var y=this._map.mouseEventToLayerPoint(f);this._handleMouseHover(f,y)}},_handleMouseOut:function(f){var y=this._hoveredLayer;y&&(un(this._container,"leaflet-interactive"),this._fireEvent([y],f,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(f,y){if(!this._mouseHoverThrottled){for(var P,M,B=this._drawFirst;B;B=B.next)P=B.layer,P.options.interactive&&P._containsPoint(y)&&(M=P);M!==this._hoveredLayer&&(this._handleMouseOut(f),M&&(bt(this._container,"leaflet-interactive"),this._fireEvent([M],f,"mouseover"),this._hoveredLayer=M)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,f),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(f,y,P){this._map._fireDOMEvent(y,P||y.type,f)},_bringToFront:function(f){var y=f._order;if(y){var P=y.next,M=y.prev;if(P)P.prev=M;else return;M?M.next=P:P&&(this._drawFirst=P),y.prev=this._drawLast,this._drawLast.next=y,y.next=null,this._drawLast=y,this._requestRedraw(f)}},_bringToBack:function(f){var y=f._order;if(y){var P=y.next,M=y.prev;if(M)M.next=P;else return;P?P.prev=M:M&&(this._drawLast=M),y.prev=null,y.next=this._drawFirst,this._drawFirst.prev=y,this._drawFirst=y,this._requestRedraw(f)}}});function Mp(f){return qe.canvas?new Op(f):null}var Ml=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(f){return document.createElement("<lvml:"+f+' class="lvml">')}}catch{}return function(f){return document.createElement("<"+f+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xy={_initContainer:function(){this._container=jt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ma.prototype._update.call(this),this.fire("update"))},_initPath:function(f){var y=f._container=Ml("shape");bt(y,"leaflet-vml-shape "+(this.options.className||"")),y.coordsize="1 1",f._path=Ml("path"),y.appendChild(f._path),this._updateStyle(f),this._layers[c(f)]=f},_addPath:function(f){var y=f._container;this._container.appendChild(y),f.options.interactive&&f.addInteractiveTarget(y)},_removePath:function(f){var y=f._container;yn(y),f.removeInteractiveTarget(y),delete this._layers[c(f)]},_updateStyle:function(f){var y=f._stroke,P=f._fill,M=f.options,B=f._container;B.stroked=!!M.stroke,B.filled=!!M.fill,M.stroke?(y||(y=f._stroke=Ml("stroke")),B.appendChild(y),y.weight=M.weight+"px",y.color=M.color,y.opacity=M.opacity,M.dashArray?y.dashStyle=A(M.dashArray)?M.dashArray.join(" "):M.dashArray.replace(/( *, *)/g," "):y.dashStyle="",y.endcap=M.lineCap.replace("butt","flat"),y.joinstyle=M.lineJoin):y&&(B.removeChild(y),f._stroke=null),M.fill?(P||(P=f._fill=Ml("fill")),B.appendChild(P),P.color=M.fillColor||M.color,P.opacity=M.fillOpacity):P&&(B.removeChild(P),f._fill=null)},_updateCircle:function(f){var y=f._point.round(),P=Math.round(f._radius),M=Math.round(f._radiusY||P);this._setPath(f,f._empty()?"M0 0":"AL "+y.x+","+y.y+" "+P+","+M+" 0,"+65535*360)},_setPath:function(f,y){f._path.v=y},_bringToFront:function(f){xl(f._container)},_bringToBack:function(f){Va(f._container)}},Gi=qe.vml?Ml:je,Ao=ma.extend({_initContainer:function(){this._container=Gi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Gi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){yn(this._container),en(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ma.prototype._update.call(this);var f=this._bounds,y=f.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(y))&&(this._svgSize=y,P.setAttribute("width",y.x),P.setAttribute("height",y.y)),qn(P,f.min),P.setAttribute("viewBox",[f.min.x,f.min.y,y.x,y.y].join(" ")),this.fire("update")}},_initPath:function(f){var y=f._path=Gi("path");f.options.className&&bt(y,f.options.className),f.options.interactive&&bt(y,"leaflet-interactive"),this._updateStyle(f),this._layers[c(f)]=f},_addPath:function(f){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(f._path),f.addInteractiveTarget(f._path)},_removePath:function(f){yn(f._path),f.removeInteractiveTarget(f._path),delete this._layers[c(f)]},_updatePath:function(f){f._project(),f._update()},_updateStyle:function(f){var y=f._path,P=f.options;y&&(P.stroke?(y.setAttribute("stroke",P.color),y.setAttribute("stroke-opacity",P.opacity),y.setAttribute("stroke-width",P.weight),y.setAttribute("stroke-linecap",P.lineCap),y.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?y.setAttribute("stroke-dasharray",P.dashArray):y.removeAttribute("stroke-dasharray"),P.dashOffset?y.setAttribute("stroke-dashoffset",P.dashOffset):y.removeAttribute("stroke-dashoffset")):y.setAttribute("stroke","none"),P.fill?(y.setAttribute("fill",P.fillColor||P.color),y.setAttribute("fill-opacity",P.fillOpacity),y.setAttribute("fill-rule",P.fillRule||"evenodd")):y.setAttribute("fill","none"))},_updatePoly:function(f,y){this._setPath(f,Ce(f._parts,y))},_updateCircle:function(f){var y=f._point,P=Math.max(Math.round(f._radius),1),M=Math.max(Math.round(f._radiusY),1)||P,B="a"+P+","+M+" 0 1,0 ",Z=f._empty()?"M0 0":"M"+(y.x-P)+","+y.y+B+P*2+",0 "+B+-P*2+",0 ";this._setPath(f,Z)},_setPath:function(f,y){f._path.setAttribute("d",y)},_bringToFront:function(f){xl(f._path)},_bringToBack:function(f){Va(f._path)}});qe.vml&&Ao.include(xy);function Ud(f){return qe.svg||qe.vml?new Ao(f):null}It.include({getRenderer:function(f){var y=f.options.renderer||this._getPaneRenderer(f.options.pane)||this.options.renderer||this._renderer;return y||(y=this._renderer=this._createRenderer()),this.hasLayer(y)||this.addLayer(y),y},_getPaneRenderer:function(f){if(f==="overlayPane"||f===void 0)return!1;var y=this._paneRenderers[f];return y===void 0&&(y=this._createRenderer({pane:f}),this._paneRenderers[f]=y),y},_createRenderer:function(f){return this.options.preferCanvas&&Mp(f)||Ud(f)}});var by=Za.extend({initialize:function(f,y){Za.prototype.initialize.call(this,this._boundsToLatLngs(f),y)},setBounds:function(f){return this.setLatLngs(this._boundsToLatLngs(f))},_boundsToLatLngs:function(f){return f=se(f),[f.getSouthWest(),f.getNorthWest(),f.getNorthEast(),f.getSouthEast()]}});function s_(f,y){return new by(f,y)}Ao.create=Gi,Ao.pointsToPath=Ce,ha.geometryToLayer=kl,ha.coordsToLatLng=Fd,ha.coordsToLatLngs=Zc,ha.latLngToCoords=$d,ha.latLngsToCoords=Bd,ha.getFeature=Cl,ha.asFeature=zd,It.mergeOptions({boxZoom:!0});var Rl=ji.extend({initialize:function(f){this._map=f,this._container=f._container,this._pane=f._panes.overlayPane,this._resetStateTimeout=0,f.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){en(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){yn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(f){if(!f.shiftKey||f.which!==1&&f.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Dt(),Pd(),this._startPoint=this._map.mouseEventToContainerPoint(f),mt(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(f){this._moved||(this._moved=!0,this._box=jt("div","leaflet-zoom-box",this._container),bt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(f);var y=new q(this._point,this._startPoint),P=y.getSize();qn(this._box,y.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(yn(this._box),un(this._container,"leaflet-crosshair")),_l(),Ad(),en(document,{contextmenu:Ui,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(f){if(!(f.which!==1&&f.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var y=new ne(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(y).fire("boxzoomend",{boxZoomBounds:y})}},_onKeyDown:function(f){f.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});It.addInitHook("addHandler","boxZoom",Rl),It.mergeOptions({doubleClickZoom:!0});var wy=ji.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(f){var y=this._map,P=y.getZoom(),M=y.options.zoomDelta,B=f.originalEvent.shiftKey?P-M:P+M;y.options.doubleClickZoom==="center"?y.setZoom(B):y.setZoomAround(f.containerPoint,B)}});It.addInitHook("addHandler","doubleClickZoom",wy),It.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rp=ji.extend({addHooks:function(){if(!this._draggable){var f=this._map;this._draggable=new Vi(f._mapPane,f._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),f.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),f.on("zoomend",this._onZoomEnd,this),f.whenReady(this._onZoomEnd,this))}bt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){un(this._map._container,"leaflet-grab"),un(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var f=this._map;if(f._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var y=se(this._map.options.maxBounds);this._offsetLimit=H(this._map.latLngToContainerPoint(y.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(y.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;f.fire("movestart").fire("dragstart"),f.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(f){if(this._map.options.inertia){var y=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(y),this._prunePositions(y)}this._map.fire("move",f).fire("drag",f)},_prunePositions:function(f){for(;this._positions.length>1&&f-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var f=this._map.getSize().divideBy(2),y=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=y.subtract(f).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(f,y){return f-(f-y)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var f=this._draggable._newPos.subtract(this._draggable._startPos),y=this._offsetLimit;f.x<y.min.x&&(f.x=this._viscousLimit(f.x,y.min.x)),f.y<y.min.y&&(f.y=this._viscousLimit(f.y,y.min.y)),f.x>y.max.x&&(f.x=this._viscousLimit(f.x,y.max.x)),f.y>y.max.y&&(f.y=this._viscousLimit(f.y,y.max.y)),this._draggable._newPos=this._draggable._startPos.add(f)}},_onPreDragWrap:function(){var f=this._worldWidth,y=Math.round(f/2),P=this._initialWorldOffset,M=this._draggable._newPos.x,B=(M-y+P)%f+y-P,Z=(M+y+P)%f-y-P,ae=Math.abs(B+P)<Math.abs(Z+P)?B:Z;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=ae},_onDragEnd:function(f){var y=this._map,P=y.options,M=!P.inertia||f.noInertia||this._times.length<2;if(y.fire("dragend",f),M)y.fire("moveend");else{this._prunePositions(+new Date);var B=this._lastPos.subtract(this._positions[0]),Z=(this._lastTime-this._times[0])/1e3,ae=P.easeLinearity,ce=B.multiplyBy(ae/Z),ge=ce.distanceTo([0,0]),Pe=Math.min(P.inertiaMaxSpeed,ge),Be=ce.multiplyBy(Pe/ge),ot=Pe/(P.inertiaDeceleration*ae),Nt=Be.multiplyBy(-ot/2).round();!Nt.x&&!Nt.y?y.fire("moveend"):(Nt=y._limitOffset(Nt,y.options.maxBounds),$(function(){y.panBy(Nt,{duration:ot,easeLinearity:ae,noMoveStart:!0,animate:!0})}))}}});It.addInitHook("addHandler","dragging",Rp),It.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ip=ji.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(f){this._map=f,this._setPanDelta(f.options.keyboardPanDelta),this._setZoomDelta(f.options.zoomDelta)},addHooks:function(){var f=this._map._container;f.tabIndex<=0&&(f.tabIndex="0"),mt(f,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),en(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var f=document.body,y=document.documentElement,P=f.scrollTop||y.scrollTop,M=f.scrollLeft||y.scrollLeft;this._map._container.focus(),window.scrollTo(M,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(f){var y=this._panKeys={},P=this.keyCodes,M,B;for(M=0,B=P.left.length;M<B;M++)y[P.left[M]]=[-1*f,0];for(M=0,B=P.right.length;M<B;M++)y[P.right[M]]=[f,0];for(M=0,B=P.down.length;M<B;M++)y[P.down[M]]=[0,f];for(M=0,B=P.up.length;M<B;M++)y[P.up[M]]=[0,-1*f]},_setZoomDelta:function(f){var y=this._zoomKeys={},P=this.keyCodes,M,B;for(M=0,B=P.zoomIn.length;M<B;M++)y[P.zoomIn[M]]=f;for(M=0,B=P.zoomOut.length;M<B;M++)y[P.zoomOut[M]]=-f},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){en(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(f){if(!(f.altKey||f.ctrlKey||f.metaKey)){var y=f.keyCode,P=this._map,M;if(y in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(M=this._panKeys[y],f.shiftKey&&(M=X(M).multiplyBy(3)),P.options.maxBounds&&(M=P._limitOffset(X(M),P.options.maxBounds)),P.options.worldCopyJump){var B=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(M)));P.panTo(B)}else P.panBy(M)}else if(y in this._zoomKeys)P.setZoom(P.getZoom()+(f.shiftKey?3:1)*this._zoomKeys[y]);else if(y===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;Ui(f)}}});It.addInitHook("addHandler","keyboard",Ip),It.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var tn=ji.extend({addHooks:function(){mt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){en(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(f){var y=ny(f),P=this._map.options.wheelDebounceTime;this._delta+=y,this._lastMousePos=this._map.mouseEventToContainerPoint(f),this._startTime||(this._startTime=+new Date);var M=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),M),Ui(f)},_performZoom:function(){var f=this._map,y=f.getZoom(),P=this._map.options.zoomSnap||0;f._stop();var M=this._delta/(this._map.options.wheelPxPerZoomLevel*4),B=4*Math.log(2/(1+Math.exp(-Math.abs(M))))/Math.LN2,Z=P?Math.ceil(B/P)*P:B,ae=f._limitZoom(y+(this._delta>0?Z:-Z))-y;this._delta=0,this._startTime=null,ae&&(f.options.scrollWheelZoom==="center"?f.setZoom(y+ae):f.setZoomAround(this._lastMousePos,y+ae))}});It.addInitHook("addHandler","scrollWheelZoom",tn);var Dp=600;It.mergeOptions({tapHold:qe.touchNative&&qe.safari&&qe.mobile,tapTolerance:15});var Jc=ji.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){en(this._map._container,"touchstart",this._onDown,this)},_onDown:function(f){if(clearTimeout(this._holdTimeout),f.touches.length===1){var y=f.touches[0];this._startPos=this._newPos=new G(y.clientX,y.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(mt(document,"touchend",Mn),mt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",y))},this),Dp),mt(document,"touchend touchcancel contextmenu",this._cancel,this),mt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function f(){en(document,"touchend",Mn),en(document,"touchend touchcancel",f)},_cancel:function(){clearTimeout(this._holdTimeout),en(document,"touchend touchcancel contextmenu",this._cancel,this),en(document,"touchmove",this._onMove,this)},_onMove:function(f){var y=f.touches[0];this._newPos=new G(y.clientX,y.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(f,y){var P=new MouseEvent(f,{bubbles:!0,cancelable:!0,view:window,screenX:y.screenX,screenY:y.screenY,clientX:y.clientX,clientY:y.clientY});P._simulated=!0,y.target.dispatchEvent(P)}});It.addInitHook("addHandler","tapHold",Jc),It.mergeOptions({touchZoom:qe.touch,bounceAtZoomLimits:!0});var Il=ji.extend({addHooks:function(){bt(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){un(this._map._container,"leaflet-touch-zoom"),en(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(f){var y=this._map;if(!(!f.touches||f.touches.length!==2||y._animatingZoom||this._zooming)){var P=y.mouseEventToContainerPoint(f.touches[0]),M=y.mouseEventToContainerPoint(f.touches[1]);this._centerPoint=y.getSize()._divideBy(2),this._startLatLng=y.containerPointToLatLng(this._centerPoint),y.options.touchZoom!=="center"&&(this._pinchStartLatLng=y.containerPointToLatLng(P.add(M)._divideBy(2))),this._startDist=P.distanceTo(M),this._startZoom=y.getZoom(),this._moved=!1,this._zooming=!0,y._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend touchcancel",this._onTouchEnd,this),Mn(f)}},_onTouchMove:function(f){if(!(!f.touches||f.touches.length!==2||!this._zooming)){var y=this._map,P=y.mouseEventToContainerPoint(f.touches[0]),M=y.mouseEventToContainerPoint(f.touches[1]),B=P.distanceTo(M)/this._startDist;if(this._zoom=y.getScaleZoom(B,this._startZoom),!y.options.bounceAtZoomLimits&&(this._zoom<y.getMinZoom()&&B<1||this._zoom>y.getMaxZoom()&&B>1)&&(this._zoom=y._limitZoom(this._zoom)),y.options.touchZoom==="center"){if(this._center=this._startLatLng,B===1)return}else{var Z=P._add(M)._divideBy(2)._subtract(this._centerPoint);if(B===1&&Z.x===0&&Z.y===0)return;this._center=y.unproject(y.project(this._pinchStartLatLng,this._zoom).subtract(Z),this._zoom)}this._moved||(y._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var ae=o(y._move,y,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(ae,this,!0),Mn(f)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),en(document,"touchmove",this._onTouchMove,this),en(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});It.addInitHook("addHandler","touchZoom",Il),It.BoxZoom=Rl,It.DoubleClickZoom=wy,It.Drag=Rp,It.Keyboard=Ip,It.ScrollWheelZoom=tn,It.TapHold=Jc,It.TouchZoom=Il,n.Bounds=q,n.Browser=qe,n.CRS=fe,n.Canvas=Op,n.Circle=Dd,n.CircleMarker=Id,n.Class=U,n.Control=ai,n.DivIcon=qd,n.DivOverlay=pa,n.DomEvent=Td,n.DomUtil=Uc,n.Draggable=Vi,n.Evented=J,n.FeatureGroup=Ga,n.GeoJSON=ha,n.GridLayer=Ls,n.Handler=ji,n.Icon=Po,n.ImageOverlay=Ds,n.LatLng=de,n.LatLngBounds=ne,n.Layer=Hi,n.LayerGroup=Rs,n.LineUtil=cy,n.Map=It,n.Marker=Ya,n.Mixin=xp,n.Path=Is,n.Point=G,n.PolyUtil=Y1,n.Polygon=Za,n.Polyline=si,n.Popup=Wd,n.PosAnimation=Ed,n.Projection=e_,n.Rectangle=by,n.Renderer=ma,n.SVG=Ao,n.SVGOverlay=Cp,n.TileLayer=Fs,n.Tooltip=El,n.Transformation=Me,n.Util=V,n.VideoOverlay=kp,n.bind=o,n.bounds=H,n.canvas=Mp,n.circle=Yc,n.circleMarker=hy,n.control=Ms,n.divIcon=vy,n.extend=i,n.featureGroup=dy,n.geoJSON=py,n.geoJson=Ki,n.gridLayer=Ol,n.icon=fy,n.imageOverlay=my,n.latLng=me,n.latLngBounds=se,n.layerGroup=Gc,n.map=Os,n.marker=r_,n.point=X,n.polygon=a_,n.polyline=i_,n.popup=Tl,n.rectangle=s_,n.setOptions=v,n.stamp=c,n.svg=Ud,n.svgOverlay=Tp,n.tileLayer=Ep,n.tooltip=Xc,n.transformation=ve,n.version=r,n.videoOverlay=gy;var _y=window.L;n.noConflict=function(){return window.L=_y,this},window.L=n}))})(Cm,Cm.exports)),Cm.exports}var Gv=m5e();const UX=Ut(Gv);function VX(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function HX(e,t){return t==null?function(r,i){const s=j.useRef();return s.current||(s.current=e(r,i)),s}:function(r,i){const s=j.useRef();s.current||(s.current=e(r,i));const o=j.useRef(r),{instance:l}=s.current;return j.useEffect(function(){o.current!==r&&(t(l,r,o.current),o.current=r)},[l,r,i]),s}}function KX(e,t){j.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function g5e(e){return function(n){const r=WX(),i=e(kM(n,r),r);return l5e(r.map,n.attribution),qX(i.current,n.eventHandlers),KX(i.current,r),i}}function v5e(e,t){const n=j.useRef();j.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function y5e(e){return function(n){const r=WX(),i=e(kM(n,r),r);return qX(i.current,n.eventHandlers),KX(i.current,r),v5e(i.current,n),i}}function x5e(e,t){const n=HX(e,t),r=y5e(n);return f5e(r)}function b5e(e,t){const n=HX(e,t),r=g5e(n);return h5e(r)}function w5e(e,t,n){const{opacity:r,zIndex:i}=t;r!=null&&r!==n.opacity&&e.setOpacity(r),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function QT(){return QT=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QT.apply(this,arguments)}function _5e({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:s,placeholder:o,style:l,whenReady:c,zoom:u,...h},p){const[g]=j.useState({className:i,id:s,style:l}),[x,b]=j.useState(null);j.useImperativeHandle(p,()=>x?.map??null,[x]);const v=j.useCallback(N=>{if(N!==null&&x===null){const S=new Gv.Map(N,h);n!=null&&u!=null?S.setView(n,u):e!=null&&S.fitBounds(e,t),c!=null&&S.whenReady(c),b(u5e(S))}},[]);j.useEffect(()=>()=>{x?.map.remove()},[x]);const w=x?Y.createElement(zX,{value:x},r):o??null;return Y.createElement("div",QT({},g,{ref:v}),w)}const j5e=j.forwardRef(_5e),S5e=x5e(function({positions:t,...n},r){const i=new Gv.Polyline(t,n);return VX(i,d5e(r,{overlayContainer:i}))},function(t,n,r){n.positions!==r.positions&&t.setLatLngs(n.positions)}),N5e=b5e(function({url:t,...n},r){const i=new Gv.TileLayer(t,kM(n,r));return VX(i,r)},function(t,n,r){w5e(t,n,r);const{url:i}=n;i!=null&&i!==r.url&&t.setUrl(i)}),P5e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",A5e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",k5e="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";delete UX.Icon.Default.prototype._getIconUrl;UX.Icon.Default.mergeOptions({iconRetinaUrl:P5e,iconUrl:A5e,shadowUrl:k5e});function C5e({coordinates:e,className:t="",height:n="h-[280px]"}){if(j.useEffect(()=>{console.log("[RouteMap] Rendering with",e?.length||0,"coordinates")},[e]),!e||e.length===0)return console.log("[RouteMap] No coordinates provided, returning null"),null;const r=new Gv.LatLngBounds(e);return a.jsxs(j5e,{bounds:r,className:`w-full ${n} rounded-lg ${t}`,scrollWheelZoom:!1,style:{zIndex:0},children:[a.jsx(N5e,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),a.jsx(S5e,{positions:e,pathOptions:{color:"hsl(var(--accent))",weight:3}})]})}function GX({coordinates:e}){return j.useEffect(()=>{console.debug("[ActivityMap] Received coordinates:",e?.length||0,"points"),e&&e.length>0&&console.debug("[ActivityMap] Sample coordinate:",e[0])},[e]),!e||!Array.isArray(e)||e.length===0?a.jsxs("div",{className:"relative h-64 bg-muted/30 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto mb-3 rounded-full bg-accent/10 flex items-center justify-center",children:a.jsx(Vte,{className:"h-8 w-8 text-accent"})}),a.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Route Map"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"No GPS data available for this activity"})]})}),a.jsxs("svg",{className:"absolute inset-0 w-full h-full opacity-20",viewBox:"0 0 400 200",preserveAspectRatio:"none",children:[a.jsx("path",{d:"M 20 100 Q 80 40 140 90 T 260 70 T 380 100",fill:"none",stroke:"hsl(var(--accent))",strokeWidth:"3",strokeLinecap:"round"}),a.jsx("circle",{cx:"20",cy:"100",r:"6",fill:"hsl(var(--load-fresh))"}),a.jsx("circle",{cx:"380",cy:"100",r:"6",fill:"hsl(var(--chart-4))"})]}),a.jsxs("div",{className:"absolute bottom-3 left-3 right-3 flex justify-between",children:[a.jsx("div",{className:"bg-card/90 backdrop-blur-sm px-3 py-1.5 rounded-md text-xs",children:a.jsxs("div",{className:"flex items-center gap-1 text-load-fresh",children:[a.jsx(UI,{className:"h-3 w-3"}),a.jsx("span",{children:"Start"})]})}),a.jsx("div",{className:"bg-card/90 backdrop-blur-sm px-3 py-1.5 rounded-md text-xs",children:a.jsxs("div",{className:"flex items-center gap-1 text-chart-4",children:[a.jsx(UI,{className:"h-3 w-3"}),a.jsx("span",{children:"Finish"})]})})]})]}):a.jsx(C5e,{coordinates:e,height:"h-64"})}const T5e={running:vs,cycling:ov,swimming:fv,triathlon:vs},E5e={aerobic:"bg-training-aerobic/15 text-training-aerobic border-training-aerobic/30",threshold:"bg-training-threshold/15 text-training-threshold border-training-threshold/30",vo2:"bg-training-vo2/15 text-training-vo2 border-training-vo2/30",endurance:"bg-training-endurance/15 text-training-endurance border-training-endurance/30",recovery:"bg-training-recovery/15 text-training-recovery border-training-recovery/30"},O5e={warmup:"bg-training-recovery/20 text-training-recovery",main:"bg-training-aerobic/20 text-training-aerobic",cooldown:"bg-training-recovery/20 text-training-recovery",interval:"bg-training-vo2/20 text-training-vo2",recovery:"bg-muted text-muted-foreground"};function M5e({data:e,color:t,height:n=24}){if(!e||e.length<2)return null;const r=100,i=2,s=Math.min(...e),l=Math.max(...e)-s||1,c=e.map((u,h)=>{const p=i+h/(e.length-1)*(r-i*2),g=n-i-(u-s)/l*(n-i*2);return`${p},${g}`}).join(" ");return a.jsx("svg",{width:r,height:n,className:"opacity-80",children:a.jsx("polyline",{points:c,fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})}function Wx({label:e,value:t,unit:n,sparkData:r,sparkColor:i="hsl(var(--accent))"}){return a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground w-14",children:e}),r&&r.length>2&&a.jsx(M5e,{data:r,color:i})]}),a.jsxs("div",{className:"flex items-baseline gap-1.5",children:[a.jsx("span",{className:"text-base font-semibold tabular-nums text-foreground",children:t}),n&&a.jsx("span",{className:"text-sm text-muted-foreground",children:n})]})]})}function R5e({open:e,onOpenChange:t,plannedWorkout:n,completedActivity:r,session:i,onAskCoach:s,onStatusChange:o}){const l=bi();tr();const c=WIe(),[u,h]=j.useState(null),{convertDistance:p,convertElevation:g,convertPace:x}=Ps(),b=n,v=r,w=T5e[b?.sport||v?.sport||"running"],[N,S]=j.useState(!1),[A,T]=j.useState(!1),[C,E]=j.useState(null),O=i&&i.status!=="completed"&&i.status!=="cancelled"&&i.status!=="skipped"&&!v,I=i&&i.status==="completed"&&!i.completed_activity_id&&!v,F=i?.date?or(i.date):null,W=F?Ne(F,"yyyy-MM-dd"):null,$=i?.type?Ah(i.type):null,{data:z}=Mt({queryKey:["activities","link",W],queryFn:()=>W?xi({start:W,end:W,limit:100}):Promise.resolve([]),enabled:I&&A&&!!W,retry:1}),V=j.useMemo(()=>!z||!$?[]:z.filter(je=>Ah(je.sport)===$&&!je.planned_session_id),[z,$]),{data:U}=Mt({queryKey:["structuredWorkout",i?.workout_id],queryFn:()=>{if(!i?.workout_id)throw new Error("No workout ID");return FX(i.workout_id)},enabled:!!i?.workout_id&&e,retry:1}),te=U&&U.workout?.parse_status==="parsed"&&U.workout,{data:Q,isLoading:J,error:G}=Ir({queryKey:["activityStreams",v?.id],queryFn:()=>Bh(v.id),retry:!1,enabled:!!v?.id&&e}),ee=j.useMemo(()=>{if(G||!Q)return;const je=vZ(Q);return je.length===0?void 0:je},[Q,G]),X=j.useMemo(()=>{if(!Q?.heartrate)return;const je=Q.heartrate.filter(Re=>typeof Re=="number");if(je.length<10)return;const Ce=Math.max(1,Math.floor(je.length/30));return je.filter((Re,Ke)=>Ke%Ce===0)},[Q]),q=j.useMemo(()=>{if(!Q?.pace)return;const je=Q.pace.filter(Re=>typeof Re=="number"&&Re>0);if(je.length<10)return;const Ce=Math.max(1,Math.floor(je.length/30));return je.filter((Re,Ke)=>Ke%Ce===0)},[Q]),H=j.useMemo(()=>{if(!Q?.elevation)return;const je=Q.elevation.filter(Re=>typeof Re=="number");if(je.length<10)return;const Ce=Math.max(1,Math.floor(je.length/30));return je.filter((Re,Ke)=>Ke%Ce===0)},[Q]),ne=async()=>{if(!(!i?.id||!te)){S(!0);try{const je=await sue(i.id),Ce=window.URL.createObjectURL(je),Re=document.createElement("a");Re.href=Ce,Re.download=`workout-${i.id}.fit`,document.body.appendChild(Re),Re.click(),document.body.removeChild(Re),window.URL.revokeObjectURL(Ce),Le({title:"Workout exported",description:"Garmin FIT file downloaded successfully"})}catch(je){console.error("Failed to export workout:",je),Le({title:"Export failed",description:"Failed to export workout to Garmin FIT format",variant:"destructive"})}finally{S(!1)}}},se=je=>{if(!je)return;const Ce=je.match(/([\d.]+)/);if(!Ce)return je;const Re=parseFloat(Ce[1]);if(isNaN(Re))return je;const Ke=x(Re);return`${Ke.value.toFixed(2)} ${Ke.unit}`},{data:de}=Ir({queryKey:["trainingLoad",60],queryFn:()=>(console.log("[ActivityPopup] Fetching training load for 60 days"),bc(60)),retry:(je,Ce)=>{if(Ce&&typeof Ce=="object"){const Re=Ce;if(Re.status===500||Re.status===503||Re.code==="ECONNABORTED"||Re.message&&Re.message.includes("timed out"))return!1}return je<1},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,gcTime:300*1e3}),fe=j.useMemo(()=>v?Nv([v],de)[0]||v:null,[v,de])?.trainingLoad||(v?.date?jge(v.date,de):null),_e=j.useMemo(()=>{if(!U?.steps||U.steps.length===0)return null;const je=[...U.steps].sort((it,_t)=>it.order-_t.order),Ce=U.groups||[],Re=new Map;for(const it of Ce)for(const _t of it.step_ids)Re.set(_t,{groupId:it.group_id,repeat:it.repeat,stepIds:it.step_ids});const Ke=[],yt=new Set;for(const it of je){if(yt.has(it.id))continue;const _t=Re.get(it.id);if(_t){const cn=_t.stepIds.map(Fn=>je.find($t=>$t.id===Fn)).filter(Fn=>Fn!==void 0).sort((Fn,$t)=>Fn.order-$t.order);if(cn.length>0){const Fn=cn.map($t=>$t.name||$t.step_type||"Step");Ke.push(`${_t.repeat} (${Fn.join(" + ")})`),cn.forEach($t=>yt.add($t.id))}}else Ke.push(it.name||it.step_type||"Step"),yt.add(it.id)}const kt=6;let Et;return Ke.length>kt?Et=Ke.slice(0,kt).join("  ")+` +${Ke.length-kt}`:Et=Ke.join("  "),{summary:Et,stepTypes:je.map(it=>it.step_type||it.type),stepCount:je.length}},[U]),he=()=>{t(!1),v?.id?l(`/activities?activity=${v.id}`):l("/activities")},be=()=>{i?.workout_id&&(t(!1),l(`/workout/${i.workout_id}`))},Me=async()=>{!i||!C||c.mutate({sessionId:i.id,status:"completed",completedActivityId:C},{onSuccess:()=>{Le({title:"Activity linked",description:"The activity has been linked to this session."}),T(!1),E(null),o?.()},onError:je=>{console.error("Failed to link activity:",je),Le({title:"Link failed",description:"Failed to link the activity. Please try again.",variant:"destructive"})}})},ve=je=>{!i||!O||c.mutate({sessionId:i.id,status:je},{onSuccess:Ce=>{const Re=ZT(Ce);if(Re){h({proposal:Re,status:je});return}Le({title:"Session updated",description:"Auto-adjusted (pre-authorized)"}),o?.(),t(!1)},onError:Ce=>{console.error("Failed to update session status:",Ce),Le({title:"Update failed",description:"Failed to update session status. Please try again.",variant:"destructive"})}})},Ze=()=>{!i||!u||c.mutate({sessionId:i.id,status:u.status,confirmed:!0},{onSuccess:je=>{if(ZT(je)){Le({title:"Confirmation failed",description:"Backend still returned PROPOSAL_ONLY even with confirmed=true",variant:"destructive"});return}Le({title:"Session updated",description:"Created after your confirmation"}),h(null),o?.(),t(!1)},onError:je=>{console.error("Failed to confirm session status update:",je),Le({title:"Confirmation failed",description:"Failed to confirm session status update. Please try again.",variant:"destructive"})}})},He=()=>{h(null),Le({title:"Cancelled",description:"Session update was cancelled.",variant:"default"})};return a.jsxs(a.Fragment,{children:[a.jsx(vd,{open:e,onOpenChange:t,children:a.jsx(Fc,{className:"p-0 sm:max-w-[600px] max-h-[85vh] overflow-y-auto",children:a.jsxs(Ot,{className:"border-0 shadow-none",children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2.5 rounded-lg bg-muted",children:a.jsx(w,{className:"h-5 w-5 text-foreground"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx($c,{className:"text-lg font-semibold text-foreground",children:b?.title||v?.title}),a.jsxs("div",{className:"flex items-center gap-2 mt-1.5",children:[b&&a.jsx(ln,{variant:"outline",className:re("text-xs",E5e[b.intent]),children:b.intent}),v&&a.jsx(ln,{variant:"outline",className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",children:"Completed"}),b?.completed&&a.jsx(Ar,{className:"h-4 w-4 text-green-600 dark:text-green-400"})]})]})]})}),a.jsxs($e,{className:"space-y-4 pt-0",children:[a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(ps,{className:"h-4 w-4"}),b?.duration||v?.duration,"m"]}),(b?.distance||v?.distance)&&a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Yte,{className:"h-4 w-4"}),(()=>{const je=p(b?.distance||v?.distance||0);return`${je.value.toFixed(1)} ${je.unit}`})()]}),v?.elevation&&a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Ute,{className:"h-4 w-4"}),(()=>{const je=g(v.elevation);return`${je.value.toFixed(1)} ${je.unit}`})()]})]}),v&&a.jsxs(Lv,{defaultValue:"overview",className:"w-full",children:[a.jsxs(np,{className:"w-full grid grid-cols-1 sm:grid-cols-3",children:[a.jsx(hi,{value:"overview",children:"Overview"}),a.jsx(hi,{value:"map",children:"Map"}),a.jsx(hi,{value:"charts",children:"Charts"})]}),a.jsxs(no,{value:"overview",className:"mt-4 space-y-4",children:[v.coachFeedback&&a.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border-l-2 border-primary/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1.5",children:[a.jsx(uc,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-xs font-medium text-primary",children:"Analysis"})]}),a.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:v.coachFeedback})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[v.avgPace&&a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Avg Pace"}),a.jsx("div",{className:"text-sm font-medium text-foreground",children:se(v.avgPace)})]}),v.avgHeartRate&&a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(ow,{className:"h-3 w-3"})," Avg HR"]}),a.jsxs("div",{className:"text-sm font-medium text-foreground",children:[Math.round(v.avgHeartRate)," bpm"]})]}),v.avgPower&&a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsxs("div",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(Jm,{className:"h-3 w-3"})," Avg Power"]}),a.jsxs("div",{className:"text-sm font-medium text-foreground",children:[Math.round(v.avgPower),"w"]})]}),fe!==null&&fe>0&&a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"TSS"}),a.jsx("div",{className:"text-sm font-medium text-foreground",children:Math.round(fe)})]}),v.normalizedPower!==void 0&&v.normalizedPower!==null&&(v.sport==="cycling"||v.sport==="running")&&a.jsx(Vf,{children:a.jsxs(rg,{children:[a.jsx(ig,{asChild:!0,children:a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50 cursor-help",children:[a.jsxs("div",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(Jm,{className:"h-3 w-3"}),v.sport==="cycling"?"Normalized Power":"Normalized Effort",a.jsx(Wf,{className:"h-3 w-3 text-muted-foreground/60"})]}),a.jsx("div",{className:"text-sm font-medium text-foreground",children:v.sport==="cycling"?`${Math.round(v.normalizedPower)} W`:v.normalizedPower.toFixed(2)})]})}),a.jsx(Hf,{side:"top",className:"max-w-xs",children:a.jsx("div",{className:"whitespace-pre-line text-sm",children:v.sport==="cycling"?`Normalized Power (NP)
Accounts for variability in effort.
More accurate than average power.`:`Normalized Effort
Adjusts for pace variability to reflect true effort.`})})]})}),(v.sport==="cycling"||v.sport==="running")&&a.jsx(Vf,{children:a.jsxs(rg,{children:[a.jsx(ig,{asChild:!0,children:a.jsxs("div",{className:re("p-3 rounded-lg bg-muted/50 cursor-help",v.effortSource==="hr"&&v.intensityFactor!==void 0&&"opacity-60",v.intensityFactor!==void 0&&v.intensityFactor>=1&&"ring-2 ring-load-overreaching/30"),children:[a.jsxs("div",{className:"text-xs text-muted-foreground mb-1 flex items-center gap-1",children:[a.jsx(Ac,{className:"h-3 w-3"}),"Intensity Factor",a.jsx(Wf,{className:"h-3 w-3 text-muted-foreground/60"})]}),a.jsx("div",{className:re("text-sm font-medium",v.intensityFactor!==void 0&&v.intensityFactor>=1?"text-load-overreaching":"text-foreground"),children:v.intensityFactor!==void 0&&v.intensityFactor!==null?v.intensityFactor.toFixed(2):""})]})}),a.jsx(Hf,{side:"top",className:"max-w-xs",children:a.jsx("div",{className:"whitespace-pre-line text-sm",children:v.intensityFactor!==void 0&&v.intensityFactor!==null?`Intensity Factor (IF)
Compares session effort to your threshold.
IF = 1.00  threshold effort
IF < 0.75 = easy
IF > 1.05 = hard`:"Set your threshold to enable IF"})})]})})]}),v.effortSource&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Effort source: ",v.effortSource==="power"?"Power":v.effortSource==="pace"?"Pace-derived":"Heart rate (fallback)"]}),a.jsxs("div",{className:"space-y-1 bg-muted/30 rounded-lg p-3 border border-border",children:[a.jsx("div",{className:"text-xs font-medium text-muted-foreground mb-2",children:"Performance Trends"}),v.avgHeartRate&&a.jsx(Wx,{label:"HR",value:Math.round(v.avgHeartRate),unit:"bpm",sparkData:X,sparkColor:"hsl(var(--chart-4))"}),q&&q.length>0&&a.jsx(Wx,{label:"Pace",value:(()=>{const je=q.reduce((Ke,yt)=>Ke+yt,0)/q.length,Ce=Math.floor(je),Re=Math.round((je-Ce)*60);return`${Ce}:${Re.toString().padStart(2,"0")}`})(),unit:"/km",sparkData:q,sparkColor:"hsl(var(--chart-1))"}),H&&H.length>0&&a.jsx(Wx,{label:"Elev",value:Math.round(Math.max(...H)-Math.min(...H)),unit:"m gain",sparkData:H,sparkColor:"hsl(var(--chart-2))"}),v.avgPower&&a.jsx(Wx,{label:"Power",value:Math.round(v.avgPower),unit:"W"})]})]}),a.jsx(no,{value:"map",className:"mt-4",children:a.jsx("div",{className:"rounded-lg overflow-hidden border border-border",children:J?a.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:a.jsx(st,{className:"h-5 w-5 animate-spin"})}):G?a.jsx("div",{className:"flex items-center justify-center h-64 text-muted-foreground",children:a.jsx("span",{className:"text-sm",children:"Route unavailable"})}):a.jsx(GX,{coordinates:ee})})}),a.jsx(no,{value:"charts",className:"mt-4",children:a.jsx($X,{activity:v})})]}),b?.description&&a.jsx("div",{className:"text-sm text-muted-foreground",children:b.description}),_e&&i?.workout_id&&a.jsxs("div",{className:"mt-3 rounded-md bg-muted/50 p-3 border border-border/50",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1.5 uppercase tracking-wide",children:"Structured workout"}),a.jsx("div",{className:"text-sm font-medium text-foreground mb-2",children:_e.summary}),a.jsx("div",{className:"flex items-center gap-1.5 flex-wrap mb-2",children:_e.stepTypes.map((je,Ce)=>{const Re={warmup:"WU",steady:"Steady",interval:"Interval",cooldown:"CD",rest:"Rest"},Ke={warmup:"bg-training-recovery/20 text-training-recovery border-training-recovery/30",steady:"bg-training-aerobic/20 text-training-aerobic border-training-aerobic/30",interval:"bg-training-vo2/20 text-training-vo2 border-training-vo2/30",cooldown:"bg-training-recovery/20 text-training-recovery border-training-recovery/30",rest:"bg-muted text-muted-foreground border-muted-foreground/30"};return a.jsx(ln,{variant:"outline",className:re("text-xs",Ke[je]||"bg-muted text-muted-foreground"),children:Re[je]||je},Ce)})}),a.jsxs("button",{type:"button",onClick:be,className:"text-sm text-primary hover:text-primary/80 underline flex items-center gap-1 mt-1",children:["View full workout",a.jsx(yW,{className:"h-3 w-3"})]})]}),b?.structure&&b.structure.length>0&&!_e&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide",children:"Structure"}),a.jsx("div",{className:"space-y-1.5",children:b.structure.map((je,Ce)=>a.jsxs("div",{className:re("flex items-center justify-between p-2 rounded-md text-sm",O5e[je.type]),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"capitalize font-medium",children:je.type}),je.notes&&a.jsxs("span",{className:"text-xs opacity-75",children:["(",je.notes,")"]})]}),a.jsxs("div",{className:"text-xs",children:[je.duration&&`${je.duration}m`,je.intensity&&`  ${je.intensity}`]})]},Ce))})]}),a.jsxs("div",{className:"flex gap-2 flex-col",children:[O&&a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Se,{variant:"default",className:"flex-1",onClick:()=>ve("completed"),disabled:c.isPending,children:[a.jsx(Ar,{className:"h-4 w-4 mr-2"}),"Mark Completed"]}),a.jsxs(Se,{variant:"outline",className:"flex-1",onClick:()=>ve("skipped"),disabled:c.isPending,children:[a.jsx(AW,{className:"h-4 w-4 mr-2"}),"Skip"]}),a.jsxs(Se,{variant:"outline",className:"flex-1",onClick:()=>ve("cancelled"),disabled:c.isPending,children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Cancel"]})]}),I&&a.jsx("div",{className:"flex gap-2 flex-col",children:A?a.jsxs("div",{className:"space-y-2",children:[a.jsxs(gi,{value:C||"",onValueChange:E,children:[a.jsx(ei,{children:a.jsx(vi,{placeholder:"Select an activity to link"})}),a.jsx(ti,{children:V.length===0?null:V.map(je=>a.jsxs(Tt,{value:je.id,children:[je.title||"Untitled"," - ",je.duration?`${Math.round(je.duration/60)}min`:"No duration",je.distance?` - ${je.distance.toFixed(1)}km`:""]},je.id))})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{variant:"default",className:"flex-1",onClick:Me,disabled:!C||c.isPending,children:c.isPending?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Linking..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nk,{className:"h-4 w-4 mr-2"}),"Link Activity"]})}),a.jsx(Se,{variant:"outline",onClick:()=>{T(!1),E(null)},children:"Cancel"})]})]}):a.jsxs(Se,{variant:"outline",className:"w-full",onClick:()=>T(!0),children:[a.jsx(Nk,{className:"h-4 w-4 mr-2"}),"Link Activity"]})}),a.jsxs("div",{className:"flex gap-2",children:[i?.workout_id&&a.jsxs(Se,{variant:"default",className:"flex-1",onClick:be,children:[a.jsx(h0,{className:"h-4 w-4 mr-2"}),"View Workout"]}),a.jsxs(Se,{variant:"outline",className:"flex-1",onClick:()=>{s?.(b?.title||v?.title||""),t(!1)},children:[a.jsx(lw,{className:"h-4 w-4 mr-2"}),"Ask Coach"]}),te&&a.jsx(Se,{variant:"outline",className:"flex-1",onClick:ne,disabled:N,children:N?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Export FIT"]})}),v&&a.jsxs(Se,{variant:"default",className:"flex-1",onClick:he,children:[a.jsx(h0,{className:"h-4 w-4 mr-2"}),"View Details"]})]})]})]})]})})}),u&&a.jsx(i5e,{open:!0,onOpenChange:je=>{je||He()},proposal:u.proposal,onConfirm:Ze,onCancel:He,isLoading:c.isPending})]})}var I5e="Label",YX=j.forwardRef((e,t)=>a.jsx(We.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));YX.displayName=I5e;var ZX=YX;const D5e=Th("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Fe=j.forwardRef(({className:e,...t},n)=>a.jsx(ZX,{ref:n,className:re(D5e(),e),...t}));Fe.displayName=ZX.displayName;const cl=j.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:re("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));cl.displayName="Textarea";const L5e={workoutNotesParsing:!1};function F5e({open:e,onOpenChange:t,initialDate:n,onSuccess:r}){const{unitSystem:i}=Ps(),s=fZ(),o=bi(),[l,c]=j.useState(Ne(n||new Date,"yyyy-MM-dd")),[u,h]=j.useState(""),[p,g]=j.useState(""),[x,b]=j.useState(""),[v,w]=j.useState(""),[N,S]=j.useState(""),[A,T]=j.useState(null),[C,E]=j.useState("idle"),[O,I]=j.useState(null),[F,W]=j.useState([]),$=i==="imperial"?"mi":"km",z=async te=>{if(te.preventDefault(),T(null),!u){T("Sport type is required");return}if(!p){T("Session type is required");return}if(p!=="rest"&&!x&&!v){T("Either distance or duration is required");return}if(x&&(isNaN(parseFloat(x))||parseFloat(x)<=0)){T("Distance must be a positive number");return}if(v&&(isNaN(parseInt(v,10))||parseInt(v,10)<=0)){T("Duration must be a positive number");return}let Q=null;if(x){const J=parseFloat(x);i==="imperial"?Q=J/.621371:Q=J}s.mutate({date:l,sport:u,type:p,distance_km:Q,duration_minutes:v?parseInt(v,10):null,notes:N.trim()||null},{onSuccess:J=>{Le({title:"Session added",description:"The session has been added to your calendar."}),h(""),g(""),b(""),w(""),S(""),T(null),E("idle"),I(null),W([]),t(!1),r?.(),J.workout_id&&o(`/workout/${J.workout_id}`)},onError:J=>{console.error("Failed to create session:",J);const G=J;if(G.response?.status===500){T("Failed to create session. Please try again or refresh.");return}let ee="Failed to create session";if(G.response?.data){const X=G.response.data;if(console.error("API error details:",X),G.response.status===422&&X.detail)if(Array.isArray(X.detail)){const H=X.detail.map(ne=>`${Array.isArray(ne.loc)?ne.loc[ne.loc.length-1]:"unknown"}: ${ne.msg||ne.type||"validation error"}`);ee=H.length>0?H.join(", "):"Validation error"}else if(typeof X.detail=="object"){const q=X.detail,H=[];for(const[ne,se]of Object.entries(q))if(Array.isArray(se)&&se.length>0){const de=se[0]&&typeof se[0]=="object"&&"msg"in se[0]?String(se[0].msg):String(se[0]);H.push(`${ne}: ${de}`)}ee=H.length>0?H.join(", "):"Validation error"}else typeof X.detail=="string"&&(ee=X.detail);else X.message?ee=X.message:Array.isArray(X.errors)&&X.errors.length>0&&(ee=X.errors.map(q=>`${q.field}: ${q.message}`).join(", "))}else G.message&&(ee=G.message);T(ee)}})},V=()=>{s.isPending||(T(null),t(!1))},U=L5e.workoutNotesParsing;return a.jsx(vd,{open:e,onOpenChange:V,children:a.jsx(Fc,{className:"p-0 bg-transparent border-none sm:max-w-[500px]",children:a.jsx(et,{variant:"raised",className:"rounded-2xl",children:a.jsxs("div",{className:"p-6",children:[a.jsxs(yd,{children:[a.jsx($c,{children:"Add Session"}),a.jsx(xd,{children:"Create a new training session for your calendar."})]}),a.jsxs("form",{onSubmit:z,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"date",children:"Date"}),a.jsx(ft,{id:"date",type:"date",value:l,onChange:te=>c(te.target.value),required:!0,disabled:s.isPending})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"sport",children:"Sport *"}),a.jsxs(gi,{value:u,onValueChange:te=>h(te),disabled:s.isPending,children:[a.jsx(ei,{id:"sport",children:a.jsx(vi,{placeholder:"Select sport"})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"Run",children:"Run"}),a.jsx(Tt,{value:"Bike",children:"Bike"}),a.jsx(Tt,{value:"Swim",children:"Swim"}),a.jsx(Tt,{value:"Triathlon",children:"Triathlon"}),a.jsx(Tt,{value:"Crossfit",children:"Crossfit"}),a.jsx(Tt,{value:"Strength",children:"Strength"}),a.jsx(Tt,{value:"Walk",children:"Walk"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"type",children:"Session Type *"}),a.jsxs(gi,{value:p,onValueChange:te=>g(te),disabled:s.isPending,children:[a.jsx(ei,{id:"type",children:a.jsx(vi,{placeholder:"Select session type"})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"easy",children:"Easy"}),a.jsx(Tt,{value:"workout",children:"Workout"}),a.jsx(Tt,{value:"long",children:"Long"}),a.jsx(Tt,{value:"rest",children:"Rest"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Fe,{htmlFor:"distance",children:["Distance (",$,")"]}),a.jsx(ft,{id:"distance",type:"number",step:"0.1",min:"0",value:x,onChange:te=>b(te.target.value),disabled:s.isPending||p==="rest",placeholder:"Optional"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"duration",children:"Duration (minutes)"}),a.jsx(ft,{id:"duration",type:"number",step:"1",min:"0",value:v,onChange:te=>w(te.target.value),disabled:s.isPending||p==="rest",placeholder:"Optional"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"notes",children:"Notes (optional)"}),a.jsx(cl,{id:"notes",value:N,onChange:te=>S(te.target.value),disabled:s.isPending,placeholder:"Add any additional notes...",rows:3}),a.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[a.jsx("p",{className:"font-medium",children:"Examples:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-0.5 ml-2",children:[a.jsx("li",{children:"3 miles warm up, 4x1 mile lt2 with 1 mile flow"}),a.jsx("li",{children:"10 min easy, 3x5 min threshold with 2 min recovery"}),a.jsx("li",{children:"20 min warmup, 2x20 min sweet spot, 10 min cooldown"})]})]}),U]}),A&&a.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive",children:A}),a.jsxs(sp,{children:[a.jsx(Se,{type:"button",variant:"outline",onClick:V,disabled:s.isPending,children:"Cancel"}),a.jsxs(Se,{type:"submit",disabled:s.isPending,children:[s.isPending&&a.jsx(st,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Session"]})]})]})]})})})})}const $5e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function B5e({open:e,onOpenChange:t,initialDate:n,onSuccess:r}){const i=BIe(),s=j.useMemo(()=>n?Gn(n,{weekStartsOn:1}):Gn(new Date,{weekStartsOn:1}),[n]),o=j.useMemo(()=>t2({start:s,end:xc(s,6)}),[s]),[l,c]=j.useState("imperial"),[u,h]=j.useState(()=>o.map(T=>({date:Ne(T,"yyyy-MM-dd"),sessions:[]}))),[p,g]=j.useState(null),x=T=>{h(C=>C.map(E=>E.date===T?{...E,sessions:[...E.sessions,{sport:"",type:"",distance:"",duration_minutes:"",notes:""}]}:E))},b=(T,C)=>{h(E=>E.map(O=>O.date===T?{...O,sessions:O.sessions.filter((I,F)=>F!==C)}:O))},v=(T,C,E,O)=>{h(I=>I.map(F=>F.date===T?{...F,sessions:F.sessions.map((W,$)=>$===C?{...W,[E]:O}:W)}:F))},w=()=>{const T=[];for(const C of u)for(const E of C.sessions){if(!E.sport||!E.type)continue;if(E.type!=="rest"&&!E.distance&&!E.duration_minutes)throw new Error(`Session on ${Ne(new Date(C.date),"MMM d")} is missing distance or duration`);if(E.distance&&(isNaN(parseFloat(E.distance))||parseFloat(E.distance)<=0))throw new Error(`Invalid distance on ${Ne(new Date(C.date),"MMM d")}`);if(E.duration_minutes&&(isNaN(parseInt(E.duration_minutes,10))||parseInt(E.duration_minutes,10)<=0))throw new Error(`Invalid duration on ${Ne(new Date(C.date),"MMM d")}`);let O=null;if(E.distance){const I=parseFloat(E.distance);l==="imperial"?O=I*1.60934:O=I}T.push({date:C.date,sport:E.sport,type:E.type,distance_km:O,duration_minutes:E.duration_minutes?parseInt(E.duration_minutes,10):null,notes:E.notes.trim()||null})}return T},N=async T=>{T.preventDefault(),g(null);try{const C=w();if(C.length>500){g("Cannot submit more than 500 sessions at once");return}if(C.length===0){g("Please add at least one session");return}i.mutate({weekStart:Ne(s,"yyyy-MM-dd"),sessions:C},{onSuccess:()=>{Le({title:"Week added",description:`${C.length} session(s) have been added to your calendar.`}),h(o.map(E=>({date:Ne(E,"yyyy-MM-dd"),sessions:[]}))),g(null),t(!1),r?.()},onError:E=>{console.error("Failed to create week:",E);const O=E;if(O.response?.status===500){g("Failed to create sessions. Please try again or refresh.");return}if(E instanceof Error)g(E.message);else{const I=O.response?.data?.message||O.response?.data?.detail||O.message||"Failed to create week";g(I)}}})}catch(C){C instanceof Error?g(C.message):g("An error occurred while validating sessions")}},S=()=>{i.isPending||(g(null),t(!1))},A=j.useMemo(()=>u.reduce((T,C)=>T+C.sessions.length,0),[u]);return a.jsx(vd,{open:e,onOpenChange:S,children:a.jsxs(Fc,{className:"sm:max-w-[900px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(yd,{children:[a.jsx($c,{children:"Add Week"}),a.jsxs(xd,{children:["Add training sessions for the week of ",Ne(s,"MMM d, yyyy"),". You can add multiple sessions per day."]})]}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between pb-2 border-b",children:[a.jsx(Fe,{htmlFor:"unit-select",className:"text-sm font-medium",children:"Unit System"}),a.jsxs(gi,{value:l,onValueChange:T=>c(T),disabled:i.isPending,children:[a.jsx(ei,{id:"unit-select",className:"w-[180px]",children:a.jsx(vi,{})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"imperial",children:"Imperial (miles)"}),a.jsx(Tt,{value:"metric",children:"Metric (km)"})]})]})]}),a.jsx("div",{className:"space-y-4",children:o.map((T,C)=>{const E=Ne(T,"yyyy-MM-dd"),I=u.find(F=>F.date===E)?.sessions||[];return a.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:$5e[C]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Ne(T,"MMM d, yyyy")})]}),a.jsxs(Se,{type:"button",variant:"outline",size:"sm",onClick:()=>x(E),disabled:i.isPending,children:[a.jsx(Qx,{className:"h-4 w-4 mr-1"}),"Add Session"]})]}),I.length===0&&a.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No sessions added"}),I.map((F,W)=>a.jsx("div",{className:"bg-muted/50 rounded-lg p-3 space-y-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-5 gap-3",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Fe,{className:"text-xs",children:"Sport *"}),a.jsxs(gi,{value:F.sport,onValueChange:$=>v(E,W,"sport",$),disabled:i.isPending,children:[a.jsx(ei,{children:a.jsx(vi,{placeholder:"Select sport"})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"Run",children:"Run"}),a.jsx(Tt,{value:"Bike",children:"Bike"}),a.jsx(Tt,{value:"Swim",children:"Swim"}),a.jsx(Tt,{value:"Triathlon",children:"Triathlon"}),a.jsx(Tt,{value:"Crossfit",children:"Crossfit"}),a.jsx(Tt,{value:"Strength",children:"Strength"}),a.jsx(Tt,{value:"Walk",children:"Walk"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Fe,{className:"text-xs",children:"Type *"}),a.jsxs(gi,{value:F.type,onValueChange:$=>v(E,W,"type",$),disabled:i.isPending,children:[a.jsx(ei,{children:a.jsx(vi,{placeholder:"Select type"})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"easy",children:"Easy"}),a.jsx(Tt,{value:"workout",children:"Workout"}),a.jsx(Tt,{value:"long",children:"Long"}),a.jsx(Tt,{value:"rest",children:"Rest"})]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs(Fe,{className:"text-xs",children:["Distance (",l==="imperial"?"miles":"km",")"]}),a.jsx(ft,{type:"number",step:"0.1",min:"0",value:F.distance,onChange:$=>v(E,W,"distance",$.target.value),disabled:i.isPending||F.type==="rest",placeholder:"Optional"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Fe,{className:"text-xs",children:"Duration (min)"}),a.jsx(ft,{type:"number",step:"1",min:"0",value:F.duration_minutes,onChange:$=>v(E,W,"duration_minutes",$.target.value),disabled:i.isPending||F.type==="rest",placeholder:"Optional"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx(Fe,{className:"text-xs",children:"Notes"}),a.jsx(ft,{value:F.notes,onChange:$=>v(E,W,"notes",$.target.value),disabled:i.isPending,placeholder:"Optional"})]})]}),a.jsx(Se,{type:"button",variant:"ghost",size:"icon",onClick:()=>b(E,W),disabled:i.isPending,className:"flex-shrink-0",children:a.jsx(Ss,{className:"h-4 w-4"})})]})},W))]},E)})}),p&&a.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive",children:p}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Total sessions: ",A," ",A>500&&a.jsx("span",{className:"text-destructive",children:"(max 500)"})]}),a.jsxs(sp,{children:[a.jsx(Se,{type:"button",variant:"outline",onClick:S,disabled:i.isPending,children:"Cancel"}),a.jsxs(Se,{type:"submit",disabled:i.isPending||A===0||A>500,children:[i.isPending&&a.jsx(st,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Week (",A," session",A!==1?"s":"",")"]})]})]})]})})}const z5e=["5K","10K","15K","Half Marathon","Marathon","Ultra","Sprint Triathlon","Olympic Triathlon","Half Ironman","Ironman","Other"];function W5e({open:e,onOpenChange:t,initialDate:n,onSuccess:r}){const{unitSystem:i}=Ps(),s=fZ(),[o,l]=j.useState(Ne(n||new Date,"yyyy-MM-dd")),[c,u]=j.useState(""),[h,p]=j.useState(""),[g,x]=j.useState(""),[b,v]=j.useState(""),[w,N]=j.useState(""),[S,A]=j.useState(""),[T,C]=j.useState(null),E=i==="imperial"?"mi":"km",O=async F=>{if(F.preventDefault(),C(null),!c.trim()){C("Race name is required");return}const W=h==="Other"?g.trim():h;if(!W){C("Distance is required");return}let $=null;if(h==="Other"&&g){const U=parseFloat(g);!isNaN(U)&&U>0&&(i==="imperial"?$=U/.621371:$=U)}const z=[];W&&z.push(`Distance: ${W}`),b&&z.push(`Target Time: ${b}`),w&&z.push(`Location: ${w}`),S.trim()&&z.push(S.trim());const V=z.join(`

`);s.mutate({date:o,sport:"Race",type:"long",distance_km:$,duration_minutes:null,notes:V||null},{onSuccess:()=>{Le({title:"Race added",description:"The race has been added to your calendar."}),u(""),p(""),x(""),v(""),N(""),A(""),C(null),t(!1),r?.()},onError:U=>{console.error("Failed to create race:",U);const te=U;if(te.response?.status===500){C("Failed to create race. Please try again or refresh.");return}let Q="Failed to create race";if(te.response?.data){const J=te.response.data;if(console.error("API error details:",J),te.response.status===422&&J.detail)if(Array.isArray(J.detail)){const ee=J.detail.map(X=>`${Array.isArray(X.loc)?X.loc[X.loc.length-1]:"unknown"}: ${X.msg||X.type||"validation error"}`);Q=ee.length>0?ee.join(", "):"Validation error"}else if(typeof J.detail=="object"){const G=J.detail,ee=[];for(const[X,q]of Object.entries(G))if(Array.isArray(q)&&q.length>0){const H=q[0]&&typeof q[0]=="object"&&"msg"in q[0]?String(q[0].msg):String(q[0]);ee.push(`${X}: ${H}`)}Q=ee.length>0?ee.join(", "):"Validation error"}else typeof J.detail=="string"&&(Q=J.detail);else J.message?Q=J.message:Array.isArray(J.errors)&&J.errors.length>0&&(Q=J.errors.map(G=>`${G.field}: ${G.message}`).join(", "))}else te.message&&(Q=te.message);C(Q)}})},I=()=>{s.isPending||(C(null),t(!1))};return a.jsx(vd,{open:e,onOpenChange:I,children:a.jsx(Fc,{className:"p-0 bg-transparent border-none sm:max-w-[500px]",children:a.jsx(et,{variant:"raised",className:"rounded-2xl",children:a.jsxs("div",{className:"p-6",children:[a.jsxs(yd,{children:[a.jsx($c,{children:"Add Race / Event"}),a.jsx(xd,{children:"Add a race or event to your calendar."})]}),a.jsxs("form",{onSubmit:O,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"date",children:"Date *"}),a.jsx(ft,{id:"date",type:"date",value:o,onChange:F=>l(F.target.value),required:!0,disabled:s.isPending})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"raceName",children:"Race / Event Name *"}),a.jsx(ft,{id:"raceName",type:"text",value:c,onChange:F=>u(F.target.value),placeholder:"e.g., Boston Marathon, Local 5K",required:!0,disabled:s.isPending})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"distance",children:"Distance *"}),a.jsxs(gi,{value:h,onValueChange:p,disabled:s.isPending,children:[a.jsx(ei,{id:"distance",children:a.jsx(vi,{placeholder:"Select distance"})}),a.jsx(ti,{children:z5e.map(F=>a.jsx(Tt,{value:F,children:F},F))})]})]}),h==="Other"&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Fe,{htmlFor:"customDistance",children:["Custom Distance (",E,") *"]}),a.jsx(ft,{id:"customDistance",type:"number",step:"0.1",min:"0",value:g,onChange:F=>x(F.target.value),placeholder:"Enter distance",required:!0,disabled:s.isPending})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"targetTime",children:"Target Time (optional)"}),a.jsx(ft,{id:"targetTime",type:"text",value:b,onChange:F=>v(F.target.value),placeholder:"e.g., 3:30:00, 1:45:00",disabled:s.isPending})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"location",children:"Location (optional)"}),a.jsx(ft,{id:"location",type:"text",value:w,onChange:F=>N(F.target.value),placeholder:"e.g., Boston, MA",disabled:s.isPending})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"notes",children:"Additional Notes (optional)"}),a.jsx(cl,{id:"notes",value:S,onChange:F=>A(F.target.value),disabled:s.isPending,placeholder:"Add any additional notes about the race...",rows:3})]}),T&&a.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive",children:T}),a.jsxs(sp,{children:[a.jsx(Se,{type:"button",variant:"outline",onClick:I,disabled:s.isPending,children:"Cancel"}),a.jsxs(Se,{type:"submit",disabled:s.isPending,children:[s.isPending&&a.jsx(st,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Race"]})]})]})]})})})})}function qx(e){return e.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n")}function b8(e){return Ne(e,"yyyyMMdd'T'HHmmss'Z'")}function q5e(e){const t=new Date(e);return Ne(t,"yyyyMMdd")}function U5e(e){const t=[];return t.push("BEGIN:VCALENDAR"),t.push("VERSION:2.0"),t.push("PRODID:-//AthleteSpace//Training Calendar//EN"),t.push("CALSCALE:GREGORIAN"),t.push("METHOD:PUBLISH"),e.forEach(n=>{if(n.status==="cancelled"||n.status==="skipped")return;const r=new Date(n.date),i=q5e(n.date);let s="",o="";if(n.time){const[p,g]=n.time.split(":").map(Number),x=new Date(r);x.setHours(p||6,g||0,0,0),s=b8(x);const b=n.duration_minutes||60,v=new Date(x);v.setMinutes(v.getMinutes()+b),o=b8(v)}else s=i,o=i;const l=qx(ud(n.title||"Training Session")),c=n.notes?qx(n.notes):qx(`${n.type||"Training"} session`),u=n.type?qx(n.type):"",h=`${n.id}@athlete-space.com`;t.push("BEGIN:VEVENT"),t.push(`UID:${h}`),t.push(`DTSTART:${s}`),t.push(`DTEND:${o}`),t.push(`SUMMARY:${l}`),t.push(`DESCRIPTION:${c}`),u&&t.push(`LOCATION:${u}`),t.push(`STATUS:${n.status==="completed"?"CONFIRMED":"TENTATIVE"}`),n.duration_minutes&&t.push(`DURATION:PT${n.duration_minutes}M`),t.push("END:VEVENT")}),t.push("END:VCALENDAR"),t.join(`\r
`)}function V5e(e,t){const n=U5e(e),r=new Blob([n],{type:"text/calendar;charset=utf-8"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download=`athlete-space-calendar-${Ne(new Date,"yyyy-MM-dd")}.ics`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}function H5e(){const[e,t]=j.useState(new Date),[n,r]=j.useState("month"),[i,s]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(null),[h,p]=j.useState(null),[g,x]=j.useState(null),[b,v]=j.useState(!1),[w,N]=j.useState(!1),[S,A]=j.useState(!1),T=tr();j.useEffect(()=>{const U=localStorage.getItem("calendarFocusDate");if(!U)return;const te=new Date(U);isNaN(te.getTime())||t(te),localStorage.removeItem("calendarFocusDate")},[]);const C=()=>{t(n==="month"?GD(e,1):n==="week"?NU(e):GD(e,3))},E=()=>{t(n==="month"?Kk(e,1):n==="week"?jw(e,1):Kk(e,3))},O=()=>t(new Date),I=()=>n==="month"?Ne(e,"MMMM yyyy"):n==="week"?`Week of ${Ne(e,"MMM d, yyyy")}`:`Q${Math.floor(e.getMonth()/3)+1} ${Ne(e,"yyyy")}`,F=()=>{s(!0)},W=(U,te,Q)=>{u(U),p(te),x(Q??null),l(!0)},$=()=>{T.invalidateQueries({queryKey:["calendar"],exact:!1}),T.invalidateQueries({queryKey:["calendarWeek"],exact:!1}),T.invalidateQueries({queryKey:["calendarSeason"],exact:!1}),T.invalidateQueries({queryKey:["calendarToday"],exact:!1})},{data:z}=Mt({queryKey:["calendarSeason"],queryFn:()=>Nw(),retry:1}),V=()=>{z?.sessions?.length&&V5e(z.sessions)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{variant:"outline",size:"icon",onClick:C,children:a.jsx(bE,{className:"h-4 w-4"})}),a.jsx(Se,{variant:"outline",size:"icon",onClick:E,children:a.jsx(rw,{className:"h-4 w-4"})}),a.jsx(Se,{variant:"ghost",onClick:O,className:"text-sm",children:"Today"}),a.jsx("span",{className:"font-semibold text-foreground ml-2",children:I()})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(Se,{size:"sm",onClick:()=>v(!0),children:[a.jsx(Qx,{className:"h-4 w-4 mr-1.5"}),"Add Session"]}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>N(!0),children:[a.jsx(Qx,{className:"h-4 w-4 mr-1.5"}),"Add Week"]}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>A(!0),children:[a.jsx(Qx,{className:"h-4 w-4 mr-1.5"}),"Add Race"]}),a.jsxs(Se,{variant:"ghost",size:"sm",onClick:F,className:"text-muted-foreground hover:text-foreground",children:[a.jsx(lw,{className:"h-4 w-4 mr-1.5"}),"Ask Coach"]}),a.jsxs(Se,{variant:"ghost",size:"sm",onClick:V,disabled:!z?.sessions?.length,children:[a.jsx(Eh,{className:"h-4 w-4 mr-1.5"}),"Export ICS"]}),a.jsx(Lv,{value:n,onValueChange:U=>r(U),children:a.jsxs(np,{children:[a.jsx(hi,{value:"week",children:"Week"}),a.jsx(hi,{value:"month",children:"Month"}),a.jsx(hi,{value:"season",children:"Season"})]})})]})]}),n==="month"&&a.jsx(oDe,{currentDate:e,onActivityClick:W}),n==="week"&&a.jsx(RLe,{currentDate:e,onActivityClick:W}),n==="season"&&a.jsx($Le,{currentDate:e}),a.jsx(R5e,{open:o,onOpenChange:l,plannedWorkout:c,completedActivity:h,session:g,onAskCoach:F,onStatusChange:$}),a.jsx(t5e,{open:i,onOpenChange:s}),a.jsx(F5e,{open:b,onOpenChange:v,initialDate:e}),a.jsx(B5e,{open:w,onOpenChange:N,initialDate:e}),a.jsx(W5e,{open:S,onOpenChange:A,initialDate:e})]})}function K5e(){qh(),gZ(!0);const{data:e,isLoading:t}=Mt({queryKey:["overview",60],queryFn:()=>bv(60),retry:1,staleTime:120*1e3});return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Calendar"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Your training schedule"})]}),a.jsx(D9,{overview60d:e,isLoading:t}),a.jsx(H5e,{})]})})}function G5e({currentDate:e}){const r=Gn(e||new Date,{weekStartsOn:1}),i=Ne(r,"yyyy-MM-dd"),{data:s,isLoading:o}=Ir({queryKey:["calendarWeek",i],queryFn:()=>ld(i),retry:1});if(o)return a.jsx(et,{children:a.jsx($e,{className:"p-6",children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground"})})})});if(!s)return a.jsx(et,{children:a.jsx($e,{className:"p-6",children:a.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:"Unable to load weekly plan"})})});const l=Array.isArray(s?.sessions)?s.sessions:[],c=l.filter(x=>x?.status!=="completed"&&x?.status!=="cancelled"&&x?.status!=="skipped").length,u=l.filter(x=>x?.status==="completed").length,h=c*50,p=u*50,g=h>0?p/h*100:0;return a.jsx(et,{children:a.jsx($e,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-6",children:[a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Current Week"}),a.jsxs("h2",{className:"text-xl font-semibold text-foreground",children:[Ne(r,"MMM d"),"  ",Ne(Zu(r,{weekStartsOn:1}),"MMM d, yyyy")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xm,{className:"h-4 w-4 text-accent"}),a.jsx("span",{className:"text-sm font-medium text-foreground",children:"Aerobic Base Development"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Weekly Load"}),a.jsxs("span",{className:"font-medium text-foreground",children:[p," / ",h," TSS"]})]}),a.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-accent transition-all duration-500",style:{width:`${Math.min(g,100)}%`}})}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[a.jsx(Ac,{className:"h-3 w-3"}),a.jsxs("span",{children:[g.toFixed(0),"% complete"]})]})]})]}),a.jsxs("div",{className:"lg:w-1/2 bg-muted/50 rounded-lg p-4",children:[a.jsx("div",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"Coach Notes"}),a.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:s.sessions?.length?`${s.sessions.length} sessions planned this week`:"No sessions planned"})]})]})})})}const Y5e={running:vs,cycling:ov,swimming:fv,triathlon:vs},Z5e={aerobic:"bg-training-aerobic",threshold:"bg-training-threshold",vo2:"bg-training-vo2",endurance:"bg-training-endurance",recovery:"bg-training-recovery"};function X5e({currentDate:e,onDayClick:t}){const i=Gn(e||new Date,{weekStartsOn:1}),s=Ne(i,"yyyy-MM-dd"),{data:o}=Ir({queryKey:["calendarWeek",s],queryFn:()=>ld(s),retry:1}),l=j.useMemo(()=>Array.from({length:7},(c,u)=>{const h=xc(i,u),p=Ne(h,"yyyy-MM-dd"),g=o?.sessions?.find(b=>b.date===p&&b.status!=="completed"&&b.status!=="cancelled"&&b.status!=="skipped"),x=g?pZ(g):null;return{date:h,dateStr:p,dayName:Ne(h,"EEE"),dayNum:Ne(h,"d"),workout:x,isToday:Wo(h)}}),[o,i]);return a.jsx("div",{className:"flex gap-1 overflow-x-auto pb-2",children:l.map(c=>{const u=c.workout?Y5e[c.workout.sport]||vs:uv,h=c.workout?Z5e[c.workout.intent]:"bg-muted";return a.jsxs("div",{onClick:()=>t?.(c.dateStr),className:re("flex-1 min-w-[80px] p-3 rounded-lg border text-center transition-all cursor-pointer hover:border-accent/50",c.isToday?"border-accent bg-accent/5 ring-1 ring-accent":"border-border bg-card"),children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:c.dayName}),a.jsx("div",{className:re("text-sm font-semibold mb-2",c.isToday&&"text-accent"),children:c.dayNum}),a.jsx("div",{className:"flex justify-center mb-2",children:a.jsx("div",{className:re("w-8 h-8 rounded-full flex items-center justify-center",c.workout?`${h}/20`:"bg-muted/50"),children:a.jsx(u,{className:re("h-4 w-4",c.workout?"text-foreground":"text-muted-foreground")})})}),a.jsx("div",{className:re("h-1.5 rounded-full",h)}),a.jsx("div",{className:"text-xs text-muted-foreground mt-2 capitalize truncate",children:c.workout?.intent||"Rest"})]},c.date.toString())})})}function Q5e(e,t){const n=e||t;if(!n)return;const r=n.toLowerCase().trim();if(r==="recovery"||r==="easy"||r==="rest"||r==="aerobic")return"easy";if(r==="threshold"||r==="tempo")return r==="threshold"?"threshold":"tempo";if(r==="vo2"||r==="vo2max"||r==="interval"||r==="hill")return r==="hill"?"hill":"vo2";if(r==="endurance"||r==="long")return"endurance";if(r==="moderate")return"moderate";if(r.includes("recovery")||r.includes("easy")||r.includes("rest")||r.includes("aerobic"))return"easy";if(r.includes("threshold"))return"threshold";if(r.includes("tempo"))return"tempo";if(r.includes("vo2")||r.includes("interval")||r.includes("sprint"))return"vo2";if(r.includes("hill"))return"hill";if(r.includes("endurance")||r.includes("long"))return"endurance";if(r.includes("moderate"))return"moderate"}const J5e={proceed:{icon:Ar,label:"Proceed",className:"bg-decision-proceed/15 text-decision-proceed border-decision-proceed/30"},modify:{icon:Fa,label:"Modify",className:"bg-decision-modify/15 text-decision-modify border-decision-modify/30"},replace:{icon:qu,label:"Replace",className:"bg-decision-replace/15 text-decision-replace border-decision-replace/30"},rest:{icon:uv,label:"Rest",className:"bg-decision-rest/15 text-decision-rest border-decision-rest/30"}},e4e={aerobic:"Keep this fully aerobic. Stay conversational throughout.",threshold:"Push into the discomfort zone but stay controlled.",vo2:"Hard effort today. Arrive rested and execute with intent.",endurance:"Long and steady. Fuel properly and pace conservatively.",recovery:"Very easy. Heart rate should stay low throughout."};function JT(e,t=10){const n=(e||"").toLowerCase();return n.includes("interval")||n.includes("vo2")?Array.from({length:t},(r,i)=>i%2===0?3+Math.random()*2:7+Math.random()*2):n.includes("tempo")||n.includes("threshold")?Array.from({length:t},(r,i)=>i<2||i>=t-2?3+Math.random()*2:6+Math.random()*2):n.includes("long")||n.includes("endurance")?Array.from({length:t},(r,i)=>{const s=i/t;return s<.2?4+s*5:s>.8?5+(1-s)*3:5+Math.random()*1.5}):Array.from({length:t},()=>3+Math.random()*2)}function t4e(e){switch(e){case"threshold":return"threshold";case"vo2":return"interval";case"recovery":return"recovery";case"endurance":return"long";case"aerobic":return"easy";default:return"easy"}}function XX(e){if(!e)return"neutral";const t=e.toLowerCase();return t.includes("great")||t.includes("strong")||t.includes("good")?"positive":t.includes("caution")||t.includes("monitor")||t.includes("careful")?"warning":"neutral"}function n4e(e,t,n){let r="planned";n==="completed"&&t&&(r="compliance");const i={distanceKm:e.distance??0,durationSec:e.duration*60,paceSecPerKm:e.distance&&e.distance>0?e.duration*60/e.distance:0},s=t?{distanceKm:t.distance,durationSec:t.duration*60,paceSecPerKm:t.distance>0?t.duration*60/t.distance:0}:void 0,o=JT(e.intent),l=t?JT(e.intent):void 0,c=t?.coachFeedback||e4e[e.intent],u=XX(c),h=e.title||t?.title||r4e(e.intent);return{id:e.id,title:h,type:t4e(e.intent),phase:r,planned:i,completed:s,effortData:l,plannedEffortData:o,coachInsight:c?{tone:u,message:c}:void 0}}function r4e(e){return{threshold:"Threshold Run",vo2:"Interval Session",recovery:"Recovery Run",endurance:"Long Run",aerobic:"Easy Run"}[e]||"Workout"}function i4e(e){const t={distanceKm:e.distance,durationSec:e.duration*60,paceSecPerKm:e.distance>0?e.duration*60/e.distance:0},n=JT("easy"),r=XX(e.coachFeedback);return{id:e.id,title:e.title||"Activity",type:"easy",phase:"completed",completed:t,effortData:n,coachInsight:e.coachFeedback?{tone:r,message:e.coachFeedback}:void 0}}function a4e({date:e,dateId:t,workout:n,completed:r,status:i,dailyDecision:s,onClick:o}){const l=!n&&!r,c=s?J5e[s.decision]:null,u=c?.icon,h=n?n4e(n,r,i):r?i4e(r):null,p=n?Q5e(n.intent,void 0):void 0,x=p==="threshold"||p==="vo2"||p==="hill"?p:void 0;return a.jsx(et,{id:t,glowIntensity:x,className:re("transition-all scroll-mt-4",i==="today"&&"ring-2 ring-accent",i==="missed"&&"opacity-60",o&&"cursor-pointer hover:bg-muted/50"),onClick:o,children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[a.jsxs("div",{className:"lg:w-24 shrink-0",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:Ne(e,"EEEE")}),a.jsx("div",{className:re("text-2xl font-semibold",i==="today"&&"text-accent"),children:Ne(e,"d")}),a.jsx("div",{className:"text-xs text-muted-foreground",children:Ne(e,"MMM")}),i==="today"&&a.jsx(ln,{variant:"outline",className:"mt-2 text-xs bg-accent/10 text-accent border-accent/30",children:"Today"}),i==="completed"&&r&&a.jsxs(ln,{variant:"outline",className:"mt-2 text-xs bg-load-fresh/10 text-load-fresh border-load-fresh/30",children:[a.jsx(Ar,{className:"h-3 w-3 mr-1"}),"Done"]}),i==="missed"&&a.jsxs(ln,{variant:"outline",className:"mt-2 text-xs bg-destructive/10 text-destructive border-destructive/30",children:[a.jsx(wW,{className:"h-3 w-3 mr-1"}),"Missed"]})]}),a.jsx("div",{className:"flex-1 min-w-0",children:l?a.jsxs("div",{className:"py-4",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(uv,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:"Rest Day"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Recovery and adaptation. Stay active with light movement if desired."})]}):h?a.jsx("div",{className:"w-full max-w-[400px]",children:a.jsx(I0,{session:h})}):null}),a.jsx("div",{className:"lg:w-64 shrink-0",children:i==="today"&&s&&u&&c&&a.jsxs("div",{className:re("p-3 rounded-lg border",c.className),children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(u,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:c.label})]}),a.jsx("p",{className:"text-xs leading-relaxed opacity-90",children:s.reason})]})})]})})})}const w8={warmup:"#A3E635",steady:"#60A5FA",interval:"#F97316",cooldown:"#38BDF8",rest:"#CBD5E1",tempo:"#F59E0B",threshold:"#EF4444",recovery:"#10B981",easy:"#84CC16",long:"#8B5CF6",repeat_block:"#EC4899"};function QX({steps:e,totalDistanceMeters:t,totalDurationSeconds:n}){const r=j.useMemo(()=>[...e].sort((h,p)=>h.order-p.order),[e]),i=j.useMemo(()=>t!==null?t:n!==null?n:null,[t,n]),s=j.useMemo(()=>t!==null?"Distance":n!==null?"Time":null,[t,n]),o=j.useMemo(()=>({rest:.25,recovery:.35,easy:.45,flow:.55,warmup:.5,steady:.65,tempo:.75,cooldown:.4,lt2:.85,threshold:.95,interval:.9,vo2:1,long:.6,repeat_block:.8}),[]),l=h=>{const p=h.target?.type||h.target_metric,g=h.target?.value??h.target_value,x=h.target?.min??h.target_min,b=h.target?.max??h.target_max;if(g!=null){if(p==="pace"){const w=1-(g-2)/2;return Math.min(1,Math.max(.3,w))}if(p==="power")return Math.min(1,Math.max(.3,(g-100)/200));if(p==="hr")return Math.min(1,Math.max(.3,(g-120)/80))}if(x!=null&&b!==null&&b!==void 0){const w=(x+b)/2;if(p==="pace"){const N=1-(w-2)/2;return Math.min(1,Math.max(.3,N))}if(p==="power")return Math.min(1,Math.max(.3,(w-100)/200));if(p==="hr")return Math.min(1,Math.max(.3,(w-120)/80))}const v=h.intensity?.toLowerCase()||h.step_type?.toLowerCase()||"steady";return o[v]||.7},{minMultiplier:c,maxMultiplier:u}=j.useMemo(()=>{if(r.length===0)return{minMultiplier:.3,maxMultiplier:1};const h=r.map(p=>l(p));return{minMultiplier:Math.min(...h,.3),maxMultiplier:Math.max(...h,1)}},[r]);return!i||r.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"No timeline data available"})}):a.jsxs("div",{className:"space-y-2",children:[s&&a.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:s}),a.jsx("div",{className:"flex items-end gap-1 h-12 rounded-lg overflow-hidden",children:r.map(h=>{const p=h.distance_meters!==null&&h.distance_meters!==void 0?h.distance_meters:h.duration_seconds!==null&&h.duration_seconds!==void 0?h.duration_seconds:0,g=i>0?p/i*100:0,x=w8[h.step_type]||w8.steady,b=l(h),v=u-c,N=40+(v>0?(b-c)/v:1)*60;return a.jsx("div",{className:re("flex items-center justify-center transition-all"),style:{width:`${g}%`,height:`${N}%`,backgroundColor:x,minWidth:g>0?"2px":"0",minHeight:"30%"},title:`${h.name||h.step_type} - Step ${h.order}`},h.id)})}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Start"}),a.jsx("span",{children:"End"})]})]})}const Yb=j.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:re("w-full caption-bottom text-sm",e),...t})}));Yb.displayName="Table";const Zb=j.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:re("[&_tr]:border-b",e),...t}));Zb.displayName="TableHeader";const Xb=j.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:re("[&_tr:last-child]:border-0",e),...t}));Xb.displayName="TableBody";const s4e=j.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:re("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));s4e.displayName="TableFooter";const Ys=j.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:re("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));Ys.displayName="TableRow";const os=j.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:re("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));os.displayName="TableHead";const Ta=j.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:re("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ta.displayName="TableCell";const o4e=j.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:re("mt-4 text-sm text-muted-foreground",e),...t}));o4e.displayName="TableCaption";const Vs={warmup:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800"},cooldown:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800"},easy:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800"},recovery:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800"},rest:{bg:"bg-green-100 dark:bg-green-900/30",text:"text-green-700 dark:text-green-400",border:"border-green-200 dark:border-green-800"},steady:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800"},tempo:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800"},lt2:{bg:"bg-yellow-100 dark:bg-yellow-900/30",text:"text-yellow-700 dark:text-yellow-400",border:"border-yellow-200 dark:border-yellow-800"},threshold:{bg:"bg-orange-100 dark:bg-orange-900/30",text:"text-orange-700 dark:text-orange-400",border:"border-orange-200 dark:border-orange-800"},vo2:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800"},interval:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800"},hard:{bg:"bg-red-100 dark:bg-red-900/30",text:"text-red-700 dark:text-red-400",border:"border-red-200 dark:border-red-800"},flow:{bg:"bg-blue-100 dark:bg-blue-900/30",text:"text-blue-700 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800"}};function bf(e){if(!e)return{bg:"bg-gray-100 dark:bg-gray-800",text:"text-gray-700 dark:text-gray-300",border:"border-gray-200 dark:border-gray-700"};const t=e.toLowerCase();return Vs[t]?Vs[t]:t.includes("warmup")||t.includes("warm")?Vs.warmup:t.includes("cooldown")||t.includes("cool")?Vs.cooldown:t.includes("recovery")||t.includes("rest")?Vs.recovery:t.includes("tempo")||t.includes("lt2")?Vs.tempo:t.includes("threshold")?Vs.threshold:t.includes("vo2")||t.includes("interval")||t.includes("hard")?Vs.interval:t.includes("easy")?Vs.easy:t.includes("steady")?Vs.steady:{bg:"bg-gray-100 dark:bg-gray-800",text:"text-gray-700 dark:text-gray-300",border:"border-gray-200 dark:border-gray-700"}}const _8={warmup:"Warmup",steady:"Steady",interval:"Interval",cooldown:"Cooldown",rest:"Rest",tempo:"Tempo",threshold:"Threshold",recovery:"Recovery",easy:"Easy",long:"Long",repeat_block:"Repeat"};function JX({steps:e,groups:t=[]}){const{convertDistance:n,formatDistance:r}=Ps(),[i,s]=j.useState("grouped"),o=h=>{if(!h)return"N/A";const p=Math.floor(h/3600),g=Math.floor(h%3600/60),x=h%60;return p>0?`${p}:${g.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`:`${g}:${x.toString().padStart(2,"0")}`},l=h=>{if(h.target){const{type:p,min:g,max:x,value:b,unit:v}=h.target;if(!p)return"N/A";const w=v||(p==="pace"?"min/km":p==="hr"?"bpm":"W");if(g!==null&&x!==null)return`${g}-${x} ${w}`;if(g!==null)return`${g} ${w}`;if(x!==null)return`${x} ${w}`;if(b!==null)return`${b} ${w}`}if(h.target_type){const p=h.target_type==="pace"?"min/km":h.target_type==="hr"?"bpm":"W";if(h.target_low!==void 0&&h.target_high!==void 0)return`${h.target_low}-${h.target_high} ${p}`;if(h.target_low!==void 0)return`${h.target_low} ${p}`;if(h.target_high!==void 0)return`${h.target_high} ${p}`}return"N/A"},c=[...e].sort((h,p)=>h.order-p.order),u=new Map;for(const h of t)for(const p of h.step_ids)u.set(p,h);if(i==="grouped"&&t.length>0){const h=new Set,p=[];for(const g of c){if(h.has(g.id))continue;const x=u.get(g.id);if(x){p.push({type:"group",data:x});const b=x.step_ids.map(N=>c.find(S=>S.id===N)).filter(N=>N!==void 0).sort((N,S)=>N.order-S.order),v=Math.min(2,x.repeat),w=b.length;for(let N=0;N<v;N++)for(const S of b){const A=S.order,T=c.find(C=>C.order===A+N*w&&x.step_ids.includes(C.id));T&&(p.push({type:"step",data:T}),h.add(T.id))}x.step_ids.forEach(N=>h.add(N))}else p.push({type:"step",data:g}),h.add(g.id)}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Workout Steps"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{variant:"default",size:"sm",onClick:()=>s("grouped"),children:"Grouped"}),a.jsx(Se,{variant:"outline",size:"sm",onClick:()=>s("flat"),children:"All Steps"})]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Yb,{children:[a.jsx(Zb,{children:a.jsxs(Ys,{children:[a.jsx(os,{className:"w-16",children:"Step #"}),a.jsx(os,{children:"Name"}),a.jsx(os,{children:"Distance / Duration"}),a.jsx(os,{children:"Target"})]})}),a.jsx(Xb,{children:p.map((g,x)=>{if(g.type==="group"){const b=g.data,w=b.step_ids.map(N=>c.find(S=>S.id===N)).filter(N=>N!==void 0).sort((N,S)=>N.order-S.order).map(N=>N.name||N.step_type||"Step");return a.jsx(Ys,{className:"bg-muted/50",children:a.jsxs(Ta,{colSpan:4,className:"font-semibold",children:[b.repeat," (",w.join(" + "),")"]})},`group-${b.group_id}`)}else{const b=g.data;return a.jsxs(Ys,{children:[a.jsx(Ta,{className:"font-medium",children:b.order}),a.jsx(Ta,{children:a.jsx(ln,{variant:"outline",className:`${bf(b.intensity||b.step_type).bg} ${bf(b.intensity||b.step_type).text} ${bf(b.intensity||b.step_type).border}`,children:b.name||_8[b.step_type]||(b.step_type?b.step_type.charAt(0).toUpperCase()+b.step_type.slice(1):"Step")})}),a.jsx(Ta,{children:b.distance_meters!==null&&b.distance_meters!==void 0?a.jsx("span",{children:r(n(b.distance_meters/1e3))}):b.duration_seconds!==null&&b.duration_seconds!==void 0?a.jsx("span",{children:o(b.duration_seconds)}):a.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),a.jsx(Ta,{children:a.jsx("span",{className:"text-sm text-muted-foreground",children:l(b)})})]},b.id)}})})]})})]})}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Workout Steps"}),t.length>0&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{variant:i==="grouped"?"default":"outline",size:"sm",onClick:()=>s("grouped"),children:"Grouped"}),a.jsx(Se,{variant:i==="flat"?"default":"outline",size:"sm",onClick:()=>s("flat"),children:"All Steps"})]})]}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Yb,{children:[a.jsx(Zb,{children:a.jsxs(Ys,{children:[a.jsx(os,{className:"w-16",children:"Step #"}),a.jsx(os,{children:"Name"}),a.jsx(os,{children:"Distance / Duration"}),a.jsx(os,{children:"Target"})]})}),a.jsx(Xb,{children:c.map(h=>a.jsxs(Ys,{children:[a.jsx(Ta,{className:"font-medium",children:h.order}),a.jsx(Ta,{children:a.jsx(ln,{variant:"outline",className:`${bf(h.intensity||h.step_type).bg} ${bf(h.intensity||h.step_type).text} ${bf(h.intensity||h.step_type).border}`,children:h.name||_8[h.step_type]||(h.step_type?h.step_type.charAt(0).toUpperCase()+h.step_type.slice(1):"Step")})}),a.jsx(Ta,{children:h.distance_meters!==null&&h.distance_meters!==void 0?a.jsx("span",{children:r(n(h.distance_meters/1e3))}):h.duration_seconds!==null&&h.duration_seconds!==void 0?a.jsx("span",{children:o(h.duration_seconds)}):a.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),a.jsx(Ta,{children:a.jsx("span",{className:"text-sm text-muted-foreground",children:l(h)})})]},h.id))})]})})]})}function eQ({workoutId:e}){const[t,n]=j.useState(!1),r=async()=>{n(!0);try{const s=await nt.post(`/workouts/${e}/export/garmin`,{},{responseType:"blob"}),o=window.URL.createObjectURL(s),l=document.createElement("a");l.href=o,l.download=`workout-${e}.fit`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(o),Le({title:"Export successful",description:"Workout exported to Garmin format"})}catch(i){console.error("[WorkoutExport] Failed to export workout:",i);const s=i instanceof Error?i.message:"Failed to export workout";Le({title:"Export failed",description:s,variant:"destructive"})}finally{n(!1)}};return a.jsx(Se,{onClick:r,disabled:t,variant:"outline",size:"sm",children:t?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 animate-spin mr-2"}),"Exporting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Export to Garmin"]})})}function L1(e){const{data:t,isLoading:n,error:r}=Mt({queryKey:["structuredWorkout",e],queryFn:()=>{if(!e)throw new Error("Workout ID is required");return FX(e)},enabled:!!e,retry:1,staleTime:3e5,gcTime:18e5});return n?{status:"loading"}:r?{status:"error",error:r instanceof Error?r.message:"Failed to load structured workout"}:t?{status:"ready",data:t}:{status:"loading"}}function l4e({workoutId:e}){const t=L1(e);if(t.status==="loading")return a.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground"})})});if(t.status==="error")return a.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:a.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"Unable to load workout details"})});const{data:n}=t,{workout:r,steps:i}=n;return!i||i.length===0?a.jsx("div",{className:"rounded-lg border bg-muted/30 p-4",children:a.jsx("div",{className:"text-center py-4 text-sm text-muted-foreground",children:"No structured steps available"})}):a.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-4",children:[a.jsx(QX,{steps:i,totalDistanceMeters:r.total_distance_meters,totalDurationSeconds:r.total_duration_seconds}),a.jsx(JX,{steps:i}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(eQ,{workoutId:e}),a.jsxs(Se,{variant:"secondary",size:"sm",children:[a.jsx(lw,{className:"h-4 w-4 mr-2"}),"Ask Coach"]})]})]})}function c4e({currentDate:e,onDayClick:t}){const n=new Date,r=e||n,i=Gn(r,{weekStartsOn:1}),s=Ne(i,"yyyy-MM-dd"),{data:o,isLoading:l}=Mt({queryKey:["calendarWeek",s],queryFn:()=>ld(s),retry:1}),{data:c,isLoading:u}=Mt({queryKey:["activities","limit",100],queryFn:()=>xi({limit:100}),retry:1,staleTime:300*1e3,gcTime:1800*1e3}),{data:h}=Mt({queryKey:["trainingLoad",14],queryFn:()=>(console.log("[DailyWorkoutList] Fetching training load for 14 days"),bc(14)),retry:(N,S)=>{if(S&&typeof S=="object"){const A=S;if(A.status===500||A.status===503||A.code==="ECONNABORTED"||A.message&&A.message.includes("timed out"))return!1}return N<1},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,gcTime:300*1e3}),{data:p}=Mt({queryKey:["intelligence","today","current"],queryFn:()=>Q2(),retry:1,enabled:Wo(n),staleTime:1800*1e3,gcTime:3600*1e3}),[g,x]=j.useState(null),b=j.useCallback(N=>{N&&x(S=>S===N?null:N)},[]),v=j.useMemo(()=>c?Nv(c,h):[],[c,h]),w=j.useMemo(()=>{const N=v||[];return Array.from({length:7},(S,A)=>{const T=xc(i,A),C=Ne(T,"yyyy-MM-dd"),E=o?.sessions?.find($=>$.date===C&&$.status!=="completed"&&$.status!=="cancelled"&&$.status!=="skipped"),O=E?pZ(E):null,I=N.find($=>!$||typeof $!="object"?!1:($.date?.split("T")[0]||$.date)===C);let F="upcoming";Wo(T)?F="today":Gk(T,n)&&!Wo(T)&&(F=I?"completed":O?"missed":"upcoming");const W=Wo(T)&&Wo(r)&&p?{decision:"proceed",reason:p.explanation||p.recommendation}:null;return{date:T,dateStr:C,session:E,workout:O,completed:I||void 0,status:F,dailyDecision:W}})},[o,v,i,n,p,r]);return l&&u?a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Daily Schedule"}),a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-5 w-5 animate-spin text-muted-foreground"})})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Daily Schedule"}),a.jsx("div",{className:"space-y-3",children:w.map(N=>{const S=N.session?.workout_id,A=S&&g===S;return a.jsxs("div",{id:`workout-${N.dateStr}`,className:"space-y-2",children:[a.jsx(a4e,{date:N.date,dateId:`workout-${N.dateStr}`,workout:N.workout,completed:N.completed,status:N.status,dailyDecision:N.dailyDecision,onClick:S?()=>b(S):void 0,isExpanded:A}),A&&S&&a.jsx(l4e,{workoutId:S})]},N.date.toString())})})]})}function u4e(){const[e,t]=j.useState(!1),{data:n}=Ir({queryKey:["coach","recommendations"],queryFn:()=>cue(),retry:1,staleTime:1800*1e3,gcTime:3600*1e3}),r=[];if(n?.recommendations&&Array.isArray(n.recommendations)){const i=new Date,s=new Date(i.getTime()-10080*60*1e3);n.recommendations.filter(o=>{if(!o||typeof o!="object"||o.priority!=="high"||!o.timestamp)return!1;try{return new Date(o.timestamp)>=s}catch{return!1}}).forEach(o=>{o?.id&&o?.recommendation&&r.push({id:o.id,date:o.timestamp?new Date(o.timestamp):new Date,type:"adjustment",description:o.recommendation,reason:o.rationale||o.recommendation})})}return r.length===0?null:a.jsxs("div",{className:"border border-border rounded-lg overflow-hidden",children:[a.jsxs(Se,{variant:"ghost",className:"w-full justify-between p-4 h-auto hover:bg-muted/50",onClick:()=>t(!e),children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(Fa,{className:"h-4 w-4"}),a.jsxs("span",{className:"text-sm font-medium",children:[r.length," plan adjustment",r.length>1?"s":""," this week"]})]}),e?a.jsx(iw,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(cv,{className:"h-4 w-4 text-muted-foreground"})]}),e&&a.jsx("div",{className:"border-t border-border p-4 space-y-3",children:r.map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground shrink-0 w-20",children:[a.jsx(ps,{className:"h-3 w-3"}),Ne(i.date,"EEE d")]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-sm font-medium text-foreground",children:i.description}),a.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:i.reason})]})]},i.id))})]})}function d4e(){const[e,t]=j.useState(!1),[n,r]=j.useState(""),[i,s]=j.useState([{role:"coach",content:"Questions about this week's plan? I'm here to explain any workout or adjustment."}]),[o,l]=j.useState(!1),[c,u]=j.useState(null),h=j.useRef(!1),p=async()=>{if(h.current||!n.trim())return;const b=n.trim(),v=crypto.randomUUID();r(""),h.current=!0,l(!0),console.info("Sending coach message",{length:b.length,messageId:v});const w={role:"athlete",content:b};s(N=>[...N,w]);try{const N=await a2(b,{message_id:v});N.conversation_id&&u(N.conversation_id),s(S=>[...S,{role:"coach",content:N.reply||"I understand. Let me think about that.",show_plan:N.show_plan===!0,plan_items:N.plan_items,response_type:N.response_type}])}catch(N){const A=N.message||"Sorry, I encountered an error. Please try again.";console.error("Failed to send message:",N),s(T=>[...T,{role:"coach",content:A}])}finally{l(!1),h.current=!1}},g=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),p())},x=b=>{b.preventDefault(),p()};return a.jsxs(a.Fragment,{children:[!e&&a.jsx(Se,{onClick:()=>t(!0),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full shadow-lg",children:a.jsx(lw,{className:"h-6 w-6"})}),e&&a.jsxs("div",{className:"fixed bottom-6 right-6 w-80 bg-card border border-border rounded-lg shadow-xl overflow-hidden animate-fade-up",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-border bg-muted/50",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jr,{className:"h-5 w-5 text-coach"}),a.jsx("span",{className:"font-medium text-sm",children:"Ask about this week"})]}),a.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>t(!1),children:a.jsx(Ss,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"h-64 overflow-y-auto p-3 space-y-3",children:[c&&a.jsx(J2,{conversationId:c,mode:"executing"}),i.map((b,v)=>a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:re("flex",b.role==="athlete"&&"justify-end"),children:a.jsx("div",{className:re("max-w-[85%] rounded-lg px-3 py-2 text-sm",b.role==="coach"?"bg-[#2F4F4F]/10 text-foreground":"bg-accent text-accent-foreground"),children:b.content})}),b.role==="coach"&&b.show_plan===!0&&b.plan_items&&(!b.response_type||["plan","weekly_plan","season_plan","session_plan","recommendation","summary"].includes(b.response_type))&&a.jsx("div",{className:re("flex"),children:a.jsx("div",{className:"max-w-[85%]",children:a.jsx(D0,{planItems:b.plan_items})})})]},v)),o&&a.jsx("div",{className:"flex",children:a.jsx("div",{className:"bg-[#2F4F4F]/10 rounded-lg px-3 py-2",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"w-1.5 h-1.5 bg-muted-foreground/50 rounded-full animate-pulse-subtle"}),a.jsx("span",{className:"w-1.5 h-1.5 bg-muted-foreground/50 rounded-full animate-pulse-subtle [animation-delay:150ms]"}),a.jsx("span",{className:"w-1.5 h-1.5 bg-muted-foreground/50 rounded-full animate-pulse-subtle [animation-delay:300ms]"})]})})})]}),a.jsx("div",{className:"p-3 border-t border-border",children:a.jsxs("form",{onSubmit:x,className:"flex gap-2",children:[a.jsx(ft,{value:n,onChange:b=>r(b.target.value),onKeyDown:g,placeholder:"Ask about your plan...",className:"text-sm h-9"}),a.jsx(Se,{type:"submit",disabled:!n.trim()||o||h.current,size:"icon",className:"h-9 w-9 shrink-0 bg-coach hover:bg-coach/90 text-coach-foreground",children:a.jsx(dv,{className:"h-4 w-4"})})]})})]})]})}var CM="Progress",TM=100,[f4e]=yr(CM),[h4e,p4e]=f4e(CM),tQ=j.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=m4e,...o}=e;(i||i===0)&&!j8(i)&&console.error(g4e(`${i}`,"Progress"));const l=j8(i)?i:TM;r!==null&&!S8(r,l)&&console.error(v4e(`${r}`,"Progress"));const c=S8(r,l)?r:null,u=Qb(c)?s(c,l):void 0;return a.jsx(h4e,{scope:n,value:c,max:l,children:a.jsx(We.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Qb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":iQ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});tQ.displayName=CM;var nQ="ProgressIndicator",rQ=j.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=p4e(nQ,n);return a.jsx(We.div,{"data-state":iQ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});rQ.displayName=nQ;function m4e(e,t){return`${Math.round(e/t*100)}%`}function iQ(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Qb(e){return typeof e=="number"}function j8(e){return Qb(e)&&!isNaN(e)&&e>0}function S8(e,t){return Qb(e)&&!isNaN(e)&&e<=t&&e>=0}function g4e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${TM}\`.`}function v4e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${TM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var aQ=tQ,y4e=rQ;const Jb=j.forwardRef(({className:e,value:t,...n},r)=>a.jsx(aQ,{ref:r,className:re("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:a.jsx(y4e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Jb.displayName=aQ.displayName;function x4e({currentDate:e=new Date,showWeekly:t=!0,showSeason:n=!0}){const r=Gn(e,{weekStartsOn:1}),i=Ne(r,"yyyy-MM-dd"),{data:s}=Ir({queryKey:["calendarWeek",i],queryFn:()=>ld(i),retry:1}),{data:o}=Ir({queryKey:["calendarSeason"],queryFn:()=>Nw(),retry:1,enabled:n}),l=j.useMemo(()=>{const p=Array.isArray(s?.sessions)?s.sessions:[];if(p.length===0)return null;const g=Gf(e),x=p.filter(A=>{if(!A?.date)return!1;const T=or(A.date);return Gk(T,g)}),b=x.filter(A=>A?.status==="planned"||A?.status==="completed"),v=x.filter(A=>A?.status==="completed"),w=p.filter(A=>A?.status==="skipped"),N=p.filter(A=>A?.status==="cancelled"),S=b.length>0?Math.round(v.length/b.length*100):0;return{totalPlanned:b.length,totalCompleted:v.length,totalSkipped:w.length,totalCancelled:N.length,complianceRate:S,weeklyCompliance:S,missedSessions:b.length-v.length}},[s,e]),c=j.useMemo(()=>{const p=Array.isArray(o?.sessions)?o.sessions:[];if(p.length===0)return null;const g=Gf(e),x=p.filter(A=>{if(!A?.date)return!1;const T=or(A.date);return Gk(T,g)}),b=x.filter(A=>A?.status==="planned"||A?.status==="completed"),v=x.filter(A=>A?.status==="completed"),w=p.filter(A=>A?.status==="skipped"),N=p.filter(A=>A?.status==="cancelled"),S=b.length>0?Math.round(v.length/b.length*100):0;return{totalPlanned:b.length,totalCompleted:v.length,totalSkipped:w.length,totalCancelled:N.length,complianceRate:S,weeklyCompliance:0,missedSessions:b.length-v.length}},[o,e]),u=p=>p>=80?"text-load-fresh":p>=60?"text-load-optimal":p>=40?"text-muted-foreground":"text-load-overreaching",h=p=>p>=80?{label:"Excellent",variant:"default"}:p>=60?{label:"Good",variant:"default"}:p>=40?{label:"Fair",variant:"secondary"}:{label:"Needs Improvement",variant:"destructive"};return!l&&!c?a.jsx(et,{children:a.jsx($e,{className:"p-6",children:a.jsx("div",{className:"text-center text-muted-foreground text-sm",children:"No compliance data available"})})}):a.jsxs("div",{className:"space-y-4",children:[t&&l&&a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(Xm,{className:"h-5 w-5"}),"Weekly Compliance"]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Completion Rate"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:re("text-2xl font-bold",u(l.complianceRate)),children:[l.complianceRate,"%"]}),a.jsx(ln,{variant:h(l.complianceRate).variant,children:h(l.complianceRate).label})]})]}),a.jsx(Jb,{value:l.complianceRate,className:"h-2"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Planned"}),a.jsx("div",{className:"text-lg font-semibold",children:l.totalPlanned})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Ar,{className:"h-3 w-3 text-load-fresh"}),"Completed"]}),a.jsx("div",{className:"text-lg font-semibold text-load-fresh",children:l.totalCompleted})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(ps,{className:"h-3 w-3 text-muted-foreground"}),"Skipped"]}),a.jsx("div",{className:"text-lg font-semibold",children:l.totalSkipped})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Fa,{className:"h-3 w-3 text-load-overreaching"}),"Missed"]}),a.jsx("div",{className:"text-lg font-semibold text-load-overreaching",children:l.missedSessions})]})]})]})]}),n&&c&&a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(Ac,{className:"h-5 w-5"}),"Season Compliance"]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Overall Completion Rate"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:re("text-2xl font-bold",u(c.complianceRate)),children:[c.complianceRate,"%"]}),a.jsx(ln,{variant:h(c.complianceRate).variant,children:h(c.complianceRate).label})]})]}),a.jsx(Jb,{value:c.complianceRate,className:"h-2"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Planned"}),a.jsx("div",{className:"text-lg font-semibold",children:c.totalPlanned})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Ar,{className:"h-3 w-3 text-load-fresh"}),"Completed"]}),a.jsx("div",{className:"text-lg font-semibold text-load-fresh",children:c.totalCompleted})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(ps,{className:"h-3 w-3 text-muted-foreground"}),"Skipped"]}),a.jsx("div",{className:"text-lg font-semibold",children:c.totalSkipped})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[a.jsx(Fa,{className:"h-3 w-3 text-load-overreaching"}),"Missed"]}),a.jsx("div",{className:"text-lg font-semibold text-load-overreaching",children:c.missedSessions})]})]}),o&&a.jsx("div",{className:"pt-4 border-t border-border",children:a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Season: ",Ne(new Date(o.season_start),"MMM d")," - ",Ne(new Date(o.season_end),"MMM d, yyyy")]})})]})]})]})}function b4e(){qh();const[e,t]=j.useState(new Date),n=Gn(e,{weekStartsOn:1}),r=()=>{t(NU(e))},i=()=>{t(jw(e,1))},s=()=>{t(new Date)},o=()=>{const c=new Date(n);return c.setDate(c.getDate()+6),`Week of ${Ne(n,"MMM d, yyyy")}`},l=j.useCallback(c=>{const u=document.getElementById(`workout-${c}`);u&&u.scrollIntoView({behavior:"smooth",block:"start"})},[]);return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Training Plan"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Your weekly training schedule"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Se,{variant:"outline",size:"icon",onClick:r,children:a.jsx(bE,{className:"h-4 w-4"})}),a.jsx(Se,{variant:"outline",size:"icon",onClick:i,children:a.jsx(rw,{className:"h-4 w-4"})}),a.jsx(Se,{variant:"ghost",onClick:s,className:"text-sm",children:"Today"}),a.jsx("span",{className:"font-semibold text-foreground ml-2",children:o()})]})]}),a.jsx(x4e,{showWeekly:!0,showSeason:!0}),a.jsx(G5e,{currentDate:e}),a.jsx(X5e,{currentDate:e,onDayClick:l}),a.jsx(c4e,{currentDate:e}),a.jsx(u4e,{}),a.jsx(d4e,{})]})})}var F1="Collapsible",[w4e]=yr(F1),[_4e,EM]=w4e(F1),sQ=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...l}=e,[c,u]=la({prop:r,defaultProp:i??!1,onChange:o,caller:F1});return a.jsx(_4e,{scope:n,disabled:s,contentId:Ia(),open:c,onOpenToggle:j.useCallback(()=>u(h=>!h),[u]),children:a.jsx(We.div,{"data-state":MM(c),"data-disabled":s?"":void 0,...l,ref:t})})});sQ.displayName=F1;var oQ="CollapsibleTrigger",lQ=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=EM(oQ,n);return a.jsx(We.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":MM(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:De(e.onClick,i.onOpenToggle)})});lQ.displayName=oQ;var OM="CollapsibleContent",cQ=j.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=EM(OM,e.__scopeCollapsible);return a.jsx(Di,{present:n||i.open,children:({present:s})=>a.jsx(j4e,{...r,ref:t,present:s})})});cQ.displayName=OM;var j4e=j.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,o=EM(OM,n),[l,c]=j.useState(r),u=j.useRef(null),h=vt(t,u),p=j.useRef(0),g=p.current,x=j.useRef(0),b=x.current,v=o.open||l,w=j.useRef(v),N=j.useRef(void 0);return j.useEffect(()=>{const S=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(S)},[]),er(()=>{const S=u.current;if(S){N.current=N.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const A=S.getBoundingClientRect();p.current=A.height,x.current=A.width,w.current||(S.style.transitionDuration=N.current.transitionDuration,S.style.animationName=N.current.animationName),c(r)}},[o.open,r]),a.jsx(We.div,{"data-state":MM(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!v,...s,ref:h,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:v&&i})});function MM(e){return e?"open":"closed"}var S4e=sQ;const N4e=S4e,P4e=lQ,A4e=cQ;function k4e({data:e,color:t,height:n=24,showBand:r=!1,bandMin:i=0,bandMax:s=100}){if(!e||e.length<2)return null;const o=120,l=2,c=Math.min(...e),h=Math.max(...e)-c||1,p=e.map((g,x)=>{const b=l+x/(e.length-1)*(o-l*2),v=n-l-(g-c)/h*(n-l*2);return`${b},${v}`}).join(" ");return a.jsxs("svg",{width:o,height:n,className:"opacity-80",children:[r&&a.jsx("rect",{x:l,y:n-l-(s-c)/h*(n-l*2),width:o-l*2,height:(s-i)/h*(n-l*2),fill:t,opacity:"0.1"}),a.jsx("polyline",{points:p,fill:"none",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})}function Ux({label:e,value:t,unit:n,delta:r,deltaLabel:i,sparkData:s,sparkColor:o="hsl(var(--accent))"}){const l=r!==void 0?a.jsxs("span",{className:re("text-xs",r>0?"text-amber-600 dark:text-amber-400":r<0?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:[r>0?"+":"",r.toFixed(1),"%"]}):null;return a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground w-16",children:e}),s&&s.length>2&&a.jsx(k4e,{data:s,color:o})]}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-lg font-semibold tabular-nums text-foreground",children:t}),n&&a.jsx("span",{className:"text-sm text-muted-foreground",children:n}),l]})]})}function N8({planned:e,actual:t,label:n,unit:r,invertDelta:i=!1}){const s=e>0?(t-e)/e*100:0,o=i?-s:s,l=Math.abs(s)<=5,c=s>5;return a.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-border last:border-b-0",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("span",{className:"text-xs uppercase tracking-wider text-muted-foreground",children:n}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("span",{className:"text-xl font-semibold tabular-nums text-foreground",children:t.toFixed(r==="min"?0:1)}),a.jsx("span",{className:"text-sm text-muted-foreground",children:r})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Planned: ",e.toFixed(r==="min"?0:1)]}),a.jsx("div",{className:re("flex items-center gap-1 text-sm font-medium",l?"text-green-600 dark:text-green-400":c?"text-amber-600 dark:text-amber-400":"text-blue-600 dark:text-blue-400"),children:l?a.jsx("span",{children:"Within tolerance"}):a.jsxs(a.Fragment,{children:[a.jsx("span",{children:c?"":""}),a.jsxs("span",{children:[Math.abs(o).toFixed(0),"% ",c?"over":"under"]})]})})]})]})}function C4e({activity:e}){const{convertDistance:t,convertElevation:n}=Ps(),r=e.workout_id,i=L1(r),s=i.status==="ready"?i.data:null,o=i.status==="loading",l=i.status==="error"?i.error:null,{data:c,isLoading:u,error:h}=Mt({queryKey:["workout",r,"execution"],queryFn:()=>hue(r),retry:!1,enabled:!!r,staleTime:300*1e3}),p=j.useMemo(()=>{if(!s?.workout)return null;const $=s.workout;return{duration:$.total_duration_seconds?Math.round($.total_duration_seconds/60):0,distance:$.total_distance_meters?$.total_distance_meters/1e3:void 0}},[s]),{data:g,error:x,isLoading:b}=Ir({queryKey:["activityStreams",e.id],queryFn:()=>Bh(e.id),retry:!1,enabled:!!e.id}),v=j.useMemo(()=>{if(x)return;const $=vZ(g);return $.length===0?void 0:$},[g,x]),w=p&&p.duration>0?(e.duration-p.duration)/p.duration*100:void 0,N=p&&p.distance&&p.distance>0?(e.distance-p.distance)/p.distance*100:void 0,S=t(e.distance),A=p?.distance?t(p.distance):null,T=e.elevation?n(e.elevation):null,C=j.useMemo(()=>{if(!g?.heartrate)return;const $=g.heartrate.filter(V=>typeof V=="number");if($.length<10)return;const z=Math.max(1,Math.floor($.length/30));return $.filter((V,U)=>U%z===0)},[g]),E=j.useMemo(()=>{if(!g?.pace)return;const $=g.pace.filter(V=>typeof V=="number"&&V>0);if($.length<10)return;const z=Math.max(1,Math.floor($.length/30));return $.filter((V,U)=>U%z===0)},[g]),O=j.useMemo(()=>{if(!g?.elevation)return;const $=g.elevation.filter(V=>typeof V=="number");if($.length<10)return;const z=Math.max(1,Math.floor($.length/30));return $.filter((V,U)=>U%z===0)},[g]),I=j.useMemo(()=>{if(!p)return null;const $=[w,N].filter(V=>V!==void 0);if($.length===0)return null;const z=$.reduce((V,U)=>V+Math.abs(U),0)/$.length;return Math.max(0,Math.min(100,100-z))},[w,N,p]),W=I===null?{label:"NO PLAN DATA",color:"text-muted-foreground/50"}:I>=95?{label:"WITHIN TOLERANCE",color:"text-load-fresh"}:I>=80?{label:"MINOR DEVIATION",color:"text-accent"}:I>=60?{label:"SIGNIFICANT DEVIATION",color:"text-load-overreaching"}:{label:"MAJOR DEVIATION",color:"text-destructive"};return a.jsxs("div",{className:"px-4 pb-4 pt-0 border-t border-border space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between pt-4 pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lo,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session Details"})]}),a.jsx("div",{className:re("text-sm font-medium",W.color),children:W.label})]}),e.coachFeedback&&a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg border-l-2 border-primary/40",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(uc,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:"Analysis"})]}),a.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:e.coachFeedback})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[a.jsx(Vx,{label:"Distance",value:S.value.toFixed(1),unit:S.unit,delta:N}),a.jsx(Vx,{label:"Time",value:e.duration.toString(),unit:"min",delta:w}),e.trainingLoad>0&&a.jsx(Vx,{label:"TSS",value:Math.round(e.trainingLoad).toString()}),T&&a.jsx(Vx,{label:"Elevation",value:T.value.toFixed(0),unit:T.unit})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(Hx,{type:"positive",text:"HR in zone 85%"}),a.jsx(Hx,{type:"positive",text:"Negative split"}),w&&w>10&&a.jsx(Hx,{type:"warning",text:"Over duration"}),N&&N>10&&a.jsx(Hx,{type:"warning",text:"Over distance"})]}),a.jsxs(Lv,{defaultValue:"overview",className:"w-full",children:[a.jsxs(np,{className:"w-full grid grid-cols-2 sm:grid-cols-4",children:[a.jsx(hi,{value:"overview",children:"Overview"}),a.jsx(hi,{value:"steps",children:"Steps"}),a.jsx(hi,{value:"execution",children:"Execution"}),a.jsx(hi,{value:"compliance",children:"Compliance"})]}),a.jsxs(no,{value:"overview",className:"mt-4 space-y-4",children:[a.jsxs("div",{className:"space-y-1 bg-muted/30 rounded-lg p-4 border border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Performance Metrics"}),e.avgHeartRate&&a.jsx(Ux,{label:"HR",value:e.avgHeartRate,unit:"bpm",sparkData:C,sparkColor:"hsl(var(--chart-4))"}),e.avgPower&&a.jsx(Ux,{label:"Power",value:e.avgPower,unit:"W"}),E&&a.jsx(Ux,{label:"Pace",value:(()=>{const $=E.reduce((U,te)=>U+te,0)/E.length,z=Math.floor($),V=Math.round(($-z)*60);return`${z}:${V.toString().padStart(2,"0")}`})(),unit:"/km",sparkData:E,sparkColor:"hsl(var(--chart-1))"}),O&&a.jsx(Ux,{label:"Elev",value:Math.round(Math.max(...O)-Math.min(...O)),unit:"m gain",sparkData:O,sparkColor:"hsl(var(--chart-2))"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:"Route"}),a.jsx("div",{className:"rounded-lg overflow-hidden border border-border",children:b?a.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:a.jsx(st,{className:"h-5 w-5 animate-spin"})}):x?a.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:a.jsx("span",{className:"text-sm",children:"Route unavailable"})}):a.jsx(GX,{coordinates:v})})]})]}),a.jsx(no,{value:"steps",className:"mt-4",children:o?a.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:a.jsx(st,{className:"h-5 w-5 animate-spin"})}):l?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(qI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Error loading workout"})]}):s?.steps&&s.steps.length>0?a.jsx("div",{className:"space-y-2",children:s.steps.map(($,z)=>a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground w-6",children:z+1}),a.jsx("span",{className:"text-sm font-semibold text-foreground capitalize",children:$.type}),$.duration_seconds&&a.jsxs("span",{className:"text-sm text-muted-foreground ml-auto tabular-nums",children:[Math.round($.duration_seconds/60)," min"]})]}),$.purpose&&a.jsx("p",{className:"text-sm text-foreground ml-9",children:$.purpose}),$.intensity&&a.jsx("p",{className:"text-sm text-muted-foreground ml-9 mt-1",children:$.intensity})]},$.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(qI,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No structured steps"})]})}),a.jsxs(no,{value:"execution",className:"mt-4 space-y-4",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Time-Series Analysis"}),a.jsx($X,{activity:e}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 mt-4",children:[a.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Status"}),a.jsx("div",{className:re("text-base font-medium",c?.completed??!0?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:c?.completed??!0?"Completed":"Incomplete"})]}),a.jsxs("div",{className:"p-4 bg-muted/30 rounded-lg border border-border",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:"Date"}),a.jsx("div",{className:"text-base text-foreground",children:c?.executionDate||e.date})]})]})]}),a.jsx(no,{value:"compliance",className:"mt-4 space-y-4",children:o?a.jsx("div",{className:"flex items-center justify-center h-48 text-muted-foreground",children:a.jsx(st,{className:"h-5 w-5 animate-spin"})}):p?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/30 rounded-lg border border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Execution Assessment"}),a.jsx("div",{className:re("text-lg font-semibold mt-1",W.color),children:W.label})]}),I!==null&&a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-3xl font-bold tabular-nums text-foreground",children:I.toFixed(0)}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Score"})]})]}),a.jsxs("div",{className:"space-y-1 bg-muted/30 rounded-lg p-4 border border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Plan vs Executed"}),p.duration>0&&a.jsx(N8,{planned:p.duration,actual:e.duration,label:"Duration",unit:"min"}),p.distance&&p.distance>0&&a.jsx(N8,{planned:A?.value??p.distance,actual:S.value,label:"Distance",unit:S.unit})]}),s?.comparison&&a.jsxs("div",{className:"space-y-1 bg-muted/30 rounded-lg p-4 border border-border",children:[a.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-3",children:"Detailed Compliance"}),(()=>{const z=(Array.isArray(s.comparison)?s.comparison[0]:s.comparison)?.summary_json;return z?Object.entries(z).map(([V,U])=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-b-0",children:[a.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:V.replace(/_/g," ")}),a.jsx("span",{className:"text-sm font-medium text-foreground tabular-nums",children:typeof U=="number"?U.toFixed(U%1===0?0:1):String(U)})]},V)):null})()]})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ar,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{className:"text-sm",children:"No plan data available"})]})})]})]})}function Vx({label:e,value:t,unit:n,delta:r}){return a.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg border border-border",children:[a.jsx("div",{className:"text-sm text-muted-foreground mb-1",children:e}),a.jsxs("div",{className:"flex items-baseline gap-1.5",children:[a.jsx("span",{className:"text-xl font-semibold tabular-nums text-foreground",children:t}),n&&a.jsx("span",{className:"text-sm text-muted-foreground",children:n})]}),r!==void 0&&a.jsxs("div",{className:re("text-sm mt-1",r>5?"text-amber-600 dark:text-amber-400":r<-5?"text-green-600 dark:text-green-400":"text-muted-foreground"),children:[r>0?"+":"",r.toFixed(0),"%"]})]})}function Hx({type:e,text:t}){const n={positive:"bg-green-500/10 text-green-600 dark:text-green-400 border-green-500/30",warning:"bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-500/30",neutral:"bg-muted text-muted-foreground border-border"};return a.jsx("span",{className:re("px-2.5 py-1 rounded-md border text-xs font-medium",n[e]),children:t})}const T4e={running:vs,cycling:ov,swimming:fv,triathlon:vs};function E4e({activities:e,initialExpandedId:t=null}){const[n,r]=j.useState(t),i=j.useRef(null),{convertDistance:s}=Ps(),{data:o}=Ir({queryKey:["trainingLoad",60],queryFn:()=>(console.log("[ActivityList] Fetching training load for 60 days"),bc(60)),retry:(h,p)=>{if(p&&typeof p=="object"){const g=p;if(g.status===500||g.status===503||g.code==="ECONNABORTED"||g.message&&g.message.includes("timed out"))return!1}return h<1},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,gcTime:300*1e3}),l=j.useMemo(()=>{let h=[];if(Array.isArray(e))h=e;else if(e&&typeof e=="object"&&"activities"in e){const g=e.activities;h=Array.isArray(g)?g:[]}const p=Nv(h,o);return Array.isArray(p)?p:[]},[e,o]);j.useEffect(()=>{t&&Array.isArray(e)&&e.length>0&&(r(t),setTimeout(()=>{i.current&&i.current.scrollIntoView({behavior:"smooth",block:"center"})},300))},[t,e]);const c=h=>{r(n===h?null:h)},u=(Array.isArray(l)?l:[]).filter(h=>{if(!h||!h.id||!h.date||!h.sport)return!1;const p=(h.title||"").toLowerCase();return!(p.includes("placeholder")||p.includes("mock")||p.includes("sample")||p==="untitled activity")});return u.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("p",{children:"No activities found"}),a.jsx("p",{className:"text-xs mt-2",children:"Connect your Strava account to sync activities"})]}):a.jsx("div",{className:"space-y-3",children:u.map(h=>{const p=T4e[h.sport]||vs,g=n===h.id,x=h.date?(()=>{try{return Ne(or(h.date),"EEE, MMM d")}catch{return h.date}})():"Unknown";return a.jsx("div",{ref:g&&t===h.id?i:null,children:a.jsx(N4e,{open:g,onOpenChange:()=>c(h.id),children:a.jsxs(Ot,{className:re("transition-all",g&&"ring-1 ring-primary/30"),children:[a.jsx(P4e,{asChild:!0,children:a.jsxs($e,{className:"p-4 cursor-pointer hover:bg-muted/30 transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"p-2 bg-muted rounded-lg",children:a.jsx(p,{className:"h-5 w-5 text-foreground"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-foreground truncate",children:ud(h.title||"Untitled Activity")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:x})]}),a.jsx(ln,{variant:"outline",className:"shrink-0",children:h.sport}),a.jsx(Se,{variant:"ghost",size:"icon",className:"h-8 w-8",children:g?a.jsx(iw,{className:"h-4 w-4"}):a.jsx(cv,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"font-medium text-foreground",children:h.duration||0}),a.jsx("span",{className:"text-muted-foreground",children:"min"})]}),a.jsx("div",{className:"w-px h-4 bg-border"}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"font-medium text-foreground",children:s(h.distance||0).value.toFixed(1)}),a.jsx("span",{className:"text-muted-foreground",children:s(h.distance||0).unit})]}),h.trainingLoad>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-4 bg-border"}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"font-medium text-foreground",children:Math.round(h.trainingLoad)}),a.jsx("span",{className:"text-muted-foreground",children:"TSS"})]})]}),h.avgHeartRate&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-4 bg-border"}),a.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[a.jsx(ow,{className:"h-4 w-4"}),a.jsxs("span",{children:[Math.round(h.avgHeartRate)," bpm"]})]})]}),h.intensityFactor!==void 0&&h.intensityFactor!==null&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-px h-4 bg-border"}),a.jsxs("span",{className:re("text-sm",h.intensityFactor>=1?"text-amber-600 dark:text-amber-400":"text-muted-foreground"),children:["IF ",h.intensityFactor.toFixed(2)]})]})]}),h.coachFeedback&&!g&&a.jsxs("div",{className:"mt-3 p-3 bg-muted/50 rounded-lg border-l-2 border-primary/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(uc,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-xs font-medium text-primary",children:"Analysis"})]}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-1",children:h.coachFeedback})]})]})}),a.jsx(A4e,{children:a.jsx(C4e,{activity:h})})]})})},h.id)})})}function O4e(){qh();const[e]=Uq(),t=e.get("activity"),n=tr(),[r,i]=j.useState(!1);gZ(!0);const{data:s,isLoading:o,error:l,refetch:c}=Mt({queryKey:["activities","limit",100],queryFn:()=>xi({limit:100}),retry:1,staleTime:300*1e3,gcTime:1800*1e3,refetchOnWindowFocus:!0,refetchInterval:!1}),u=j.useMemo(()=>{const b=Array.isArray(s)?s:[];if(b.length===0)return null;const v=[...b].sort((E,O)=>{const I=E.date?typeof E.date=="string"?or(E.date.split("T")[0]):new Date(E.date):new Date(0);return(O.date?typeof O.date=="string"?or(O.date.split("T")[0]):new Date(O.date):new Date(0)).getTime()-I.getTime()}),w=new Date,N=Ne(w,"yyyy-MM-dd"),S=Ne(jn(w,1),"yyyy-MM-dd"),A=v.some(E=>E.date?E.date.split("T")[0]===N:!1),T=v.some(E=>E.date?E.date.split("T")[0]===S:!1),C=[];if(A||C.push("today"),!T&&v.length>0){const E=v[v.length-1];if(E?.date){const O=E.date.split("T")[0];or(O)<jn(w,2)&&C.push("yesterday")}}return C.length>0?C:null},[s]),h=j.useRef(!1),p=j.useRef(null),g=j.useRef(null);j.useEffect(()=>{if(s){const b=s.length,v=u?JSON.stringify(u):null;b!==p.current&&(console.log("[Activities] Loaded activities:",b),p.current=b,h.current=!1),u&&!h.current&&v!==(g.current?JSON.stringify(g.current):null)?(console.warn("[Activities] Missing recent activities:",u),h.current=!0,g.current=u):u||(h.current=!1,g.current=null)}l&&console.error("[Activities] Error loading activities:",l)},[s,u,l]);const x=async()=>{i(!0);try{await o2(),Le({title:"Sync started",description:"Activities are being synced in the background. Refreshing in a few moments..."}),setTimeout(()=>{n.invalidateQueries({queryKey:["activities"]}),c()},3e3)}catch(b){console.error("Failed to sync activities:",b),Le({title:"Sync failed",description:b instanceof Error?b.message:"Could not sync activities",variant:"destructive"})}finally{i(!1)}};return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Activities"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Your completed workouts"})]}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:x,disabled:o||r,children:[a.jsx(qu,{className:`h-4 w-4 mr-1.5 ${r?"animate-spin":""}`}),r?"Syncing...":"Sync"]})]}),o?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):l?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("p",{children:"Unable to load activities"}),a.jsx("p",{className:"text-xs mt-2",children:l instanceof Error?l.message:"Unknown error occurred"})]}):a.jsx(E4e,{activities:s||[],initialExpandedId:t||null})]})})}var $1="Checkbox",[M4e]=yr($1),[R4e,RM]=M4e($1);function I4e(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:h="on",internal_do_not_use_render:p}=e,[g,x]=la({prop:n,defaultProp:i??!1,onChange:c,caller:$1}),[b,v]=j.useState(null),[w,N]=j.useState(null),S=j.useRef(!1),A=b?!!o||!!b.closest("form"):!0,T={checked:g,disabled:s,setChecked:x,control:b,setControl:v,name:l,form:o,value:h,hasConsumerStoppedPropagationRef:S,required:u,defaultChecked:gc(i)?!1:i,isFormControl:A,bubbleInput:w,setBubbleInput:N};return a.jsx(R4e,{scope:t,...T,children:D4e(p)?p(T):r})}var uQ="CheckboxTrigger",dQ=j.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=RM(uQ,e),v=vt(i,h),w=j.useRef(c);return j.useEffect(()=>{const N=s?.form;if(N){const S=()=>p(w.current);return N.addEventListener("reset",S),()=>N.removeEventListener("reset",S)}},[s,p]),a.jsx(We.button,{type:"button",role:"checkbox","aria-checked":gc(c)?"mixed":c,"aria-required":u,"data-state":gQ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...r,ref:v,onKeyDown:De(t,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:De(n,N=>{p(S=>gc(S)?!0:!S),b&&x&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})})});dQ.displayName=uQ;var IM=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:h,...p}=e;return a.jsx(I4e,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:r,form:h,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(dQ,{...p,ref:t,__scopeCheckbox:n}),g&&a.jsx(mQ,{__scopeCheckbox:n})]})})});IM.displayName=$1;var fQ="CheckboxIndicator",hQ=j.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=RM(fQ,n);return a.jsx(Di,{present:r||gc(s.checked)||s.checked===!0,children:a.jsx(We.span,{"data-state":gQ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});hQ.displayName=fQ;var pQ="CheckboxBubbleInput",mQ=j.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:h,form:p,bubbleInput:g,setBubbleInput:x}=RM(pQ,e),b=vt(n,x),v=Iv(s),w=pv(r);j.useEffect(()=>{const S=g;if(!S)return;const A=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(A,"checked").set,E=!i.current;if(v!==s&&C){const O=new Event("click",{bubbles:E});S.indeterminate=gc(s),C.call(S,gc(s)?!1:s),S.dispatchEvent(O)}},[g,v,s,i]);const N=j.useRef(gc(s)?!1:s);return a.jsx(We.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:l,disabled:c,name:u,value:h,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});mQ.displayName=pQ;function D4e(e){return typeof e=="function"}function gc(e){return e==="indeterminate"}function gQ(e){return gc(e)?"indeterminate":e?"checked":"unchecked"}const d0=j.forwardRef(({className:e,...t},n)=>a.jsx(IM,{ref:n,className:re("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(hQ,{className:re("flex items-center justify-center text-current"),children:a.jsx(lv,{className:"h-4 w-4"})})}));d0.displayName=IM.displayName;function L4e({data:e,isAdvanced:t}){const n=j.useMemo(()=>Array.isArray(e)?e.filter(r=>r&&typeof r=="object"&&r.date).map(r=>{const i=r.date?(()=>{try{return Ne(or(r.date),"MMM d")}catch{return r.date}})():"Unknown";return{...r,dateLabel:i,fitnessScore:(r.ctl||0)-Math.abs(r.tsb||0)*.3}}):[],[e]);return t?a.jsx(B4e,{data:n}):a.jsx(F4e,{data:n})}function F4e({data:e}){const t=e[e.length-1]?.fitnessScore||0,n=e.length>7?t-(e[e.length-7]?.fitnessScore||0):0;return a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-lg",children:"Fitness Trend"}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-2xl font-bold text-foreground",children:t.toFixed(0)}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[n>=0?"+":"",n.toFixed(1)," this week"]})]})]})}),a.jsxs($e,{children:[a.jsx("div",{className:"h-64",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Nu,{data:e,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"fitnessGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--accent))",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--accent))",stopOpacity:0})]})}),a.jsx(qo,{strokeDasharray:"3 3",stroke:"hsl(var(--border))",vertical:!1}),a.jsx(Rr,{dataKey:"dateLabel",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},interval:"preserveStartEnd"}),a.jsx(Pr,{hide:!0}),a.jsx(mr,{content:a.jsx(z4e,{})}),a.jsx(Xr,{type:"monotone",dataKey:"fitnessScore",stroke:"hsl(var(--accent))",fill:"url(#fitnessGradient)",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"hsl(var(--accent))"}})]})})}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-3",children:"Your overall fitness trend based on training consistency and recovery"})]})]})}function $4e(e,t){if(t==="all"||e.length===0)return e;const i=jn(new Date,t==="30d"?30:t==="90d"?90:t==="180d"?180:365).getTime();return e.filter(s=>{try{return or(s.date).getTime()>=i}catch{return!0}})}function B4e({data:e}){const[t,n]=j.useState(()=>{try{const T=localStorage.getItem("pmcVisible");if(T){const C=JSON.parse(T);return{ctl:C.ctl!==!1,atl:C.atl!==!1,tsb:C.tsb===!0}}}catch{}return{ctl:!0,atl:!0,tsb:!1}});j.useEffect(()=>{try{localStorage.setItem("pmcVisible",JSON.stringify(t))}catch{}},[t]);const[r,i]=j.useState("all"),[s,o]=j.useState(void 0),[l,c]=j.useState(void 0),[u,h]=j.useState(0);j.useEffect(()=>{o(void 0),c(void 0),h(T=>T+1)},[r]);const p=j.useMemo(()=>$4e(e,r),[e,r]),g=j.useMemo(()=>s===void 0||l===void 0?p:p.slice(s,l+1),[p,s,l]),x=j.useMemo(()=>{if(!g.length)return[0,100];const T=[];if(t.ctl&&T.push(...g.map(I=>I.ctl||0)),t.atl&&T.push(...g.map(I=>I.atl||0)),T.length===0)return[0,100];const C=Math.min(...T),E=Math.max(...T),O=(E-C)*.1||10;return[Math.max(0,Math.floor(C-O)),Math.ceil(E+O)]},[g,t.ctl,t.atl]),b=j.useMemo(()=>{if(!t.tsb||!g.length)return[-50,50];const T=g.map(I=>I.tsb||0),C=Math.min(...T),E=Math.max(...T),O=Math.max(10,(E-C)*.1);return[Math.floor(C-O),Math.ceil(E+O)]},[g,t.tsb]),v=j.useCallback(T=>{T?(o(T.startIndex),c(T.endIndex)):(o(void 0),c(void 0))},[]),w=j.useCallback(()=>{o(void 0),c(void 0),h(T=>T+1)},[]),N=j.useCallback(T=>{n(C=>({...C,[T]:!C[T]}))},[]),S=t.ctl||t.atl,A=t.tsb;return a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-lg",children:"Performance Management Chart"}),a.jsx("div",{className:"flex items-center gap-2",children:(s!==void 0||l!==void 0)&&a.jsxs(Se,{variant:"outline",size:"sm",onClick:w,className:"h-8",children:[a.jsx(NW,{className:"h-3 w-3 mr-1"}),"Reset Zoom"]})})]})}),a.jsxs($e,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 pb-4 border-b border-border",children:[a.jsx("span",{className:"text-xs text-muted-foreground mr-2",children:"Range:"}),["30d","90d","180d","365d","all"].map(T=>a.jsx(Se,{variant:r===T?"default":"outline",size:"sm",onClick:()=>{i(T),w()},className:`h-8 text-xs px-4 transition-all duration-200 ${r===T?"shadow-md":"hover:shadow-sm"}`,children:T==="all"?"All":T},T))]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3 sm:gap-6 mb-4 pb-4 border-b border-border",children:[a.jsxs("button",{type:"button",onClick:()=>N("ctl"),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-all duration-200 border ${t.ctl?"bg-chart-1/10 border-chart-1/30 shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"}`,children:[a.jsx(d0,{checked:t.ctl,onCheckedChange:()=>N("ctl"),className:"h-4 w-4 pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-0.5 bg-chart-1 rounded"}),a.jsx("span",{className:"text-xs font-medium text-foreground whitespace-nowrap",children:"Fitness (CTL)"})]})]}),a.jsxs("button",{type:"button",onClick:()=>N("atl"),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-all duration-200 border ${t.atl?"bg-chart-4/10 border-chart-4/30 shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"}`,children:[a.jsx(d0,{checked:t.atl,onCheckedChange:()=>N("atl"),className:"h-4 w-4 pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-0.5 bg-chart-4 rounded"}),a.jsx("span",{className:"text-xs font-medium text-foreground whitespace-nowrap",children:"Fatigue (ATL)"})]})]}),a.jsxs("button",{type:"button",onClick:()=>N("tsb"),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-all duration-200 border ${t.tsb?"bg-chart-2/10 border-chart-2/30 shadow-sm":"bg-muted/30 border-transparent hover:bg-muted/50"}`,children:[a.jsx(d0,{checked:t.tsb,onCheckedChange:()=>N("tsb"),className:"h-4 w-4 pointer-events-none"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-0.5 bg-chart-2 rounded"}),a.jsx("span",{className:"text-xs font-medium text-foreground whitespace-nowrap",children:"Form (TSB)"})]})]})]}),a.jsx("div",{className:"h-80",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(Y2e,{data:g,margin:{top:10,right:10,left:0,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"tsbPositive",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--load-fresh))",stopOpacity:.2}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--load-fresh))",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"tsbNegative",x1:"0",y1:"1",x2:"0",y2:"0",children:[a.jsx("stop",{offset:"5%",stopColor:"hsl(var(--load-overreaching))",stopOpacity:.2}),a.jsx("stop",{offset:"95%",stopColor:"hsl(var(--load-overreaching))",stopOpacity:0})]})]}),a.jsx(qo,{strokeDasharray:"3 3",stroke:"hsl(var(--border))"}),a.jsx(Rr,{dataKey:"dateLabel",axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},interval:g.length>60?Math.floor(g.length/8):g.length>30?"preserveStartEnd":0,minTickGap:40}),S&&a.jsx(Pr,{yAxisId:"left",domain:x,axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},width:40}),A&&a.jsx(Pr,{yAxisId:"right",orientation:"right",domain:b,axisLine:!1,tickLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},width:40,allowDecimals:!0}),a.jsx(mr,{content:a.jsx(W4e,{visible:t})}),a.jsx(tl,{content:a.jsx(q4e,{})}),A&&a.jsx(Mv,{y:0,yAxisId:"right",stroke:"hsl(var(--border))",strokeDasharray:"3 3"}),t.tsb&&a.jsx(Xr,{yAxisId:"right",type:"monotone",dataKey:"tsb",stroke:"none",fill:"url(#tsbPositive)",fillOpacity:1}),t.ctl&&a.jsx(Da,{yAxisId:"left",type:"monotone",dataKey:"ctl",stroke:"hsl(var(--chart-1))",strokeWidth:2,dot:!1,activeDot:{r:4},name:"Fitness (CTL)"}),t.atl&&a.jsx(Da,{yAxisId:"left",type:"monotone",dataKey:"atl",stroke:"hsl(var(--chart-4))",strokeWidth:2,dot:!1,activeDot:{r:4},name:"Fatigue (ATL)"}),t.tsb&&a.jsx(Da,{yAxisId:"right",type:"monotone",dataKey:"tsb",stroke:"hsl(var(--chart-2))",strokeWidth:2,dot:!1,activeDot:{r:4},name:"Form (TSB)"}),a.jsx(td,{dataKey:"dateLabel",height:30,stroke:"hsl(var(--border))",fill:"hsl(var(--muted))",onChange:v,startIndex:s,endIndex:l},u)]})})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4 pt-4 border-t border-border",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx("div",{className:"w-3 h-0.5 bg-chart-1 rounded"}),a.jsx("span",{className:"text-xs font-medium text-foreground",children:"Fitness (CTL)"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Long-term training adaptation"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx("div",{className:"w-3 h-0.5 bg-chart-4 rounded"}),a.jsx("span",{className:"text-xs font-medium text-foreground",children:"Fatigue (ATL)"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Short-term training stress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[a.jsx("div",{className:"w-3 h-0.5 bg-chart-2 rounded"}),a.jsx("span",{className:"text-xs font-medium text-foreground",children:"Form (TSB)"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Balance of fitness and fatigue"})]})]})]})]})}function z4e({active:e,payload:t,label:n}){if(!e||!t?.[0])return null;const r=t[0].value;return a.jsxs("div",{className:"bg-card border border-border rounded-lg px-3 py-2 shadow-lg",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:n}),a.jsxs("div",{className:"text-sm font-semibold text-foreground",children:["Fitness: ",r.toFixed(0)]})]})}function W4e({active:e,payload:t,label:n,visible:r}){if(!e||!t?.length)return null;const i=t[0]?.payload;return i?a.jsxs("div",{className:"bg-card border border-border rounded-lg px-3 py-2 shadow-lg min-w-[140px]",children:[a.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:n}),a.jsxs("div",{className:"space-y-1",children:[r.ctl&&a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("span",{className:"text-xs text-chart-1",children:"Fitness"}),a.jsx("span",{className:"text-xs font-medium text-foreground",children:i.ctl?.toFixed(1)})]}),r.atl&&a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("span",{className:"text-xs text-chart-4",children:"Fatigue"}),a.jsx("span",{className:"text-xs font-medium text-foreground",children:i.atl?.toFixed(1)})]}),r.tsb&&a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("span",{className:"text-xs text-chart-2",children:"Form"}),a.jsxs("span",{className:"text-xs font-medium text-foreground",children:[i.tsb>0?"+":"",i.tsb?.toFixed(1)]})]})]})]}):null}function q4e(){return null}function U4e({data:e,isAdvanced:t}){const n=j.useMemo(()=>{if(e.length<7)return null;const i=e[e.length-1],s=e[Math.max(0,e.length-7)];e[Math.max(0,e.length-14)];const o=i.ctl-s.ctl,l=i.atl-s.atl,c=i.tsb,u=[];o>2?u.push("fitness is trending upward"):o<-2&&u.push("fitness has slightly declined"),l>5&&u.push("recent training has increased fatigue");let h="",p=p0,g="text-muted-foreground";c>15?(h="well-rested and ready for hard training",p=Jm,g="text-load-fresh"):c>0?(h="in good form with balanced recovery",p=Ac,g="text-load-optimal"):c>-15?(h="productively fatigued from training",p=p0,g="text-muted-foreground"):c>-25?(h="accumulating significant fatigue",p=SE,g="text-load-overreaching"):(h="showing signs of overreaching",p=ni,g="text-load-overtraining");const x=`You're currently ${h}. ${o>0?"Your fitness has been improving over the past week.":"Focus on consistency to rebuild momentum."}`,b=[`Your Training Stress Balance (TSB) of ${c.toFixed(0)} indicates you're ${h}.`,`Chronic Training Load (CTL) ${o>0?"increased":"decreased"} by ${Math.abs(o).toFixed(1)} points over the last week, ${o>0?"showing fitness gains":"suggesting a recovery phase"}.`,u.length>0?`Key observations: ${u.join(", ")}.`:"Training load has been relatively stable."].join(" ");return{simpleSummary:x,advancedSummary:b,stateIcon:p,stateColor:g,tsb:c,ctl:i.ctl,atl:i.atl,ctlTrend:o}},[e]);if(!n)return null;const r=n.stateIcon;return a.jsx(et,{children:a.jsx($e,{className:"p-5",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"p-2.5 rounded-lg bg-coach text-coach-foreground",children:a.jsx(Jr,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:"text-sm font-semibold text-foreground",children:"Coach Analysis"}),a.jsx(r,{className:re("h-4 w-4",n.stateColor)})]}),a.jsx("p",{className:"text-sm text-foreground leading-relaxed",children:t?n.advancedSummary:n.simpleSummary}),t&&a.jsxs("div",{className:"flex items-center gap-6 mt-4 pt-4 border-t border-border",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Fitness (CTL)"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-lg font-semibold text-foreground",children:n.ctl.toFixed(0)}),a.jsxs("span",{className:re("text-xs",n.ctlTrend>0?"text-load-fresh":"text-muted-foreground"),children:[n.ctlTrend>0?"+":"",n.ctlTrend.toFixed(1)]})]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Fatigue (ATL)"}),a.jsx("div",{className:"text-lg font-semibold text-foreground",children:n.atl.toFixed(0)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:"Form (TSB)"}),a.jsxs("div",{className:re("text-lg font-semibold",n.stateColor),children:[n.tsb>0?"+":"",n.tsb.toFixed(0)]})]})]})]})]})})})}var B1="Switch",[V4e]=yr(B1),[H4e,K4e]=V4e(B1),vQ=j.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:h,...p}=e,[g,x]=j.useState(null),b=vt(t,A=>x(A)),v=j.useRef(!1),w=g?h||!!g.closest("form"):!0,[N,S]=la({prop:i,defaultProp:s??!1,onChange:u,caller:B1});return a.jsxs(H4e,{scope:n,checked:N,disabled:l,children:[a.jsx(We.button,{type:"button",role:"switch","aria-checked":N,"aria-required":o,"data-state":wQ(N),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onClick:De(e.onClick,A=>{S(T=>!T),w&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),w&&a.jsx(bQ,{control:g,bubbles:!v.current,name:r,value:c,checked:N,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});vQ.displayName=B1;var yQ="SwitchThumb",xQ=j.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=K4e(yQ,n);return a.jsx(We.span,{"data-state":wQ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});xQ.displayName=yQ;var G4e="SwitchBubbleInput",bQ=j.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=j.useRef(null),l=vt(o,s),c=Iv(n),u=pv(t);return j.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&x){const b=new Event("click",{bubbles:r});x.call(h,n),h.dispatchEvent(b)}},[c,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});bQ.displayName=G4e;function wQ(e){return e?"checked":"unchecked"}var _Q=vQ,Y4e=xQ;const na=j.forwardRef(({className:e,...t},n)=>a.jsx(_Q,{className:re("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-[#2F4F4F] data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:a.jsx(Y4e,{className:re("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));na.displayName=_Q.displayName;function Z4e({isAdvanced:e,onToggleAdvanced:t,dateRange:n,onDateRangeChange:r}){return a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsx(Lv,{value:String(n),onValueChange:i=>r(Number(i)),children:a.jsxs(np,{children:[a.jsx(hi,{value:"30",children:"Last 30 Days"}),a.jsx(hi,{value:"90",children:"Last 90 Days"})]})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Fe,{htmlFor:"advanced-toggle",className:"text-sm text-muted-foreground cursor-pointer",children:"Simple"}),a.jsx(na,{id:"advanced-toggle",checked:e,onCheckedChange:t}),a.jsx(Fe,{htmlFor:"advanced-toggle",className:"text-sm text-muted-foreground cursor-pointer",children:"Advanced"})]})]})}function X4e(){qh();const[e,t]=j.useState(!1),[n,r]=j.useState(30),{data:i,isLoading:s,error:o}=Mt({queryKey:["overview",n],queryFn:()=>(console.log("[Analytics] Fetching overview for",n,"days"),bv(n)),retry:1,staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0,gcTime:300*1e3}),l=j.useMemo(()=>{if(!i?.metrics)return console.log("[Analytics] No overview metrics available"),[];const c=Array.isArray(i.metrics.ctl)?i.metrics.ctl:[],u=Array.isArray(i.metrics.atl)?i.metrics.atl:[],h=Array.isArray(i.metrics.tsb)?i.metrics.tsb:[];return console.debug("[Analytics] Metrics received:",{ctlCount:c.length,atlCount:u.length,tsbCount:h.length,sampleCtl:c[0],sampleAtl:u[0],sampleTsb:h[0]}),c.length===0?[]:c.map((p,g)=>{if(!Array.isArray(p)||p.length<2)return{date:"",ctl:0,atl:0,tsb:0,dailyLoad:0};const[x,b]=p;return{date:typeof x=="string"?x:"",ctl:typeof b=="number"?b:0,atl:Array.isArray(u[g])&&typeof u[g][1]=="number"?u[g][1]:0,tsb:Array.isArray(h[g])&&typeof h[g][1]=="number"?h[g][1]:0,dailyLoad:0}}).filter(p=>p.date!=="").slice(-n)},[i,n]);return s?a.jsx(Yn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):o||!i?a.jsx(Yn,{children:a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:a.jsx("p",{children:"Unable to load analytics data"})})}):a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Analytics"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:e?"Performance Management Chart":"Your training trends"})]}),a.jsx(Z4e,{isAdvanced:e,onToggleAdvanced:t,dateRange:n,onDateRangeChange:r}),a.jsx(U4e,{data:l,isAdvanced:e}),a.jsx(L4e,{data:l,isAdvanced:e})]})})}function Q4e({stages:e}){const t=n=>{switch(n){case"completed":return a.jsx(Ar,{className:"h-4 w-4 text-load-fresh"});case"in_progress":return a.jsx(st,{className:"h-4 w-4 text-muted-foreground animate-spin"});default:return a.jsx("span",{className:"h-4 w-4 rounded-full border-2 border-muted-foreground/30"})}};return a.jsx("div",{className:"mb-4 p-4 bg-accent/5 border border-accent/20 rounded-lg",children:a.jsx("ul",{className:"space-y-2",role:"list",children:e.map(n=>{const r=n.status==="in_progress",i=n.status==="completed";return a.jsxs("li",{className:re("flex items-center gap-3 text-sm",r&&"font-medium",!i&&!r&&"text-muted-foreground"),"aria-busy":r,children:[a.jsx("span",{className:re("flex items-center justify-center shrink-0",r&&"animate-pulse"),"aria-hidden":"true",children:t(n.status)}),a.jsx("span",{className:re("text-foreground",!i&&!r&&"text-muted-foreground"),children:n.label})]},n.id)})})})}function J4e({className:e,caption:t="Coach is building your plan",speedMultiplier:n=1}){const r=Math.max(.3,.6/n),i=Math.max(2,4/n);return a.jsxs("div",{className:re("flex flex-col items-center justify-center py-2 animate-fade-in",e),role:"status","aria-label":"Processing",children:[a.jsxs("div",{className:"relative w-full max-w-[200px] h-10 overflow-hidden",style:{animation:`runner-move ${i}s ease-in-out infinite`},children:[a.jsx("div",{className:"absolute left-0 w-8 h-8 motion-reduce:animate-none",style:{animation:`runner-jog ${r}s steps(2) infinite`},children:a.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",className:"w-full h-full text-coach","aria-hidden":"true",children:[a.jsx("circle",{cx:"16",cy:"6",r:"4",fill:"currentColor"}),a.jsx("path",{d:"M16 10 L16 18",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsxs("g",{className:"runner-arms",children:[a.jsx("path",{d:"M16 12 L10 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),a.jsx("path",{d:"M16 12 L22 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]}),a.jsxs("g",{className:"runner-legs",children:[a.jsx("path",{d:"M16 18 L11 28",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"}),a.jsx("path",{d:"M16 18 L21 26",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"})]})]})}),a.jsxs("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 flex gap-1 -ml-6 opacity-40",children:[a.jsx("span",{className:"w-1 h-1 bg-coach rounded-full motion-reduce:hidden",style:{animation:"trail-fade 0.6s ease-out infinite"}}),a.jsx("span",{className:"w-1.5 h-1.5 bg-coach rounded-full motion-reduce:hidden",style:{animation:"trail-fade 0.6s ease-out infinite 0.1s"}}),a.jsx("span",{className:"w-1 h-1 bg-coach rounded-full motion-reduce:hidden",style:{animation:"trail-fade 0.6s ease-out infinite 0.2s"}})]})]}),t&&a.jsx("p",{className:"text-xs text-muted-foreground mt-1 text-center",children:t}),a.jsx("style",{children:`
        @keyframes runner-move {
          0%, 100% {
            transform: translateX(0%);
          }
          50% {
            transform: translateX(calc(100% - 32px));
          }
        }

        @keyframes runner-jog {
          0%, 100% {
            transform: translateY(0px) scaleX(1);
          }
          50% {
            transform: translateY(-2px) scaleX(-1);
          }
        }

        @keyframes trail-fade {
          0%, 100% {
            opacity: 0.1;
          }
          50% {
            opacity: 0.5;
          }
        }

        /* Reduced motion - static runner with pulse */
        @media (prefers-reduced-motion: reduce) {
          .runner-arms, .runner-legs {
            animation: none;
          }
        }
      `})]})}const e3e={},P8=e=>{let t;const n=new Set,r=(h,p)=>{const g=typeof h=="function"?h(t):h;if(!Object.is(g,t)){const x=t;t=p??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(b=>b(t,x))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(e3e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},t3e=e=>e?P8(e):P8;var fk={exports:{}},hk={};var A8;function n3e(){if(A8)return hk;A8=1;var e=rv(),t=iY();function n(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,o=e.useEffect,l=e.useMemo,c=e.useDebugValue;return hk.useSyncExternalStoreWithSelector=function(u,h,p,g,x){var b=s(null);if(b.current===null){var v={hasValue:!1,value:null};b.current=v}else v=b.current;b=l(function(){function N(E){if(!S){if(S=!0,A=E,E=g(E),x!==void 0&&v.hasValue){var O=v.value;if(x(O,E))return T=O}return T=E}if(O=T,r(A,E))return O;var I=g(E);return x!==void 0&&x(O,I)?(A=E,O):(A=E,T=I)}var S=!1,A,T,C=p===void 0?null:p;return[function(){return N(h())},C===null?void 0:function(){return N(C())}]},[h,p,g,x]);var w=i(u,b[0],b[1]);return o(function(){v.hasValue=!0,v.value=w},[w]),c(w),w},hk}var k8;function r3e(){return k8||(k8=1,fk.exports=n3e()),fk.exports}var i3e=r3e();const a3e=Ut(i3e),jQ={},{useDebugValue:s3e}=Y,{useSyncExternalStoreWithSelector:o3e}=a3e;let C8=!1;const l3e=e=>e;function c3e(e,t=l3e,n){(jQ?"production":void 0)!=="production"&&n&&!C8&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),C8=!0);const r=o3e(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return s3e(r),r}const T8=e=>{(jQ?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?t3e(e):e,n=(r,i)=>c3e(t,r,i);return Object.assign(n,t),n},u3e=e=>e?T8(e):T8,SQ=u3e(e=>({events:[],percent:0,activePhase:void 0,lastEventTimestamp:void 0,reset:()=>e({events:[],percent:0,activePhase:void 0,lastEventTimestamp:void 0}),addEvent:t=>e(n=>({events:[...n.events,t],percent:Math.max(n.percent,t.percent_complete),activePhase:t.phase,lastEventTimestamp:Date.now()}))})),d3e={plan_spec:"Defining training goal",week_skeleton:"Creating weekly structure",time_allocation:"Allocating training time",week_validation:"Validating plan",week_assembly:"Assembling weekly plan",template_selection:"Choosing workouts",materialization:"Finalizing sessions",materialization_validation:"Final checks",execution:"Scheduling calendar"},f3e=e=>d3e[e]??e;function h3e({summary:e}){return a.jsx("div",{className:"ml-4 mt-1 text-xs text-muted-foreground",children:Object.entries(e).map(([t,n])=>a.jsxs("div",{children:[a.jsxs("strong",{children:[t,":"]})," ",JSON.stringify(n)]},t))})}function p3e(){const{percent:e,events:t,lastEventTimestamp:n}=SQ(),r=j.useMemo(()=>t.length===0||!n?!1:Date.now()-n>3e4,[t.length,n]);return t.length===0?null:a.jsxs("div",{className:"rounded-xl border p-4 space-y-4",children:[r&&a.jsxs(uo,{variant:"default",className:"border-amber-500 bg-amber-50 dark:bg-amber-950",children:[a.jsx(ni,{className:"h-4 w-4"}),a.jsx(l2,{children:"Planning is taking longer than expected..."}),a.jsx(fo,{children:"The planning process is still running. Please wait."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Progress"}),a.jsxs("span",{className:"font-medium",children:[e,"%"]})]}),a.jsx(Jb,{value:e})]}),a.jsx("ul",{className:"space-y-2",children:t.map((i,s)=>a.jsxs("li",{className:"text-sm",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"font-medium",children:f3e(i.phase)}),a.jsx("span",{className:"text-muted-foreground",children:i.message})]}),i.summary&&a.jsx(h3e,{summary:i.summary})]},s))})]})}const m3e=e=>{const t=e.toLowerCase();return t.includes("plan")||t.includes("week")||t.includes("training")||t.includes("schedule")||t.includes("workout")||t.includes("generate")||t.includes("create")};function g3e(){const e=bi(),[t,n]=j.useState("idle"),[r,i]=j.useState([]),[s,o]=j.useState(""),[l,c]=j.useState(!1),[u,h]=j.useState(null),p=j.useRef(null),g=j.useRef(!1),x=j.useRef(null),b=SQ(F=>F.reset),v=tr(),[w,N]=j.useState([]),S=()=>{p.current?.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{S()},[r]),j.useEffect(()=>{if(r.length===0){const F=I9();i([{id:"1",type:"assistant",role:"coach",content:F,timestamp:new Date}])}},[]);const A=F=>({id:F.id,type:F.message_type==="final"?"final":F.message_type==="progress"?"progress":"assistant",role:F.role==="user"?"athlete":"coach",content:F.content,timestamp:new Date(F.created_at),stage:F.stage,progress_stage:F.stage,transient:F.transient===!0,show_plan:F.show_plan===!0,plan_items:F.plan_items,message_type:F.message_type,metadata:F.metadata}),T=(F,W)=>{if(!F.transient||!F.stage)return[...W,F];const $=[...W],z=$.findIndex(V=>V.transient===!0&&V.stage===F.stage);return z>=0?$[z]=F:$.push(F),$};j.useEffect(()=>{if(!u||t!=="executing"||r.some(V=>V.message_type==="final"))return;let W=0;const $=60,z=setInterval(async()=>{if(W++,W>$){clearInterval(z);return}try{const V=await Mge(u);i(te=>{let Q=[...te];for(const J of V){const G=A(J),ee=Q.findIndex(X=>X.id===G.id);ee>=0?Q[ee]=G:G.transient&&G.stage?Q=T(G,Q):Q.push(G)}return Q}),V.find(te=>te.message_type==="final")&&clearInterval(z)}catch(V){console.error("[CoachChat] Failed to poll for messages:",V),W>=$&&clearInterval(z)}},2e3);return()=>{clearInterval(z)}},[u,r,t]);const C=async()=>{if(g.current||!s.trim())return;t==="done"&&(h(null),x.current=null);const F=s.trim(),W=crypto.randomUUID();o(""),g.current=!0,c(!0),console.info("Sending coach message",{length:F.length,messageId:W});const $={id:W,type:"user",role:"athlete",content:F,timestamp:new Date};i(z=>[...z,$]),m3e(F)?(t==="idle"||t==="done")&&(b(),N([]),n("planning")):t!=="executing"&&n("idle");try{const z=await a2(F,{message_id:W});if(z.conversation_id&&h(z.conversation_id),z.workout_id){e(`/workout/${z.workout_id}`);return}if(z.message_type==="progress"){if(z.progress_stages&&z.progress_stages.length>0&&N(z.progress_stages),z.progress_stage){const V={id:(Date.now()+1).toString(),type:"progress",role:"coach",content:z.reply||z.progress_stage,timestamp:new Date,progress_stage:z.progress_stage,stage:z.progress_stage,transient:!0,message_type:"progress"};i(U=>T(V,U))}}else if(z.message_type==="final")i(V=>{const U=V.filter(Q=>!(Q.type==="progress"&&Q.transient)),te={id:(Date.now()+1).toString(),type:"final",role:"coach",content:z.reply||"Here's your plan",timestamp:new Date,show_plan:z.show_plan===!0,plan_items:z.show_plan===!0&&z.plan_items&&z.plan_items.length>0?z.plan_items:void 0,response_type:z.response_type,message_type:"final"};return N([]),[...U,te]});else{const V={id:(Date.now()+1).toString(),type:"assistant",role:"coach",content:z.reply||"I understand. Let me think about that.",timestamp:new Date,show_plan:z.show_plan===!0,plan_items:z.show_plan===!0&&z.plan_items&&z.plan_items.length>0?z.plan_items:void 0,response_type:z.response_type,message_type:z.message_type};i(U=>[...U,V])}}catch(z){const U=z.message||"Sorry, I encountered an error. Please try again.",te={id:(Date.now()+1).toString(),type:"assistant",role:"coach",content:U,timestamp:new Date};i(Q=>[...Q,te]),n("idle")}finally{c(!1),g.current=!1}},E=()=>{if(t==="executing"){if(x.current&&(r.some(W=>W.id===x.current.id)||i(W=>[...W,x.current]),x.current.plan_items&&x.current.plan_items.length>0)){const W=x.current.plan_items.map($=>$.date?new Date($.date):null).filter($=>$!==null).sort(($,z)=>$.getTime()-z.getTime())[0];W&&localStorage.setItem("calendarFocusDate",W.toISOString())}v.invalidateQueries({queryKey:["calendarWeek"]}),v.invalidateQueries({queryKey:["calendarToday"]}),v.invalidateQueries({queryKey:["calendarSeason"]}),i(F=>[...F,{id:`concluded-${Date.now()}`,type:"assistant",role:"coach",content:" Your training plan is complete and saved to your calendar. You can adjust it anytime or ask me to regenerate.",timestamp:new Date}]),n("done")}},O=F=>{F.key==="Enter"&&!F.shiftKey&&(F.preventDefault(),C())},I=F=>{F.preventDefault(),C()};return a.jsxs("div",{className:"flex-1 flex flex-col bg-card rounded-lg border border-border overflow-hidden",children:[a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[a.jsx(p3e,{}),(()=>{const F=r.filter(V=>V.type==="progress");if(r.some(V=>V.type==="final"))return r.filter(V=>!!(V.type!=="progress"||V.transient)).map(V=>a.jsx("div",{className:"space-y-2",children:V.transient?a.jsxs("div",{className:"flex gap-3 animate-fade-up",children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center shrink-0",children:a.jsx(st,{className:"h-4 w-4 text-muted-foreground animate-spin"})}),a.jsx("div",{className:"max-w-[75%] rounded-lg px-4 py-2.5 bg-muted/30 text-muted-foreground",children:a.jsx("p",{className:"text-sm leading-relaxed italic",children:V.content})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:re("flex gap-3 animate-fade-up",V.role==="athlete"&&"flex-row-reverse"),children:[a.jsx("div",{className:re("w-8 h-8 rounded-full flex items-center justify-center shrink-0",V.role==="coach"?"bg-coach text-coach-foreground":"bg-muted text-muted-foreground"),children:V.role==="coach"?a.jsx(Jr,{className:"h-4 w-4"}):a.jsx(Uu,{className:"h-4 w-4"})}),a.jsx("div",{className:re("max-w-[75%] rounded-lg px-4 py-2.5",V.role==="coach"?"bg-[#2F4F4F]/10 text-foreground":"bg-accent text-accent-foreground"),children:a.jsx("p",{className:"text-sm leading-relaxed",children:V.content})})]}),V.role==="coach"&&V.show_plan===!0&&V.plan_items&&(!V.response_type||["plan","weekly_plan","season_plan","session_plan","recommendation","summary"].includes(V.response_type))&&a.jsxs("div",{className:re("flex gap-3"),children:[a.jsx("div",{className:"w-8 shrink-0"}),a.jsx("div",{className:"max-w-[75%]",children:a.jsx(D0,{planItems:V.plan_items})})]})]})},V.id));let $=[];if(w.length>0)$=w;else{const V=new Map;F.forEach((Q,J)=>{const G=Q.progress_stage||`stage-${J}`,ee=Q.content||Q.progress_stage||"Processing...";V.set(G,{label:ee,lastIndex:J})});const U=Array.from(V.entries()).sort((Q,J)=>Q[1].lastIndex-J[1].lastIndex),te=F.length>0?F.length-1:-1;U.forEach(([Q,{label:J,lastIndex:G}])=>{G<te?$.push({id:Q,label:J,status:"completed"}):G===te?$.push({id:Q,label:J,status:"in_progress"}):$.push({id:Q,label:J,status:"pending"})})}const z=r.filter(V=>V.type!=="progress"&&V.type!=="final");return a.jsxs(a.Fragment,{children:[$.length>0&&a.jsx(Q4e,{stages:$}),z.map(V=>a.jsx("div",{className:"space-y-2",children:V.transient?a.jsxs("div",{className:"flex gap-3 animate-fade-up",children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center shrink-0",children:a.jsx(st,{className:"h-4 w-4 text-muted-foreground animate-spin"})}),a.jsx("div",{className:"max-w-[75%] rounded-lg px-4 py-2.5 bg-muted/30 text-muted-foreground",children:a.jsx("p",{className:"text-sm leading-relaxed italic",children:V.content})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:re("flex gap-3 animate-fade-up",V.role==="athlete"&&"flex-row-reverse"),children:[a.jsx("div",{className:re("w-8 h-8 rounded-full flex items-center justify-center shrink-0",V.role==="coach"?"bg-coach text-coach-foreground":"bg-muted text-muted-foreground"),children:V.role==="coach"?a.jsx(Jr,{className:"h-4 w-4"}):a.jsx(Uu,{className:"h-4 w-4"})}),a.jsx("div",{className:re("max-w-[75%] rounded-lg px-4 py-2.5",V.role==="coach"?"bg-[#2F4F4F]/10 text-foreground":"bg-accent text-accent-foreground"),children:a.jsx("p",{className:"text-sm leading-relaxed",children:V.content})})]}),V.role==="coach"&&V.show_plan===!0&&V.plan_items&&(!V.response_type||["plan","weekly_plan","season_plan","session_plan","recommendation","summary"].includes(V.response_type))&&a.jsxs("div",{className:re("flex gap-3"),children:[a.jsx("div",{className:"w-8 shrink-0"}),a.jsx("div",{className:"max-w-[75%]",children:a.jsx(D0,{planItems:V.plan_items})})]})]})},V.id))]})})(),t==="executing"&&a.jsx(J4e,{speedMultiplier:w.length>2?1.5:1}),u&&t==="executing"?a.jsx(J2,{conversationId:u,mode:t,onComplete:E}):null,l&&a.jsxs("div",{className:"flex gap-3 animate-fade-up",children:[a.jsx("div",{className:"w-8 h-8 rounded-full bg-coach text-coach-foreground flex items-center justify-center",children:a.jsx(Jr,{className:"h-4 w-4"})}),a.jsx("div",{className:"bg-[#2F4F4F]/10 rounded-lg px-4 py-2.5",children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-pulse-subtle"}),a.jsx("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-pulse-subtle [animation-delay:150ms]"}),a.jsx("span",{className:"w-2 h-2 bg-muted-foreground/50 rounded-full animate-pulse-subtle [animation-delay:300ms]"})]})})]}),a.jsx("div",{ref:p})]}),a.jsxs("div",{className:"border-t border-border p-4",children:[a.jsxs("form",{onSubmit:I,className:"flex gap-2",children:[a.jsx(cl,{value:s,onChange:F=>o(F.target.value),onKeyDown:O,placeholder:"Ask your coach anything...",className:"min-h-[44px] max-h-32 resize-none",rows:1}),a.jsx(Se,{type:"submit",disabled:!s.trim()||l||g.current,size:"icon",className:"shrink-0 bg-coach hover:bg-coach/90 text-coach-foreground",children:a.jsx(dv,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})]})}function v3e(){return qh(),a.jsx(Yn,{children:a.jsxs("div",{className:"h-[calc(100vh-7rem)] lg:h-[calc(100vh-4rem)] flex flex-col",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Coach"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Ask questions, discuss training, request adjustments"})]}),a.jsx(g3e,{})]})})}var DM="Radio",[y3e,NQ]=yr(DM),[x3e,b3e]=y3e(DM),PQ=j.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:l="on",onCheck:c,form:u,...h}=e,[p,g]=j.useState(null),x=vt(t,w=>g(w)),b=j.useRef(!1),v=p?u||!!p.closest("form"):!0;return a.jsxs(x3e,{scope:n,checked:i,disabled:o,children:[a.jsx(We.button,{type:"button",role:"radio","aria-checked":i,"data-state":TQ(i),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:x,onClick:De(e.onClick,w=>{i||c?.(),v&&(b.current=w.isPropagationStopped(),b.current||w.stopPropagation())})}),v&&a.jsx(CQ,{control:p,bubbles:!b.current,name:r,value:l,checked:i,required:s,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});PQ.displayName=DM;var AQ="RadioIndicator",kQ=j.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,s=b3e(AQ,n);return a.jsx(Di,{present:r||s.checked,children:a.jsx(We.span,{"data-state":TQ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});kQ.displayName=AQ;var w3e="RadioBubbleInput",CQ=j.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const o=j.useRef(null),l=vt(o,s),c=Iv(n),u=pv(t);return j.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==n&&x){const b=new Event("click",{bubbles:r});x.call(h,n),h.dispatchEvent(b)}},[c,n,r]),a.jsx(We.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});CQ.displayName=w3e;function TQ(e){return e?"checked":"unchecked"}var _3e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],z1="RadioGroup",[j3e]=yr(z1,[tp,NQ]),EQ=tp(),OQ=NQ(),[S3e,N3e]=j3e(z1),MQ=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:h=!0,onValueChange:p,...g}=e,x=EQ(n),b=Jh(u),[v,w]=la({prop:s,defaultProp:i??null,onChange:p,caller:z1});return a.jsx(S3e,{scope:n,name:r,required:o,disabled:l,value:v,onValueChange:w,children:a.jsx(aM,{asChild:!0,...x,orientation:c,dir:b,loop:h,children:a.jsx(We.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...g,ref:t})})})});MQ.displayName=z1;var RQ="RadioGroupItem",IQ=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,s=N3e(RQ,n),o=s.disabled||r,l=EQ(n),c=OQ(n),u=j.useRef(null),h=vt(t,u),p=s.value===i.value,g=j.useRef(!1);return j.useEffect(()=>{const x=v=>{_3e.includes(v.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),a.jsx(sM,{asChild:!0,...l,focusable:!o,active:p,children:a.jsx(PQ,{disabled:o,required:s.required,checked:p,...c,...i,name:s.name,ref:h,onCheck:()=>s.onValueChange(i.value),onKeyDown:De(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:De(i.onFocus,()=>{g.current&&u.current?.click()})})})});IQ.displayName=RQ;var P3e="RadioGroupIndicator",DQ=j.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=OQ(n);return a.jsx(kQ,{...i,...r,ref:t})});DQ.displayName=P3e;var LQ=MQ,FQ=IQ,A3e=DQ;const W1=j.forwardRef(({className:e,...t},n)=>a.jsx(LQ,{className:re("grid gap-2",e),...t,ref:n}));W1.displayName=LQ.displayName;const kh=j.forwardRef(({className:e,...t},n)=>a.jsx(FQ,{ref:n,className:re("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(A3e,{className:"flex items-center justify-center",children:a.jsx(_W,{className:"h-2.5 w-2.5 fill-current text-current"})})}));kh.displayName=FQ.displayName;async function k3e(){const e=$h();return(await mn.get(`${e}/profile`,{withCredentials:!0})).data}async function C3e(e){const t=$h();return(await mn.patch(`${t}/profile`,e,{withCredentials:!0})).data}async function T3e(){const e=$h();return(await mn.post(`${e}/profile/bio/regenerate`,{},{withCredentials:!0})).data}async function E3e(e){const t=$h();return(await mn.post(`${t}/profile/bio/confirm`,e,{withCredentials:!0})).data}function O3e(){const e=tr(),t=Mt({queryKey:["profile"],queryFn:k3e,retry:1,staleTime:300*1e3,gcTime:1800*1e3}),n=fc({mutationFn:C3e,onSuccess:l=>{e.setQueryData(["profile"],l),e.invalidateQueries({queryKey:["profile"]})}}),r=fc({mutationFn:T3e,onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]})}}),i=fc({mutationFn:E3e,onSuccess:()=>{e.invalidateQueries({queryKey:["profile"]})}}),s=t.data?.narrative_bio?.source!=="ai_generated"&&t.data?.narrative_bio?.source!=="user_edited",o=!t.data?.narrative_bio||t.data.narrative_bio.confidence_score<.7&&t.data.narrative_bio.source==="ai_generated"||s;return{profile:t.data,isLoading:t.isLoading,error:t.error,hasBio:!!t.data?.narrative_bio,bioText:t.data?.narrative_bio?.text,bioConfidence:t.data?.narrative_bio?.confidence_score,bioSource:t.data?.narrative_bio?.source,isBioStale:s,needsBioReview:o,updateProfile:n.mutate,updateProfileAsync:n.mutateAsync,isUpdatingProfile:n.isPending,updateProfileError:n.error,regenerateBio:r.mutate,regenerateBioAsync:r.mutateAsync,isRegeneratingBio:r.isPending,regenerateBioError:r.error,confirmBio:i.mutate,confirmBioAsync:i.mutateAsync,isConfirmingBio:i.isPending,confirmBioError:i.error,refetch:t.refetch}}const Qi=e=>Number(e.toFixed(1));function M3e(){const e=tr(),{user:t}=gn(),{bioSource:n,isBioStale:r,bioText:i,confirmBio:s,isConfirmingBio:o,hasBio:l}=O3e(),[c,u]=j.useState({name:"",email:t?.email||"",gender:"",weight:"",unitSystem:"imperial",location:"",dateOfBirth:"",heightFeet:"",heightInches:""}),[h,p]=j.useState(!0),[g,x]=j.useState(!1),[b,v]=j.useState(!1),[w,N]=j.useState(null);j.useEffect(()=>{S()},[]),j.useEffect(()=>{t?.email&&u(O=>({...O,email:t.email}))},[t?.email]),j.useEffect(()=>{if(w){const O=$=>({name:$.name||"",email:$.email||"",gender:$.gender||"",weight:$.weight||"",unitSystem:$.unitSystem||"imperial",location:$.location||"",dateOfBirth:$.dateOfBirth||"",heightFeet:$.heightFeet||"",heightInches:$.heightInches||""}),I=O(c),F=O(w),W=JSON.stringify(I)!==JSON.stringify(F);v(W)}else v(!1)},[c,w]);const S=async()=>{p(!0);try{const O=await cg(),I=t?.email||"";if(!O){console.log("Profile not available - user may need to complete onboarding");const q={name:"",email:I,gender:"",weight:"",unitSystem:"imperial",location:"",dateOfBirth:"",heightFeet:"",heightInches:""};u(q),N(q),p(!1);return}const W=O.unit_system||O.unitSystem||"imperial",$=O.weight_kg,z=O.weight_lbs;let V="";z!=null?V=Qi(z).toString():$!=null&&(V=(W==="metric"?$:Qi($/.453592)).toString());const U=O.height_cm,te=O.height_in;let Q="",J="";if(te!=null){const q=Qi(te);Q=Math.floor(q/12).toString(),J=(q%12).toFixed(0)}else if(U!=null)if(W==="imperial"){const q=Qi(U/2.54);Q=Math.floor(q/12).toString(),J=(q%12).toFixed(0)}else{const q=Qi(U/2.54);Q=Math.floor(q/12).toString(),J=(q%12).toFixed(0)}const G=O.gender||"",ee=G==="M"||G==="F"?G:"",X={name:O.name||"",email:I,gender:ee,weight:V,unitSystem:W,location:O.location||"",dateOfBirth:O.date_of_birth||O.dateOfBirth||"",heightFeet:Q,heightInches:J};u(X),N(X)}catch(O){const I=O&&typeof O=="object"&&"code"in O&&O.code==="ERR_NETWORK";I||console.error("Failed to load profile:",O);const F=I?"Unable to connect to the server. Please check your connection or try again later.":O instanceof Error?O.message:"Could not load your profile data";Le({title:"Failed to load profile",description:F,variant:"destructive"})}finally{p(!1)}},A=c.unitSystem==="metric"?"kg":"lbs",T=async()=>{x(!0);try{const O=await cg(),I={name:c.name,gender:c.gender==="not-specified"?"":c.gender,location:c.location,unitSystem:c.unitSystem};if(O&&(O.target_event&&(I.targetEvent=O.target_event),O.goals&&O.goals.length>0&&(I.goals=O.goals)),c.weight){const W=parseFloat(c.weight);if(!isNaN(W)){const $=Qi(W);c.unitSystem==="imperial"?I.weight_lbs=$:I.weight_kg=$}}if(c.dateOfBirth&&(I.dateOfBirth=c.dateOfBirth),c.heightFeet||c.heightInches){const W=parseFloat(c.heightFeet||"0"),$=parseFloat(c.heightInches||"0");if(!isNaN(W)&&!isNaN($))if(c.unitSystem==="imperial"){const z=W*12+$;I.height_in=Qi(z)}else{const z=W*12+$,V=Qi(z*2.54);I.height_cm=V}}const F=await AU(I);if(F){const W=F.unit_system||F.unitSystem||"imperial",$=F.weight_lbs,z=F.weight_kg;let V="";$!=null?V=Qi($).toString():z!=null&&(V=(W==="metric"?z:Qi(z/.453592)).toString());const U=F.height_in,te=F.height_cm;let Q="",J="";if(U!=null){const q=Qi(U);Q=Math.floor(q/12).toString(),J=(q%12).toFixed(0)}else if(te!=null){const q=Qi(te/2.54);Q=Math.floor(q/12).toString(),J=(q%12).toFixed(0)}const G=F.gender||"",ee=G==="M"||G==="F"?G:"",X={name:F.name||"",email:t?.email||"",gender:ee,weight:V,unitSystem:W,location:F.location||"",dateOfBirth:F.date_of_birth||F.dateOfBirth||"",heightFeet:Q,heightInches:J};u(X),N(X)}else N({...c});v(!1),await e.invalidateQueries({queryKey:["userProfile"]}),Le({title:"Profile updated",description:"Your profile has been saved successfully"})}catch(O){console.error("Failed to save profile:",O),Le({title:"Failed to save profile",description:O instanceof Error?O.message:"Could not save your profile",variant:"destructive"})}finally{x(!1)}};if(h)return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(Uu,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Athlete Profile"}),a.jsx(kr,{children:"Your personal information and physical attributes"})]})]})}),a.jsx($e,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]});const E=n?n==="ai_generated"?r?"AI-derived profile  Update available":"AI-derived profile":n==="user_edited"?"Profile customized by you":r?"AI-derived profile  Update available":null:null;return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(Uu,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Je,{className:"text-lg",children:"Athlete Profile"}),E&&a.jsx(Vf,{children:a.jsxs(rg,{children:[a.jsx(ig,{asChild:!0,children:a.jsx(ln,{variant:"outline",className:"text-xs",children:E})}),a.jsx(Hf,{children:a.jsx("p",{className:"max-w-xs",children:"This profile is generated from your training data and settings. You can edit or regenerate it anytime."})})]})})]}),a.jsx(kr,{children:"Your personal information and physical attributes"})]})]})})}),a.jsxs($e,{className:"space-y-6",children:[l&&i&&a.jsx("div",{className:"p-4 bg-accent/5 border border-accent/20 rounded-lg space-y-3",children:a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx("p",{className:"text-sm text-foreground whitespace-pre-wrap leading-relaxed",children:i})}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[n==="ai_generated"&&a.jsx(ln,{variant:"outline",className:"text-xs",children:"AI Generated"}),n==="ai_generated"&&a.jsx(Se,{variant:"ghost",size:"sm",onClick:()=>s({}),disabled:o,className:"h-8 w-8 p-0",title:"Confirm bio",children:o?a.jsx(st,{className:"h-4 w-4 animate-spin"}):a.jsx(Ar,{className:"h-4 w-4 text-accent"})})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"name",children:"Full Name"}),a.jsx(ft,{id:"name",value:c.name,onChange:O=>u({...c,name:O.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"email",children:"Email"}),a.jsx(ft,{id:"email",type:"email",value:t?.email||"",disabled:!0,className:"bg-muted"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Email cannot be changed here. Use the Privacy & Security section to change your email."})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"role",children:"Role"}),a.jsxs(gi,{value:t?.role||"athlete",onValueChange:async O=>{try{await Kce({role:O}),Le({title:"Role updated",description:`Your role has been changed to ${O}.`}),window.location.reload()}catch(I){console.error("Failed to update role:",I),Le({title:"Error",description:"Failed to update role. Please try again.",variant:"destructive"})}},children:[a.jsx(ei,{id:"role",children:a.jsx(vi,{})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"athlete",children:" Athlete"}),a.jsx(Tt,{value:"coach",children:" Coach"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Your role determines which features are available to you."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"gender",children:"Gender"}),a.jsxs(gi,{value:c.gender||"not-specified",onValueChange:O=>u({...c,gender:O==="not-specified"?"":O}),children:[a.jsx(ei,{id:"gender",children:a.jsx(vi,{placeholder:"Not specified"})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"not-specified",children:"Not specified"}),a.jsx(Tt,{value:"M",children:"Male"}),a.jsx(Tt,{value:"F",children:"Female"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"dateOfBirth",children:"Date of Birth"}),a.jsx(ft,{id:"dateOfBirth",type:"date",value:c.dateOfBirth||"",onChange:O=>u({...c,dateOfBirth:O.target.value})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"weight",children:"Weight"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ft,{id:"weight",type:"number",step:"0.1",value:c.weight,onChange:O=>u({...c,weight:O.target.value}),onBlur:O=>{const I=O.target.value;if(I&&I!=="-"){const F=parseFloat(I);isNaN(F)||u({...c,weight:Qi(F).toString()})}},className:"flex-1",placeholder:"0.0"}),a.jsx("span",{className:"flex items-center px-3 text-sm text-muted-foreground bg-muted rounded-md",children:A})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"height",children:"Height"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"flex gap-1 flex-1",children:[a.jsx(ft,{id:"heightFeet",type:"number",min:"0",value:c.heightFeet||"",onChange:O=>{const I=O.target.value;if(I===""||I==="-")u({...c,heightFeet:I});else{const F=parseInt(I,10);!isNaN(F)&&F>=0?u({...c,heightFeet:F.toString()}):I===""&&u({...c,heightFeet:""})}},className:"flex-1",placeholder:"0"}),a.jsx("span",{className:"flex items-center px-2 text-sm text-muted-foreground",children:"ft"}),a.jsx(ft,{id:"heightInches",type:"number",min:"0",max:"11",value:c.heightInches||"",onChange:O=>{const I=O.target.value;if(I===""||I==="-")u({...c,heightInches:I});else{const F=parseInt(I,10);!isNaN(F)&&F>=0&&F<=11?u({...c,heightInches:F.toString()}):I===""&&u({...c,heightInches:""})}},className:"flex-1",placeholder:"0"}),a.jsx("span",{className:"flex items-center px-2 text-sm text-muted-foreground",children:"in"})]})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"location",children:"Location"}),a.jsx(ft,{id:"location",value:c.location,onChange:O=>u({...c,location:O.target.value}),placeholder:"City, State/Country"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{children:"Unit System"}),a.jsxs(W1,{value:c.unitSystem,onValueChange:O=>u({...c,unitSystem:O}),className:"flex gap-3",children:[a.jsxs("label",{className:re("flex items-center gap-3 px-4 py-3 rounded-lg border cursor-pointer transition-all flex-1",c.unitSystem==="imperial"?"border-accent bg-accent/5 ring-1 ring-accent":"border-border hover:border-accent/50"),children:[a.jsx(kh,{value:"imperial"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Imperial"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"miles, feet, lbs"})]})]}),a.jsxs("label",{className:re("flex items-center gap-3 px-4 py-3 rounded-lg border cursor-pointer transition-all flex-1",c.unitSystem==="metric"?"border-accent bg-accent/5 ring-1 ring-accent":"border-border hover:border-accent/50"),children:[a.jsx(kh,{value:"metric"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Metric"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"km, meters, kg"})]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(Se,{onClick:T,disabled:g||!b,children:g?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_E,{className:"h-4 w-4 mr-2"}),"Save Changes"]})})})]})]})}var $Q=["PageUp","PageDown"],BQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],zQ={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},op="Slider",[eE,R3e,I3e]=iv(op),[WQ]=yr(op,[I3e]),[D3e,q1]=WQ(op),qQ=j.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[r],value:h,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:b,...v}=e,w=j.useRef(new Set),N=j.useRef(0),A=o==="horizontal"?L3e:F3e,[T=[],C]=la({prop:h,defaultProp:u,onChange:$=>{[...w.current][N.current]?.focus(),p($)}}),E=j.useRef(T);function O($){const z=q3e(T,$);W($,z)}function I($){W($,N.current)}function F(){const $=E.current[N.current];T[N.current]!==$&&g(T)}function W($,z,{commit:V}={commit:!1}){const U=K3e(s),te=G3e(Math.round(($-r)/s)*s+r,U),Q=Fb(te,[r,i]);C((J=[])=>{const G=z3e(J,Q,z);if(H3e(G,c*s)){N.current=G.indexOf(Q);const ee=String(G)!==String(J);return ee&&V&&g(G),ee?G:J}else return J})}return a.jsx(D3e,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:N,thumbs:w.current,values:T,orientation:o,form:b,children:a.jsx(eE.Provider,{scope:e.__scopeSlider,children:a.jsx(eE.Slot,{scope:e.__scopeSlider,children:a.jsx(A,{"aria-disabled":l,"data-disabled":l?"":void 0,...v,ref:t,onPointerDown:De(v.onPointerDown,()=>{l||(E.current=T)}),min:r,max:i,inverted:x,onSlideStart:l?void 0:O,onSlideMove:l?void 0:I,onSlideEnd:l?void 0:F,onHomeKeyDown:()=>!l&&W(r,0,{commit:!0}),onEndKeyDown:()=>!l&&W(i,T.length-1,{commit:!0}),onStepKeyDown:({event:$,direction:z})=>{if(!l){const te=$Q.includes($.key)||$.shiftKey&&BQ.includes($.key)?10:1,Q=N.current,J=T[Q],G=s*te*z;W(J+G,Q,{commit:!0})}}})})})})});qQ.displayName=op;var[UQ,VQ]=WQ(op,{startEdge:"left",endEdge:"right",size:"width",direction:1}),L3e=j.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...h}=e,[p,g]=j.useState(null),x=vt(t,A=>g(A)),b=j.useRef(void 0),v=Jh(i),w=v==="ltr",N=w&&!s||!w&&s;function S(A){const T=b.current||p.getBoundingClientRect(),C=[0,T.width],O=LM(C,N?[n,r]:[r,n]);return b.current=T,O(A-T.left)}return a.jsx(UQ,{scope:e.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:a.jsx(HQ,{dir:v,"data-orientation":"horizontal",...h,ref:x,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const T=S(A.clientX);o?.(T)},onSlideMove:A=>{const T=S(A.clientX);l?.(T)},onSlideEnd:()=>{b.current=void 0,c?.()},onStepKeyDown:A=>{const C=zQ[N?"from-left":"from-right"].includes(A.key);u?.({event:A,direction:C?-1:1})}})})}),F3e=j.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=e,h=j.useRef(null),p=vt(t,h),g=j.useRef(void 0),x=!i;function b(v){const w=g.current||h.current.getBoundingClientRect(),N=[0,w.height],A=LM(N,x?[r,n]:[n,r]);return g.current=w,A(v-w.top)}return a.jsx(UQ,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:a.jsx(HQ,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const w=b(v.clientY);s?.(w)},onSlideMove:v=>{const w=b(v.clientY);o?.(w)},onSlideEnd:()=>{g.current=void 0,l?.()},onStepKeyDown:v=>{const N=zQ[x?"from-bottom":"from-top"].includes(v.key);c?.({event:v,direction:N?-1:1})}})})}),HQ=j.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=e,h=q1(op,n);return a.jsx(We.span,{...u,ref:t,onKeyDown:De(e.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):$Q.concat(BQ).includes(p.key)&&(c(p),p.preventDefault())}),onPointerDown:De(e.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),h.thumbs.has(g)?g.focus():r(p)}),onPointerMove:De(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&i(p)}),onPointerUp:De(e.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),s(p))})})}),KQ="SliderTrack",GQ=j.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=q1(KQ,n);return a.jsx(We.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});GQ.displayName=KQ;var tE="SliderRange",YQ=j.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=q1(tE,n),s=VQ(tE,n),o=j.useRef(null),l=vt(t,o),c=i.values.length,u=i.values.map(g=>QQ(g,i.min,i.max)),h=c>1?Math.min(...u):0,p=100-Math.max(...u);return a.jsx(We.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[s.startEdge]:h+"%",[s.endEdge]:p+"%"}})});YQ.displayName=tE;var nE="SliderThumb",ZQ=j.forwardRef((e,t)=>{const n=R3e(e.__scopeSlider),[r,i]=j.useState(null),s=vt(t,l=>i(l)),o=j.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return a.jsx($3e,{...e,ref:s,index:o})}),$3e=j.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,o=q1(nE,n),l=VQ(nE,n),[c,u]=j.useState(null),h=vt(t,S=>u(S)),p=c?o.form||!!c.closest("form"):!0,g=pv(c),x=o.values[r],b=x===void 0?0:QQ(x,o.min,o.max),v=W3e(r,o.values.length),w=g?.[l.size],N=w?U3e(w,b,l.direction):0;return j.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${b}% + ${N}px)`},children:[a.jsx(eE.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(We.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:h,style:x===void 0?{display:"none"}:e.style,onFocus:De(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),p&&a.jsx(XQ,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:x},r)]})});ZQ.displayName=nE;var B3e="RadioBubbleInput",XQ=j.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const i=j.useRef(null),s=vt(i,r),o=Iv(t);return j.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&h){const p=new Event("input",{bubbles:!0});h.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(We.input,{style:{display:"none"},...n,ref:s,defaultValue:t})});XQ.displayName=B3e;function z3e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function QQ(e,t,n){const s=100/(n-t)*(e-t);return Fb(s,[0,100])}function W3e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function q3e(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function U3e(e,t,n){const r=e/2,s=LM([0,50],[0,r]);return(r-s(t)*n)*n}function V3e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function H3e(e,t){if(t>0){const n=V3e(e);return Math.min(...n)>=t}return!0}function LM(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function K3e(e){return(String(e).split(".")[1]||"").length}function G3e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var JQ=qQ,Y3e=GQ,Z3e=YQ,X3e=ZQ;const rE=j.forwardRef(({className:e,...t},n)=>a.jsxs(JQ,{ref:n,className:re("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(Y3e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:a.jsx(Z3e,{className:"absolute h-full bg-primary"})}),a.jsx(X3e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));rE.displayName=JQ.displayName;const bd={ATHLETE_PROFILE:"coach_athlete_profile",ONBOARDING_STATE:"coach_onboarding_state",ONBOARDING_ADDITIONAL_DATA:"onboarding_additional_data",ACTIVITIES:"coach_activities",TRAINING_LOAD:"coach_training_load",WEEKLY_PLANS:"coach_weekly_plans",SEASON_PLAN:"coach_season_plan",ONBOARDING_PLANS:"onboarding_plans"};function E8(){try{const e=localStorage.getItem(bd.ATHLETE_PROFILE);return e?JSON.parse(e):null}catch{return null}}function eJ(e){localStorage.setItem(bd.ATHLETE_PROFILE,JSON.stringify(e))}function Q3e(){try{const e=localStorage.getItem(bd.ONBOARDING_ADDITIONAL_DATA);return e?JSON.parse(e):null}catch{return null}}function tJ(e){localStorage.setItem(bd.ONBOARDING_ADDITIONAL_DATA,JSON.stringify(e))}function J3e(e){localStorage.setItem(bd.ONBOARDING_PLANS,JSON.stringify(e))}function eFe(e){localStorage.setItem(bd.SEASON_PLAN,JSON.stringify(e))}function tFe(){Object.values(bd).forEach(e=>{localStorage.removeItem(e)})}const nFe=[{id:"running",label:"Running"},{id:"cycling",label:"Cycling"},{id:"swimming",label:"Swimming"},{id:"triathlon",label:"Triathlon"}],pk=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],rFe=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],iFe=["Just getting started","Training occasionally","Training consistently","Structured training for years"];function aFe(){const[e,t]=j.useState({primarySports:[],trainingDays:[!0,!0,!0,!0,!0,!0,!0],hoursPerWeek:10,trainingFocus:"general",hasInjuryHistory:!1,injuryNotes:"",trainingAge:0,consistency:"",goal:"",raceDetails:"",targetEventName:"",targetEventDate:""}),[n,r]=j.useState(!0),[i,s]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(null);j.useEffect(()=>{h()},[]),j.useEffect(()=>{if(c){const b=JSON.stringify(e)!==JSON.stringify(c);l(b)}else l(!1)},[e,c]);const h=async()=>{r(!0);try{let b=null,v=null;if(pi.isLoggedIn())try{[b,v]=await Promise.all([Bce().catch(()=>null),cg()])}catch($){console.warn("Failed to load from backend, using local data:",$)}const w=E8(),N=Q3e(),S=v||w,A=b&&Array.isArray(b.available_days)?pk.map($=>{const z=$.toLowerCase();return b.available_days.some(V=>V.toLowerCase()===z||V.toLowerCase()===z.substring(0,3))}):S?pk.map(($,z)=>z<(S.weeklyAvailability?.days||0)):[!0,!0,!0,!0,!0,!0,!0],T=b?b.training_focus==="race_focused"?"race":"general":S?.goals&&S.goals.some($=>$.toLowerCase().includes("race"))?"race":"general",C=b?.goal||S?.goals?.[0]||"",E=S?.targetEvent?.name||"",O=S?.targetEvent?.date||"",F=S?.race_input?.details||N?.raceDetails||"",W={primarySports:b?.primary_sports||S?.sports||[],trainingDays:A,hoursPerWeek:b?.weekly_hours||S?.weeklyAvailability?.hoursPerWeek||10,trainingFocus:T,hasInjuryHistory:b?.injury_history||!1,injuryNotes:b?.injury_notes||N?.injuryDetails||"",trainingAge:b?.years_of_training||S?.trainingAge||0,consistency:b?.consistency||N?.consistency||"",goal:C,raceDetails:F,targetEventName:E,targetEventDate:O};t(W),u(W)}catch(b){console.error("Failed to load preferences:",b),Le({title:"Failed to load preferences",description:b instanceof Error?b.message:"Could not load your training preferences",variant:"destructive"})}finally{r(!1)}},p=b=>{t(v=>({...v,primarySports:v.primarySports.includes(b)?v.primarySports.filter(w=>w!==b):[...v.primarySports,b]}))},g=b=>{t(v=>({...v,trainingDays:v.trainingDays.map((w,N)=>N===b?!w:w)}))},x=async()=>{s(!0);try{if(pi.isLoggedIn())try{const N=pk.filter((T,C)=>e.trainingDays[C]),S=e.trainingFocus==="race"?"race_focused":"general_fitness";await Wce({years_of_training:e.trainingAge??0,primary_sports:e.primarySports,available_days:N,weekly_hours:e.hoursPerWeek,training_focus:S,injury_history:e.hasInjuryHistory,injury_notes:e.injuryNotes||null,consistency:e.consistency||null,goal:e.goal||null});const A={};if(e.targetEventName||e.targetEventDate||e.raceDetails){const T={event_name:e.targetEventName||"",event_date:e.targetEventDate||"",details:e.raceDetails||"",source:"user"};A.targetEvent=e.targetEventName||e.targetEventDate?{name:e.targetEventName,date:e.targetEventDate}:null,A.race_input=T}else if(e.trainingFocus!=="race"){const T=await cg();T?.target_event?A.target_event=T.target_event:A.target_event=null}e.goal?A.goals=[e.goal]:A.goals=[],await AU(A)}catch(N){console.error("Failed to save to backend:",N)}const v={...E8()||{id:"local",name:"",sports:[],trainingAge:0,weeklyAvailability:{daysPerWeek:0,hoursPerWeek:0},goals:[],stravaConnected:!1,onboardingComplete:!0},sports:e.primarySports,trainingAge:e.trainingAge||0,weeklyAvailability:{daysPerWeek:e.trainingDays.filter(Boolean).length,hoursPerWeek:e.hoursPerWeek},goals:e.goal?[e.goal]:[],targetEvent:e.targetEventName||e.targetEventDate?{name:e.targetEventName,date:e.targetEventDate}:void 0};eJ(v);const w={consistency:e.consistency,raceDetails:e.raceDetails||(e.targetEventName?`${e.targetEventName}${e.targetEventDate?` - ${e.targetEventDate}`:""}`:""),injuryDetails:e.injuryNotes,collectedAt:new Date().toISOString()};tJ(w),u({...e}),l(!1),Le({title:"Preferences updated",description:pi.isLoggedIn()?"Your training preferences have been saved successfully":"Your preferences have been saved locally. Connect Strava to sync with the backend."})}catch(b){console.error("Failed to save preferences:",b),Le({title:"Failed to save preferences",description:b instanceof Error?b.message:"Could not save your preferences",variant:"destructive"})}finally{s(!1)}};return n?a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(VI,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Training Preferences"}),a.jsx(kr,{children:"Configure how the coach structures your training"})]})]})}),a.jsx($e,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(VI,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Training Preferences"}),a.jsx(kr,{children:"Configure how the coach structures your training"})]})]})}),a.jsxs($e,{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{htmlFor:"consistency",children:"Training Consistency"}),a.jsxs(gi,{value:e.consistency,onValueChange:b=>t({...e,consistency:b}),children:[a.jsx(ei,{id:"consistency",children:a.jsx(vi,{placeholder:"Select your training consistency"})}),a.jsx(ti,{children:iFe.map(b=>a.jsx(Tt,{value:b,children:b},b))})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{htmlFor:"trainingAge",children:"Years of Structured Training"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(rE,{value:[e.trainingAge||0],onValueChange:([b])=>t({...e,trainingAge:b}),min:0,max:30,step:1,className:"flex-1"}),a.jsxs("span",{className:"text-sm font-medium text-foreground min-w-[3rem] text-right",children:[e.trainingAge||0," years"]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{children:"Primary Sports"}),a.jsx("div",{className:"flex flex-wrap gap-3",children:nFe.map(b=>a.jsx("button",{onClick:()=>p(b.id),className:`px-4 py-2 rounded-lg border text-sm font-medium transition-colors ${e.primarySports.includes(b.id)?"bg-accent text-accent-foreground border-accent":"bg-muted/50 text-muted-foreground border-border hover:border-accent/50"}`,children:b.label},b.id))}),e.primarySports.length===0&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select at least one sport"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{children:"Available Training Days"}),a.jsx("div",{className:"flex gap-2",children:rFe.map((b,v)=>a.jsx("button",{onClick:()=>g(v),className:`w-12 h-12 rounded-lg border text-sm font-medium transition-colors ${e.trainingDays[v]?"bg-accent text-accent-foreground border-accent":"bg-muted/50 text-muted-foreground border-border hover:border-accent/50"}`,children:b},b))}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.trainingDays.filter(Boolean).length," days selected"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Fe,{children:"Weekly Training Hours"}),a.jsxs("span",{className:"text-sm font-medium text-foreground",children:[e.hoursPerWeek," hours"]})]}),a.jsx(rE,{value:[e.hoursPerWeek],onValueChange:([b])=>t({...e,hoursPerWeek:b}),min:3,max:25,step:1,className:"w-full"}),a.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"3 hrs"}),a.jsx("span",{children:"25 hrs"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{htmlFor:"goal",children:"Primary Training Goal"}),a.jsx(ft,{id:"goal",value:e.goal,onChange:b=>t({...e,goal:b.target.value}),placeholder:"e.g., Complete a sub-2:25 marathon, Improve fitness, Return to training"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your goal exactly as you want it stored. No parsing or normalization will be applied."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{children:"Training Focus"}),a.jsxs(W1,{value:e.trainingFocus,onValueChange:b=>t({...e,trainingFocus:b}),className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border cursor-pointer transition-colors ${e.trainingFocus==="race"?"border-accent bg-accent/5":"border-border hover:border-accent/50"}`,children:[a.jsx(kh,{value:"race",className:"mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"Race Focused"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Training structured around specific race goals and dates"})]})]}),a.jsxs("label",{className:`flex items-start gap-3 p-4 rounded-lg border cursor-pointer transition-colors ${e.trainingFocus==="general"?"border-accent bg-accent/5":"border-border hover:border-accent/50"}`,children:[a.jsx(kh,{value:"general",className:"mt-0.5"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:"General Fitness"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Flexible training focused on overall fitness and consistency"})]})]})]})]}),e.trainingFocus==="race"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx(Fe,{children:"Target Event / Race"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"targetEventName",className:"text-sm",children:"Event Name"}),a.jsx(ft,{id:"targetEventName",value:e.targetEventName,onChange:b=>t({...e,targetEventName:b.target.value}),placeholder:"e.g., Boston Marathon"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"targetEventDate",className:"text-sm",children:"Event Date"}),a.jsx(ft,{id:"targetEventDate",type:"date",value:e.targetEventDate,onChange:b=>t({...e,targetEventDate:b.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"raceDetails",className:"text-sm",children:"Additional Race Details"}),a.jsx(cl,{id:"raceDetails",value:e.raceDetails,onChange:b=>t({...e,raceDetails:b.target.value}),placeholder:"Any additional details about your target event...",className:"min-h-[80px]"})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(na,{id:"injury-history",checked:e.hasInjuryHistory,onCheckedChange:b=>t({...e,hasInjuryHistory:b})}),a.jsx(Fe,{htmlFor:"injury-history",className:"cursor-pointer",children:"I have injury history or limitations to consider"})]}),e.hasInjuryHistory&&a.jsx(cl,{placeholder:"Describe any injuries, limitations, or areas of concern...",value:e.injuryNotes,onChange:b=>t({...e,injuryNotes:b.target.value}),className:"min-h-[80px]"})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(Se,{onClick:x,disabled:i||!o||e.primarySports.length===0,children:i?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_E,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}function sFe(){const{theme:e,setTheme:t}=Xme(),n=[{value:"light",label:"Light",description:"Clean, bright interface",icon:KI},{value:"dark",label:"Dark",description:"Easy on the eyes",icon:uv},{value:"system",label:"System",description:"Match device settings",icon:qte}];return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(KI,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Appearance"}),a.jsx(kr,{children:"Customize how the app looks"})]})]})}),a.jsx($e,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(Fe,{children:"Theme"}),a.jsx(W1,{value:e,onValueChange:r=>t(r),className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:n.map(r=>{const i=r.icon;return a.jsxs("label",{className:re("flex items-center gap-3 p-4 rounded-lg border cursor-pointer transition-all",e===r.value?"border-accent bg-accent/5 ring-1 ring-accent":"border-border hover:border-accent/50"),children:[a.jsx(kh,{value:r.value,className:"sr-only"}),a.jsx("div",{className:re("p-2 rounded-lg",e===r.value?"bg-accent/10":"bg-muted"),children:a.jsx(i,{className:re("h-5 w-5",e===r.value?"text-accent":"text-muted-foreground")})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-foreground",children:r.label}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r.description})]})]},r.value)})})]})})]})}const oFe=[{id:"strava",name:"Strava",description:"Sync activities, import training history, and track your progress",icon:lo,iconColor:"text-[#FC4C02]",status:"connected",primary:!0,lastSync:"2 hours ago"},{id:"garmin",name:"Garmin Connect",description:"Import workouts and physiological metrics from Garmin devices",icon:tne,iconColor:"text-[#007CC3]",status:"coming-soon"},{id:"whoop",name:"WHOOP",description:"Recovery, strain, and sleep data for adaptive training",icon:ow,iconColor:"text-[#00A86B]",status:"coming-soon"},{id:"apple-health",name:"Apple Health",description:"Heart rate, HRV, and activity data from Apple Watch",icon:Pte,iconColor:"text-foreground",status:"coming-soon"},{id:"trainingpeaks",name:"TrainingPeaks",description:"Import structured workouts and training plans",icon:xW,iconColor:"text-[#E31937]",status:"coming-soon"}];function lFe(){const{user:e,status:t}=gn(),[n,r]=j.useState(null),[i,s]=j.useState(null),[o,l]=j.useState(!0),[c,u]=j.useState(!1),[h,p]=j.useState(null);j.useEffect(()=>{t!=="authenticated"||!e||g()},[t,e]);const g=async()=>{l(!0);try{const S=await Xce();s(S);const A=localStorage.getItem("strava_last_sync");A&&p(A)}catch(S){console.error("Failed to load integration status:",S),s({connected:!1})}finally{l(!1)}},x=async S=>{if(S==="strava"){r(S);try{await Sw()}catch(A){console.error("Failed to connect Strava:",A),Le({title:"Failed to connect Strava",description:A instanceof Error?A.message:"Could not initiate Strava connection",variant:"destructive"}),r(null)}}else Le({title:"Coming soon",description:"This integration will be available soon"})},b=async S=>{if(S==="strava"){r(S);try{await Fce(),s({connected:!1}),Le({title:"Strava disconnected",description:"Your Strava account has been disconnected"})}catch(A){const T=A;T.status&&T.status>=500?(console.error("Failed to disconnect Strava:",A),Le({title:"Failed to disconnect",description:A instanceof Error?A.message:"Could not disconnect Strava",variant:"destructive"})):(s({connected:!1}),Le({title:"Strava disconnected",description:"Your Strava account has been disconnected"}))}finally{r(null)}}},v=async()=>{u(!0);try{await uue();const S=new Date().toISOString();localStorage.setItem("strava_last_sync",S),p(S),Le({title:"Sync started",description:"Your Strava data is being synced. This may take a few moments."})}catch(S){console.error("Failed to sync Strava:",S),Le({title:"Sync failed",description:S instanceof Error?S.message:"Could not sync Strava data",variant:"destructive"})}finally{u(!1)}},w=S=>{if(!S)return"Never";const A=new Date(S),C=new Date().getTime()-A.getTime(),E=Math.floor(C/6e4),O=Math.floor(C/36e5),I=Math.floor(C/864e5);return E<1?"Just now":E<60?`${E} minute${E>1?"s":""} ago`:O<24?`${O} hour${O>1?"s":""} ago`:I<7?`${I} day${I>1?"s":""} ago`:A.toLocaleDateString()},N=oFe.map(S=>S.id==="strava"?{...S,status:i?.connected?"connected":"disconnected",lastSync:h?w(h):void 0}:S);return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(Nk,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Integrations"}),a.jsx(kr,{children:"Connect your training platforms and devices"})]})]})}),a.jsx($e,{children:o?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):a.jsx("div",{className:"space-y-3",children:N.map(S=>a.jsx(cFe,{integration:S,isLoading:n===S.id,isSyncing:c&&S.id==="strava",onConnect:()=>x(S.id),onDisconnect:()=>b(S.id),onSync:S.id==="strava"?v:void 0},S.id))})})]})}function cFe({integration:e,isLoading:t,isSyncing:n,onConnect:r,onDisconnect:i,onSync:s}){const o=e.icon,l=e.status==="coming-soon",c=e.status==="connected";return a.jsxs("div",{className:re("flex items-center gap-4 p-4 rounded-lg border transition-colors",e.primary&&c&&"border-accent/50 bg-accent/5",l&&"opacity-60"),children:[a.jsx("div",{className:re("w-12 h-12 rounded-lg flex items-center justify-center",c?"bg-muted":"bg-muted/50"),children:a.jsx(o,{className:re("h-6 w-6",e.iconColor)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-medium text-foreground",children:e.name}),e.primary&&a.jsx(ln,{variant:"outline",className:"text-xs bg-accent/10 text-accent border-accent/30",children:"Primary"}),l&&a.jsx(ln,{variant:"outline",className:"text-xs",children:"Coming Soon"})]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-0.5 line-clamp-1",children:e.description}),c&&e.lastSync&&a.jsxs("div",{className:"flex items-center gap-1 mt-1 text-xs text-muted-foreground",children:[a.jsx(ps,{className:"h-3 w-3"}),a.jsxs("span",{children:["Last synced ",e.lastSync]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[c&&a.jsxs("div",{className:"flex items-center gap-1.5 text-load-fresh",children:[a.jsx(lv,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Connected"})]}),c&&s&&a.jsx(Se,{variant:"ghost",size:"sm",onClick:s,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-1 animate-spin"}),"Syncing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qu,{className:"h-4 w-4 mr-1"}),"Sync"]})}),!l&&a.jsx(Se,{variant:c?"outline":"default",size:"sm",onClick:c?i:r,disabled:t||n,children:t?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-1 animate-spin"}),"Loading..."]}):c?a.jsxs(a.Fragment,{children:[a.jsx(Ss,{className:"h-4 w-4 mr-1"}),"Disconnect"]}):a.jsxs(a.Fragment,{children:[a.jsx(h0,{className:"h-4 w-4 mr-1"}),"Connect"]})})]})]})}var uFe="Separator",O8="horizontal",dFe=["horizontal","vertical"],nJ=j.forwardRef((e,t)=>{const{decorative:n,orientation:r=O8,...i}=e,s=fFe(r)?r:O8,l=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(We.div,{"data-orientation":s,...l,...i,ref:t})});nJ.displayName=uFe;function fFe(e){return dFe.includes(e)}var rJ=nJ;const hs=j.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>a.jsx(rJ,{ref:i,decorative:n,orientation:t,className:re("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));hs.displayName=rJ.displayName;function hFe(){const[e,t]=j.useState({emailNotifications:!0,pushNotifications:!0,workoutReminders:!0,weeklySummary:!0,goalAchievements:!0,coachMessages:!0,trainingLoadAlerts:!0,raceReminders:!0}),[n,r]=j.useState(!0),[i,s]=j.useState(!1),[o,l]=j.useState(!1),[c,u]=j.useState(null);j.useEffect(()=>{h()},[]),j.useEffect(()=>{if(c){const x=JSON.stringify(e)!==JSON.stringify(c);l(x)}else l(!1)},[e,c]);const h=async()=>{r(!0);try{const x=await Hce(),b={emailNotifications:x.email_notifications,pushNotifications:x.push_notifications,workoutReminders:x.workout_reminders,trainingLoadAlerts:x.training_load_alerts,raceReminders:x.race_reminders,weeklySummary:x.weekly_summary,goalAchievements:x.goal_achievements,coachMessages:x.coach_messages};t(b),u(b)}catch(x){console.error("Failed to load notification preferences:",x),Le({title:"Failed to load preferences",description:x instanceof Error?x.message:"Could not load your notification preferences",variant:"destructive"})}finally{r(!1)}},p=async()=>{s(!0);try{await Gce({email_notifications:e.emailNotifications,push_notifications:e.pushNotifications,workout_reminders:e.workoutReminders,training_load_alerts:e.trainingLoadAlerts,race_reminders:e.raceReminders,weekly_summary:e.weeklySummary,goal_achievements:e.goalAchievements,coach_messages:e.coachMessages}),u({...e}),l(!1),Le({title:"Notification preferences updated",description:"Your notification settings have been saved"})}catch(x){console.error("Failed to save preferences:",x),Le({title:"Failed to save preferences",description:x instanceof Error?x.message:"Could not save your notification settings",variant:"destructive"})}finally{s(!1)}},g=(x,b)=>{t(v=>({...v,[x]:b}))};return n?a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(zI,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Notifications"}),a.jsx(kr,{children:"Manage how and when you receive notifications"})]})]})}),a.jsx($e,{children:a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})})})]}):a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(zI,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Notifications"}),a.jsx(kr,{children:"Manage how and when you receive notifications"})]})]})}),a.jsxs($e,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"General"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"email-notifications",className:"cursor-pointer",children:"Email Notifications"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive notifications via email"})]}),a.jsx(na,{id:"email-notifications",checked:e.emailNotifications,onCheckedChange:x=>g("emailNotifications",x)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"push-notifications",className:"cursor-pointer",children:"Push Notifications"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive browser push notifications"})]}),a.jsx(na,{id:"push-notifications",checked:e.pushNotifications,onCheckedChange:x=>g("pushNotifications",x)})]})]})]}),a.jsx(hs,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Training"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"workout-reminders",className:"cursor-pointer",children:"Workout Reminders"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Get reminded about upcoming workouts"})]}),a.jsx(na,{id:"workout-reminders",checked:e.workoutReminders,onCheckedChange:x=>g("workoutReminders",x)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"training-load-alerts",className:"cursor-pointer",children:"Training Load Alerts"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Alerts when training load is high or low"})]}),a.jsx(na,{id:"training-load-alerts",checked:e.trainingLoadAlerts,onCheckedChange:x=>g("trainingLoadAlerts",x)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"race-reminders",className:"cursor-pointer",children:"Race Reminders"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Reminders about upcoming races and events"})]}),a.jsx(na,{id:"race-reminders",checked:e.raceReminders,onCheckedChange:x=>g("raceReminders",x)})]})]})]}),a.jsx(hs,{}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-3",children:"Updates & Reports"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"weekly-summary",className:"cursor-pointer",children:"Weekly Summary"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive a weekly training summary"})]}),a.jsx(na,{id:"weekly-summary",checked:e.weeklySummary,onCheckedChange:x=>g("weeklySummary",x)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"goal-achievements",className:"cursor-pointer",children:"Goal Achievements"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications when you achieve training goals"})]}),a.jsx(na,{id:"goal-achievements",checked:e.goalAchievements,onCheckedChange:x=>g("goalAchievements",x)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"coach-messages",className:"cursor-pointer",children:"Coach Messages"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Notifications when the coach sends messages"})]}),a.jsx(na,{id:"coach-messages",checked:e.coachMessages,onCheckedChange:x=>g("coachMessages",x)})]})]})]})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx(Se,{onClick:p,disabled:i||!o,children:i?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(_E,{className:"h-4 w-4 mr-2"}),"Save Preferences"]})})})]})]})}var iJ="AlertDialog",[pFe]=yr(iJ,[vX]),gl=vX(),aJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=gl(t);return a.jsx(PM,{...r,...n,modal:!0})};aJ.displayName=iJ;var mFe="AlertDialogTrigger",sJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=gl(n);return a.jsx(ZLe,{...i,...r,ref:t})});sJ.displayName=mFe;var gFe="AlertDialogPortal",oJ=e=>{const{__scopeAlertDialog:t,...n}=e,r=gl(t);return a.jsx(AM,{...r,...n})};oJ.displayName=gFe;var vFe="AlertDialogOverlay",lJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=gl(n);return a.jsx(Uv,{...i,...r,ref:t})});lJ.displayName=vFe;var Bf="AlertDialogContent",[yFe,xFe]=pFe(Bf),bFe=U8("AlertDialogContent"),cJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=gl(n),o=j.useRef(null),l=vt(t,o),c=j.useRef(null);return a.jsx(HLe,{contentName:Bf,titleName:uJ,docsSlug:"alert-dialog",children:a.jsx(yFe,{scope:n,cancelRef:c,children:a.jsxs(Vv,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:De(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(bFe,{children:r}),a.jsx(_Fe,{contentRef:o})]})})})});cJ.displayName=Bf;var uJ="AlertDialogTitle",dJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=gl(n);return a.jsx(Hv,{...i,...r,ref:t})});dJ.displayName=uJ;var fJ="AlertDialogDescription",hJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=gl(n);return a.jsx(Kv,{...i,...r,ref:t})});hJ.displayName=fJ;var wFe="AlertDialogAction",pJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=gl(n);return a.jsx(D1,{...i,...r,ref:t})});pJ.displayName=wFe;var mJ="AlertDialogCancel",gJ=j.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=xFe(mJ,n),s=gl(n),o=vt(t,i);return a.jsx(D1,{...s,...r,ref:o})});gJ.displayName=mJ;var _Fe=({contentRef:e})=>{const t=`\`${Bf}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Bf}\` by passing a \`${fJ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Bf}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},jFe=aJ,SFe=sJ,NFe=oJ,vJ=lJ,yJ=cJ,xJ=pJ,bJ=gJ,wJ=dJ,_J=hJ;const jJ=jFe,SJ=SFe,PFe=NFe,NJ=j.forwardRef(({className:e,...t},n)=>a.jsx(vJ,{className:re("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));NJ.displayName=vJ.displayName;const FM=j.forwardRef(({className:e,...t},n)=>a.jsxs(PFe,{children:[a.jsx(NJ,{}),a.jsx(yJ,{ref:n,className:re("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));FM.displayName=yJ.displayName;const $M=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col space-y-2 text-center sm:text-left",e),...t});$M.displayName="AlertDialogHeader";const BM=({className:e,...t})=>a.jsx("div",{className:re("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});BM.displayName="AlertDialogFooter";const zM=j.forwardRef(({className:e,...t},n)=>a.jsx(wJ,{ref:n,className:re("text-lg font-semibold",e),...t}));zM.displayName=wJ.displayName;const WM=j.forwardRef(({className:e,...t},n)=>a.jsx(_J,{ref:n,className:re("text-sm text-muted-foreground",e),...t}));WM.displayName=_J.displayName;const qM=j.forwardRef(({className:e,...t},n)=>a.jsx(xJ,{ref:n,className:re(ZE(),e),...t}));qM.displayName=xJ.displayName;const UM=j.forwardRef(({className:e,...t},n)=>a.jsx(bJ,{ref:n,className:re(ZE({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));UM.displayName=bJ.displayName;function AFe(){const{user:e}=gn(),[t,n]=j.useState(""),[r,i]=j.useState(""),[s,o]=j.useState(!1),[l,c]=j.useState(!1),[u,h]=j.useState(!1),[p,g]=j.useState(!1),[x,b]=j.useState(!1),[v,w]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[N,S]=j.useState(!1),[A,T]=j.useState({profileVisibility:"private",shareActivityData:!1,shareTrainingMetrics:!1}),[C,E]=j.useState(!1),[O,I]=j.useState(!0),[F,W]=j.useState({password:"",confirmation:""}),[$,z]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const G=await Uce();T({profileVisibility:G.profile_visibility,shareActivityData:G.share_activity_data,shareTrainingMetrics:G.share_training_metrics})}catch(G){console.error("Failed to load privacy settings:",G)}finally{I(!1)}})()},[]);const V=async()=>{if(!t||!r){Le({title:"Missing fields",description:"Please fill in both email and password fields",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)){Le({title:"Invalid email",description:"Please enter a valid email address",variant:"destructive"});return}if(t===e?.email){Le({title:"Email unchanged",description:"New email is the same as current email",variant:"destructive"});return}c(!0);try{await Zce({new_email:t,password:r}),Le({title:"Email changed",description:"Your email has been updated successfully. Please log in with your new email."}),n(""),i(""),window.location.reload()}catch(G){console.error("Failed to change email:",G);const ee=G;let X="Could not update email";ee.status===401?X="Incorrect password":ee.status===409?X="This email is already in use":ee.message&&(X=ee.message),Le({title:"Failed to change email",description:X,variant:"destructive"})}finally{c(!1)}},U=async()=>{if(!v.currentPassword||!v.newPassword){Le({title:"Missing fields",description:"Please fill in all password fields",variant:"destructive"});return}if(v.newPassword.length<8){Le({title:"Password too short",description:"Password must be at least 8 characters long",variant:"destructive"});return}if(v.newPassword!==v.confirmPassword){Le({title:"Passwords do not match",description:"New password and confirmation must match",variant:"destructive"});return}S(!0);try{await Yce({current_password:v.currentPassword,new_password:v.newPassword,confirm_password:v.confirmPassword}),Le({title:"Password changed",description:"Your password has been updated successfully"}),w({currentPassword:"",newPassword:"",confirmPassword:""})}catch(J){console.error("Failed to change password:",J),Le({title:"Failed to change password",description:J instanceof Error?J.message:"Could not update password",variant:"destructive"})}finally{S(!1)}},te=async()=>{E(!0);try{await Vce({profile_visibility:A.profileVisibility,share_activity_data:A.shareActivityData,share_training_metrics:A.shareTrainingMetrics}),Le({title:"Privacy settings updated",description:"Your privacy preferences have been saved"})}catch(J){console.error("Failed to save privacy settings:",J),Le({title:"Failed to save settings",description:J instanceof Error?J.message:"Could not save your privacy preferences",variant:"destructive"})}finally{E(!1)}},Q=async()=>{if(!F.password){Le({title:"Password required",description:"Please enter your password to confirm account deletion",variant:"destructive"});return}if(F.confirmation!=="DELETE"){Le({title:"Confirmation required",description:'Please type "DELETE" to confirm account deletion',variant:"destructive"});return}z(!0);try{await new Promise(J=>setTimeout(J,1e3)),pi.clear(),Le({title:"Account deleted",description:"Your account has been permanently deleted"}),window.location.href="/"}catch(J){console.error("Failed to delete account:",J),Le({title:"Failed to delete account",description:J instanceof Error?J.message:"Could not delete your account",variant:"destructive"}),z(!1)}};return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(ul,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Privacy & Security"}),a.jsx(kr,{children:"Manage your account security and privacy settings"})]})]})}),a.jsxs($e,{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Change Email"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Update your email address. You'll need to log in with your new email after the change."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"current-email",children:"Current Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"current-email",type:"email",value:e?.email||"",disabled:!0,className:"pl-10 bg-muted"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"new-email",children:"New Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"new-email",type:"email",placeholder:"new@example.com",value:t,onChange:J=>n(J.target.value),className:"pl-10",disabled:l})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"email-password",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"email-password",type:s?"text":"password",placeholder:"Enter your password to confirm",value:r,onChange:J=>i(J.target.value),className:"pl-10",disabled:l}),a.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!s),children:s?a.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter your password to confirm the email change"})]}),a.jsx(Se,{onClick:V,disabled:l||!t||!r,children:l?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Iu,{className:"h-4 w-4 mr-2"}),"Change Email"]})})]})]}),a.jsx(hs,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Change Password"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Update your password to keep your account secure"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"current-password",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{id:"current-password",type:u?"text":"password",value:v.currentPassword,onChange:J=>w({...v,currentPassword:J.target.value}),placeholder:"Enter current password"}),a.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>h(!u),children:u?a.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"new-password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{id:"new-password",type:p?"text":"password",value:v.newPassword,onChange:J=>w({...v,newPassword:J.target.value}),placeholder:"Enter new password (min. 8 characters)"}),a.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!p),children:p?a.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"confirm-password",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(ft,{id:"confirm-password",type:x?"text":"password",value:v.confirmPassword,onChange:J=>w({...v,confirmPassword:J.target.value}),placeholder:"Confirm new password"}),a.jsx(Se,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!x),children:x?a.jsx(Pu,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(Au,{className:"h-4 w-4 text-muted-foreground"})})]})]}),a.jsx(Se,{onClick:U,disabled:N||!v.currentPassword||!v.newPassword,children:N?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Changing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zm,{className:"h-4 w-4 mr-2"}),"Change Password"]})})]})]}),a.jsx(hs,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Privacy Settings"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Control who can see your profile and activity data"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"profile-visibility",children:"Profile Visibility"}),a.jsxs(gi,{value:A.profileVisibility,onValueChange:J=>T({...A,profileVisibility:J}),children:[a.jsx(ei,{id:"profile-visibility",children:a.jsx(vi,{})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"private",children:"Private - Only you"}),a.jsx(Tt,{value:"coaches",children:"Coaches - Only your coaches"}),a.jsx(Tt,{value:"public",children:"Public - Everyone"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"share-activity",className:"cursor-pointer",children:"Share Activity Data"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow sharing of anonymized activity data for research"})]}),a.jsx(na,{id:"share-activity",checked:A.shareActivityData,onCheckedChange:J=>T({...A,shareActivityData:J})})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Fe,{htmlFor:"share-metrics",className:"cursor-pointer",children:"Share Training Metrics"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow sharing of training metrics with coaches"})]}),a.jsx(na,{id:"share-metrics",checked:A.shareTrainingMetrics,onCheckedChange:J=>T({...A,shareTrainingMetrics:J})})]}),a.jsx(Se,{onClick:te,disabled:C,children:C?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Privacy Settings"})]})]}),a.jsx(hs,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-destructive mb-1",children:"Danger Zone"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Permanently delete your account and all associated data"})]}),a.jsxs(jJ,{children:[a.jsx(SJ,{asChild:!0,children:a.jsx(Se,{variant:"destructive",disabled:$,children:$?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jE,{className:"h-4 w-4 mr-2"}),"Delete Account"]})})}),a.jsxs(FM,{className:"max-w-md",children:[a.jsxs($M,{children:[a.jsx(zM,{children:"Are you absolutely sure?"}),a.jsxs(WM,{className:"space-y-4",children:[a.jsx("p",{children:"This action cannot be undone. This will permanently delete your account and remove all your data from our servers. All your activities, training plans, and progress will be lost forever."}),a.jsxs("div",{className:"space-y-3 pt-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"delete-password",children:"Enter your password"}),a.jsx("div",{className:"relative",children:a.jsx(ft,{id:"delete-password",type:"password",placeholder:"Enter your password",value:F.password,onChange:J=>W({...F,password:J.target.value}),disabled:$})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"delete-confirmation",children:'Type "DELETE" to confirm'}),a.jsx(ft,{id:"delete-confirmation",type:"text",placeholder:"Type DELETE",value:F.confirmation,onChange:J=>W({...F,confirmation:J.target.value}),disabled:$})]})]})]})]}),a.jsxs(BM,{children:[a.jsx(UM,{onClick:()=>W({password:"",confirmation:""}),children:"Cancel"}),a.jsx(qM,{onClick:Q,disabled:!F.password||F.confirmation!=="DELETE"||$,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90 disabled:opacity-50 disabled:cursor-not-allowed",children:"Delete Account"})]})]})]})]})]})]})}const M8=[".fit",".gpx",".tcx"],iE=20,kFe=iE*1024*1024,CFe=e=>{const t=e.toLowerCase();return t.endsWith(".fit")?"FIT":t.endsWith(".gpx")?"GPX":t.endsWith(".tcx")?"TCX":null},TFe=e=>`${(e/1024/1024).toFixed(2)} MB`;function EFe(){const[e,t]=j.useState(null),[n,r]=j.useState(!1),[i,s]=j.useState(null),o=j.useRef(null),l=tr(),{status:c}=gn(),u=c==="authenticated"&&pi.isLoggedIn(),h=b=>{const v=b.name.toLowerCase();return M8.some(N=>v.endsWith(N))?b.size>kFe?`File too large. Maximum size is ${iE}MB.`:null:`Invalid file type. Only ${M8.join(", ")} files are accepted.`},p=b=>{s(null);const v=b.target.files;if(!v||v.length===0){t(null);return}const w=v[0],N=h(w);if(N){s(N),t(null),o.current&&(o.current.value="");return}t(w)},g=async()=>{if(!(!e||!u||n)){console.log("[Upload] upload_started"),r(!0),s(null);try{(await qce(e)).deduplicated?(console.log("[Upload] upload_duplicate"),Le({title:"Activity already exists",description:"This activity already exists"})):(console.log("[Upload] upload_success"),Le({title:"Activity uploaded successfully",description:"Activity uploaded successfully"})),await Promise.all([l.invalidateQueries({queryKey:["activities"]}),l.invalidateQueries({queryKey:["calendar"]}),l.invalidateQueries({queryKey:["trainingLoad"]}),l.invalidateQueries({queryKey:["training","state"]}),l.invalidateQueries({queryKey:["calendarToday"]}),l.invalidateQueries({queryKey:["calendarWeek"]}),l.invalidateQueries({queryKey:["calendarSeason"]})]),t(null),o.current&&(o.current.value="")}catch(b){console.error("[Upload] upload_error:",b);let v,w="Upload failed, please try again";if(b&&typeof b=="object"&&"isAxiosError"in b){const N=b;v=N.response?.status;const S=N.response?.data;S&&(typeof S=="object"&&"message"in S?w=String(S.message):typeof S=="object"&&"detail"in S&&(w=String(S.detail)))}else b&&typeof b=="object"&&"status"in b&&(v=b.status);switch(v){case 400:w="Invalid file format";break;case 401:w="Please sign in to upload activities";break;case 413:w=`File too large (max ${iE}MB)`;break;case 422:w="Could not parse activity file";break;case 429:w="Too many uploads today";break;default:v===500&&(w="Upload failed, try again")}s(w),Le({title:"Upload failed",description:w,variant:"destructive"})}finally{r(!1)}}},x=!e||!u||n;return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(Qm,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Upload Activity"}),a.jsx(kr,{children:"Import workout files from external devices or platforms"})]})]})}),a.jsx($e,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Vf,{children:a.jsxs(rg,{children:[a.jsx(ig,{asChild:!0,children:a.jsx("div",{children:a.jsx(ft,{ref:o,type:"file",accept:".fit,.gpx,.tcx",onChange:p,disabled:!u||n,className:`${u?"":"opacity-50 cursor-not-allowed"} ${n?"opacity-50 cursor-not-allowed":""} min-h-[44px]`,"aria-label":"Select activity file (FIT, GPX, or TCX)"})})}),!u&&a.jsx(Hf,{children:a.jsx("p",{children:"Sign in to upload activities"})})]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload FIT, GPX, or TCX files from Garmin, Apple Watch, TrainingPeaks, or other platforms."})]}),e&&!i&&(()=>{const b=CFe(e.name);return a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 px-3 py-2 rounded-md",children:[a.jsx(jW,{className:"h-4 w-4 text-accent flex-shrink-0"}),a.jsx("span",{className:"truncate",children:e.name}),a.jsxs("span",{className:"text-xs",children:[" ",TFe(e.size)]}),b&&a.jsxs("span",{className:"text-xs",children:[" ",b]})]})})(),i&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-destructive bg-destructive/10 px-3 py-2 rounded-md",children:[a.jsx(Fa,{className:"h-4 w-4 flex-shrink-0"}),a.jsx("span",{children:i})]}),a.jsx(Vf,{children:a.jsxs(rg,{children:[a.jsx(ig,{asChild:!0,children:a.jsx("div",{children:a.jsx(Se,{onClick:g,disabled:x,className:"w-full sm:w-auto min-h-[44px]","aria-label":"Upload activity file",children:n?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Upload Activity"]})})})}),!u&&a.jsx(Hf,{children:a.jsx("p",{children:"Sign in to upload activities"})})]})})]})})]})}function OFe({open:e,onOpenChange:t,onSuccess:n}){const[r,i]=j.useState(""),[s,o]=j.useState(null),[l,c]=j.useState(!1),[u,h]=j.useState(null),[p,g]=j.useState("json"),x=C=>{if(!C.trim())return{sessions:[],error:null};try{const E=JSON.parse(C);if(Array.isArray(E)){const O=[];for(const I of E){if(typeof I!="object"||I===null)throw new Error("Each session must be an object");if(!I.date||typeof I.date!="string")throw new Error("Each session must have a date (YYYY-MM-DD)");if(!I.type||!["easy","workout","long","rest"].includes(I.type))throw new Error("Each session must have a type (easy, workout, long, or rest)");O.push({date:I.date,type:I.type,distance_km:I.distance_km??null,duration_minutes:I.duration_minutes??null,notes:I.notes??null})}return{sessions:O,error:null}}if(typeof E=="object"&&"sessions"in E&&Array.isArray(E.sessions)){const O=[];for(const I of E.sessions){if(typeof I!="object"||I===null)throw new Error("Each session must be an object");if(!I.date||typeof I.date!="string")throw new Error("Each session must have a date (YYYY-MM-DD)");if(!I.type||!["easy","workout","long","rest"].includes(I.type))throw new Error("Each session must have a type (easy, workout, long, or rest)");O.push({date:I.date,type:I.type,distance_km:I.distance_km??null,duration_minutes:I.duration_minutes??null,notes:I.notes??null})}return{sessions:O,error:null}}throw new Error("JSON must be an array of sessions or an object with a sessions array")}catch(E){return E instanceof Error?{sessions:[],error:E.message}:{sessions:[],error:"Invalid JSON format"}}},b=j.useMemo(()=>p==="form"?{sessions:[],error:null}:x(r),[r,p]),v=b.sessions;j.useEffect(()=>{o(b.error)},[b.error]);const w=j.useMemo(()=>{if(v.length===0)return{sessionsCount:0,weeksCount:0};const C=new Set;for(const E of v){const O=new Date(E.date),I=new Date(O);I.setDate(O.getDate()-O.getDay()+1),C.add(I.toISOString().split("T")[0])}return{sessionsCount:v.length,weeksCount:C.size}},[v]),N=C=>{const E=C.target.files?.[0];if(!E)return;const O=new FileReader;O.onload=I=>{const F=I.target?.result;typeof F=="string"&&i(F)},O.onerror=()=>{o("Failed to read file")},O.readAsText(E)},S=async()=>{if(h(null),p==="json"){if(v.length===0){h("No valid sessions to import");return}if(v.length>500){h("Cannot import more than 500 sessions at once");return}}else{h("Form mode not yet implemented");return}c(!0);try{await aue(v),Le({title:"Season imported",description:`${v.length} session(s) have been imported to your calendar.`}),i(""),o(null),h(null),t(!1),n?.()}catch(C){console.error("Failed to import season:",C);const E=C;if(E.response?.status===500)h("Failed to import sessions. Please try again or refresh.");else{const O=E.response?.data?.message||E.response?.data?.detail||E.message||"Failed to import season";h(O)}}finally{c(!1)}},A=()=>{l||(o(null),h(null),t(!1))},T=v.length>0&&v.length<=500&&!s;return a.jsx(vd,{open:e,onOpenChange:A,children:a.jsxs(Fc,{className:"sm:max-w-[700px] max-h-[90vh] overflow-y-auto",children:[a.jsxs(yd,{children:[a.jsx($c,{children:"Import Season"}),a.jsx(xd,{children:"Import multiple training sessions from JSON. This will create many sessions in your calendar."})]}),a.jsx(uo,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950 dark:border-amber-900",children:a.jsxs(fo,{className:"text-amber-800 dark:text-amber-200",children:[a.jsx("strong",{children:"Warning:"})," This will create many sessions. Make sure your data is correct before importing."]})}),a.jsxs(Lv,{value:p,onValueChange:C=>g(C),children:[a.jsxs(np,{className:"grid w-full grid-cols-2",children:[a.jsx(hi,{value:"json",children:"JSON Upload"}),a.jsx(hi,{value:"form",disabled:!0,children:"Form (Coming Soon)"})]}),a.jsxs(no,{value:"json",className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"json-file",children:"Upload JSON File (optional)"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ft,{id:"json-file",type:"file",accept:".json,application/json",onChange:N,disabled:l,className:"flex-1"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"json-input",children:"Or paste JSON"}),a.jsx(cl,{id:"json-input",value:r,onChange:C=>i(C.target.value),disabled:l,placeholder:'[{"date": "2024-01-01", "type": "easy", "distance_km": 10}, ...]',rows:12,className:"font-mono text-sm"}),s&&a.jsx("p",{className:"text-sm text-destructive",children:s})]}),v.length>0&&a.jsxs("div",{className:"rounded-lg border bg-muted/50 p-4 space-y-2",children:[a.jsx("h4",{className:"font-semibold text-sm",children:"Preview"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Sessions:"}),a.jsx("span",{className:"ml-2 font-semibold",children:w.sessionsCount})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Weeks:"}),a.jsx("span",{className:"ml-2 font-semibold",children:w.weeksCount})]})]})]})]}),a.jsx(no,{value:"form",className:"space-y-4",children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(sw,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"Form-based import coming soon"})]})})]}),u&&a.jsx("div",{className:"rounded-lg border border-destructive/50 bg-destructive/10 p-3 text-sm text-destructive",children:u}),a.jsxs(sp,{children:[a.jsx(Se,{type:"button",variant:"outline",onClick:A,disabled:l,children:"Cancel"}),a.jsxs(Se,{type:"button",onClick:S,disabled:!T||l,children:[l&&a.jsx(st,{className:"mr-2 h-4 w-4 animate-spin"}),"Import Season (",v.length," session",v.length!==1?"s":"",")"]})]})]})})}function MFe(){const[e,t]=j.useState(!1),[n,r]=j.useState(!1),[i,s]=j.useState("json"),[o,l]=j.useState(!1),c=bi(),u=tr(),h=async()=>{t(!0);try{const[x,b]=await Promise.all([xi({limit:1e3}),cg()]),v={profile:b||null,activities:x,exportDate:new Date().toISOString(),version:"1.0"};let w,N,S;if(i==="json")w=new Blob([JSON.stringify(v,null,2)],{type:"application/json"}),N=`athlete-space-export-${new Date().toISOString().split("T")[0]}.json`,S="application/json";else{const C=[];C.push("Section,Field,Value"),C.push(`Profile,Name,"${b?.name||"N/A"}"`),C.push(`Profile,Goals,"${b?.goals?.join(", ")||"N/A"}"`),C.push(`Profile,Strava Connected,${b?.strava_connected?"Yes":"No"}`),C.push(""),C.push("Activity ID,Date,Sport,Title,Duration (min),Distance (km),Training Load"),x.forEach(E=>{C.push(`${E.id},"${E.date}",${E.sport},"${E.title}",${E.duration},${E.distance},${E.trainingLoad}`)}),w=new Blob([C.join(`
`)],{type:"text/csv"}),N=`athlete-space-export-${new Date().toISOString().split("T")[0]}.csv`,S="text/csv"}const A=URL.createObjectURL(w),T=document.createElement("a");T.href=A,T.download=N,document.body.appendChild(T),T.click(),document.body.removeChild(T),URL.revokeObjectURL(A),Le({title:"Data exported successfully",description:`Your data has been exported as ${i.toUpperCase()}`})}catch(x){console.error("Failed to export data:",x),Le({title:"Export failed",description:x instanceof Error?x.message:"Could not export your data",variant:"destructive"})}finally{t(!1)}},p=async()=>{r(!0);try{await u.cancelQueries(),tFe(),localStorage.removeItem("strava_last_sync"),localStorage.removeItem("theme"),pi.clear(),u.removeQueries(),u.clear(),Le({title:"Data deleted",description:"All your data has been deleted. Redirecting to onboarding..."}),setTimeout(()=>{c("/onboarding",{replace:!0})},100)}catch(x){console.error("Failed to delete data:",x),Le({title:"Delete failed",description:x instanceof Error?x.message:"Could not delete your data",variant:"destructive"}),r(!1)}},g=()=>{u.invalidateQueries({queryKey:["calendarWeek"]}),u.invalidateQueries({queryKey:["calendarSeason"]}),u.invalidateQueries({queryKey:["calendarToday"]})};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(EFe,{}),a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(Qm,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Import Season"}),a.jsx(kr,{children:"Import multiple training sessions from JSON"})]})]})}),a.jsx($e,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Import Training Sessions"}),a.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Import a full season of training sessions from a JSON file. This will create many sessions in your calendar."})]}),a.jsxs(Se,{onClick:()=>l(!0),variant:"outline",children:[a.jsx(Qm,{className:"h-4 w-4 mr-2"}),"Import Season"]})]})})]}),a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-accent/10 rounded-lg",children:a.jsx(aw,{className:"h-5 w-5 text-accent"})}),a.jsxs("div",{children:[a.jsx(Je,{className:"text-lg",children:"Data Management"}),a.jsx(kr,{children:"Export or delete your training data"})]})]})}),a.jsxs($e,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-foreground mb-1",children:"Export Your Data"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Download a copy of all your training data, activities, and profile information"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium text-foreground",children:"Export Format"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>s("json"),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${i==="json"?"border-accent bg-accent/5 text-accent":"border-border hover:border-accent/50"}`,children:[a.jsx(Rte,{className:"h-4 w-4"}),a.jsx("span",{children:"JSON"})]}),a.jsxs("button",{type:"button",onClick:()=>s("csv"),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${i==="csv"?"border-accent bg-accent/5 text-accent":"border-border hover:border-accent/50"}`,children:[a.jsx(Ite,{className:"h-4 w-4"}),a.jsx("span",{children:"CSV"})]})]})]}),a.jsx(Se,{onClick:h,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Export Data"]})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i==="json"?"JSON format includes all data in a structured format, perfect for backups or importing into other tools.":"CSV format is ideal for viewing in spreadsheet applications like Excel or Google Sheets."})]})]}),a.jsx(hs,{}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-destructive mb-1",children:"Delete All Data"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Permanently delete all your local training data. This action cannot be undone. Your account will remain, but all stored data will be removed."})]}),a.jsxs(jJ,{children:[a.jsx(SJ,{asChild:!0,children:a.jsx(Se,{variant:"destructive",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Deleting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jE,{className:"h-4 w-4 mr-2"}),"Delete All Local Data"]})})}),a.jsxs(FM,{children:[a.jsxs($M,{children:[a.jsx(zM,{children:"Delete All Local Data?"}),a.jsxs(WM,{children:["This will permanently delete all your local training data including:",a.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[a.jsx("li",{children:"All cached activities and training data"}),a.jsx("li",{children:"Local preferences and settings"}),a.jsx("li",{children:"Stored profile information"})]}),a.jsx("p",{className:"mt-2 font-medium",children:"This action cannot be undone. Your account will remain active, but you will need to re-sync your data from connected services."})]})]}),a.jsxs(BM,{children:[a.jsx(UM,{children:"Cancel"}),a.jsx(qM,{onClick:p,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All Data"})]})]})]})]})]})]}),a.jsx(OFe,{open:o,onOpenChange:l,onSuccess:g})]})}function RFe(){return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-8 max-w-4xl",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-[clamp(1.25rem,3vw,1.5rem)] font-semibold text-primary",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your profile, preferences, and connected services"})]}),a.jsx(M3e,{}),a.jsx(aFe,{}),a.jsx(sFe,{}),a.jsx(hFe,{}),a.jsx(lFe,{}),a.jsx(AFe,{}),a.jsx(MFe,{})]})})}function wf({options:e,multiSelect:t=!1,onSelect:n}){const[r,i]=j.useState([]),[s,o]=j.useState(!1),l=u=>{s||(t?i(h=>h.includes(u)?h.filter(p=>p!==u):[...h,u]):(o(!0),n([u])))},c=()=>{r.length!==0&&(o(!0),n(r))};return s?null:a.jsxs("div",{className:"ml-12 mt-3 space-y-3",children:[a.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(u=>{const h=r.includes(u.id);return a.jsxs("button",{onClick:()=>l(u.id),className:re("px-4 py-2.5 rounded-full text-sm font-medium transition-all","border",h?"bg-accent text-accent-foreground border-accent":"bg-card text-foreground border-border hover:border-accent/50"),children:[t&&h&&a.jsx(lv,{className:"h-3.5 w-3.5 inline mr-1.5"}),u.label]},u.id)})}),t&&r.length>0&&a.jsx(Se,{onClick:c,size:"sm",children:"Continue"})]})}function IFe({onConnect:e,onSkip:t}){const[n,r]=j.useState(!1),i=async()=>{r(!0);try{await Sw()}catch(s){r(!1),console.error("Failed to connect Strava:",s);let o="Could not initiate Strava connection";s instanceof Error?o=s.message:s&&typeof s=="object"&&"message"in s&&(o=String(s.message));const l=o.toLowerCase();(l.includes("column")&&l.includes("does not exist")||l.includes("programmingerror")||l.includes("database")||l.includes("migration"))&&(o="The server is being updated. Please try again in a few moments."),Le({title:"Strava Connection Failed",description:o,variant:"destructive"})}};return a.jsxs("div",{className:"ml-12 mt-4 space-y-3",children:[a.jsx(et,{className:"border-accent/30 bg-accent/5",children:a.jsx($e,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-lg bg-[#FC4C02]/10 flex items-center justify-center shrink-0",children:a.jsx(lo,{className:"h-6 w-6 text-[#FC4C02]"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-1",children:"Connect Strava"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Review your training history for accurate, personalized coaching"}),a.jsx(Se,{onClick:i,disabled:n,className:"bg-[#FC4C02] hover:bg-[#FC4C02]/90",children:n?"Connecting...":a.jsxs(a.Fragment,{children:[a.jsx(h0,{className:"h-4 w-4 mr-2"}),"Connect Strava"]})})]})]})})}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Se,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground",children:"Skip for now"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"or"}),a.jsxs(Se,{variant:"ghost",size:"sm",className:"text-muted-foreground",children:[a.jsx(Qm,{className:"h-3.5 w-3.5 mr-1.5"}),"Upload files instead"]})]})]})}function DFe({data:e,onContinue:t}){const n=e.sports.map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(", ");return a.jsx("div",{className:"ml-12 mt-4",children:a.jsx(et,{className:"border-accent/30",children:a.jsxs($e,{className:"p-5",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(uc,{className:"h-5 w-5 text-accent"}),a.jsx("span",{className:"text-sm font-semibold text-accent",children:"Your Profile Summary"})]}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Sports"}),a.jsx("span",{className:"text-foreground font-medium",children:n})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Weekly availability"}),a.jsxs("span",{className:"text-foreground font-medium",children:[e.availableDays," days, ~",e.hoursPerWeek," hours"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Focus"}),a.jsx("span",{className:"text-foreground font-medium",children:e.goal||"General training"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Data source"}),a.jsx("span",{className:"text-foreground font-medium",children:e.stravaConnected?"Strava connected":"Conversation only"})]})]}),a.jsxs(Se,{onClick:t,className:"w-full mt-5",children:["Start Training",a.jsx(yW,{className:"h-4 w-4 ml-2"})]})]})})})}function LFe({onComplete:e,isComplete:t}){const{status:n}=gn(),[r,i]=j.useState("role"),[s,o]=j.useState([]),[l,c]=j.useState(!1),[u,h]=j.useState(""),[p,g]=j.useState(!1),x=j.useRef(null),[b,v]=j.useState({role:"",firstName:"",lastName:"",timezone:A9(),sports:[],consistency:"",goal:"",raceDetails:"",raceGoalTime:"",availableDays:0,hoursPerWeek:0,hasInjury:!1,injuryDetails:"",stravaConnected:!1}),w=()=>{x.current?.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{w()},[s,l]),j.useEffect(()=>{pi.isLoggedIn()&&!b.stravaConnected&&r==="strava"&&(v(X=>({...X,stravaConnected:!0})),A("Connected Strava"),setTimeout(()=>{S("Analyzing your training history..."),i("analyzing"),setTimeout(()=>{S("I'm seeing consistent aerobic work over the past 6 weeks with limited high-intensity sessions. Your volume has been steady. I'll build around that foundation.","summary"),i("summary")},2e3)},300))},[pi.isLoggedIn(),r,b.stravaConnected]),j.useEffect(()=>{s.length===0&&setTimeout(()=>{S("Welcome to AthleteSpace! How will you primarily use AthleteSpace?","role")},500)},[]);const N=X=>{v(H=>({...H,role:X})),A(X==="athlete"?"Athlete":"Coach"),setTimeout(()=>{X==="athlete"?S("Great! I'm your AI training coach. Before we begin, I want to understand you  your background, your goals, and how you train. This helps me coach you properly, not just generate workouts.",void 0,()=>{setTimeout(()=>{S("Let's start with the basics. What's your first name?","text-input"),i("name"),g(!0)},800)}):S("Coach features are coming soon! For now, you can explore the platform as an athlete.",void 0,()=>{setTimeout(()=>{S("Let's start with the basics. What's your first name?","text-input"),i("name"),g(!0)},800)})},300)},S=(X,q,H)=>{c(!0),setTimeout(()=>{o(ne=>[...ne,{id:Date.now().toString(),role:"coach",content:X,component:q}]),c(!1),H?.()},600+Math.random()*400)},A=X=>{o(q=>[...q,{id:Date.now().toString(),role:"athlete",content:X}])},T=()=>{if(!u.trim())return;const X=u.trim().split(/\s+/),q=X[0]||"",H=X.slice(1).join(" ")||"";q&&(v(ne=>({...ne,firstName:q,lastName:H})),A(u.trim()),h(""),g(!1),setTimeout(()=>{S(`Nice to meet you, ${q}. Now let's talk about your training. Which sport or sports are you training for right now?`,"sports"),i("sports")},300))},C=X=>{v(H=>({...H,sports:X}));const q=X.map(H=>H.charAt(0).toUpperCase()+H.slice(1)).join(" and ");A(q),setTimeout(()=>{S(`${q}  good. Understanding where you've been helps me plan where you're going.`,void 0,()=>{setTimeout(()=>{S("How would you describe your recent training consistency?","consistency"),i("consistency")},600)})},300)},E=X=>{const H={starting:"Just getting started",occasional:"Training occasionally",consistent:"Training consistently",structured:"Structured / competitive"}[X]||X;v(ne=>({...ne,consistency:H})),A(H),setTimeout(()=>{S(X==="starting"?"Starting fresh gives us a clean slate to build on.":X==="occasional"?"Occasional training means we'll focus on building consistency first.":X==="consistent"?"Consistent training is a great foundation. We can build intensity gradually.":"Structured training means you're ready for focused, progressive work.",void 0,()=>{setTimeout(()=>{S("Goals shape everything  the structure, the intensity, the timeline. What are you primarily training for right now?","goals"),i("goals")},600)})},300)},O=X=>{const H={race:"A specific race or event",performance:"Improving performance",returning:"Returning after a break",maintaining:"Maintaining fitness"}[X]||X;v(ne=>({...ne,goal:H})),A(H),setTimeout(()=>{X==="race"?(S("Do you have a target event or date in mind? If so, tell me about it, including your goals.","text-input"),i("race-details"),g(!0)):I(H)},300)},I=X=>{const q=X?.includes("Returning")?"Coming back takes patience. We'll build carefully.":X?.includes("Maintaining")?"Maintenance is underrated. We'll keep you sharp without overreaching.":"Performance gains come from consistency and smart load management.";S(q,void 0,()=>{setTimeout(()=>{S("Let's talk about time. On a typical week, how many days can you realistically train?","availability"),i("availability")},600)})},F=()=>{if(!u.trim())return;const X=u.trim(),q=[/(\d{1,2}:\d{2}(?::\d{2})?)\s*(?:goal\s*time|target|goal)/i,/(?:goal\s*time|target|goal)[\s:]+(\d{1,2}:\d{2}(?::\d{2})?)/i,/(?:targeting|aiming for|goal of)[\s:]+(\d{1,2}:\d{2}(?::\d{2})?)/i,/(sub-)?(\d{1,2}:\d{2}(?::\d{2})?)/i];let H="";for(const ne of q){const se=X.match(ne);if(se){H=se[1]||se[2]||"",se[0].includes("sub-")&&(H=`sub-${H}`);break}}v(ne=>({...ne,raceDetails:X,raceGoalTime:H})),A(X),h(""),g(!1),setTimeout(()=>{const ne=H?`Noted. I'll structure your training to peak at the right time and help you hit that ${H} target.`:"Noted. I'll structure your training to peak at the right time.";S(ne,void 0,()=>{setTimeout(()=>{S("On a typical week, how many days can you realistically train?","availability"),i("availability")},600)})},300)},W=X=>{v(q=>({...q,availableDays:X})),A(`${X} days per week`),setTimeout(()=>{S(`${X} days gives us good structure to work with. Roughly how many hours per week feels realistic?`,"hours"),i("hours")},300)},$=X=>{v(q=>({...q,hoursPerWeek:X})),A(`About ${X} hours`),setTimeout(()=>{S("Last question before we connect your data. Any injuries or physical limitations I should know about?","injuries"),i("injuries")},300)},z=X=>{v(q=>({...q,hasInjury:X})),A(X?"Yes":"No"),X?setTimeout(()=>{S("Tell me what I should account for  even if it feels minor.","text-input"),i("injury-details"),g(!0)},300):U()},V=()=>{const X=u.trim();v(q=>({...q,injuryDetails:X})),A(X||"No specific details"),h(""),g(!1),setTimeout(()=>{X?S("I'll factor that into your training. We'll work around it intelligently.",void 0,()=>U()):S("Got it. I'll take a conservative approach with your training.",void 0,()=>U())},300)},U=()=>{setTimeout(()=>{S("If you connect Strava, I can review your recent training history and coach you much more accurately. This is optional, but strongly recommended.","strava"),i("strava")},600)},te=()=>{v(X=>({...X,stravaConnected:!0})),A("Connected Strava"),setTimeout(()=>{S("Analyzing your training history..."),i("analyzing"),setTimeout(()=>{S("I'm seeing consistent aerobic work over the past 6 weeks with limited high-intensity sessions. Your volume has been steady. I'll build around that foundation.","summary"),i("summary")},2e3)},300)},Q=()=>{A("Skip for now"),setTimeout(()=>{S("No problem. I'll work with what you've told me and take a conservative approach until I learn more from your training.","summary"),i("summary")},300)},J=async()=>{if(A("Ready to start"),n!=="authenticated"){S("You need to be logged in to complete onboarding. Please log in first."),Le({title:"Authentication Required",description:"Please log in to complete onboarding.",variant:"destructive"});return}let X;if(b.raceDetails){const ne=b.raceDetails.match(/\d{4}-\d{2}-\d{2}|\d{1,2}\/\d{1,2}\/\d{4}|\d{1,2}-\d{1,2}-\d{4}/);X={name:b.raceDetails.split(/[,\n]/)[0].trim()||"Target Event",date:ne?ne[0]:""}}const q={id:"local",name:"",sports:b.sports,trainingAge:1,weeklyAvailability:{daysPerWeek:b.availableDays,hoursPerWeek:b.hoursPerWeek},goals:b.goal?[b.goal]:[],targetEvent:X,stravaConnected:b.stravaConnected,onboardingComplete:!1};eJ(q);const H={consistency:b.consistency,raceDetails:b.raceDetails,injuryDetails:b.injuryDetails,collectedAt:new Date().toISOString()};tJ(H);try{let ne="run";if(b.sports.includes("triathlon"))ne="tri";else if(b.sports.includes("cycling"))ne="bike";else if(b.sports.includes("running"))ne="run";else if(b.sports.length>0){const he=b.sports[0];he==="cycling"?ne="bike":he==="triathlon"?ne="tri":ne="run"}let se="general";if(b.goal){const he=b.goal.toLowerCase();he.includes("race")||he.includes("event")||he.includes("marathon")||he.includes("competition")?se="completion":(he.includes("performance")||he.includes("improve")||he.includes("faster")||he.includes("better"))&&(se="performance")}let de="beginner";if(b.consistency){const he=b.consistency.toLowerCase();he.includes("structured")||he.includes("competitive")?de="competitive":he.includes("consistent")&&(de="structured")}let me="none";if(b.hasInjury&&(b.injuryDetails&&(b.injuryDetails.toLowerCase().includes("managing")||b.injuryDetails.toLowerCase().includes("recovering"))?me="managing":me="injured"),!b.role||b.role!=="athlete"&&b.role!=="coach")throw new Error("Role must be selected before completing onboarding");const fe={role:b.role,first_name:b.firstName||"User",last_name:b.lastName||null,timezone:b.timezone,primary_sport:ne,goal_type:se,experience_level:de,availability_days_per_week:b.availableDays,availability_hours_per_week:b.hoursPerWeek,injury_status:me,injury_notes:b.hasInjury&&b.injuryDetails?b.injuryDetails:null,generate_initial_plan:b.stravaConnected},_e=await zce(fe);if(_e.status==="ok"){J3e({weekly_intent:_e.weekly_intent,season_plan:_e.season_plan,provisional:_e.provisional,warning:_e.warning,savedAt:new Date().toISOString()}),_e.season_plan&&eFe(_e.season_plan),_e.weekly_intent||_e.season_plan?_e.provisional?(S("That's everything I need. I've created your initial training plan. Note: This plan is provisional and will improve as I learn more from your training data."),Le({title:"Provisional Plan Created",description:"Your plan is provisional. More training data will improve recommendations.",variant:"default"})):(S("That's everything I need. I've created your initial training plan. Let's get to work!"),Le({title:"Training Plan Created",description:"Your personalized training plan is ready!"})):b.stravaConnected?S("That's everything I need. I'll put together your first week once I have more training data. Let's get started!"):S("That's everything I need. Connect Strava to get personalized training plans. For now, let's get started!"),_e.warning&&(console.warn("Onboarding warning:",_e.warning),Le({title:"Onboarding Warning",description:_e.warning==="plan_generation_failed"?"Onboarding completed, but plan generation failed. Plans will be available once you have more training data.":_e.warning,variant:"default"}));const he={sports:b.sports,consistency:b.consistency,goal:b.goal,raceDetails:b.raceDetails,raceGoalTime:b.raceGoalTime,availableDays:b.availableDays,hoursPerWeek:b.hoursPerWeek,hasInjury:b.hasInjury,injuryDetails:b.injuryDetails,stravaConnected:b.stravaConnected,targetEvent:X};i("complete"),setTimeout(async()=>{try{await e(he)}catch(be){console.error("[OnboardingChat] Error in onComplete callback:",be),Le({title:"Error",description:"Failed to complete onboarding. Please try refreshing the page.",variant:"destructive"})}},1e3)}else throw new Error("Backend returned non-ok status")}catch(ne){console.error("Failed to save onboarding data:",ne);let se="Failed to complete onboarding. Please try again.";if(ne&&typeof ne=="object"){const de=ne;de.response?.data?.detail?se=de.response.data.detail:de.message?se=de.message:de.status===400?se="Invalid onboarding data. Please check your inputs.":de.status===401?se="Authentication required. Please log in again.":de.status===422?se="Validation error. Please check your inputs.":de.status===500&&(se="Server error. Please try again later.")}S(`I encountered an error while saving your data: ${se}. Please check your inputs and try again.`),Le({title:"Onboarding Error",description:se,variant:"destructive"})}},ee=(()=>{const q=["sports","consistency","goals","availability","injuries","strava"].indexOf(r);return q===-1?null:{current:q+1,total:6}})();return a.jsxs("div",{className:"flex-1 flex flex-col p-4 md:p-6",children:[ee&&!t&&a.jsx("div",{className:"text-center mb-6",children:a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Step ",ee.current," of ",ee.total]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4",children:[s.map(X=>a.jsxs("div",{className:"animate-fade-up",children:[a.jsx(FFe,{message:X}),X.component==="role"&&r==="role"&&a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx(Se,{onClick:()=>N("athlete"),className:"w-full h-auto p-6 flex flex-col items-start gap-2 bg-card hover:bg-accent border-2 border-border hover:border-primary transition-colors",variant:"outline",children:a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("div",{className:"font-semibold text-lg",children:"Athlete"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"I train and track my own performance"})]})]})}),a.jsx(Se,{onClick:()=>N("coach"),className:"w-full h-auto p-6 flex flex-col items-start gap-2 bg-card hover:bg-accent border-2 border-border hover:border-primary transition-colors",variant:"outline",children:a.jsxs("div",{className:"flex items-center gap-3 w-full",children:[a.jsx("span",{className:"text-2xl",children:""}),a.jsxs("div",{className:"flex-1 text-left",children:[a.jsx("div",{className:"font-semibold text-lg",children:"Coach"}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"I coach or manage athletes"})]})]})})]}),X.component==="sports"&&r==="sports"&&a.jsx(wf,{options:[{id:"running",label:"Running"},{id:"cycling",label:"Cycling"},{id:"swimming",label:"Swimming"},{id:"triathlon",label:"Triathlon"}],multiSelect:!0,onSelect:q=>C(q)}),X.component==="consistency"&&r==="consistency"&&a.jsx(wf,{options:[{id:"starting",label:"Just getting started"},{id:"occasional",label:"Training occasionally"},{id:"consistent",label:"Training consistently"},{id:"structured",label:"Structured / competitive"}],onSelect:q=>E(q[0])}),X.component==="goals"&&r==="goals"&&a.jsx(wf,{options:[{id:"race",label:"A specific race or event"},{id:"performance",label:"Improving performance"},{id:"returning",label:"Returning after a break"},{id:"maintaining",label:"Maintaining fitness"}],onSelect:q=>O(q[0])}),X.component==="availability"&&r==="availability"&&a.jsx(wf,{options:[3,4,5,6,7].map(q=>({id:String(q),label:`${q} days`})),onSelect:q=>W(Number(q[0]))}),X.component==="hours"&&r==="hours"&&a.jsx(wf,{options:[5,8,10,12,15,20].map(q=>({id:String(q),label:`${q} hours`})),onSelect:q=>$(Number(q[0]))}),X.component==="injuries"&&r==="injuries"&&a.jsx(wf,{options:[{id:"yes",label:"Yes"},{id:"no",label:"No"}],onSelect:q=>z(q[0]==="yes")}),X.component==="strava"&&r==="strava"&&a.jsx(IFe,{onConnect:te,onSkip:Q}),X.component==="summary"&&r==="summary"&&a.jsx(DFe,{data:b,onContinue:J})]},X.id)),l&&a.jsxs("div",{className:"flex gap-3 animate-fade-up",children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-coach text-coach-foreground flex items-center justify-center shrink-0",children:a.jsx(Jr,{className:"h-4 w-4"})}),a.jsx("div",{className:"bg-muted/50 rounded-2xl rounded-tl-sm px-4 py-3",children:a.jsx(st,{className:"h-4 w-4 animate-spin text-muted-foreground"})})]}),t&&a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 animate-fade-up",children:[a.jsx(Ar,{className:"h-12 w-12 text-load-fresh mb-3"}),a.jsx("p",{className:"text-foreground font-medium",children:"Setting up your training..."})]}),a.jsx("div",{ref:x})]}),p&&!t&&a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-border",children:[a.jsx(ft,{value:u,onChange:X=>h(X.target.value),onKeyDown:X=>{X.key==="Enter"&&(r==="name"&&T(),r==="race-details"&&F(),r==="injury-details"&&V())},placeholder:"Type your response...",className:"flex-1"}),a.jsx(Se,{onClick:()=>{r==="name"&&T(),r==="race-details"&&F(),r==="injury-details"&&V()},disabled:(r==="name"||r==="race-details")&&!u.trim(),className:"bg-[#2F4F4F] hover:bg-[#2F4F4F]/90 text-white",children:a.jsx(dv,{className:"h-4 w-4"})})]})]})}function FFe({message:e}){const t=e.role==="coach";return a.jsxs("div",{className:re("flex gap-3",!t&&"flex-row-reverse"),children:[a.jsx("div",{className:re("w-9 h-9 rounded-full flex items-center justify-center shrink-0",t?"bg-coach text-coach-foreground":"bg-muted"),children:t?a.jsx(Jr,{className:"h-4 w-4"}):a.jsx(Uu,{className:"h-4 w-4 text-muted-foreground"})}),a.jsx("div",{className:re("max-w-[80%] rounded-2xl px-4 py-3",t?"bg-[#2F4F4F]/10 rounded-tl-sm text-foreground":"bg-accent text-accent-foreground rounded-tr-sm"),children:a.jsx("p",{className:"text-sm leading-relaxed",children:e.content})})]})}function $Fe(){const e=bi(),{user:t,loading:n,status:r,refreshUser:i}=gn(),[s,o]=j.useState(!1),l=j.useRef(!1);j.useEffect(()=>{if(!(r==="bootstrapping"||n)){if(r==="unauthenticated"||!t){console.log("[Onboarding] User not authenticated, redirecting to login"),e("/login",{replace:!0});return}r==="authenticated"&&t&&t.onboarding_complete&&!l.current&&(console.log("[Onboarding] Backend confirms onboarding complete, redirecting to dashboard"),l.current=!0,e("/dashboard",{replace:!0}))}},[t,n,r,e]);const c=async u=>{o(!0);try{console.log("[Onboarding] Onboarding completed, refreshing user state from backend",{profile:u}),await i(),l.current=!1,await new Promise(h=>setTimeout(h,300)),console.log("[Onboarding] User state refreshed, waiting for useEffect to redirect based on backend state")}catch(h){console.error("[Onboarding] Failed to refresh user state:",h),Le({title:"Error",description:"Failed to refresh user state. Please refresh the page to verify onboarding completion.",variant:"destructive"})}finally{o(!1)}};return a.jsxs("div",{className:"min-h-[100svh] bg-background flex flex-col",children:[a.jsx("header",{className:"h-14 border-b border-border flex items-center px-6",children:a.jsx("span",{className:"font-semibold text-foreground",children:"AI Training Coach"})}),a.jsx("main",{className:"flex-1 flex flex-col max-w-2xl mx-auto w-full",children:a.jsx(LFe,{onComplete:c,isComplete:s})})]})}function BFe(){const e=bi(),{refreshUser:t}=gn(),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(!1),[c,u]=j.useState(""),[h,p]=j.useState(!1),[g,x]=j.useState(null),[b,v]=j.useState(!1),w=async C=>{if(C.preventDefault(),x(null),!n||!i){x("Please enter both email and password");return}p(!0);try{await vue(n,i),await t(),await new Promise(E=>setTimeout(E,100)),e("/dashboard")}catch(E){const O=E;let I,F;if(O.details&&typeof O.details=="object"&&O.details!==null){const W=O.details;I=W.reason||W.error,F=W.message}O.status===404||I==="user_not_found"?x("No account found. Please sign up."):I==="invalid_auth_method"?x("This account uses Google sign-in. Please sign in with Google instead."):I==="invalid_credentials"||O.status===401?x(F||"Incorrect email or password."):x(F||O.message||"Something went wrong. Please try again.")}finally{p(!1)}},N=async()=>{if(Ii()){Le({title:"OAuth disabled in preview",description:"OAuth authentication is not available in preview mode. Use email login or preview the app directly.",variant:"default"});return}try{await Sw()}catch(C){x("Failed to connect with Strava. Please try again."),console.error("[Login] Strava connection error:",C)}},S=async()=>{if(Ii()){Le({title:"OAuth disabled in preview",description:"OAuth authentication is not available in preview mode. Use email login or preview the app directly.",variant:"default"});return}try{await xue()}catch(C){x("Failed to connect with Google. Please try again."),console.error("[Login] Google connection error:",C)}},A=Ii(),T=async C=>{if(C.preventDefault(),!c){Le({title:"Email required",description:"Please enter your email address",variant:"destructive"});return}p(!0),Le({title:"Coming soon",description:"Password reset via email will be available soon."}),p(!1),v(!1)};return a.jsxs("div",{className:"min-h-[100svh] bg-gradient-to-br from-background via-background to-primary/3 flex flex-col",children:[a.jsxs("header",{className:"px-4 pb-4 pt-4 flex items-center justify-between",style:{paddingTop:"calc(1rem + env(safe-area-inset-top, 20px))",minHeight:"calc(3.5rem + env(safe-area-inset-top, 20px))"},children:[a.jsx("div",{className:"flex items-center",children:a.jsx(mg,{className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsx(Nn,{to:"/about",children:a.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",children:[a.jsx(Wf,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"About"})]})}),a.jsx(Nn,{to:"/faq",children:a.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",children:[a.jsx(Wu,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"FAQ"})]})}),a.jsx(Nn,{to:"/privacy",children:a.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",children:[a.jsx(ul,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Privacy"})]})}),a.jsx(Nn,{to:"/terms",children:a.jsxs(Se,{variant:"ghost",size:"sm",className:"text-xs sm:text-sm",children:[a.jsx(sw,{className:"h-4 w-4 sm:mr-1"}),a.jsx("span",{className:"hidden sm:inline",children:"Terms"})]})})]})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-[clamp(1.5rem,4vw,1.875rem)] font-bold text-primary",children:"Welcome"}),a.jsx("p",{className:"text-muted-foreground",children:"Sign in to continue your training journey"})]}),a.jsx(et,{className:"border-border/50 shadow-lg",children:a.jsxs($e,{className:"space-y-4 pt-6",children:[a.jsxs(Se,{className:"w-full",size:"lg",onClick:N,disabled:h||A,title:A?"OAuth disabled in preview mode":void 0,children:[a.jsx(lo,{className:"h-4 w-4 mr-2 text-[#FC4C02]"}),"Continue with Strava (recommended)"]}),a.jsxs(Se,{className:"w-full",variant:"outline",size:"lg",onClick:S,disabled:h||A,title:A?"OAuth disabled in preview mode":void 0,children:[a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or sign in with email"})})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[g&&a.jsxs(uo,{variant:"destructive",children:[a.jsx(Fa,{className:"h-4 w-4"}),a.jsx(fo,{children:g})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"signin-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"signin-email",type:"email",placeholder:"you@example.com",value:n,onChange:C=>{r(C.target.value),x(null)},className:"pl-10",disabled:h})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Fe,{htmlFor:"signin-password",children:"Password"}),a.jsx("button",{type:"button",onClick:()=>v(!0),className:"text-xs text-accent hover:underline disabled:opacity-50",disabled:h,children:"Forgot password?"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"signin-password",type:o?"text":"password",placeholder:"",value:i,onChange:C=>{s(C.target.value),x(null)},className:"pl-10 pr-10",disabled:h}),a.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",tabIndex:-1,children:o?a.jsx(Pu,{className:"h-4 w-4"}):a.jsx(Au,{className:"h-4 w-4"})})]})]}),a.jsx(Se,{type:"submit",className:"w-full",disabled:h,children:h?"Signing in...":"Sign In"})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",a.jsx(Nn,{to:"/signup",className:"text-accent hover:underline font-medium",children:"Sign up"})]})]})}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Need help?"," ",a.jsx(Nn,{to:"/faq",className:"text-accent hover:underline",children:"Check our FAQ"})]})]})}),a.jsxs("footer",{className:"p-4 text-center text-xs text-muted-foreground",children:[" ",new Date().getFullYear()," AthleteSpace. All rights reserved."]}),a.jsx(vd,{open:b,onOpenChange:v,children:a.jsxs(Fc,{className:"sm:max-w-md",children:[a.jsxs(yd,{children:[a.jsx($c,{children:"Reset your password"}),a.jsx(xd,{children:"Enter your email address and we'll send you a link to reset your password."})]}),a.jsxs("form",{onSubmit:T,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"reset-email",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"reset-email",type:"email",placeholder:"you@example.com",value:c,onChange:C=>u(C.target.value),className:"pl-10"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(Se,{type:"button",variant:"outline",className:"flex-1",onClick:()=>v(!1),children:[a.jsx(vW,{className:"h-4 w-4 mr-1"}),"Back"]}),a.jsx(Se,{type:"submit",className:"flex-1",disabled:h,children:h?"Sending...":"Send reset link"})]})]})]})})]})}function zFe(){const e=bi(),{refreshUser:t}=gn(),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState(!1),[h,p]=j.useState(!1),[g,x]=j.useState(!1),[b,v]=j.useState(null),w=async()=>{if(Ii()){Le({title:"OAuth disabled in preview",description:"OAuth authentication is not available in preview mode.",variant:"default"});return}try{await Sw()}catch(T){v("Failed to connect with Strava. Please try again."),console.error("[Signup] Strava connection error:",T)}},N=async()=>{if(Ii()){Le({title:"OAuth disabled in preview",description:"OAuth authentication is not available in preview mode.",variant:"default"});return}try{await $ce()}catch(T){v("Failed to connect with Google. Please try again."),console.error("[Signup] Google connection error:",T)}},S=Ii(),A=async T=>{if(T.preventDefault(),v(null),!n||!i||!o){v("Please fill in all fields");return}if(i!==o){v("Passwords do not match.");return}if(i.length<8){v("Password must be at least 8 characters long.");return}x(!0);try{await yue(n,i),console.log("[SIGNUP] Token stored, refreshing user state..."),await t(),console.log("[SIGNUP] User state refreshed, navigating to onboarding"),e("/onboarding",{replace:!0})}catch(C){const E=C;E.status===409?v("An account with this email already exists."):E.status===400?v(E.message||"Invalid email or password. Please check your input."):v(E.message||"Could not create account. Please try again.")}finally{x(!1)}};return a.jsxs("div",{className:"min-h-[100svh] bg-gradient-to-br from-background via-background to-accent/5 flex flex-col",children:[a.jsxs("header",{className:"p-4 flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center",children:a.jsx(mg,{className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nn,{to:"/faq",children:a.jsxs(Se,{variant:"ghost",size:"sm",children:[a.jsx(Wu,{className:"h-4 w-4 mr-1"}),"FAQ"]})}),a.jsx(Nn,{to:"/privacy",children:a.jsxs(Se,{variant:"ghost",size:"sm",children:[a.jsx(ul,{className:"h-4 w-4 mr-1"}),"Privacy"]})})]})]}),a.jsx("main",{className:"flex-1 flex items-center justify-center p-4",children:a.jsxs("div",{className:"w-full max-w-md space-y-6",children:[a.jsxs("div",{className:"text-center space-y-2",children:[a.jsx("h1",{className:"text-[clamp(1.5rem,4vw,1.875rem)] font-bold text-primary",children:"Create Account"}),a.jsx("p",{className:"text-muted-foreground",children:"Start your personalized training journey"})]}),a.jsx(et,{className:"border-border/50 shadow-lg",children:a.jsxs($e,{className:"space-y-4 pt-6",children:[a.jsxs(Se,{className:"w-full",size:"lg",onClick:w,disabled:g||S,title:S?"OAuth disabled in preview mode":void 0,children:[a.jsx(lo,{className:"h-4 w-4 mr-2 text-[#FC4C02]"}),"Continue with Strava (recommended)"]}),a.jsxs(Se,{className:"w-full",variant:"outline",size:"lg",onClick:N,disabled:g||S,title:S?"OAuth disabled in preview mode":void 0,children:[a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or sign up with email"})})]}),a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[b&&a.jsxs(uo,{variant:"destructive",children:[a.jsx(Fa,{className:"h-4 w-4"}),a.jsx(fo,{children:b})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Fe,{htmlFor:"signup-email",children:["Email ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Iu,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"signup-email",type:"email",placeholder:"you@example.com",value:n,onChange:T=>{r(T.target.value),v(null)},className:"pl-10",disabled:g,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Fe,{htmlFor:"signup-password",children:["Password ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"signup-password",type:c?"text":"password",placeholder:"",value:i,onChange:T=>{s(T.target.value),v(null)},className:"pl-10 pr-10",disabled:g,required:!0,minLength:8}),a.jsx("button",{type:"button",onClick:()=>u(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",tabIndex:-1,children:c?a.jsx(Pu,{className:"h-4 w-4"}):a.jsx(Au,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Fe,{htmlFor:"signup-confirm-password",children:["Confirm Password ",a.jsx("span",{className:"text-destructive",children:"*"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(ft,{id:"signup-confirm-password",type:h?"text":"password",placeholder:"",value:o,onChange:T=>{l(T.target.value),v(null)},className:"pl-10 pr-10",disabled:g,required:!0,minLength:8}),a.jsx("button",{type:"button",onClick:()=>p(!h),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",tabIndex:-1,children:h?a.jsx(Pu,{className:"h-4 w-4"}):a.jsx(Au,{className:"h-4 w-4"})})]})]}),a.jsx(Se,{type:"submit",className:"w-full",disabled:g,children:g?"Creating account...":"Sign Up"})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(Nn,{to:"/login",className:"text-accent hover:underline font-medium",children:"Sign in"})]}),a.jsxs("p",{className:"text-xs text-center text-muted-foreground",children:["By continuing, you agree to our"," ",a.jsx(Nn,{to:"/privacy",className:"text-accent hover:underline",children:"Privacy Policy"})]})]})}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Need help?"," ",a.jsx(Nn,{to:"/faq",className:"text-accent hover:underline",children:"Check our FAQ"})]})]})}),a.jsxs("footer",{className:"p-4 text-center text-xs text-muted-foreground",children:[" ",new Date().getFullYear()," AthleteSpace. All rights reserved."]})]})}function lp({children:e}){const t=go();return a.jsxs("div",{className:"min-h-[100svh] bg-background",children:[a.jsx("header",{className:"border-b border-border bg-card",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx(Nn,{to:"/",className:"flex items-center",children:a.jsx(mg,{className:"text-xl"})}),a.jsxs("nav",{className:"flex items-center gap-1 sm:gap-2",children:[a.jsxs(Nn,{to:"/about",className:re("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",t.pathname==="/about"?"text-primary bg-primary/5":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[a.jsx(Wf,{className:re("h-4 w-4",t.pathname==="/about"&&"text-primary")}),a.jsx("span",{className:"hidden sm:inline",children:"About"})]}),a.jsxs(Nn,{to:"/science",className:re("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",t.pathname==="/science"?"text-primary bg-primary/5":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[a.jsx(Jr,{className:re("h-4 w-4",t.pathname==="/science"&&"text-primary")}),a.jsx("span",{className:"hidden sm:inline",children:"Science & AI"})]}),a.jsxs(Nn,{to:"/privacy",className:re("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",t.pathname==="/privacy"?"text-primary bg-primary/5":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[a.jsx(ul,{className:re("h-4 w-4",t.pathname==="/privacy"&&"text-primary")}),a.jsx("span",{className:"hidden sm:inline",children:"Privacy"})]}),a.jsxs(Nn,{to:"/faq",className:re("flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors",t.pathname==="/faq"?"text-primary bg-primary/5":"text-muted-foreground hover:text-foreground hover:bg-muted/50"),children:[a.jsx(Wu,{className:re("h-4 w-4",t.pathname==="/faq"&&"text-primary")}),a.jsx("span",{className:"hidden sm:inline",children:"FAQ"})]})]})]})})}),a.jsx("main",{className:"min-h-[calc(100vh-4rem)]",children:e})]})}function WFe(){return a.jsx(lp,{children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Privacy Policy"}),a.jsx("p",{className:"text-muted-foreground mt-2",children:"AthleteSpace (Pre-Launch)"})]}),a.jsxs(et,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Privacy Policy  AthleteSpace (Pre-Launch)"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Last updated: January 2026"})]}),a.jsx($e,{className:"space-y-8",children:a.jsxs("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:[a.jsx("section",{className:"mb-6",children:a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'AthleteSpace ("we", "our", "us") is a pre-launch fitness and performance application designed to provide training insights to endurance athletes. We respect your privacy and are committed to protecting your personal data.'})}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"1. Data We Collect"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-3",children:"With your explicit consent, Athlete Space may collect fitness and wellness data from connected third-party services, including but not limited to:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[a.jsx("li",{children:"Activity data (e.g., workouts, duration, distance)"}),a.jsx("li",{children:"Heart rate and related metrics"}),a.jsx("li",{children:"Sleep and recovery data"}),a.jsx("li",{children:"Training load and wellness indicators"})]})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"2. How We Use Your Data"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-3",children:"We use collected data solely to:"}),a.jsxs("ul",{className:"list-disc list-inside text-muted-foreground space-y-2 ml-4",children:[a.jsx("li",{children:"Provide personalized training insights and performance analysis"}),a.jsx("li",{children:"Generate recovery and fatigue trends"}),a.jsx("li",{children:"Improve the functionality and accuracy of the application"})]}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mt-3",children:"Athlete Space does not provide medical diagnosis or treatment."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"3. Data Sharing"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed mb-3",children:"We do not sell, rent, or share individual user data with advertisers or third parties."}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Aggregated and anonymized data may be used internally for product improvement and analytics."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"4. Data Security"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"We implement reasonable technical and organizational safeguards to protect your data, including encrypted storage and secure communication protocols."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"5. User Control & Consent"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"You control which services you connect and may revoke access at any time. Upon request, we will delete your personal data in accordance with applicable laws."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"6. Third-Party Services"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Athlete Space integrates with third-party fitness platforms only with user authorization and in accordance with their respective privacy policies."})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"7. Contact"}),a.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"This policy may be updated as the product evolves. Changes will be reflected on this page."})]})]})})]})]})})}const qFe=[{question:"Where can I learn more about the science and AI behind Athlete Space?",answer:a.jsxs(a.Fragment,{children:["Learn more about our scientific foundations and AI methodology on our"," ",a.jsx(Nn,{to:"/science",className:"text-accent underline hover:text-accent/80",children:"Science & AI page"}),"."]})},{question:"What is Athlete Space?",answer:"Athlete Space is an AI-powered performance intelligence platform for endurance athletes. We combine proven exercise science with modern AI to help you understand your training load, recovery, and readiness, and to support better day-to-day training decisions."},{question:"Is Athlete Space really AI-driven, or just a calculator?",answer:"Athlete Space uses validated sports science models as its foundation, and applies AI on top of them. The science defines how training stress and adaptation work, while AI personalizes those models to you, selects the best signals based on available data, and adapts as your fitness changes."},{question:"What science is Athlete Space based on?",answer:"Athlete Space is built on widely accepted endurance training models used by elite coaches and Olympic programs, including Training Stress Score (TSS), the Performance Manager model (CTL, ATL, Form), Banister TRIMP (heart-rate impulse), and session-based perceived exertion models. These approaches are supported by decades of peer-reviewed research."},{question:"Who builds and validates Athlete Space?",answer:"Athlete Space is designed and continuously reviewed by Ph.D.-level researchers in physiology, AI, and applied data science. Our goal is not to invent new physiology, but to correctly apply and personalize the best existing science using modern machine learning."},{question:"How does Athlete Space measure training stress?",answer:"We calculate training stress using the best available data for each session. When power or pace data is available, we use intensity relative to your personal threshold. When it is not, we fall back to heart-rate physiology models or perceived effort. AI ensures everything is converted into a single, consistent training load scale."},{question:"What are TSS, CTL, ATL, and Form?",answer:"TSS (Training Stress Score) measures how demanding a single workout was. CTL (Chronic Training Load) represents long-term fitness built over weeks. ATL (Acute Training Load) reflects short-term fatigue from recent days. Form (also called Training Stress Balance) is the difference between fitness and fatigue and helps indicate readiness to perform."},{question:"Why not just track heart rate, pace, or mileage?",answer:"Single metrics are often misleading. Physiological stress is not linear, and the same pace or heart rate can represent very different strain depending on fatigue, heat, terrain, and fitness. Athlete Space uses non-linear, science-backed models that better reflect how the body actually responds to training."},{question:"Does Athlete Space work if my data is incomplete?",answer:"Yes. Athlete Space is designed for real-world training. If some sensors are missing or unreliable, AI automatically selects appropriate fallback models and maintains continuity in your fitness and fatigue tracking."},{question:"How does the AI coach work?",answer:"The AI coach analyzes your training load, recovery trends, and recent patterns to provide context-aware recommendations. It helps answer questions like when to push, when to back off, and when recovery matters more than intensity, using both data and established training principles."},{question:"Does Athlete Space replace a human coach?",answer:"No. Athlete Space is a decision-support tool. It helps athletes and coaches make better-informed choices, improves consistency, and highlights risk or opportunity, but it does not replace human judgment or coaching relationships."},{question:"What data does Athlete Space collect?",answer:"With your explicit consent, Athlete Space collects training and wellness data from connected platforms such as activity details, heart rate, recovery indicators, and training load metrics. We only collect data you authorize and only for performance and training insight purposes."},{question:"How is my data used?",answer:"Your data is used solely to generate personalized training insights, fitness and fatigue trends, and AI-driven recommendations. Athlete Space does not sell or share individual user data with advertisers or third parties."},{question:"Is my data secure?",answer:"Yes. We use secure communication protocols and encrypted storage to protect your data. Access is limited to systems required to provide the service youve authorized."},{question:"Does Athlete Space provide medical advice?",answer:"No. Athlete Space does not provide medical diagnosis or treatment. All insights are for training and performance purposes only. Always consult a qualified healthcare professional for medical concerns."},{question:"Is Athlete Space free to use?",answer:"Athlete Space is currently in pre-launch and private beta. We plan to offer a free tier and optional premium features in the future. Details will be shared as the product evolves."}];function UFe({item:e,isOpen:t,onToggle:n}){return a.jsxs(et,{className:"border-border",children:[a.jsx(Ye,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:n,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-base font-medium text-foreground pr-8",children:e.question}),t?a.jsx(iw,{className:"h-5 w-5 text-muted-foreground shrink-0"}):a.jsx(cv,{className:"h-5 w-5 text-muted-foreground shrink-0"})]})}),t&&a.jsx($e,{children:a.jsx("div",{className:"text-muted-foreground leading-relaxed",children:typeof e.answer=="string"?a.jsx("p",{children:e.answer}):e.answer})})]})}function VFe(){const[e,t]=j.useState(new Set),n=r=>{const i=new Set(e);i.has(r)?i.delete(r):i.add(r),t(i)};return a.jsx(lp,{children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"mb-8 text-center",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:a.jsx(Wu,{className:"h-8 w-8 text-primary"})}),a.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Frequently Asked Questions"}),a.jsx("p",{className:"text-muted-foreground",children:"Find answers to common questions about Athlete Space"})]}),a.jsx("div",{className:"space-y-4",children:qFe.map((r,i)=>a.jsx(UFe,{item:r,isOpen:e.has(i),onToggle:()=>n(i)},i))}),a.jsx(et,{className:"mt-8 border-accent/20 bg-accent/5",children:a.jsx($e,{className:"pt-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Still have questions?"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Can't find the answer you're looking for? Please contact us through the Settings page if you're logged in, or reach out to our support team."})]})})})]})})}function HFe(){return a.jsx(lp,{children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:a.jsx(Jr,{className:"h-8 w-8 text-primary"})}),a.jsx("h1",{className:"text-3xl font-bold text-primary mb-3",children:"Science & AI Methodology"}),a.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Athlete Space combines proven endurance science with modern AI to deliver personalized, responsible, and explainable training intelligence."})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2 text-primary",children:[a.jsx(lo,{className:"h-5 w-5"}),"Science First, Always"]})}),a.jsxs($e,{className:"text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:"Athlete Space does not invent new physiology. We implement well-established, peer-reviewed endurance training models that have been used for decades by Olympic programs, professional teams, and elite coaches."}),a.jsx("p",{className:"mt-3",children:"Our core framework is built on Training Stress Score (TSS), Chronic and Acute Training Load (CTL & ATL), and Training Stress Balance (Form), alongside validated heart-rate and perceived exertion models."})]})]}),a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2 text-primary",children:[a.jsx(Tte,{className:"h-5 w-5"}),"What the AI Actually Does"]})}),a.jsxs($e,{className:"text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:"AI in Athlete Space is used to apply science correctly and consistently, not to replace it."}),a.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-2",children:[a.jsx("li",{children:"Select the most appropriate stress model based on available data"}),a.jsx("li",{children:"Personalize training load calculations to each athlete"}),a.jsx("li",{children:"Adapt thresholds as fitness changes"}),a.jsx("li",{children:"Detect mismatches between external load and physiological strain"}),a.jsx("li",{children:"Translate complex metrics into clear, actionable guidance"})]})]})]}),a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2 text-primary",children:[a.jsx(Qte,{className:"h-5 w-5"}),"Research-Led and Responsible"]})}),a.jsxs($e,{className:"text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:"Athlete Space is designed and continuously reviewed by Ph.D.-level researchers in physiology, artificial intelligence, and applied data science."}),a.jsx("p",{className:"mt-3",children:"We prioritize explainability, athlete safety, and scientific validity. Athlete Space does not provide medical diagnosis or treatment and does not replace professional coaching or medical advice."})]})]}),a.jsx(et,{className:"bg-primary/5 border-primary/20",children:a.jsxs($e,{className:"pt-6 text-center",children:[a.jsx("p",{className:"font-medium text-primary",children:"Bottom line"}),a.jsx("p",{className:"text-muted-foreground mt-2 max-w-2xl mx-auto",children:"Athlete Space is not AI guessing. It is AI applying validated endurance sciencepersonalized to you, continuously, and responsibly."})]})})]})]})})}const KFe=[{icon:Jr,title:"Science before speculation",description:"Every recommendation is grounded in validated exercise science and peer-reviewed research."},{icon:ul,title:"AI as decision support",description:"Technology augments human judgmentit never replaces the athlete or coach."},{icon:ow,title:"Long-term development",description:"We prioritize sustainable progress and athlete health over short-term performance gains."},{icon:PW,title:"Transparency & safety",description:"All insights are explainable, and athlete wellbeing is always the priority."}];function GFe(){return a.jsx(lp,{children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-12 sm:py-16",children:[a.jsxs("header",{className:"mb-12",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-1 h-8 bg-primary rounded-full"}),a.jsx("h1",{className:"text-3xl sm:text-4xl font-semibold tracking-tight text-foreground",children:"About AthleteSpace"})]}),a.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed pl-4",children:"Helping endurance athletes train smarter, recover better, and make decisions grounded in science rather than hype."})]}),a.jsx(hs,{className:"mb-12"}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Our Mission"}),a.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:"Endurance training is complex. Athletes must balance fitness, fatigue, recovery, and long-term healthoften with incomplete or noisy data."}),a.jsx("p",{children:"AthleteSpace was created to bring clarity to that process by combining validated exercise science with modern AI, delivering training intelligence that is explainable, personalized, and responsible."})]})]}),a.jsx(hs,{className:"mb-12"}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-4",children:"Who Builds AthleteSpace"}),a.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[a.jsx("p",{children:"Athlete Space is built by researchers and practitioners with deep backgrounds in applied artificial intelligence and endurance sport. The system is informed by advanced training in AI and machine learning, as well as multiple years of experience building and operating production AI systems within large-scale technology environments."}),a.jsx("p",{children:"Its design is further shaped by extensive firsthand experience in high-level endurance competition, including multiple Ironman finishes, an Ironman championship, a sub-9-hour Ironman performance, and sub-2:30 marathon racing."}),a.jsx("p",{className:"text-foreground font-medium",children:"This combination of scientific expertise and lived athletic experience ensures Athlete Space is grounded in rigorous research while remaining aligned with the real demands of serious endurance training."})]})]}),a.jsx(hs,{className:"mb-12"}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-xl font-semibold text-primary mb-6",children:"Our Principles"}),a.jsx("div",{className:"grid gap-6 sm:grid-cols-2",children:KFe.map(e=>a.jsx("div",{className:"p-5 rounded-lg border border-border bg-card hover:border-primary/20 transition-colors",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 p-2 rounded-md bg-primary/10",children:a.jsx(e.icon,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-foreground mb-1",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e.description})]})]})},e.title))})]}),a.jsx(hs,{className:"mb-12"}),a.jsx("section",{className:"mb-8",children:a.jsx("div",{className:"p-5 rounded-lg border border-border bg-muted/30",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex-shrink-0 p-2 rounded-md bg-background border border-border",children:a.jsx(ni,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-foreground mb-2",children:"Important Notice"}),a.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:"AthleteSpace does not provide medical diagnosis or treatment and does not replace professional coaching or healthcare advice. All insights are intended for training and performance purposes only."})]})]})})})]})})}function YFe(){return a.jsx(lp,{children:a.jsx("div",{className:"min-h-[100svh] py-16 px-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-6",children:a.jsx(sw,{className:"h-8 w-8 text-primary"})}),a.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Terms of Service"}),a.jsx("p",{className:"text-muted-foreground text-lg",children:"Last updated: January 2026"})]}),a.jsxs("div",{className:"space-y-10 text-foreground/90",children:[a.jsxs("section",{className:"space-y-4",children:[a.jsx("p",{className:"leading-relaxed",children:"Welcome to Athlete Space. By accessing or using our platform, you agree to be bound by these Terms of Service. Please read them carefully before using the service."}),a.jsx("p",{className:"leading-relaxed",children:"Athlete Space is an AI-powered endurance training platform designed to help athletes train smarter through data-driven insights and personalized guidance."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Jr,{className:"h-5 w-5 text-primary"})}),a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"Service Description"})]}),a.jsx("p",{className:"leading-relaxed",children:"Athlete Space provides training and performance insights for endurance athletes. Our platform analyzes training data, offers workout suggestions, and delivers AI-generated recommendations to support your athletic development."}),a.jsx("p",{className:"leading-relaxed",children:"The service is intended as a tool to assist athletes in making informed training decisions. All insights, recommendations, and guidance provided are informational in nature and designed to supportnot replaceyour own judgment."})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-destructive/10",children:a.jsx(ni,{className:"h-5 w-5 text-destructive"})}),a.jsx("h2",{className:"text-2xl font-semibold text-destructive",children:"Medical Disclaimer"})]}),a.jsxs("div",{className:"bg-destructive/5 border border-destructive/20 rounded-lg p-6 space-y-4",children:[a.jsx("p",{className:"leading-relaxed font-medium",children:"Athlete Space does NOT provide medical advice, diagnosis, or treatment."}),a.jsx("p",{className:"leading-relaxed",children:"The information and recommendations provided through our platform are for training and performance purposes only. They are not intended to diagnose, treat, cure, or prevent any medical condition."}),a.jsx("p",{className:"leading-relaxed",children:"Always consult with qualified healthcare professionals before starting any new training program, especially if you have pre-existing health conditions, injuries, or concerns about your physical readiness for exercise."})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(Jr,{className:"h-5 w-5 text-primary"})}),a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"AI-Generated Insights"})]}),a.jsx("p",{className:"leading-relaxed",children:"Athlete Space uses artificial intelligence to analyze your training data and generate personalized insights. These AI-generated recommendations are:"}),a.jsxs("ul",{className:"space-y-3 ml-6",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsxs("span",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Informational only"}),"  intended to inform, not to direct your training"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsxs("span",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Decision-support tools"}),"  designed to assist your judgment, not replace it"]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsxs("span",{className:"leading-relaxed",children:[a.jsx("strong",{children:"Not a substitute for professional coaching"}),"  we recommend working with qualified coaches for comprehensive training guidance"]})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(ene,{className:"h-5 w-5 text-primary"})}),a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"User Responsibility"})]}),a.jsx("p",{className:"leading-relaxed",children:"As a user of Athlete Space, you acknowledge and agree that:"}),a.jsxs("ul",{className:"space-y-3 ml-6",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"You are solely responsible for all training decisions you make"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"You will listen to your body and adjust training as needed"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"You will seek appropriate medical attention when experiencing pain, injury, or health concerns"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"You understand that athletic training carries inherent risks"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(PW,{className:"h-5 w-5 text-primary"})}),a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"Limitation of Liability"})]}),a.jsx("p",{className:"leading-relaxed",children:"To the maximum extent permitted by applicable law, Athlete Space and its creators, operators, and affiliates shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to:"}),a.jsxs("ul",{className:"space-y-3 ml-6",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"Personal injury, illness, or health complications arising from training activities"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"Loss of athletic performance or competition results"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"Any decisions made based on AI-generated insights or recommendations"})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-muted-foreground mt-2.5 shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:"Data loss or service interruptions"})]})]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:a.jsx(ul,{className:"h-5 w-5 text-primary"})}),a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"Data & Privacy"})]}),a.jsxs("p",{className:"leading-relaxed",children:["Your privacy is important to us. For detailed information about how we collect, use, and protect your data, please refer to our"," ",a.jsx(Nn,{to:"/privacy",className:"text-primary hover:underline font-medium",children:"Privacy Policy"}),"."]})]}),a.jsxs("section",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"Changes to These Terms"}),a.jsx("p",{className:"leading-relaxed",children:'We may update these Terms of Service from time to time. We will notify users of any material changes by posting the updated terms on this page with a revised "Last updated" date. Your continued use of the service after such changes constitutes acceptance of the updated terms.'})]}),a.jsxs("section",{className:"space-y-4 pb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold text-primary",children:"Questions?"}),a.jsxs("p",{className:"leading-relaxed",children:["If you have any questions about these Terms of Service, please reach out to us through the platform or consult our"," ",a.jsx(Nn,{to:"/faq",className:"text-primary hover:underline font-medium",children:"FAQ"})," ","for more information."]})]})]})]})})})}function ZFe(){return a.jsx("div",{className:"min-h-[100svh] flex items-center justify-center",children:a.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[a.jsx(Zo,{className:"h-12 w-full"}),a.jsx(Zo,{className:"h-32 w-full"}),a.jsx(Zo,{className:"h-8 w-3/4"})]})})}function XFe(){const e=bi(),{status:t}=gn();return j.useEffect(()=>{t==="authenticated"?(console.log("[ConnectSuccess] User authenticated, redirecting to /"),e("/",{replace:!0})):t==="unauthenticated"&&(console.log("[ConnectSuccess] User not authenticated, redirecting to /login"),e("/login",{replace:!0}))},[t,e]),a.jsx(ZFe,{})}const QFe=()=>{const e=go(),{user:t,status:n,loading:r}=gn();return j.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),n==="bootstrapping"||r?null:n==="unauthenticated"?a.jsx(Yo,{to:"/login",replace:!0}):n==="authenticated"&&t&&!t.onboarding_complete?a.jsx(Yo,{to:"/onboarding",replace:!0}):a.jsx("div",{className:"flex min-h-[100svh] items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),a.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),a.jsx("a",{href:"/dashboard",className:"text-primary underline hover:text-primary/90",children:"Return to Dashboard"})]})})};function is({label:e,value:t,subtext:n,status:r}){const i={healthy:"text-green-600",warning:"text-amber-500",critical:"text-red-500"},s={healthy:"bg-green-500",warning:"bg-amber-500",critical:"bg-red-500"};return a.jsx(et,{children:a.jsx($e,{className:"pt-4 pb-4",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:e}),a.jsx("p",{className:re("text-xl font-semibold",i[r]),children:t}),n&&a.jsx("p",{className:"text-xs text-muted-foreground",children:n})]}),a.jsx("div",{className:re("h-2.5 w-2.5 rounded-full mt-1",s[r])})]})})})}function JFe({data:e,currentMetrics:t}){return a.jsxs(et,{children:[a.jsxs(Ye,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-base font-medium",children:"API Latency"}),a.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500"}),a.jsxs("span",{className:"text-muted-foreground",children:["p50: ",t.p50,"ms"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-amber-500"}),a.jsxs("span",{className:"text-muted-foreground",children:["p95: ",t.p95,"ms"]})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"}),a.jsxs("span",{className:"text-muted-foreground",children:["p99: ",t.p99,"ms"]})]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Last 24 hours"})]}),a.jsx($e,{children:a.jsx("div",{className:"h-[200px] w-full",children:a.jsx(Ks,{width:"100%",height:"100%",children:a.jsxs(dG,{data:e,margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(qo,{strokeDasharray:"3 3",className:"stroke-muted/30"}),a.jsx(Rr,{dataKey:"time",tick:{fontSize:10},tickLine:!1,axisLine:!1,className:"text-muted-foreground"}),a.jsx(Pr,{tick:{fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:n=>`${n}ms`,className:"text-muted-foreground",width:50}),a.jsx(mr,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px",fontSize:"12px"},labelStyle:{color:"hsl(var(--foreground))"},formatter:(n,r)=>[`${n}ms`,r.toUpperCase()]}),a.jsx(Da,{type:"monotone",dataKey:"p50",stroke:"#10b981",strokeWidth:2,dot:!1,name:"p50"}),a.jsx(Da,{type:"monotone",dataKey:"p95",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"p95"}),a.jsx(Da,{type:"monotone",dataKey:"p99",stroke:"#ef4444",strokeWidth:2,dot:!1,name:"p99"})]})})})})]})}function e$e({value:e,threshold:t}){const n=e>=t,r=(t-99)/1*100,i=(e-99)/1*100;return a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-base font-medium",children:"SLA Compliance"}),a.jsxs("span",{className:re("text-lg font-semibold",n?"text-green-600":"text-amber-500"),children:[e,"%"]})]})}),a.jsx($e,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"relative h-4 bg-muted rounded-full overflow-hidden",children:[a.jsx("div",{className:re("h-full rounded-full transition-all duration-500",n?"bg-green-500":"bg-amber-500"),style:{width:`${Math.min(i,100)}%`}}),a.jsx("div",{className:"absolute top-0 bottom-0 w-0.5 bg-foreground/60",style:{left:`${r}%`}})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"99.0%"}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"h-2 w-0.5 bg-foreground/60"}),"Threshold: ",t,"%"]}),a.jsx("span",{children:"100%"})]})]})})]})}function t$e({services:e}){return a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-base font-medium",children:"Service Breakdown"})}),a.jsx($e,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-xs text-muted-foreground py-2 border-b border-border",children:[a.jsx("span",{children:"Service"}),a.jsx("span",{className:"text-right",children:"p95 Latency"}),a.jsx("span",{className:"text-right",children:"Status"})]}),e.map(t=>a.jsxs("div",{className:"grid grid-cols-3 gap-4 py-2.5 text-sm",children:[a.jsx("span",{className:"font-medium text-foreground",children:t.name}),a.jsxs("span",{className:re("text-right",t.p95>450?"text-amber-500":"text-muted-foreground"),children:[t.p95,"ms"]}),a.jsx("div",{className:"flex items-center justify-end",children:t.status==="ok"?a.jsx(Ar,{className:"h-4 w-4 text-green-600"}):t.status==="warn"?a.jsx(ni,{className:"h-4 w-4 text-amber-500"}):a.jsx(ni,{className:"h-4 w-4 text-red-500"})})]},t.name))]})})]})}const n$e={light:"",dark:".dark"},PJ=j.createContext(null);function AJ(){const e=j.useContext(PJ);if(!e)throw new Error("useChart must be used within a <ChartContainer />");return e}const Gm=j.forwardRef(({id:e,className:t,children:n,config:r,...i},s)=>{const o=j.useId(),l=`chart-${e||o.replace(/:/g,"")}`;return a.jsx(PJ.Provider,{value:{config:r},children:a.jsxs("div",{"data-chart":l,ref:s,className:re("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",t),...i,children:[a.jsx(r$e,{id:l,config:r}),a.jsx(Ks,{children:n})]})})});Gm.displayName="Chart";const r$e=({id:e,config:t})=>{const n=Object.entries(t).filter(([r,i])=>i.theme||i.color);return n.length?a.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(n$e).map(([r,i])=>`
${i} [data-chart=${e}] {
${n.map(([s,o])=>{const l=o.theme?.[r]||o.color;return l?`  --color-${s}: ${l};`:null}).join(`
`)}
}
`).join(`
`)}}):null},f0=mr,Ym=j.forwardRef(({active:e,payload:t,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:l,labelClassName:c,formatter:u,color:h,nameKey:p,labelKey:g},x)=>{const{config:b}=AJ(),v=j.useMemo(()=>{if(i||!t?.length)return null;const[N]=t,S=`${g||N.dataKey||N.name||"value"}`,A=aE(b,N,S),T=!g&&typeof o=="string"?b[o]?.label||o:A?.label;return l?a.jsx("div",{className:re("font-medium",c),children:l(T,t)}):T?a.jsx("div",{className:re("font-medium",c),children:T}):null},[o,l,t,i,c,b,g]);if(!e||!t?.length)return null;const w=t.length===1&&r!=="dot";return a.jsxs("div",{ref:x,className:re("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[w?null:v,a.jsx("div",{className:"grid gap-1.5",children:t.map((N,S)=>{const A=`${p||N.name||N.dataKey||"value"}`,T=aE(b,N,A),C=h||N.payload.fill||N.color;return a.jsx("div",{className:re("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:u&&N?.value!==void 0&&N.name?u(N.value,N.name,N,S,N.payload):a.jsxs(a.Fragment,{children:[T?.icon?a.jsx(T.icon,{}):!s&&a.jsx("div",{className:re("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":w&&r==="dashed"}),style:{"--color-bg":C,"--color-border":C}}),a.jsxs("div",{className:re("flex flex-1 justify-between leading-none",w?"items-end":"items-center"),children:[a.jsxs("div",{className:"grid gap-1.5",children:[w?v:null,a.jsx("span",{className:"text-muted-foreground",children:T?.label||N.name})]}),N.value&&a.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:N.value.toLocaleString()})]})]})},N.dataKey)})})]})});Ym.displayName="ChartTooltip";const i$e=j.forwardRef(({className:e,hideIcon:t=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:o}=AJ();return n?.length?a.jsx("div",{ref:s,className:re("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",e),children:n.map(l=>{const c=`${i||l.dataKey||"value"}`,u=aE(o,l,c);return a.jsxs("div",{className:re("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[u?.icon&&!t?a.jsx(u.icon,{}):a.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:l.color}}),u?.label]},l.value)})}):null});i$e.displayName="ChartLegend";function aE(e,t,n){if(typeof t!="object"||t===null)return;const r="payload"in t&&typeof t.payload=="object"&&t.payload!==null?t.payload:void 0;let i=n;return n in t&&typeof t[n]=="string"?i=t[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in e?e[i]:e[n]}const a$e={rpm:{label:"Requests/min",color:"hsl(var(--primary))"}};function s$e({data:e}){return a.jsxs(et,{children:[a.jsxs(Ye,{className:"pb-2",children:[a.jsx(Je,{className:"text-base font-medium",children:"Request Volume"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Requests per minute (last 60 min)"})]}),a.jsx($e,{children:a.jsx(Gm,{config:a$e,className:"h-[200px] w-full",children:a.jsxs(dG,{data:e,margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(Rr,{dataKey:"time",tickLine:!1,axisLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"}}),a.jsx(Pr,{tickLine:!1,axisLine:!1,tick:{fontSize:11,fill:"hsl(var(--muted-foreground))"},width:35}),a.jsx(f0,{content:a.jsx(Ym,{})}),a.jsx(Da,{type:"monotone",dataKey:"rpm",stroke:"hsl(var(--primary))",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"hsl(var(--primary))"}})]})})})]})}const kJ=0,CJ=1,TJ=2,R8=3;var I8=Object.prototype.hasOwnProperty;function sE(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&sE(e[r],t[r]););return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(I8.call(e,n)&&++r&&!I8.call(t,n)||!(n in t)||!sE(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}const Uo=new WeakMap,Go=()=>{},Yr=Go(),oE=Object,zt=e=>e===Yr,Zs=e=>typeof e=="function",Pc=(e,t)=>({...e,...t}),EJ=e=>Zs(e.then),mk={},Kx={},VM="undefined",Yv=typeof window!=VM,lE=typeof document!=VM,o$e=Yv&&"Deno"in window,l$e=()=>Yv&&typeof window.requestAnimationFrame!=VM,OJ=(e,t)=>{const n=Uo.get(e);return[()=>!zt(t)&&e.get(t)||mk,r=>{if(!zt(t)){const i=e.get(t);t in Kx||(Kx[t]=i),n[5](t,Pc(i,r),i||mk)}},n[6],()=>!zt(t)&&t in Kx?Kx[t]:!zt(t)&&e.get(t)||mk]};let cE=!0;const c$e=()=>cE,[uE,dE]=Yv&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[Go,Go],u$e=()=>{const e=lE&&document.visibilityState;return zt(e)||e!=="hidden"},d$e=e=>(lE&&document.addEventListener("visibilitychange",e),uE("focus",e),()=>{lE&&document.removeEventListener("visibilitychange",e),dE("focus",e)}),f$e=e=>{const t=()=>{cE=!0,e()},n=()=>{cE=!1};return uE("online",t),uE("offline",n),()=>{dE("online",t),dE("offline",n)}},h$e={isOnline:c$e,isVisible:u$e},p$e={initFocus:d$e,initReconnect:f$e},D8=!Y.useId,zf=!Yv||o$e,m$e=e=>l$e()?window.requestAnimationFrame(e):setTimeout(e,1),gk=zf?j.useEffect:j.useLayoutEffect,vk=typeof navigator<"u"&&navigator.connection,L8=!zf&&vk&&(["slow-2g","2g"].includes(vk.effectiveType)||vk.saveData),Gx=new WeakMap,g$e=e=>oE.prototype.toString.call(e),yk=(e,t)=>e===`[object ${t}]`;let v$e=0;const fE=e=>{const t=typeof e,n=g$e(e),r=yk(n,"Date"),i=yk(n,"RegExp"),s=yk(n,"Object");let o,l;if(oE(e)===e&&!r&&!i){if(o=Gx.get(e),o)return o;if(o=++v$e+"~",Gx.set(e,o),Array.isArray(e)){for(o="@",l=0;l<e.length;l++)o+=fE(e[l])+",";Gx.set(e,o)}if(s){o="#";const c=oE.keys(e).sort();for(;!zt(l=c.pop());)zt(e[l])||(o+=l+":"+fE(e[l])+",");Gx.set(e,o)}}else o=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return o},HM=e=>{if(Zs(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?fE(e):"",[e,t]};let y$e=0;const hE=()=>++y$e;async function MJ(...e){const[t,n,r,i]=e,s=Pc({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let o=s.populateCache;const l=s.rollbackOnError;let c=s.optimisticData;const u=g=>typeof l=="function"?l(g):l!==!1,h=s.throwOnError;if(Zs(n)){const g=n,x=[],b=t.keys();for(const v of b)!/^\$(inf|sub)\$/.test(v)&&g(t.get(v)._k)&&x.push(v);return Promise.all(x.map(p))}return p(n);async function p(g){const[x]=HM(g);if(!x)return;const[b,v]=OJ(t,x),[w,N,S,A]=Uo.get(t),T=()=>{const U=w[x];return(Zs(s.revalidate)?s.revalidate(b().data,g):s.revalidate!==!1)&&(delete S[x],delete A[x],U&&U[0])?U[0](TJ).then(()=>b().data):b().data};if(e.length<3)return T();let C=r,E,O=!1;const I=hE();N[x]=[I,0];const F=!zt(c),W=b(),$=W.data,z=W._c,V=zt(z)?$:z;if(F&&(c=Zs(c)?c(V,$):c,v({data:c,_c:V})),Zs(C))try{C=C(V)}catch(U){E=U,O=!0}if(C&&EJ(C))if(C=await C.catch(U=>{E=U,O=!0}),I!==N[x][0]){if(O)throw E;return C}else O&&F&&u(E)&&(o=!0,v({data:V,_c:Yr}));if(o&&!O)if(Zs(o)){const U=o(C,V);v({data:U,error:Yr,_c:Yr})}else v({data:C,error:Yr,_c:Yr});if(N[x][1]=hE(),Promise.resolve(T()).then(()=>{v({_c:Yr})}),O){if(h)throw E;return}return C}}const F8=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},x$e=(e,t)=>{if(!Uo.has(e)){const n=Pc(p$e,t),r=Object.create(null),i=MJ.bind(Yr,e);let s=Go;const o=Object.create(null),l=(h,p)=>{const g=o[h]||[];return o[h]=g,g.push(p),()=>g.splice(g.indexOf(p),1)},c=(h,p,g)=>{e.set(h,p);const x=o[h];if(x)for(const b of x)b(p,g)},u=()=>{if(!Uo.has(e)&&(Uo.set(e,[r,Object.create(null),Object.create(null),Object.create(null),i,c,l]),!zf)){const h=n.initFocus(setTimeout.bind(Yr,F8.bind(Yr,r,kJ))),p=n.initReconnect(setTimeout.bind(Yr,F8.bind(Yr,r,CJ)));s=()=>{h&&h(),p&&p(),Uo.delete(e)}}};return u(),[e,i,u,s]}return[e,Uo.get(e)[4]]},b$e=(e,t,n,r,i)=>{const s=n.errorRetryCount,o=i.retryCount,l=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!zt(s)&&o>s||setTimeout(r,l,i)},w$e=sE,[RJ,_$e]=x$e(new Map),j$e=Pc({onLoadingSlow:Go,onSuccess:Go,onError:Go,onErrorRetry:b$e,onDiscarded:Go,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:L8?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:L8?5e3:3e3,compare:w$e,isPaused:()=>!1,cache:RJ,mutate:_$e,fallback:{}},h$e),S$e=(e,t)=>{const n=Pc(e,t);if(t){const{use:r,fallback:i}=e,{use:s,fallback:o}=t;r&&s&&(n.use=r.concat(s)),i&&o&&(n.fallback=Pc(i,o))}return n},N$e=j.createContext({}),P$e="$inf$",IJ=Yv&&window.__SWR_DEVTOOLS_USE__,A$e=IJ?window.__SWR_DEVTOOLS_USE__:[],k$e=()=>{IJ&&(window.__SWR_DEVTOOLS_REACT__=Y)},C$e=e=>Zs(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],T$e=()=>{const e=j.useContext(N$e);return j.useMemo(()=>Pc(j$e,e),[e])},E$e=e=>(t,n,r)=>e(t,n&&((...s)=>{const[o]=HM(t),[,,,l]=Uo.get(RJ);if(o.startsWith(P$e))return n(...s);const c=l[o];return zt(c)?n(...s):(delete l[o],c)}),r),O$e=A$e.concat(E$e),M$e=e=>function(...n){const r=T$e(),[i,s,o]=C$e(n),l=S$e(r,o);let c=e;const{use:u}=l,h=(u||[]).concat(O$e);for(let p=h.length;p--;)c=h[p](c);return c(i,s||l.fetcher||null,l)},R$e=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};k$e();const xk=Y.use||(e=>{switch(e.status){case"pending":throw e;case"fulfilled":return e.value;case"rejected":throw e.reason;default:throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}}),bk={dedupe:!0},$8=Promise.resolve(Yr),I$e=(e,t,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:o,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:h,refreshWhenOffline:p,keepPreviousData:g,strictServerPrefetchWarning:x}=n,[b,v,w,N]=Uo.get(r),[S,A]=HM(e),T=j.useRef(!1),C=j.useRef(!1),E=j.useRef(S),O=j.useRef(t),I=j.useRef(n),F=()=>I.current,W=()=>F().isVisible()&&F().isOnline(),[$,z,V,U]=OJ(r,S),te=j.useRef({}).current,Q=zt(o)?zt(n.fallback)?Yr:n.fallback[S]:o,J=(Ce,Re)=>{for(const Ke in te){const yt=Ke;if(yt==="data"){if(!i(Ce[yt],Re[yt])&&(!zt(Ce[yt])||!i(me,Re[yt])))return!1}else if(Re[yt]!==Ce[yt])return!1}return!0},G=j.useMemo(()=>{const Ce=!S||!t?!1:zt(l)?F().isPaused()||s?!1:c!==!1:l,Re=_t=>{const cn=Pc(_t);return delete cn._k,Ce?{isValidating:!0,isLoading:!0,...cn}:cn},Ke=$(),yt=U(),kt=Re(Ke),Et=Ke===yt?kt:Re(yt);let it=kt;return[()=>{const _t=Re($());return J(_t,it)?(it.data=_t.data,it.isLoading=_t.isLoading,it.isValidating=_t.isValidating,it.error=_t.error,it):(it=_t,_t)},()=>Et]},[r,S]),ee=qT.useSyncExternalStore(j.useCallback(Ce=>V(S,(Re,Ke)=>{J(Ke,Re)||Ce()}),[r,S]),G[0],G[1]),X=!T.current,q=b[S]&&b[S].length>0,H=ee.data,ne=zt(H)?Q&&EJ(Q)?xk(Q):Q:H,se=ee.error,de=j.useRef(ne),me=g?zt(H)?zt(de.current)?ne:de.current:H:ne,fe=S&&zt(ne),_e=!zf&&qT.useSyncExternalStore(()=>Go,()=>!1,()=>!0);x&&_e&&!s&&fe&&console.warn(`Missing pre-initiated data for serialized key "${S}" during server-side rendering. Data fethcing should be initiated on the server and provided to SWR via fallback data. You can set "strictServerPrefetchWarning: false" to disable this warning.`);const he=q&&!zt(se)?!1:X&&!zt(l)?l:F().isPaused()?!1:s?zt(ne)?!1:c:zt(ne)||c,be=!!(S&&t&&X&&he),Me=zt(ee.isValidating)?be:ee.isValidating,ve=zt(ee.isLoading)?be:ee.isLoading,Ze=j.useCallback(async Ce=>{const Re=O.current;if(!S||!Re||C.current||F().isPaused())return!1;let Ke,yt,kt=!0;const Et=Ce||{},it=!w[S]||!Et.dedupe,_t=()=>D8?!C.current&&S===E.current&&T.current:S===E.current,cn={isValidating:!1,isLoading:!1},Fn=()=>{z(cn)},$t=()=>{const Xt=w[S];Xt&&Xt[1]===yt&&delete w[S]},En={isValidating:!0};zt($().data)&&(En.isLoading=!0);try{if(it&&(z(En),n.loadingTimeout&&zt($().data)&&setTimeout(()=>{kt&&_t()&&F().onLoadingSlow(S,n)},n.loadingTimeout),w[S]=[Re(A),hE()]),[Ke,yt]=w[S],Ke=await Ke,it&&setTimeout($t,n.dedupingInterval),!w[S]||w[S][1]!==yt)return it&&_t()&&F().onDiscarded(S),!1;cn.error=Yr;const Xt=v[S];if(!zt(Xt)&&(yt<=Xt[0]||yt<=Xt[1]||Xt[1]===0))return Fn(),it&&_t()&&F().onDiscarded(S),!1;const $n=$().data;cn.data=i($n,Ke)?$n:Ke,it&&_t()&&F().onSuccess(Ke,S,n)}catch(Xt){$t();const $n=F(),{shouldRetryOnError:nr}=$n;$n.isPaused()||(cn.error=Xt,it&&_t()&&($n.onError(Xt,S,$n),(nr===!0||Zs(nr)&&nr(Xt))&&(!F().revalidateOnFocus||!F().revalidateOnReconnect||W())&&$n.onErrorRetry(Xt,S,$n,Zn=>{const Fi=b[S];Fi&&Fi[0]&&Fi[0](R8,Zn)},{retryCount:(Et.retryCount||0)+1,dedupe:!0})))}return kt=!1,Fn(),!0},[S,r]),He=j.useCallback((...Ce)=>MJ(r,E.current,...Ce),[]);if(gk(()=>{O.current=t,I.current=n,zt(H)||(de.current=H)}),gk(()=>{if(!S)return;const Ce=Ze.bind(Yr,bk);let Re=0;F().revalidateOnFocus&&(Re=Date.now()+F().focusThrottleInterval);const yt=R$e(S,b,(kt,Et={})=>{if(kt==kJ){const it=Date.now();F().revalidateOnFocus&&it>Re&&W()&&(Re=it+F().focusThrottleInterval,Ce())}else if(kt==CJ)F().revalidateOnReconnect&&W()&&Ce();else{if(kt==TJ)return Ze();if(kt==R8)return Ze(Et)}});return C.current=!1,E.current=S,T.current=!0,z({_k:A}),he&&(w[S]||(zt(ne)||zf?Ce():m$e(Ce))),()=>{C.current=!0,yt()}},[S]),gk(()=>{let Ce;function Re(){const yt=Zs(u)?u($().data):u;yt&&Ce!==-1&&(Ce=setTimeout(Ke,yt))}function Ke(){!$().error&&(h||F().isVisible())&&(p||F().isOnline())?Ze(bk).then(Re):Re()}return Re(),()=>{Ce&&(clearTimeout(Ce),Ce=-1)}},[u,h,p,S]),j.useDebugValue(me),s){if(!D8&&zf&&fe)throw new Error("Fallback data is required when using Suspense in SSR.");fe&&(O.current=t,I.current=n,C.current=!1);const Ce=N[S],Re=!zt(Ce)&&fe?He(Ce):$8;if(xk(Re),!zt(se)&&fe)throw se;const Ke=fe?Ze(bk):$8;!zt(me)&&fe&&(Ke.status="fulfilled",Ke.value=!0),xk(Ke)}return{mutate:He,get data(){return te.data=!0,me},get error(){return te.error=!0,se},get isValidating(){return te.isValidating=!0,Me},get isLoading(){return te.isLoading=!0,ve}}},DJ=M$e(I$e),D$e=()=>(typeof window<"u"&&(window.location.protocol==="capacitor:"||window.location.origin==="capacitor://localhost"||window.location.href.startsWith("capacitor://")),"https://virtus-ai.onrender.com");async function LJ(e){const t=D$e(),n=e.startsWith("http")?e:`${t}${e.startsWith("/")?e:`/${e}`}`,r=await fetch(n,{credentials:"include"});if(!r.ok)throw new Error(`Failed to fetch ${n}: ${r.status} ${r.statusText}`);return r.json()}function L$e(e){return DJ(e?"/internal/ops/summary":null,LJ,{refreshInterval:3e4,revalidateOnFocus:!1,dedupingInterval:1e4})}const Yx={apiHealth:"healthy",mcpStatus:"online",uptime:99.96,errorRate:.3,latency:{p50:180,p95:420,p99:780},latencyHistory:[{time:"00:00",p50:165,p95:380,p99:720},{time:"02:00",p50:155,p95:360,p99:690},{time:"04:00",p50:140,p95:320,p99:640},{time:"06:00",p50:160,p95:400,p99:750},{time:"08:00",p50:195,p95:480,p99:820},{time:"10:00",p50:210,p95:520,p99:890},{time:"12:00",p50:200,p95:490,p99:850},{time:"14:00",p50:185,p95:450,p99:800},{time:"16:00",p50:190,p95:460,p99:810},{time:"18:00",p50:205,p95:500,p99:860},{time:"20:00",p50:180,p95:420,p99:780},{time:"22:00",p50:170,p95:400,p99:750}],sla:99.8,slaThreshold:99.5,services:[{name:"Orchestrator",p95:410,status:"ok"},{name:"MCP DB",p95:390,status:"ok"},{name:"MCP FS",p95:460,status:"warn"}],reliabilitySignals:[{type:"success",message:"No incident in last 7 days"},{type:"info",message:"Elevated latency during peak hours"},{type:"warning",message:"One retry spike detected"}],traffic:{activeUsers15m:12,activeUsers24h:87,concurrentSessions:9,requestsPerMinute:46,executorRunsPerMinute:6.2,planBuildsPerHour:14,toolCallsPerMinute:28,requestVolumeHistory:[{time:"10:00",rpm:32},{time:"10:10",rpm:41},{time:"10:20",rpm:38},{time:"10:30",rpm:45},{time:"10:40",rpm:49},{time:"10:50",rpm:46}],activitySignals:[{type:"success",message:"Normal planning volume"},{type:"info",message:"Peak activity detected 09:0010:00"},{type:"warning",message:"Plan failures elevated for 6 minutes"}]}};function F$e(){const e=typeof window<"u"&&window.location.hostname.includes("lovable"),{data:t,isLoading:n,error:r}=L$e(!e),i=e||!t?Yx:{apiHealth:t.api_health==="ok"?"healthy":"degraded",mcpStatus:t.mcp_status==="ok"?"online":"degraded",uptime:t.uptime,errorRate:t.error_rate,latency:{p50:t.latency.p50,p95:t.latency.p95,p99:t.latency.p99},latencyHistory:t.latency_history.map(s=>({time:s.time,p50:s.p50,p95:s.p95,p99:s.p99})),sla:t.sla,slaThreshold:t.sla_threshold,services:t.services.map(s=>({name:s.name,p95:s.p95_ms,status:s.status==="ok"?"ok":s.status==="warn"?"warn":"critical"})),reliabilitySignals:t.reliability_signals||Yx.reliabilitySignals,traffic:{activeUsers15m:t.traffic.active_users_15m,activeUsers24h:t.traffic.active_users_24h,concurrentSessions:t.traffic.concurrent_sessions,requestsPerMinute:t.traffic.requests_per_minute,executorRunsPerMinute:t.traffic.executor_runs_per_minute,planBuildsPerHour:t.traffic.plan_builds_per_hour,toolCallsPerMinute:t.traffic.tool_calls_per_minute,requestVolumeHistory:t.traffic.request_volume_history||Yx.traffic.requestVolumeHistory,activitySignals:t.activity_signals||Yx.traffic.activitySignals}};return!e&&n?a.jsx(Yn,{children:a.jsx("div",{className:"text-muted-foreground",children:"Loading system metrics"})}):!e&&r?a.jsx(Yn,{children:a.jsx("div",{className:"text-destructive",children:"Failed to load ops metrics"})}):a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-primary",children:"Internal Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"System health, latency, and reliability"})]}),a.jsx(ln,{variant:"outline",className:"self-start sm:self-auto text-muted-foreground border-muted-foreground/30",children:"Internal  Read-only"})]}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(is,{label:"API",value:i.apiHealth==="healthy"?"Healthy":"Degraded",status:e||!t||t.api_health==="ok"?"healthy":t.api_health==="warn"?"warning":"critical"}),a.jsx(is,{label:"MCP",value:i.mcpStatus==="online"?"Online":"Degraded",subtext:"DB / FS",status:e||!t||t.mcp_status==="ok"?"healthy":t.mcp_status==="warn"?"warning":"critical"}),a.jsx(is,{label:"Error Rate",value:`${i.errorRate}%`,subtext:"Last 24h",status:i.errorRate<1?"healthy":i.errorRate<5?"warning":"critical"}),a.jsx(is,{label:"Uptime",value:`${i.uptime}%`,subtext:"30 days",status:i.uptime>=99.9?"healthy":i.uptime>=99?"warning":"critical"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Traffic Overview"}),a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(is,{label:"Active Users (15m)",value:String(i.traffic.activeUsers15m),subtext:"Last 15 minutes",status:"healthy"}),a.jsx(is,{label:"Active Users (24h)",value:String(i.traffic.activeUsers24h),subtext:"Last 24 hours",status:"healthy"}),a.jsx(is,{label:"Concurrent Sessions",value:String(i.traffic.concurrentSessions),subtext:"Right now",status:"healthy"}),a.jsx(is,{label:"Requests / Minute",value:String(i.traffic.requestsPerMinute),subtext:"Avg last 5 min",status:"healthy"})]})]}),a.jsx(s$e,{data:i.traffic.requestVolumeHistory}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Execution Activity"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(is,{label:"Executor Runs / Min",value:String(i.traffic.executorRunsPerMinute),subtext:"Avg last 10 min",status:"healthy"}),a.jsx(is,{label:"Plan Builds / Hour",value:String(i.traffic.planBuildsPerHour),subtext:"Last hour",status:"healthy"}),a.jsx(is,{label:"Tool Calls / Min",value:String(i.traffic.toolCallsPerMinute),subtext:"All MCP tools",status:"healthy"})]})]}),a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-base font-medium",children:"Activity Signals"})}),a.jsx($e,{className:"space-y-2",children:i.traffic.activitySignals.map((s,o)=>a.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 rounded-md bg-muted/30",children:[s.type==="success"&&a.jsx(Ar,{className:"h-4 w-4 text-green-600 shrink-0"}),s.type==="warning"&&a.jsx(ni,{className:"h-4 w-4 text-amber-500 shrink-0"}),s.type==="info"&&a.jsx(Wf,{className:"h-4 w-4 text-blue-500 shrink-0"}),a.jsx("span",{className:"text-sm text-foreground",children:s.message})]},o))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-lg font-medium text-foreground",children:"Latency & Reliability"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsx(JFe,{data:i.latencyHistory,currentMetrics:i.latency}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(e$e,{value:i.sla,threshold:i.slaThreshold}),a.jsx(t$e,{services:i.services})]})]})]}),a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-base font-medium",children:"Reliability Signals"})}),a.jsx($e,{className:"space-y-2",children:i.reliabilitySignals.map((s,o)=>a.jsxs("div",{className:"flex items-center gap-3 py-2 px-3 rounded-md bg-muted/30",children:[s.type==="success"&&a.jsx(Ar,{className:"h-4 w-4 text-green-600 shrink-0"}),s.type==="warning"&&a.jsx(ni,{className:"h-4 w-4 text-amber-500 shrink-0"}),s.type==="info"&&a.jsx(Wf,{className:"h-4 w-4 text-blue-500 shrink-0"}),a.jsx("span",{className:"text-sm text-foreground",children:s.message})]},o))})]})]})})}const $$e={plan:{label:"Plan",color:"hsl(var(--chart-1))"},modify:{label:"Modify",color:"hsl(var(--chart-2))"},explain:{label:"Explain",color:"hsl(var(--chart-3))"},upload:{label:"Upload",color:"hsl(var(--chart-4))"}},B$e={high:{label:"High",color:"hsl(142 76% 36%)"},medium:{label:"Medium",color:"hsl(48 96% 53%)"},low:{label:"Low",color:"hsl(0 84% 60%)"}},z$e={applied:{label:"Applied",color:"hsl(142 76% 36%)"},blocked:{label:"Blocked",color:"hsl(0 84% 60%)"},escalated:{label:"Escalated",color:"hsl(48 96% 53%)"}};function W$e({intentDistribution:e,confidence:t,outcomes:n}){const r=[{name:"Plan",value:e.plan,fill:"hsl(var(--chart-1))"},{name:"Modify",value:e.modify,fill:"hsl(var(--chart-2))"},{name:"Explain",value:e.explain,fill:"hsl(var(--chart-3))"},{name:"Upload",value:e.upload,fill:"hsl(var(--chart-4))"}],i=[{name:"High",value:t.high,fill:"hsl(142 76% 36%)"},{name:"Medium",value:t.medium,fill:"hsl(48 96% 53%)"},{name:"Low",value:t.low,fill:"hsl(0 84% 60%)"}],s=[{name:"Applied",value:n.applied,fill:"hsl(142 76% 36%)"},{name:"Blocked",value:n.blocked,fill:"hsl(0 84% 60%)"},{name:"Escalated",value:n.escalated,fill:"hsl(48 96% 53%)"}];return a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-sm font-medium",children:"Intent Distribution"})}),a.jsx($e,{children:a.jsx(Gm,{config:$$e,className:"h-[180px] w-full",children:a.jsxs(Cz,{children:[a.jsx(po,{data:r,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:r.map((o,l)=>a.jsx(Fu,{fill:o.fill},`cell-${l}`))}),a.jsx(f0,{content:a.jsx(Ym,{})}),a.jsx(tl,{})]})})})]}),a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-sm font-medium",children:"Confidence Buckets"})}),a.jsx($e,{children:a.jsx(Gm,{config:B$e,className:"h-[180px] w-full",children:a.jsxs(G2e,{data:i,layout:"vertical",children:[a.jsx(Rr,{type:"number",domain:[0,100],tickFormatter:o=>`${o}%`}),a.jsx(Pr,{type:"category",dataKey:"name",width:60}),a.jsx(f0,{content:a.jsx(Ym,{})}),a.jsx(Ic,{dataKey:"value",radius:4,children:i.map((o,l)=>a.jsx(Fu,{fill:o.fill},`cell-${l}`))})]})})})]}),a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-2",children:a.jsx(Je,{className:"text-sm font-medium",children:"Outcome Summary"})}),a.jsx($e,{children:a.jsx(Gm,{config:z$e,className:"h-[180px] w-full",children:a.jsxs(Cz,{children:[a.jsx(po,{data:s,cx:"50%",cy:"50%",innerRadius:40,outerRadius:70,paddingAngle:2,dataKey:"value",children:s.map((o,l)=>a.jsx(Fu,{fill:o.fill},`cell-${l}`))}),a.jsx(f0,{content:a.jsx(Ym,{})}),a.jsx(tl,{})]})})})]})]})}function q$e({funnel:e}){const t=[{label:"Intent",value:e.intent,key:"intent"},{label:"Plan Generated",value:e.generated,key:"generated"},{label:"Confirmed",value:e.confirmed,key:"confirmed"},{label:"Persisted",value:e.persisted,key:"persisted"},{label:"Compliant",value:e.compliant,key:"compliant"}],n=(r,i)=>r==="intent"&&i==="generated"?"Generation failures":r==="generated"&&i==="confirmed"?"Confirmation missing":r==="confirmed"&&i==="persisted"?"Conflict detected":r==="persisted"&&i==="compliant"?"Compliance issues":null;return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-sm font-medium",children:"Planning Funnel"})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-2",children:t.map((r,i)=>{const o=(i>0?t[i-1].value:100)-r.value,l=i>0?n(t[i-1].key,r.key):null,c=r.value/100*100;return a.jsxs("div",{children:[i>0&&a.jsxs("div",{className:"flex items-center gap-2 py-1 text-xs text-muted-foreground",children:[a.jsx(gW,{className:"h-3 w-3"}),a.jsxs("span",{children:["-",o,"% ",l&&`(${l})`]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-medium",children:r.label}),a.jsxs("span",{className:"text-muted-foreground",children:[r.value,"%"]})]}),a.jsx("div",{className:"h-6 bg-muted rounded-sm overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary/80 rounded-sm transition-all duration-500",style:{width:`${c}%`}})})]})]},r.key)})})})]})}function U$e({executedPct:e,missedReasons:t,trend:n}){const r=n==="up"?Ac:n==="down"?SE:p0,i=n==="up"?"text-green-600":n==="down"?"text-red-600":"text-muted-foreground",s=n==="up"?"Improving":n==="down"?"Declining":"Stable",o=t.fatigue+t.skipped+t.conflict,l=[{label:"Fatigue",value:t.fatigue,color:"bg-orange-500"},{label:"Skipped",value:t.skipped,color:"bg-yellow-500"},{label:"Conflict",value:t.conflict,color:"bg-red-500"}];return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-sm font-medium",children:"Calendar Compliance"})}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"text-3xl font-bold",children:[e,"%"]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Planned vs Executed"})]}),a.jsxs("div",{className:re("flex items-center gap-1",i),children:[a.jsx(r,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:s})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"text-sm font-medium",children:["Missed Sessions (",o,"%)"]}),a.jsx("div",{className:"flex h-2 rounded-full overflow-hidden bg-muted",children:l.map(c=>a.jsx("div",{className:re("h-full",c.color),style:{width:`${c.value/o*100}%`}},c.label))}),a.jsx("div",{className:"flex justify-between text-xs text-muted-foreground",children:l.map(c=>a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:re("h-2 w-2 rounded-full",c.color)}),a.jsxs("span",{children:[c.label,": ",c.value,"%"]})]},c.label))})]})]})]})}function V$e({loadRisk:e,recoveryAligned:t,summary:n}){const i={safe:{icon:ul,label:"Safe",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-950",borderColor:"border-green-200 dark:border-green-800"},watch:{icon:ni,label:"Watch",color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-950",borderColor:"border-yellow-200 dark:border-yellow-800"},high:{icon:wW,label:"High Risk",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-950",borderColor:"border-red-200 dark:border-red-800"}}[e],s=i.icon;return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-sm font-medium",children:"Load & Recovery Safety"})}),a.jsxs($e,{className:"space-y-4",children:[a.jsxs("div",{className:re("flex items-center gap-3 p-3 rounded-lg border",i.bgColor,i.borderColor),children:[a.jsx(s,{className:re("h-6 w-6",i.color)}),a.jsxs("div",{children:[a.jsx("div",{className:re("font-semibold",i.color),children:i.label}),a.jsx("div",{className:"text-xs text-muted-foreground",children:"Current risk state"})]})]}),a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border",children:[a.jsx("span",{className:"text-sm",children:"Recovery Aligned"}),a.jsx("span",{className:re("text-sm font-medium",t?"text-green-600":"text-red-600"),children:t?"Yes":"No"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:n})]})]})}function H$e({usagePct:e,avgConfidence:t,fallbackRate:n,safetyBlocks:r}){const i=[{icon:aw,label:"RAG Usage",value:`${e}%`,subtext:"responses using RAG"},{icon:Xm,label:"Avg Confidence",value:`${(t*100).toFixed(0)}%`,subtext:"retrieval confidence"},{icon:NW,label:"Fallback Rate",value:`${n}%`,subtext:"non-RAG responses"},{icon:Xte,label:"Safety Blocks",value:r.toString(),subtext:"triggered this period"}];return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-sm font-medium",children:"RAG Performance Health"})}),a.jsx($e,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:i.map(s=>{const o=s.icon;return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[a.jsx(o,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs",children:s.label})]}),a.jsx("div",{className:"text-xl font-semibold",children:s.value}),a.jsx("div",{className:"text-xs text-muted-foreground",children:s.subtext})]},s.label)})})})]})}function K$e({avgTurns:e,summariesPerConv:t,compressionRatio:n}){const r=[{icon:wE,label:"Avg Turns",value:e.toFixed(1),subtext:"turns per conversation"},{icon:sw,label:"Summaries",value:t.toFixed(1),subtext:"per conversation"},{icon:Wte,label:"Compression",value:`${(n*100).toFixed(0)}%`,subtext:"token reduction"}];return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-sm font-medium",children:"Conversation Health"})}),a.jsx($e,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:r.map(i=>{const s=i.icon;return a.jsxs("div",{className:"text-center space-y-1",children:[a.jsx(s,{className:"h-5 w-5 mx-auto text-muted-foreground"}),a.jsx("div",{className:"text-xl font-semibold",children:i.value}),a.jsx("div",{className:"text-xs text-muted-foreground",children:i.subtext})]},i.label)})})})]})}function G$e({tracedPct:e,confirmedWritesPct:t,auditedToolsPct:n}){const r=[{icon:bW,label:"Decisions Traced",value:e,description:"Full trace available"},{icon:jW,label:"Writes Confirmed",value:t,description:"Plan writes confirmed"},{icon:nne,label:"Tools Audited",value:n,description:"Tool calls audited"}],i=s=>s>=99?"text-green-600":s>=90?"text-yellow-600":"text-red-600";return a.jsxs(et,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-sm font-medium",children:"Audit & Traceability"})}),a.jsx($e,{children:a.jsx("div",{className:"space-y-4",children:r.map(s=>{const o=s.icon;return a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-border last:border-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(o,{className:re("h-5 w-5",i(s.value))}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium",children:s.label}),a.jsx("div",{className:"text-xs text-muted-foreground",children:s.description})]})]}),a.jsxs("div",{className:re("text-lg font-semibold",i(s.value)),children:[s.value,"%"]})]},s.label)})})})]})}const pE={intentDistribution:{plan:42,modify:28,explain:18,upload:12},confidence:{high:68,medium:24,low:8},outcomes:{applied:72,blocked:18,escalated:10},funnel:{intent:100,generated:92,confirmed:78,persisted:74,compliant:69},compliance:{executedPct:81,missedReasons:{fatigue:9,skipped:6,conflict:4},trend:"up"},safety:{loadRisk:"safe",recoveryAligned:!0,summary:"Load progression within safe bounds. Recovery metrics aligned with training stress."},rag:{usagePct:64,avgConfidence:.82,fallbackRate:6,safetyBlocks:2},conversation:{avgTurns:6.2,summariesPerConv:1.3,compressionRatio:.41},audit:{tracedPct:100,confirmedWritesPct:100,auditedToolsPct:100}};function Y$e(e){const{data:t,error:n,isLoading:r}=DJ(e?"/internal/ai/summary":null,LJ,{refreshInterval:3e4,dedupingInterval:1e4});return{data:t,error:n,isLoading:r}}function Hs(e,t){try{if(!e||typeof e!="object"||e===null||!(t in e))return 0;const n=e[t];return typeof n=="number"&&!isNaN(n)?n:0}catch{return 0}}function Z$e(e){if(!e)return pE;const t=e.decision?.intentDistribution,n={plan:Hs(t,"plan"),modify:Hs(t,"modify"),explain:Hs(t,"explain"),upload:Hs(t,"upload")},r=e.decision?.confidenceAvg??0;let i;r>=.7?i={high:Math.round(r*100),medium:Math.round((1-r)*50),low:Math.round((1-r)*50)}:r>=.4?i={high:Math.round((r-.4)*100),medium:Math.round(r*100),low:Math.round((1-r)*100)}:i={high:0,medium:Math.round(r*50),low:Math.round(r*100)};const s=i.high+i.medium+i.low;s>0&&(i={high:Math.round(i.high/s*100),medium:Math.round(i.medium/s*100),low:Math.round(i.low/s*100)});const o=e.decision?.outcomes,l={applied:Hs(o,"applied"),blocked:Hs(o,"blocked"),escalated:Hs(o,"escalated")},c=e.funnel,u=c?.requested??0,h=c?.validated??0,p=c?.planned??0,g=c?.executed??0,x=c?.failed??0,b=u||1,v={intent:100,generated:Math.round(h/b*100),confirmed:Math.round(p/b*100),persisted:Math.round(g/b*100),compliant:Math.round((g-x)/b*100)},w=e.compliance?.trend7d??[];let N="stable";if(w.length>=2){const O=w[0]??0,I=w[w.length-1]??0;I>O+2?N="up":I<O-2&&(N="down")}const S=e.compliance?.missedReasons,A={fatigue:Hs(S,"fatigue"),skipped:Hs(S,"skipped"),conflict:Hs(S,"conflict")},T=e.safety?.loadRiskPct??0,C=T<30?"safe":T<70?"watch":"high",E=(e.safety?.recoveryAlignedPct??0)>=50;return{intentDistribution:n,confidence:i,outcomes:l,funnel:v,compliance:{executedPct:e.compliance?.executedPct??0,missedReasons:A,trend:N},safety:{loadRisk:C,recoveryAligned:E,summary:e.safety?.summary??""},rag:{usagePct:e.rag?.usagePct??0,avgConfidence:e.rag?.avgConfidence??0,fallbackRate:e.rag?.fallbackRate??0,safetyBlocks:e.rag?.safetyBlocks??0},conversation:{avgTurns:e.conversation?.avgTurns??0,summariesPerConv:e.conversation?.summariesPerConversation??0,compressionRatio:e.conversation?.compressionRatio??0},audit:{tracedPct:e.audit?.tracedPct??0,confirmedWritesPct:e.audit?.confirmedWritesPct??0,auditedToolsPct:e.audit?.auditedToolsPct??0}}}function X$e(){const e=typeof window<"u"&&window.location.hostname.includes("lovable"),{data:t,isLoading:n,error:r}=Y$e(!e);let i;if(e)i=pE;else try{i=Z$e(t??null)}catch(s){console.error("[AiDashboard] Error mapping backend data:",s),i=pE}return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"AI System Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Decision quality, safety, and behavioral health"})]}),a.jsx(ln,{variant:"outline",className:"w-fit",children:"Internal  Read-only"})]}),!e&&n&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading AI system metrics"}),!e&&r&&a.jsx("p",{className:"text-sm text-destructive",children:"AI metrics unavailable"}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Decision Analytics"}),a.jsx(W$e,{intentDistribution:i.intentDistribution,confidence:i.confidence,outcomes:i.outcomes})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Planning Funnel"}),a.jsx(q$e,{funnel:i.funnel})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Compliance"}),a.jsx(U$e,{executedPct:i.compliance.executedPct,missedReasons:i.compliance.missedReasons,trend:i.compliance.trend})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Load & Recovery Safety"}),a.jsx(V$e,{loadRisk:i.safety.loadRisk,recoveryAligned:i.safety.recoveryAligned,summary:i.safety.summary})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"RAG Performance"}),a.jsx(H$e,{usagePct:i.rag.usagePct,avgConfidence:i.rag.avgConfidence,fallbackRate:i.rag.fallbackRate,safetyBlocks:i.rag.safetyBlocks})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Conversation Health"}),a.jsx(K$e,{avgTurns:i.conversation.avgTurns,summariesPerConv:i.conversation.summariesPerConv,compressionRatio:i.conversation.compressionRatio})]}),a.jsxs("section",{children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Audit & Traceability"}),a.jsx(G$e,{tracedPct:i.audit.tracedPct,confirmedWritesPct:i.audit.confirmedWritesPct,auditedToolsPct:i.audit.auditedToolsPct})]})]})]})})}function Q$e(){const[e,t]=j.useState(""),[n,r]=j.useState(!1),[i,s]=j.useState(null),[o,l]=j.useState(null),[c,u]=j.useState([]),[h,p]=j.useState(null),[g,x]=j.useState([]),[b,v]=j.useState(50),[w,N]=j.useState(0),[S,A]=j.useState(null),[T,C]=j.useState("asc"),[E,O]=j.useState({}),I=j.useCallback(()=>(typeof window<"u"&&(window.location.protocol==="capacitor:"||window.location.origin==="capacitor://localhost"||window.location.href.startsWith("capacitor://")),"https://virtus-ai.onrender.com"),[]),F=j.useCallback(async(q,H)=>{const ne=I(),se=await fetch(`${ne}${q}`,{credentials:"include",headers:{"Content-Type":"application/json",...H?.headers||{}},...H});if(!se.ok){const de=await se.json().catch(()=>({})),me=typeof de.detail=="string"?de.detail:`${se.status} ${se.statusText}`;throw new Error(me)}return se.json()},[I]),W=j.useCallback(async()=>{r(!0),l(null);try{const q=await F("/admin/sql/tables");u(q)}catch(q){l({error:"Failed to load tables",detail:q instanceof Error?q.message:String(q)})}finally{r(!1)}},[F]),$=j.useCallback(async q=>{p(q),N(0),r(!0),l(null),A(null),C("asc"),O({});try{const H=await F(`/admin/sql/tables/${encodeURIComponent(q.schema)}/${encodeURIComponent(q.name)}/columns`);x(H);const ne=await F("/admin/sql/table-preview",{method:"POST",body:JSON.stringify({schema:q.schema,table:q.name,limit:b,offset:0})});s(ne)}catch(H){l({error:"Failed to load table",detail:H instanceof Error?H.message:String(H)})}finally{r(!1)}},[F,b]),z=j.useCallback(async()=>{if(!h)return;const q=w+b;N(q),r(!0);try{const H=await F("/admin/sql/table-preview",{method:"POST",body:JSON.stringify({schema:h.schema,table:h.name,limit:b,offset:q})});s(H)}catch(H){l({error:"Failed to load next page",detail:H instanceof Error?H.message:String(H)})}finally{r(!1)}},[F,h,b,w]),V=j.useCallback(async()=>{if(!h)return;const q=Math.max(0,w-b);N(q),r(!0);try{const H=await F("/admin/sql/table-preview",{method:"POST",body:JSON.stringify({schema:h.schema,table:h.name,limit:b,offset:q})});s(H)}catch(H){l({error:"Failed to load previous page",detail:H instanceof Error?H.message:String(H)})}finally{r(!1)}},[F,h,b,w]),U=j.useCallback(async()=>{if(!e.trim()){l({error:"Please enter a SQL query"});return}r(!0),l(null),s(null),A(null),C("asc"),O({});try{const q=I(),H=`${q}/admin/sql/query`;console.log("[AdminAnalytics] Executing SQL query:",{endpoint:H,baseURL:q});const ne=await fetch(H,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({sql:e.trim()})});if(!ne.ok){const de=await ne.json().catch(()=>({}));let me=`HTTP ${ne.status}: ${ne.statusText}`,fe=typeof de.detail=="string"?de.detail:void 0;console.error("[AdminAnalytics] Query failed:",{status:ne.status,statusText:ne.statusText,endpoint:H,errorData:de}),ne.status===404?(me="Endpoint not found",fe=`The endpoint /api/admin/sql/query is not available on the backend server (${q}). Please ensure the backend API has this endpoint implemented.`):ne.status===403?(me="Access denied",fe="You do not have permission to execute SQL queries. Admin access is required."):ne.status===401&&(me="Authentication required",fe="Please log in to access this feature."),l({error:me,detail:fe});return}const se=await ne.json();s(se)}catch(q){l({error:"Failed to execute query",detail:q instanceof Error?q.message:"Unknown error"})}finally{r(!1)}},[e,I]),te=j.useCallback(q=>{(q.metaKey||q.ctrlKey)&&q.key==="Enter"&&(q.preventDefault(),U())},[U]),Q=q=>q===null?"NULL":typeof q=="boolean"?q?"true":"false":typeof q=="object"?JSON.stringify(q):String(q),J=j.useMemo(()=>{if(!i||!i.rows||i.rows.length===0)return[];let q=i.rows;const H=Object.entries(E).filter(([ne,se])=>se.trim()!=="");if(H.length>0&&(q=q.filter(ne=>H.every(([se,de])=>{const me=i.columns.indexOf(se);return me===-1?!0:Q(ne[me]).toLowerCase().includes(de.toLowerCase())}))),S){const ne=i.columns.indexOf(S);ne!==-1&&(q=[...q].sort((se,de)=>{const me=se[ne],fe=de[ne];if(me===null&&fe===null)return 0;if(me===null)return 1;if(fe===null)return-1;let _e=0;if(typeof me=="number"&&typeof fe=="number")_e=me-fe;else{const he=Q(me),be=Q(fe);_e=he.localeCompare(be)}return T==="asc"?_e:-_e}))}return q},[i,E,S,T]),G=j.useCallback(q=>{S===q?C(T==="asc"?"desc":"asc"):(A(q),C("asc"))},[S,T]),ee=j.useCallback((q,H)=>{O(ne=>{const se={...ne};return H.trim()===""?delete se[q]:se[q]=H,se})},[]),X=j.useCallback(()=>{O({}),A(null),C("asc")},[]);return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold text-primary",children:"Admin Analytics"}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run SQL queries against the database"})]}),a.jsx(ln,{variant:"outline",className:"self-start sm:self-auto text-muted-foreground border-muted-foreground/30",children:"Admin  SQL Query"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[320px_1fr] gap-6",children:[a.jsxs(et,{children:[a.jsxs(Ye,{className:"pb-3",children:[a.jsx(Je,{className:"text-base font-medium",children:"Tables"}),a.jsx(kr,{children:"Browse schema"})]}),a.jsxs($e,{className:"space-y-3",children:[a.jsx(Se,{onClick:W,disabled:n,className:"w-full",variant:"outline",children:n?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Loading..."]}):"Load tables"}),c.length>0&&a.jsx("div",{className:"max-h-[520px] overflow-auto border rounded-md",children:c.map(q=>{const H=h?.schema===q.schema&&h?.name===q.name;return a.jsxs("button",{onClick:()=>$(q),className:`w-full text-left px-3 py-2 text-sm font-mono border-b last:border-b-0 hover:bg-muted/40 transition-colors ${H?"bg-muted":""}`,children:[q.schema,".",q.name]},`${q.schema}.${q.name}`)})}),h&&a.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs(Se,{variant:"outline",size:"sm",onClick:V,disabled:n||w===0,className:"flex-1",children:[a.jsx(bE,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsxs("span",{className:"text-xs text-muted-foreground font-mono px-2",children:[w,"+"]}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:z,disabled:n,className:"flex-1",children:["Next",a.jsx(rw,{className:"h-4 w-4 ml-1"})]})]}),g.length>0&&a.jsxs("div",{className:"text-xs text-muted-foreground",children:[g.length," ",g.length===1?"column":"columns"]})]})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs(Je,{className:"text-base font-medium flex items-center gap-2",children:[a.jsx(aw,{className:"h-4 w-4"}),"SQL Query"]})}),a.jsxs($e,{className:"space-y-4",children:[a.jsx(cl,{value:e,onChange:q=>t(q.target.value),onKeyDown:te,placeholder:"SELECT * FROM users LIMIT 10;",className:"font-mono text-sm min-h-[150px] resize-y",disabled:n}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:"Press +Enter to run"}),a.jsx(Se,{onClick:U,disabled:n||!e.trim(),className:"gap-2",children:n?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 animate-spin"}),"Running..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Gte,{className:"h-4 w-4"}),"Run Query"]})})]})]})]}),o&&a.jsxs(uo,{variant:"destructive",children:[a.jsx(Fa,{className:"h-4 w-4"}),a.jsx(l2,{children:o.error}),o.detail&&a.jsx(fo,{className:"mt-2 font-mono text-xs",children:o.detail})]}),i&&a.jsxs(et,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-base font-medium",children:"Results"}),a.jsxs("div",{className:"flex items-center gap-2",children:[(Object.keys(E).length>0||S)&&a.jsx(Se,{variant:"outline",size:"sm",onClick:X,className:"h-7 text-xs",children:"Clear Filters"}),a.jsxs(ln,{variant:"secondary",children:[J.length," / ",i.row_count," ",i.row_count===1?"row":"rows"]})]})]})}),a.jsx($e,{children:i.rows.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Query executed successfully. No rows returned."}):a.jsx("div",{className:"overflow-x-auto border rounded-md",children:a.jsxs(Yb,{children:[a.jsxs(Zb,{children:[a.jsx(Ys,{children:i.columns.map((q,H)=>{const ne=S===q;return a.jsx(os,{className:"font-mono text-xs whitespace-nowrap bg-muted/50",children:a.jsxs("button",{onClick:()=>G(q),className:"flex items-center gap-1 hover:text-primary transition-colors w-full text-left",children:[q,ne?T==="asc"?a.jsx(kte,{className:"h-3 w-3"}):a.jsx(gW,{className:"h-3 w-3"}):a.jsx(Ate,{className:"h-3 w-3 opacity-30"})]})},H)})}),a.jsx(Ys,{children:i.columns.map((q,H)=>a.jsx(os,{className:"p-1 bg-muted/30",children:a.jsxs("div",{className:"relative",children:[a.jsx(ft,{type:"text",placeholder:`Filter ${q}`,value:E[q]||"",onChange:ne=>ee(q,ne.target.value),className:"h-7 text-xs font-mono"}),E[q]&&a.jsx(Dte,{className:"absolute right-2 top-1/2 -translate-y-1/2 h-3 w-3 text-primary"})]})},H))})]}),a.jsx(Xb,{children:J.length===0?a.jsx(Ys,{children:a.jsx(Ta,{colSpan:i.columns.length,className:"text-center py-8 text-muted-foreground",children:"No rows match the current filters."})}):J.map((q,H)=>a.jsx(Ys,{children:q.map((ne,se)=>a.jsx(Ta,{className:`font-mono text-xs whitespace-nowrap ${ne===null?"text-muted-foreground italic":""}`,children:Q(ne)},se))},H))})]})})})]})]})]})]})})}const J$e={run:vs,ride:ov,swim:fv},eBe={run:"Running",ride:"Cycling",swim:"Swimming"};function tBe({workout:e}){const{convertDistance:t,formatDistance:n}=Ps(),r=J$e[e.sport]||vs,i=c=>{if(!c)return"N/A";const u=Math.floor(c/3600),h=Math.floor(c%3600/60);return u>0?`${u}h ${h}m`:`${h}m`},s={pending:{icon:st,label:"Parsing...",variant:"secondary",className:"animate-spin"},parsed:{icon:Ar,label:"Parsed",variant:"default",className:"text-green-600"},ambiguous:{icon:ni,label:"Approximate",variant:"secondary",className:"text-yellow-600"},failed:{icon:Wu,label:"Unavailable",variant:"outline",className:"text-gray-500"}},o=s[e.parse_status]||s.failed,l=o?.icon||Wu;return a.jsx("div",{className:"flex items-start justify-between gap-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-lg bg-muted",children:a.jsx(r,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h2",{className:"text-xl font-semibold text-primary",children:eBe[e.sport]}),a.jsxs(ln,{variant:o.variant,className:"gap-1",children:[a.jsx(l,{className:`h-3 w-3 ${o.className}`}),o.label]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.total_distance_meters!==null&&a.jsxs("span",{children:["Distance: ",n(t(e.total_distance_meters/1e3))]}),e.total_duration_seconds!==null&&a.jsxs("span",{children:["Duration: ",i(e.total_duration_seconds)]})]})]})]})})}const nBe={hit:"bg-green-500",short:"bg-orange-500",over:"bg-blue-500"},rBe={hit:Ar,short:ni,over:Ac};function iBe({steps:e,comparison:t,totalDistanceMeters:n,totalDurationSeconds:r}){const i=j.useMemo(()=>{const l=new Map;return t.forEach(c=>{l.set(c.step_id,c)}),l},[t]),s=j.useMemo(()=>[...e].sort((l,c)=>l.order-c.order),[e]),o=j.useMemo(()=>n!==null?n:r!==null?r:null,[n,r]);return!o||s.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"Execution data unavailable"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"text-sm font-medium",children:"Planned vs Executed"}),a.jsx("div",{className:"space-y-3",children:s.map(l=>{const c=i.get(l.id);if(!c)return null;const u=c.planned_distance!==null?c.planned_distance:l.distance_meters!==null?l.distance_meters:l.duration_seconds!==null?l.duration_seconds:0,h=c.executed_distance!==null?c.executed_distance:0,p=o>0?u/o*100:0,g=o>0?h/o*100:0,x=rBe[c.status],b=nBe[c.status];return a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:l.name||`Step ${l.order}`}),a.jsxs(ln,{variant:"outline",className:"gap-1",children:[a.jsx(x,{className:re("h-3 w-3",b.replace("bg-","text-"))}),c.status==="hit"&&"Hit",c.status==="short"&&"Short",c.status==="over"&&"Over",c.delta_pct!==null&&` (${c.delta_pct>0?"+":""}${c.delta_pct.toFixed(1)}%)`]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("div",{className:"relative h-3 bg-muted rounded overflow-hidden",children:a.jsx("div",{className:"h-full bg-primary/30",style:{width:`${p}%`},title:"Planned"})}),a.jsx("div",{className:"relative h-3 bg-muted rounded overflow-hidden",children:a.jsx("div",{className:re("h-full",b),style:{width:`${g}%`},title:"Executed"})})]})]},l.id)})})]})}const aBe=[{value:"warmup",label:"Warmup"},{value:"steady",label:"Steady"},{value:"interval",label:"Interval"},{value:"recovery",label:"Recovery"},{value:"cooldown",label:"Cooldown"},{value:"rest",label:"Rest"},{value:"tempo",label:"Tempo"},{value:"threshold",label:"Threshold"},{value:"free",label:"Free Run"}],sBe=[{value:"easy",label:"Easy"},{value:"recovery",label:"Recovery"},{value:"rest",label:"Rest"},{value:"steady",label:"Steady"},{value:"tempo",label:"Tempo"},{value:"lt2",label:"LT2"},{value:"threshold",label:"Threshold"},{value:"vo2",label:"VO2"},{value:"flow",label:"Flow"}],oBe=[{value:"pace",label:"Pace"},{value:"hr",label:"Heart Rate"},{value:"power",label:"Power"},{value:"rpe",label:"RPE"}];function lBe({step:e,onUpdate:t,onDelete:n,errors:r}){const i=S=>{t({...e,name:S})},s=S=>{t({...e,kind:S,type:S})},o=S=>{t({...e,intensity:S})},l=S=>{const A=S?parseInt(S,10)*60:null;t({...e,duration_seconds:A,distance_meters:null})},c=S=>{const A=S?parseFloat(S)*1e3:null;t({...e,distance_meters:A,duration_seconds:null})},u=S=>{const A=S==="__none__"?"":S,T=A==="pace"?"min/km":A==="hr"?"bpm":A==="power"?"W":"RPE";t({...e,target:{...e.target,type:A||void 0,unit:A?T:void 0},target_type:A||null,target_metric:A||void 0})},h=S=>{const A=S?parseFloat(S):null;t({...e,target:{...e.target,min:A},target_min:A??void 0})},p=S=>{const A=S?parseFloat(S):null;t({...e,target:{...e.target,max:A},target_max:A??void 0})},g=e.duration_seconds?Math.round(e.duration_seconds/60):"",x=e.distance_meters?(e.distance_meters/1e3).toFixed(2):"",v=e.target?.type||e.target_type||""||"__none__",w=e.target?.min??e.target_min??"",N=e.target?.max??e.target_max??"";return a.jsxs("div",{className:"grid grid-cols-12 gap-4 items-start p-4 border rounded-lg bg-card",children:[a.jsx("div",{className:"col-span-1 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:e.order})}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Fe,{htmlFor:`step-${e.id}-name`,className:"text-xs",children:"Name"}),a.jsx(ft,{id:`step-${e.id}-name`,value:e.name,onChange:S=>i(S.target.value),placeholder:"Step name",className:"mt-1"})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Fe,{htmlFor:`step-${e.id}-kind`,className:"text-xs",children:"Kind"}),a.jsxs(gi,{value:e.kind||e.type,onValueChange:s,children:[a.jsx(ei,{id:`step-${e.id}-kind`,className:"mt-1",children:a.jsx(vi,{placeholder:"Kind"})}),a.jsx(ti,{children:aBe.map(S=>a.jsx(Tt,{value:S.value,children:S.label},S.value))})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Fe,{htmlFor:`step-${e.id}-intensity`,className:"text-xs",children:"Intensity"}),a.jsxs(gi,{value:e.intensity||"",onValueChange:o,children:[a.jsx(ei,{id:`step-${e.id}-intensity`,className:"mt-1",children:a.jsx(vi,{placeholder:"Intensity"})}),a.jsx(ti,{children:sBe.map(S=>a.jsx(Tt,{value:S.value,children:S.label},S.value))})]})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Fe,{htmlFor:`step-${e.id}-duration`,className:"text-xs",children:"Duration (min)"}),a.jsx(ft,{id:`step-${e.id}-duration`,type:"number",value:g,onChange:S=>l(S.target.value),placeholder:"Minutes",className:"mt-1",disabled:!!e.distance_meters}),r?.duration&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:r.duration})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx(Fe,{htmlFor:`step-${e.id}-distance`,className:"text-xs",children:"Distance (km)"}),a.jsx(ft,{id:`step-${e.id}-distance`,type:"number",step:"0.1",value:x,onChange:S=>c(S.target.value),placeholder:"Kilometers",className:"mt-1",disabled:!!e.duration_seconds}),r?.distance&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:r.distance})]}),a.jsx("div",{className:"col-span-1",children:a.jsx(Se,{type:"button",variant:"ghost",size:"icon",onClick:n,className:"text-destructive hover:text-destructive",children:a.jsx(jE,{className:"h-4 w-4"})})}),a.jsx("div",{className:"col-span-12 mt-2 pt-2 border-t",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(Fe,{htmlFor:`step-${e.id}-target-type`,className:"text-xs",children:"Target Type"}),a.jsxs(gi,{value:v,onValueChange:u,children:[a.jsx(ei,{id:`step-${e.id}-target-type`,className:"mt-1",children:a.jsx(vi,{placeholder:"None"})}),a.jsxs(ti,{children:[a.jsx(Tt,{value:"__none__",children:"None"}),oBe.map(S=>a.jsx(Tt,{value:S.value,children:S.label},S.value))]})]})]}),v!=="__none__"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx(Fe,{htmlFor:`step-${e.id}-target-min`,className:"text-xs",children:"Min"}),a.jsx(ft,{id:`step-${e.id}-target-min`,type:"number",step:"0.1",value:w,onChange:S=>h(S.target.value),placeholder:"Min",className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(Fe,{htmlFor:`step-${e.id}-target-max`,className:"text-xs",children:"Max"}),a.jsx(ft,{id:`step-${e.id}-target-max`,type:"number",step:"0.1",value:N,onChange:S=>p(S.target.value),placeholder:"Max",className:"mt-1"}),r?.target&&a.jsx("p",{className:"text-xs text-destructive mt-1",children:r.target})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("span",{className:"text-xs text-muted-foreground",children:e.target?.unit||(v==="pace"?"min/km":v==="hr"?"bpm":"W")})})]})]})})]})}function cBe({step:e,onUpdate:t,onDelete:n,errors:r}){const{attributes:i,listeners:s,setNodeRef:o,transform:l,transition:c,isDragging:u}=IIe({id:e.id}),h={transform:Nc.Transform.toString(l),transition:c,opacity:u?.5:1};return a.jsxs("div",{ref:o,style:h,className:"relative",children:[a.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 -translate-x-8 cursor-grab active:cursor-grabbing",children:a.jsx("div",{...i,...s,children:a.jsx(Lte,{className:"h-5 w-5 text-muted-foreground"})})}),a.jsx(lBe,{step:e,onUpdate:t,onDelete:n,errors:r})]})}function uBe({steps:e,onSave:t,onCancel:n,isSaving:r=!1}){const[i,s]=j.useState(()=>e.map((v,w)=>({...v,order:w+1}))),[o,l]=j.useState({}),c=uRe(Uz(hM),Uz(dM,{coordinateGetter:FIe})),u=v=>{const{active:w,over:N}=v;N&&w.id!==N.id&&s(S=>{const A=S.findIndex(E=>E.id===w.id),T=S.findIndex(E=>E.id===N.id);return mM(S,A,T).map((E,O)=>({...E,order:O+1}))})},h=v=>{s(w=>w.map(N=>N.id===v.id?v:N)),l(w=>{const N={...w};return delete N[v.id],N})},p=v=>{s(w=>w.filter(S=>S.id!==v).map((S,A)=>({...S,order:A+1}))),l(w=>{const N={...w};return delete N[v],N})},g=()=>{const v={};for(const w of i){const N={};!w.duration_seconds&&!w.distance_meters&&(N.duration="Must have either duration or distance",N.distance="Must have either duration or distance"),w.target?w.target.min!==null&&w.target.max!==null&&w.target.min>w.target.max&&(N.target="Min cannot be greater than max"):w.target_min!==void 0&&w.target_max!==void 0&&w.target_min>w.target_max&&(N.target="Min cannot be greater than max"),Object.keys(N).length>0&&(v[w.id]=N)}return l(v),Object.keys(v).length===0},x=async()=>{if(g())try{await t(i)}catch(v){console.error("Failed to save steps:",v)}},b=Object.keys(o).length>0;return a.jsx("div",{className:"space-y-4",children:a.jsxs(et,{variant:"blue",className:"rounded-xl p-6 space-y-4",children:[a.jsx(uo,{children:a.jsx(fo,{children:"Editing steps directly. Groups are recalculated automatically after saving."})}),a.jsx(eZ,{sensors:c,collisionDetection:FY,onDragEnd:u,children:a.jsx(oZ,{items:i.map(v=>v.id),strategy:iZ,children:a.jsx("div",{className:"space-y-4",children:i.map(v=>a.jsx(cBe,{step:v,onUpdate:h,onDelete:()=>p(v.id),errors:o[v.id]},v.id))})})}),i.length===0&&a.jsx(uo,{children:a.jsx(fo,{children:"No steps remaining. Add steps or cancel to restore."})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:b&&a.jsx("span",{className:"text-destructive",children:"Please fix errors before saving"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Se,{variant:"outline",onClick:n,disabled:r,children:"Cancel"}),a.jsx(Se,{onClick:x,disabled:r||b||i.length===0,children:r?"Saving...":"Save Changes"})]})]})]})})}function dBe({parseStatus:e}){if(e==="parsed"||!e)return null;const t={pending:{icon:st,message:"Generating structured steps",variant:"default"},ambiguous:{icon:ni,message:"Some steps may be approximate",variant:"default"},failed:{icon:Fa,message:"Structured steps unavailable. Raw notes used.",variant:"destructive"}},n=t[e]||t.failed,r=n?.icon||Fa;return a.jsxs(uo,{variant:n.variant,children:[a.jsx(r,{className:`h-4 w-4 ${e==="pending"?"animate-spin":""}`}),a.jsx(fo,{children:n.message})]})}const fBe=({children:e,...t})=>Kpe()?a.jsx(et,{...t,children:e}):a.jsx(Tn.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.18,ease:"easeOut"},whileHover:{y:-2},children:a.jsx(et,{...t,children:e})});function hBe(){const{workoutId:e}=Lq(),t=L1(e),n=tr(),r=bi(),[i,s]=j.useState(!1),[o,l]=j.useState(!1);if(t.status==="loading")return a.jsx(Yn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})})});if(t.status==="error")return a.jsx(Yn,{children:a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("p",{children:"Unable to load workout"}),a.jsx("p",{className:"text-xs mt-2",children:t.error})]})});const{data:c}=t,{workout:u,steps:h,groups:p=[],structured_available:g,comparison:x}=c,b=(()=>{if(!h||h.length===0)return;if(h.some(S=>{const A=S.intensity?.toLowerCase()||"";return A.includes("threshold")||A.includes("vo2")||A.includes("hill")||A.includes("interval")})){const S=h.map(A=>A.intensity?.toLowerCase()).filter(Boolean);if(S.some(A=>A.includes("vo2")||A.includes("hill")))return"vo2";if(S.some(A=>A.includes("threshold")))return"threshold"}})(),v=async N=>{if(e){l(!0);try{const S=await r5e(e,N);await n.invalidateQueries({queryKey:["structuredWorkout",e]}),n.setQueryData(["structuredWorkout",e],{status:"ready",data:S}),Le({title:"Workout updated",description:"Steps have been saved successfully."}),s(!1)}catch(S){throw console.error("Failed to save steps:",S),Le({title:"Failed to save",description:S instanceof Error?S.message:"An error occurred while saving steps.",variant:"destructive"}),S}finally{l(!1)}}},w=()=>{s(!1)};return a.jsx(Yn,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsx(fBe,{variant:"raised",glowIntensity:b,children:a.jsx(Ye,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx(tBe,{workout:u}),a.jsxs("div",{className:"flex items-center gap-2",children:[g&&h.length>0&&!i&&a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>s(!0),children:[a.jsx(Kte,{className:"h-4 w-4 mr-2"}),"Edit Steps"]}),i&&a.jsxs(Se,{variant:"outline",size:"sm",onClick:w,disabled:o,children:[a.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Cancel"]}),a.jsxs(Se,{variant:"outline",size:"sm",onClick:()=>r(`/workout/${u.id}/share`),children:[a.jsx(Pk,{className:"h-4 w-4 mr-2"}),"Share Card"]}),a.jsx(eQ,{workoutId:u.id})]})]})})}),!g&&h.length===0&&a.jsx(dBe,{parseStatus:u.parse_status}),g&&h.length>0&&!i&&a.jsxs(a.Fragment,{children:[a.jsx(Ot,{children:a.jsx($e,{className:"pt-6",children:a.jsx(QX,{steps:h,totalDistanceMeters:u.total_distance_meters,totalDurationSeconds:u.total_duration_seconds})})}),x&&x.length>0&&a.jsx(Ot,{children:a.jsx($e,{className:"pt-6",children:a.jsx(iBe,{steps:h,comparison:x,totalDistanceMeters:u.total_distance_meters,totalDurationSeconds:u.total_duration_seconds})})}),a.jsx(Ot,{children:a.jsx($e,{className:"pt-6",children:a.jsx(JX,{steps:h,groups:p})})})]}),i&&g&&h.length>0&&a.jsx(Ot,{children:a.jsx($e,{className:"pt-6",children:a.jsx(uBe,{steps:h,onSave:v,onCancel:w,isSaving:o})})}),!g&&h.length===0&&a.jsx(Ot,{children:a.jsx($e,{className:"pt-6",children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx("p",{children:"No structured steps available"}),u.parse_status==="pending"&&a.jsx("p",{className:"text-xs mt-2",children:"Steps are being generated..."}),u.parse_status==="failed"&&a.jsx("p",{className:"text-xs mt-2",children:"Unable to parse workout steps"})]})})})]})})}const pBe={run:"Run",ride:"Ride",swim:"Swim"},mBe=e=>{if(!e||!Number.isFinite(e))return null;const t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=Math.floor(e%60);return t>0?`${t}:${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`:`${n}:${r.toString().padStart(2,"0")}`},gBe=(e,t)=>{const n=Math.round(e*60),r=Math.floor(n/60),i=n%60,s=t==="min/mi"?"/mi":"/km";return`${r}:${i.toString().padStart(2,"0")} ${s}`};function vBe(){const{workoutId:e}=Lq(),[t]=Uq(),n=j.useRef(null),[r,i]=j.useState(!1),{convertDistance:s,convertPace:o}=Ps(),l=L1(e),c=j.useMemo(()=>({title:t.get("title"),distance:t.get("distance"),time:t.get("time"),pace:t.get("pace"),type:t.get("type"),tss:t.get("tss"),activityId:t.get("activityId")}),[t]),{data:u}=Mt({queryKey:["activities","share",e],queryFn:()=>xi({limit:200}),retry:1,enabled:!!e,staleTime:300*1e3,gcTime:1800*1e3}),h=j.useMemo(()=>!u||!e?null:u.find(v=>v.workout_id===e)||null,[u,e]),p=c.activityId||h?.id||null,{data:g}=Mt({queryKey:["activityStreams","share",p],queryFn:()=>Bh(p),retry:1,enabled:!!p,staleTime:900*1e3,gcTime:1800*1e3}),x=j.useMemo(()=>{if(l.status!=="ready")return c.title||c.distance||c.time||c.pace?{title:c.title??"Workout",distance:c.distance??null,time:c.time??null,pace:c.pace??null,typeLabel:c.type??"Workout",tss:c.tss??null}:null;const{workout:v}=l.data,w=pBe[v.sport]??"Workout",N=v.total_distance_meters?v.total_distance_meters/1e3:null,S=v.total_duration_seconds??null,A=N?(()=>{const E=s(N);return`${E.value.toFixed(1)} ${E.unit}`})():null,T=mBe(S),C=N&&S?(()=>{const E=S/60/N,O=o(E);return gBe(O.value,O.unit)})():null;return{title:c.title??w,distance:c.distance??A,time:c.time??T,pace:c.pace??C,typeLabel:c.type??w,tss:c.tss??null}},[c,l,s,o]),b=async()=>{if(!n.current||!x)return;i(!0);const w=new XMLSerializer().serializeToString(n.current),N=new Blob([w],{type:"image/svg+xml;charset=utf-8"}),S=URL.createObjectURL(N),A=new Image;A.onload=()=>{const T=document.createElement("canvas");T.width=1200,T.height=630;const C=T.getContext("2d");if(!C){URL.revokeObjectURL(S),i(!1);return}C.drawImage(A,0,0,T.width,T.height),T.toBlob(E=>{if(!E){URL.revokeObjectURL(S),i(!1);return}const O=URL.createObjectURL(E),I=document.createElement("a");I.href=O,I.download=`${e||"workout"}-share.png`,document.body.appendChild(I),I.click(),document.body.removeChild(I),URL.revokeObjectURL(O),URL.revokeObjectURL(S),i(!1)},"image/png")},A.onerror=()=>{URL.revokeObjectURL(S),i(!1)},A.src=S};return l.status==="loading"&&!x?a.jsx(Yn,{children:a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(st,{className:"h-6 w-6 animate-spin text-muted-foreground"})})}):l.status==="error"&&!x?a.jsx(Yn,{children:a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx("p",{children:"Unable to load workout"}),a.jsx("p",{className:"text-xs mt-2",children:l.error})]})}):x?a.jsx(Yn,{children:a.jsxs("div",{className:"flex flex-col items-center gap-6 py-10",children:[a.jsx("div",{className:"w-full max-w-5xl",children:a.jsx(xZ,{title:x.title,distance:x.distance,time:x.time,pace:x.pace,typeLabel:x.typeLabel,tss:x.tss,routePoints:g?.route_points??null,paceStream:g?.pace??null,elevationStream:g?.elevation??null,variant:"share",svgRef:n})}),a.jsx(Se,{onClick:b,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Exporting..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Eh,{className:"h-4 w-4 mr-2"}),"Download PNG"]})})]})}):a.jsx(Yn,{children:a.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No workout data available."})})}function yBe(){const[e,t]=j.useState(""),[n,r]=j.useState(""),[i,s]=j.useState(""),[o,l]=j.useState(""),[c,u]=j.useState({status:"idle",message:""}),h=async p=>{p.preventDefault(),u({status:"loading",message:""});try{const g=await nt.post("/support",{name:e,email:n,subject:i,message:o});if(g.success)u({status:"success",message:g.message||"Your message has been sent successfully!"}),t(""),r(""),s(""),l("");else throw new Error("Failed to send message")}catch(g){console.error("[Support] Failed to send message:",g),u({status:"error",message:"Failed to send your message. Please try again or email support@athletespace.ai directly."})}};return a.jsx(lp,{children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-12",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Contact Support"}),a.jsx("p",{className:"text-muted-foreground",children:"Have a question or need help? We're here for you."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-10",children:[a.jsxs(Ot,{className:"text-center",children:[a.jsxs(Ye,{className:"pb-2",children:[a.jsx(Iu,{className:"h-8 w-8 mx-auto text-primary mb-2"}),a.jsx(Je,{className:"text-base",children:"Email Us"})]}),a.jsx($e,{children:a.jsx("a",{href:"mailto:support@athletespace.ai",className:"text-sm text-primary hover:underline",children:"support@athletespace.ai"})})]}),a.jsxs(Ot,{className:"text-center",children:[a.jsxs(Ye,{className:"pb-2",children:[a.jsx(ps,{className:"h-8 w-8 mx-auto text-primary mb-2"}),a.jsx(Je,{className:"text-base",children:"Response Time"})]}),a.jsx($e,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Usually within 24 hours"})})]}),a.jsxs(Ot,{className:"text-center",children:[a.jsxs(Ye,{className:"pb-2",children:[a.jsx(wE,{className:"h-8 w-8 mx-auto text-primary mb-2"}),a.jsx(Je,{className:"text-base",children:"Help Center"})]}),a.jsx($e,{children:a.jsx("a",{href:"/faq",className:"text-sm text-primary hover:underline",children:"Browse FAQ"})})]})]}),a.jsxs(Ot,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Send a Message"}),a.jsx(kr,{children:"Fill out the form below and we'll get back to you as soon as possible."})]}),a.jsx($e,{children:a.jsxs("form",{onSubmit:h,className:"space-y-4",children:[a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"name",children:"Name"}),a.jsx(ft,{id:"name",placeholder:"Your name",value:e,onChange:p=>t(p.target.value),required:!0,disabled:c.status==="loading"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"email",children:"Email"}),a.jsx(ft,{id:"email",type:"email",placeholder:"your@email.com",value:n,onChange:p=>r(p.target.value),required:!0,disabled:c.status==="loading"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"subject",children:"Subject"}),a.jsx(ft,{id:"subject",placeholder:"How can we help?",value:i,onChange:p=>s(p.target.value),required:!0,disabled:c.status==="loading"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Fe,{htmlFor:"message",children:"Message"}),a.jsx(cl,{id:"message",placeholder:"Describe your issue or question...",rows:5,value:o,onChange:p=>l(p.target.value),required:!0,disabled:c.status==="loading"})]}),c.status==="success"&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 dark:bg-green-950/30 text-green-700 dark:text-green-400 rounded-lg",children:[a.jsx(bW,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c.message})]}),c.status==="error"&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 dark:bg-red-950/30 text-red-700 dark:text-red-400 rounded-lg",children:[a.jsx(Fa,{className:"h-5 w-5 flex-shrink-0"}),a.jsx("p",{className:"text-sm",children:c.message})]}),a.jsx(Se,{type:"submit",className:"w-full sm:w-auto",disabled:c.status==="loading",children:c.status==="loading"?a.jsxs(a.Fragment,{children:[a.jsx(st,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):"Send Message"})]})})]})]})})}const xBe=new yae({defaultOptions:{queries:{enabled:!1,retry:(e,t)=>{if(t&&typeof t=="object"){const n=t;if(n.status===401||n.code==="ERR_NETWORK"||n.code==="ECONNABORTED"||n.message&&(n.message.includes("CORS")||n.message.includes("timeout")||n.message.includes("timed out")||n.message.includes("Authentication required")))return!1}return e<1},refetchOnWindowFocus:!1,staleTime:300*1e3,gcTime:1800*1e3,structuralSharing:!0},mutations:{retry:!1}}}),bBe=()=>{const e=bi();return j.useEffect(()=>{const t=n=>{const i=n.detail?.path;i&&window.location.pathname!==i&&e(i,{replace:!0})};return window.addEventListener("auth-redirect",t),()=>{window.removeEventListener("auth-redirect",t)}},[e]),null},wBe=()=>null,_Be=()=>{const e=bi(),t=go(),{user:n}=gn();return j.useEffect(()=>{if(window.location.hostname.includes("lovable"))return;const r=new URLSearchParams(t.search),i=r.get("token"),s=r.get("error");if(i){console.warn("[OAuth] Token found in URL - this is legacy behavior. Token-in-URL is ignored. Auth state comes from /me only.");const o=new URLSearchParams(r);o.delete("token");const l=o.toString(),c=`${t.pathname}${l?`?${l}`:""}`;window.history.replaceState({},"",c);return}if(s){console.error("[OAuth] Error in URL:",s);const o=new URLSearchParams(r);o.delete("error");const l=o.toString();n?.onboarding_complete?e(`/dashboard${l?`?${l}`:""}`,{replace:!0}):e(`/onboarding${l?`?${l}`:""}`,{replace:!0})}},[t,e,n]),null},jBe=()=>{const{status:e}=gn();return j.useEffect(()=>{if(e!=="authenticated")return;const t=window.detectStore;Qme(t).then(()=>{const n=window.analytics?.init;Jme(e,n)}).catch(()=>{})},[e]),null},SBe=()=>{const{refreshUser:e,status:t,loading:n}=gn();if(t==="bootstrapping"||n)return a.jsx("div",{className:"min-h-[100svh] flex items-center justify-center bg-background",children:a.jsxs("div",{className:"space-y-4 w-full max-w-md p-8",children:[a.jsx("div",{className:"h-12 w-full bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-32 w-full bg-muted animate-pulse rounded"}),a.jsx("div",{className:"h-8 w-3/4 bg-muted animate-pulse rounded"})]})});Gme(()=>{}),zme(),Vme();const r=Gu()?Ase:Pse;return a.jsxs(r,{children:[a.jsx(_Be,{}),a.jsx(wBe,{}),a.jsx(bBe,{}),a.jsx(jBe,{}),a.jsxs(yse,{children:[a.jsx(wn,{path:"/",element:a.jsx(Bme,{})}),a.jsx(wn,{path:"/login",element:a.jsx(j5,{children:a.jsx(BFe,{})})}),a.jsx(wn,{path:"/signup",element:a.jsx(j5,{children:a.jsx(zFe,{})})}),a.jsx(wn,{path:"/onboarding",element:a.jsx($Fe,{})}),a.jsx(wn,{path:"/connect-success",element:a.jsx(XFe,{})}),a.jsx(wn,{path:"/privacy",element:a.jsx(WFe,{})}),a.jsx(wn,{path:"/faq",element:a.jsx(VFe,{})}),a.jsx(wn,{path:"/science",element:a.jsx(HFe,{})}),a.jsx(wn,{path:"/about",element:a.jsx(GFe,{})}),a.jsx(wn,{path:"/terms",element:a.jsx(YFe,{})}),a.jsx(wn,{path:"/support",element:a.jsx(yBe,{})}),a.jsx(wn,{path:"/dashboard",element:a.jsx(ja,{children:a.jsx(DMe,{})})}),a.jsx(wn,{path:"/calendar",element:a.jsx(ja,{children:a.jsx(K5e,{})})}),a.jsx(wn,{path:"/plan",element:a.jsx(ja,{children:a.jsx(b4e,{})})}),a.jsx(wn,{path:"/activities",element:a.jsx(ja,{children:a.jsx(O4e,{})})}),a.jsx(wn,{path:"/analytics",element:a.jsx(ja,{children:a.jsx(X4e,{})})}),a.jsx(wn,{path:"/coach",element:a.jsx(ja,{children:a.jsx(v3e,{})})}),a.jsx(wn,{path:"/settings",element:a.jsx(ja,{children:a.jsx(RFe,{})})}),a.jsx(wn,{path:"/admin",element:a.jsx(ja,{children:a.jsx(F$e,{})})}),a.jsx(wn,{path:"/admin/ai",element:a.jsx(ja,{children:a.jsx(X$e,{})})}),a.jsx(wn,{path:"/admin/analytics",element:a.jsx(ja,{children:a.jsx(Q$e,{})})}),a.jsx(wn,{path:"/workout/:workoutId",element:a.jsx(ja,{children:a.jsx(hBe,{})})}),a.jsx(wn,{path:"/workout/:workoutId/share",element:a.jsx(ja,{children:a.jsx(vBe,{})})}),a.jsx(wn,{path:"*",element:a.jsx(QFe,{})})]})]})},NBe=()=>a.jsx("div",{className:"w-full overflow-x-hidden",children:a.jsx(Ose,{children:a.jsx(Zme,{children:a.jsx(Sae,{client:xBe,children:a.jsx(wue,{children:a.jsxs(Vf,{children:[a.jsx($ne,{}),a.jsx(vre,{}),a.jsx(SBe,{})]})})})})})});function PBe(){const e=pi.getToken();if(console.group(" Authentication Debug"),!e){console.log(" No token found in localStorage"),console.log("Token key:","auth_token"),console.log("Action: User needs to authenticate via Strava OAuth"),console.groupEnd();return}console.log(" Token found"),console.log("Token length:",e.length);const t=e.split(".");if(console.log("Token parts:",t.length,"(should be 3 for JWT)"),t.length!==3){console.error(" Invalid token format - should have 3 parts (header.payload.signature)"),console.groupEnd();return}try{const i=JSON.parse(atob(t[0])),s=JSON.parse(atob(t[1]));if(console.log("Token header:",i),console.log("Token payload:",s),s.exp){const o=new Date(s.exp*1e3),l=new Date,c=l>=o;console.log("Expiration date:",o.toISOString()),console.log("Current time:",l.toISOString()),console.log(c?" Token is EXPIRED":" Token is valid"),c&&console.log("Action: Token needs to be refreshed - reconnect Strava")}else console.warn(" Token has no expiration claim");s.athlete_id&&console.log("Athlete ID:",s.athlete_id),s.user_id&&console.log("User ID:",s.user_id)}catch(i){console.error(" Failed to decode token:",i)}const n=pi.isLoggedIn();console.log("auth.isLoggedIn():",n);const r=pi.getTokenExpiration();r&&console.log("Token expires:",r.toISOString()),console.groupEnd()}function ABe(){const e=pi.getToken();if(!e){console.log(" No token - cannot check header format");return}const t=`Bearer ${e}`;console.group(" Authorization Header Check"),console.log("Header format:","Authorization: Bearer <token>"),console.log("Header value length:",t.length),console.log('Starts with "Bearer ":',t.startsWith("Bearer ")),console.log("Token part:",e.substring(0,20)+"..."),console.groupEnd()}typeof window<"u"&&(window.debugAuth=PBe,window.checkAuthHeader=ABe);async function kBe(){console.group(" Testing Authorization Header");const e=pi.getToken();if(console.log("Token in localStorage:",e?" Found":" Missing"),!e){console.error(" No token found! Cannot test header."),console.log("Action: User needs to authenticate via Strava OAuth"),console.groupEnd();return}if(console.log("Token length:",e.length),console.log("Token preview:",e.substring(0,50)+"..."),pi.isTokenExpired()){console.error(" Token is EXPIRED!"),console.log("Action: User needs to reconnect Strava"),console.groupEnd();return}console.log(" Token is valid");try{console.log(`
 Testing with debug endpoint...`);const t=await nt.get("/debug/headers");if(console.log("Response:",t),t&&typeof t=="object"){const n=t;n.authorization_header==="MISSING"||!n.authorization_header?(console.error(" Authorization header is NOT being sent!"),console.error("Fix: Check axios interceptor configuration")):(console.log(" Authorization header is being sent"),console.log("Header value preview:",n.authorization_value?.substring(0,30)+"...")),n.all_headers&&console.log("All headers received:",n.all_headers)}}catch{console.warn("Debug endpoint not available, testing with profile endpoint...");try{const n=await nt.get("/me/profile");console.log(" Profile request succeeded - header is being sent!"),console.log("Profile data:",n)}catch(n){const r=n;(r.status||r.response?.status)===401?(console.error(" Got 401 Unauthorized - header might not be sent correctly"),console.error("Error:",n)):console.error(" Request failed:",n)}}console.groupEnd()}async function CBe(){console.group(" Testing Raw Fetch with Authorization Header");const e=pi.getToken();if(!e){console.error(" No token found!"),console.groupEnd();return}const n=`${typeof window<"u"?"https://virtus-ai.onrender.com":"http://localhost:8000"}/debug/headers`;console.log("Testing URL:",n),console.log("Token:",e.substring(0,30)+"...");try{const r=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"}),i=await r.json();console.log("Response status:",r.status),console.log("Response data:",i),i.authorization_header==="MISSING"?console.error(" Header is MISSING in raw fetch too!"):console.log(" Header is present in raw fetch")}catch(r){console.error(" Fetch failed:",r)}console.groupEnd()}typeof window<"u"&&(window.testAuthHeader=kBe,window.testRawFetch=CBe);window.addEventListener("unhandledrejection",e=>{const t=String(e.reason||""),n=e.reason&&typeof e.reason=="object"?String(e.reason.stack||e.reason.message||e.reason.toString?.()||""):"",r=t+n;if(r.includes("detectStore")||r.includes("a.default.detectStore")||r.includes("moz-extension://")||r.includes("chrome-extension://")||r.includes("h1-check.js")||r.includes("can't access property")||r.includes("Cannot read property")||r.includes("then")&&r.includes("undefined")){e.preventDefault(),e.stopPropagation();return}});const B8=window.onerror;window.onerror=(e,t,n,r,i)=>{const s=String(e||"")+String(t||""),o=i?.stack||"";return s.includes("detectStore")||s.includes("a.default.detectStore")||o.includes("detectStore")||s.includes("moz-extension://")||s.includes("chrome-extension://")||s.includes("h1-check.js")||s.includes("can't access property")||s.includes("Cannot read property")||s.includes("then")&&s.includes("undefined")?!0:B8?B8(e,t,n,r,i):!1};function TBe(){const e=()=>{requestAnimationFrame(()=>{Aee.createRoot(document.getElementById("root")).render(a.jsx(NBe,{}))})};document.readyState==="complete"?e():document.readyState==="interactive"?window.addEventListener("load",e,{once:!0}):document.addEventListener("DOMContentLoaded",()=>{window.addEventListener("load",e,{once:!0})})}TBe();export{Gu as i};
